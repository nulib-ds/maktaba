"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{4470:function(s){var h=Object.prototype.hasOwnProperty,g=Object.prototype.toString,_=Object.defineProperty,y=Object.getOwnPropertyDescriptor,isArray=function(s){return"function"==typeof Array.isArray?Array.isArray(s):"[object Array]"===g.call(s)},isPlainObject=function(s){if(!s||"[object Object]"!==g.call(s))return!1;var _,y=h.call(s,"constructor"),A=s.constructor&&s.constructor.prototype&&h.call(s.constructor.prototype,"isPrototypeOf");if(s.constructor&&!y&&!A)return!1;for(_ in s);return void 0===_||h.call(s,_)},setProperty=function(s,h){_&&"__proto__"===h.name?_(s,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):s[h.name]=h.newValue},getProperty=function(s,g){if("__proto__"===g){if(!h.call(s,g))return;if(y)return y(s,g).value}return s[g]};s.exports=function extend(){var s,h,g,_,y,A,b=arguments[0],k=1,w=arguments.length,R=!1;for("boolean"==typeof b&&(R=b,b=arguments[1]||{},k=2),(null==b||"object"!=typeof b&&"function"!=typeof b)&&(b={});k<w;++k)if(s=arguments[k],null!=s)for(h in s)g=getProperty(b,h),b!==(_=getProperty(s,h))&&(R&&_&&(isPlainObject(_)||(y=isArray(_)))?(y?(y=!1,A=g&&isArray(g)?g:[]):A=g&&isPlainObject(g)?g:{},setProperty(b,{name:h,newValue:extend(R,A,_)})):void 0!==_&&setProperty(b,{name:h,newValue:_}));return b}},4921:function(s,h,g){var _;function u(s){return void 0===s||s}function v(s){let h=Array(s);for(let g=0;g<s;g++)h[g]=x();return h}function x(){return Object.create(null)}function aa(s,h){return h.length-s.length}function C(s){return"string"==typeof s}function D(s){return"object"==typeof s}function E(s){return"function"==typeof s}function F(s,h){var g=y;if(s&&(h&&(s=G(s,h)),this.H&&(s=G(s,this.H)),this.J&&1<s.length&&(s=G(s,this.J)),g||""===g)){if(h=s.split(g),this.filter){s=this.filter,g=h.length;let _=[];for(let y=0,A=0;y<g;y++){let g=h[y];g&&!s[g]&&(_[A++]=g)}s=_}else s=h}return s}let y=/[\p{Z}\p{S}\p{P}\p{C}]+/u,A=/[\u0300-\u036f]/g;function I(s,h){let g=Object.keys(s),_=g.length,y=[],A="",b=0;for(let k=0,w,R;k<_;k++)(R=s[w=g[k]])?(y[b++]=J(h?"(?!\\b)"+w+"(\\b|_)":w),y[b++]=R):A+=(A?"|":"")+w;return A&&(y[b++]=J(h?"(?!\\b)("+A+")(\\b|_)":"("+A+")"),y[b]=""),y}function G(s,h){for(let g=0,_=h.length;g<_&&(s=s.replace(h[g],h[g+1]));g+=2);return s}function J(s){return RegExp(s,"g")}function da(s){let h="",g="";for(let _=0,y=s.length,A;_<y;_++)(A=s[_])!==g&&(h+=g=A);return h}function ea(s){return F.call(this,(""+s).toLowerCase(),!1)}let b={},k={};function ia(s){L(s,"add"),L(s,"append"),L(s,"search"),L(s,"update"),L(s,"remove")}function L(s,h){s[h+"Async"]=function(){let s;let g=this,_=arguments;var y=_[_.length-1];return E(y)&&(s=y,delete _[_.length-1]),y=new Promise(function(s){setTimeout(function(){g.async=!0;let y=g[h].apply(g,_);g.async=!1,s(y)})}),s?(y.then(s),this):y}}function ja(s,h,g,_){let y=s.length,A=[],b,k,w=0;_&&(_=[]);for(let R=y-1;0<=R;R--){let B=s[R],H=B.length,z=x(),$=!b;for(let s=0;s<H;s++){let H=B[s],j=H.length;if(j)for(let s=0,B,q;s<j;s++)if(q=H[s],b){if(b[q]){if(!R){if(g)g--;else if(A[w++]=q,w===h)return A}(R||_)&&(z[q]=1),$=!0}if(_&&(B=(k[q]||0)+1,k[q]=B,B<y)){let s=_[B-2]||(_[B-2]=[]);s[s.length]=q}}else z[q]=1}if(_)b||(k=z);else if(!$)return[];b=z}if(_)for(let s=_.length-1,y,k;0<=s;s--){k=(y=_[s]).length;for(let s=0,_;s<k;s++)if(!b[_=y[s]]){if(g)g--;else if(A[w++]=_,w===h)return A;b[_]=1}}return A}function M(s){this.l=!0!==s&&s,this.cache=x(),this.h=[]}function la(s,h,g){D(s)&&(s=s.query);let _=this.cache.get(s);return _||(_=this.search(s,h,g),this.cache.set(s,_)),_}M.prototype.set=function(s,h){if(!this.cache[s]){var g=this.h.length;for(g===this.l?delete this.cache[this.h[g-1]]:g++,--g;0<g;g--)this.h[g]=this.h[g-1];this.h[0]=s}this.cache[s]=h},M.prototype.get=function(s){let h=this.cache[s];if(this.l&&h&&(s=this.h.indexOf(s))){let h=this.h[s-1];this.h[s-1]=this.h[s],this.h[s]=h}return h};let w={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function oa(s,h,g,_,y,A,b,k){setTimeout(function(){let w=s(g?g+"."+_:_,JSON.stringify(b));w&&w.then?w.then(function(){h.export(s,h,g,y,A+1,k)}):h.export(s,h,g,y,A+1,k)})}function N(s,h){if(!(this instanceof N))return new N(s);if(s){C(s)?s=w[s]:(g=s.preset)&&(s=Object.assign({},g[g],s)),g=s.charset;var g,_=s.lang;C(g)&&(-1===g.indexOf(":")&&(g+=":default"),g=k[g]),C(_)&&(_=b[_])}else s={};let y,A,R=s.context||{};if(this.encode=s.encode||g&&g.encode||ea,this.register=h||x(),this.D=y=s.resolution||9,this.G=h=g&&g.G||s.tokenize||"strict",this.depth="strict"===h&&R.depth,this.l=u(R.bidirectional),this.s=A=u(s.optimize),this.m=u(s.fastupdate),this.B=s.minlength||1,this.C=s.boost,this.map=A?v(y):x(),this.A=y=R.resolution||1,this.h=A?v(y):x(),this.F=g&&g.F||s.rtl,this.H=(h=s.matcher||_&&_.H)&&I(h,!1),this.J=(h=s.stemmer||_&&_.J)&&I(h,!0),g=h=s.filter||_&&_.filter){g=h,_=x();for(let s=0,h=g.length;s<h;s++)_[g[s]]=1;g=_}this.filter=g,this.cache=(h=s.cache)&&new M(h)}function O(s,h,g,_,y){return g&&1<s?h+(_||0)<=s?g+(y||0):(s-1)/(h+(_||0))*(g+(y||0))+1|0:0}function P(s,h,g,_,y,A,b){let k=b?s.h:s.map;(!h[g]||b&&!h[g][b])&&(s.s&&(k=k[_]),b?((h=h[g]||(h[g]=x()))[b]=1,k=k[b]||(k[b]=x())):h[g]=1,k=k[g]||(k[g]=[]),s.s||(k=k[_]||(k[_]=[])),A&&k.includes(y)||(k[k.length]=y,s.m&&((s=s.register[y]||(s.register[y]=[]))[s.length]=k)))}function pa(s,h,g,_,y,A,b,k){let w=[],R=k?s.h:s.map;if(s.s||(R=ra(R,b,k,s.l)),R){let g=0,B=Math.min(R.length,k?s.A:s.D);for(let h=0,H=0,z,$;h<B&&(!(z=R[h])||(s.s&&(z=ra(z,b,k,s.l)),y&&z&&A&&(($=z.length)<=y?(y-=$,z=null):(z=z.slice(y),y=0)),!z||(w[g++]=z,!A||!((H+=z.length)>=_))));h++);if(g)return A?qa(w,_,0):void(h[h.length]=w)}return!g&&w}function qa(s,h,g){return s=1===s.length?s[0]:[].concat.apply([],s),g||s.length>h?s.slice(g,g+h):s}function ra(s,h,g,_){return s=g?(s=s[(_=_&&h>g)?h:g])&&s[_?g:h]:s[h]}function Q(s,h,g,_,y){let A=0;if(s.constructor===Array){if(y)-1!==(h=s.indexOf(h))?1<s.length&&(s.splice(h,1),A++):A++;else{y=Math.min(s.length,g);for(let b=0,k;b<y;b++)(k=s[b])&&(A=Q(k,h,g,_,y),_||A||delete s[b])}}else for(let b in s)(A=Q(s[b],h,g,_,y))||delete s[b];return A}function sa(s){s=s.data;var h=self._index;let g=s.args;var _=s.task;"init"===_?(_=s.options||{},s=s.factory,h=_.encode,_.cache=!1,h&&0===h.indexOf("function")&&(_.encode=Function("return "+h)()),s?(Function("return "+s)()(self),self._index=new self.FlexSearch.Index(_),delete self.FlexSearch):self._index=new N(_)):(s=s.id,h=h[_].apply(h,g),postMessage("search"===_?{id:s,msg:h}:{id:s}))}(_=N.prototype).append=function(s,h){return this.add(s,h,!0)},_.add=function(s,h,g,_){if(h&&(s||0===s)){if(!_&&!g&&this.register[s])return this.update(s,h);if(_=(h=this.encode(h)).length){let R=x(),B=x(),H=this.depth,z=this.D;for(let $=0;$<_;$++){let j=h[this.F?_-1-$:$];var y=j.length;if(j&&y>=this.B&&(H||!B[j])){var A=O(z,_,$),b="";switch(this.G){case"full":if(2<y){for(A=0;A<y;A++)for(var k=y;k>A;k--)if(k-A>=this.B){var w=O(z,_,$,y,A);P(this,B,b=j.substring(A,k),w,s,g)}break}case"reverse":if(1<y){for(k=y-1;0<k;k--)(b=j[k]+b).length>=this.B&&P(this,B,b,O(z,_,$,y,k),s,g);b=""}case"forward":if(1<y){for(k=0;k<y;k++)(b+=j[k]).length>=this.B&&P(this,B,b,A,s,g);break}default:if(this.C&&(A=Math.min(A/this.C(h,j,$)|0,z-1)),P(this,B,j,A,s,g),H&&1<_&&$<_-1){for(y=x(),b=this.A,A=j,k=Math.min(H+1,_-$),y[A]=1,w=1;w<k;w++)if((j=h[this.F?_-1-$-w:$+w])&&j.length>=this.B&&!y[j]){y[j]=1;let h=this.l&&j>A;P(this,R,h?A:j,O(b+(_/2>b?0:1),_,$,k-1,w-1),s,g,h?j:A)}}}}}this.m||(this.register[s]=1)}}return this},_.search=function(s,h,g){let _,y,A;g||(!h&&D(s)?s=(g=s).query:D(h)&&(g=h));let b=[],k,w,R=0;if(g){s=g.query||s,h=g.limit,R=g.offset||0;var B=g.context;w=g.suggest}if(s&&1<(k=(s=this.encode(""+s)).length)){g=x();var H=[];for(let h=0,_=0,y;h<k;h++)if((y=s[h])&&y.length>=this.B&&!g[y]){if(!this.s&&!w&&!this.map[y])return b;H[_++]=y,g[y]=1}k=(s=H).length}if(!k)return b;for(h||(h=100),B=this.depth&&1<k&&!1!==B,g=0,B?(_=s[0],g=1):1<k&&s.sort(aa);g<k;g++){if(A=s[g],B?(y=pa(this,b,w,h,R,2===k,A,_),w&&!1===y&&b.length||(_=A)):y=pa(this,b,w,h,R,1===k,A),y)return y;if(w&&g===k-1){if(!(H=b.length)){if(B){B=0,g=-1;continue}return b}if(1===H)return qa(b[0],h,R)}}return ja(b,h,R,w)},_.contain=function(s){return!!this.register[s]},_.update=function(s,h){return this.remove(s).add(s,h)},_.remove=function(s,h){let g=this.register[s];if(g){if(this.m)for(let h=0,_;h<g.length;h++)(_=g[h]).splice(_.indexOf(s),1);else Q(this.map,s,this.D,this.s),this.depth&&Q(this.h,s,this.A,this.s);if(h||delete this.register[s],this.cache){h=this.cache;for(let g=0,_;g<h.h.length;g++)_=h.h[g],h.cache[_].includes(s)&&(h.h.splice(g--,1),delete h.cache[_])}}return this},_.searchCache=la,_.export=function(s,h,g,_,y,A){let b,k,w=!0;switch(void 0===A&&(w=new Promise(s=>{A=s})),y||(y=0)){case 0:if(b="reg",this.m)for(let s in k=x(),this.register)k[s]=1;else k=this.register;break;case 1:b="cfg",k={doc:0,opt:this.s?1:0};break;case 2:b="map",k=this.map;break;case 3:b="ctx",k=this.h;break;default:void 0===g&&A&&A();return}return oa(s,h||this,g,b,_,y,k,A),w},_.import=function(s,h){if(h)switch(C(h)&&(h=JSON.parse(h)),s){case"cfg":this.s=!!h.opt;break;case"reg":this.m=!1,this.register=h;break;case"map":this.map=h;break;case"ctx":this.h=h}},ia(N.prototype);let R=0;function S(s){var h;if(!(this instanceof S))return new S(s);s?E(h=s.encode)&&(s.encode=h.toString()):s={},(h=(self||window)._factory)&&(h=h.toString());let _="undefined"==typeof window&&self.exports,y=this;this.o=function(s,h,_){let y;try{y=h?new(g(5789)).Worker("//node/node.js"):s?new Worker(URL.createObjectURL(new Blob(["onmessage="+sa.toString()],{type:"text/javascript"}))):new Worker(C(_)?_:"worker/worker.js",{type:"module"})}catch(s){}return y}(h,_,s.worker),this.h=x(),this.o&&(_?this.o.on("message",function(s){y.h[s.id](s.msg),delete y.h[s.id]}):this.o.onmessage=function(s){s=s.data,y.h[s.id](s.msg),delete y.h[s.id]},this.o.postMessage({task:"init",factory:h,options:s}))}function T(s){S.prototype[s]=S.prototype[s+"Async"]=function(){let h;let g=this,_=[].slice.call(arguments);var y=_[_.length-1];return E(y)&&(h=y,_.splice(_.length-1,1)),y=new Promise(function(h){setTimeout(function(){g.h[++R]=h,g.o.postMessage({task:s,id:R,args:_})})}),h?(y.then(h),this):y}}function U(s){if(!(this instanceof U))return new U(s);var h,g=s.document||s.doc||s;this.K=[],this.h=[],this.A=[],this.register=x(),this.key=(h=g.key||g.id)&&V(h,this.A)||"id",this.m=u(s.fastupdate),this.C=(h=g.store)&&!0!==h&&[],this.store=h&&x(),this.I=(h=g.tag)&&V(h,this.A),this.l=h&&x(),this.cache=(h=s.cache)&&new M(h),s.cache=!1,this.o=s.worker,this.async=!1,h=x();let _=g.index||g.field||g;C(_)&&(_=[_]);for(let g=0,y,A;g<_.length;g++)C(y=_[g])||(A=y,y=y.field),A=D(A)?Object.assign({},s,A):s,this.o&&(h[y]=new S(A),h[y].o||(this.o=!1)),this.o||(h[y]=new N(A,this.register)),this.K[g]=V(y,this.A),this.h[g]=y;if(this.C)for(C(s=g.store)&&(s=[s]),g=0;g<s.length;g++)this.C[g]=V(s[g],this.A);this.index=h}function V(s,h){let g=s.split(":"),_=0;for(let y=0;y<g.length;y++)0<=(s=g[y]).indexOf("[]")&&(s=s.substring(0,s.length-2))&&(h[_]=!0),s&&(g[_++]=s);return _<g.length&&(g.length=_),1<_?g:g[0]}function X(s,h){if(C(h))s=s[h];else for(let g=0;s&&g<h.length;g++)s=s[h[g]];return s}function va(s,h,g,_){let y=this.l[s],A=y&&y.length-g;if(A&&0<A)return(A>h||g)&&(y=y.slice(g,g+h)),_&&(y=wa.call(this,y)),{tag:s,result:y}}function wa(s){let h=Array(s.length);for(let g=0,_;g<s.length;g++)_=s[g],h[g]={id:_,doc:this.store[_]};return h}T("add"),T("append"),T("search"),T("update"),T("remove"),(_=U.prototype).add=function(s,h,g){if(D(s)&&(s=X(h=s,this.key)),h&&(s||0===s)){if(!g&&this.register[s])return this.update(s,h);for(let _=0,y,A;_<this.h.length;_++)A=this.h[_],C(y=this.K[_])&&(y=[y]),function Z(s,h,g,_,y,A,b,k){if(s=s[b]){if(_===h.length-1){if(s.constructor===Array){if(g[_]){for(h=0;h<s.length;h++)y.add(A,s[h],!0,!0);return}s=s.join(" ")}y.add(A,s,k,!0)}else if(s.constructor===Array)for(b=0;b<s.length;b++)Z(s,h,g,_,y,A,b,k);else b=h[++_],Z(s,h,g,_,y,A,b,k)}}(h,y,this.A,0,this.index[A],s,y[0],g);if(this.I){let _=X(h,this.I),y=x();C(_)&&(_=[_]);for(let h=0,A,b;h<_.length;h++)if(!y[A=_[h]]&&(y[A]=1,b=this.l[A]||(this.l[A]=[]),!g||!b.includes(s))&&(b[b.length]=s,this.m)){let h=this.register[s]||(this.register[s]=[]);h[h.length]=b}}if(this.store&&(!g||!this.store[s])){let g;if(this.C){g=x();for(let s=0,_;s<this.C.length;s++)C(_=this.C[s])?g[_]=h[_]:function Y(s,h,g,_,y){if(s=s[y],_===g.length-1)h[y]=s;else if(s){if(s.constructor===Array)for(h=h[y]=Array(s.length),y=0;y<s.length;y++)Y(s,h,g,_,y);else h=h[y]||(h[y]=x()),y=g[++_],Y(s,h,g,_,y)}}(h,g,_,0,_[0])}this.store[s]=g||h}}return this},_.append=function(s,h){return this.add(s,h,!0)},_.update=function(s,h){return this.remove(s).add(s,h)},_.remove=function(s){if(D(s)&&(s=X(s,this.key)),this.register[s]){for(var h=0;h<this.h.length&&(this.index[this.h[h]].remove(s,!this.o),!this.m);h++);if(this.I&&!this.m)for(let g in this.l){h=this.l[g];let _=h.indexOf(s);-1!==_&&(1<h.length?h.splice(_,1):delete this.l[g])}this.store&&delete this.store[s],delete this.register[s]}return this},_.search=function(s,h,g,_){g||(!h&&D(s)?(g=s,s=""):D(h)&&(g=h,h=0));let y=[],A=[],b,k,w,R,B,H,z=0;if(g){if(g.constructor===Array)w=g,g=null;else{if(s=g.query||s,w=(b=g.pluck)||g.index||g.field,R=g.tag,k=this.store&&g.enrich,B="and"===g.bool,h=g.limit||h||100,H=g.offset||0,R&&(C(R)&&(R=[R]),!s)){for(let s=0,g;s<R.length;s++)(g=va.call(this,R[s],h,H,k))&&(y[y.length]=g,z++);return z?y:[]}C(w)&&(w=[w])}}w||(w=this.h),B=B&&(1<w.length||R&&1<R.length);let $=!_&&(this.o||this.async)&&[];for(let b=0,j,q,W;b<w.length;b++){let K;if(C(q=w[b])||(q=(K=q).field,s=K.query||s,h=K.limit||h,k=K.enrich||k),$)$[b]=this.index[q].searchAsync(s,h,K||g);else{if(W=(j=_?_[b]:this.index[q].search(s,h,K||g))&&j.length,R&&W){let s=[],g=0;B&&(s[0]=[j]);for(let h=0,_,y;h<R.length;h++)_=R[h],(W=(y=this.l[_])&&y.length)&&(g++,s[s.length]=B?[y]:y);g&&(W=(j=B?ja(s,h||100,H||0):function(s,h){let g=x(),_=x(),y=[];for(let h=0;h<s.length;h++)g[s[h]]=1;for(let s=0,A;s<h.length;s++){A=h[s];for(let s=0,h;s<A.length;s++)g[h=A[s]]&&!_[h]&&(_[h]=1,y[y.length]=h)}return y}(j,s)).length)}if(W)A[z]=q,y[z++]=j;else if(B)return[]}}if($){let _=this;return new Promise(function(y){Promise.all($).then(function(A){y(_.search(s,h,g,A))})})}if(!z)return[];if(b&&(!k||!this.store))return y[0];for(let s=0,h;s<A.length;s++){if((h=y[s]).length&&k&&(h=wa.call(this,h)),b)return h;y[s]={field:A[s],result:h}}return y},_.contain=function(s){return!!this.register[s]},_.get=function(s){return this.store[s]},_.set=function(s,h){return this.store[s]=h,this},_.searchCache=la,_.export=function(s,h,g,_,y,A){let b;if(void 0===A&&(b=new Promise(s=>{A=s})),y||(y=0),_||(_=0),_<this.h.length){let g=this.h[_],b=this.index[g];h=this,setTimeout(function(){b.export(s,h,y?g:"",_,y++,A)||(_++,y=1,h.export(s,h,g,_,y,A))})}else{let h,b;switch(y){case 1:h="tag",b=this.l,g=null;break;case 2:h="store",b=this.store,g=null;break;default:A();return}oa(s,this,g,h,_,y,b,A)}return b},_.import=function(s,h){if(h)switch(C(h)&&(h=JSON.parse(h)),s){case"tag":this.l=h;break;case"reg":this.m=!1,this.register=h;for(let s=0,g;s<this.h.length;s++)(g=this.index[this.h[s]]).register=h,g.m=!1;break;case"store":this.store=h;break;default:s=s.split(".");let g=s[0];s=s[1],g&&s&&this.index[g].import(s,h)}},ia(U.prototype);let B=[J("[\xe0\xe1\xe2\xe3\xe4\xe5]"),"a",J("[\xe8\xe9\xea\xeb]"),"e",J("[\xec\xed\xee\xef]"),"i",J("[\xf2\xf3\xf4\xf5\xf6ő]"),"o",J("[\xf9\xfa\xfb\xfcű]"),"u",J("[\xfdŷ\xff]"),"y",J("\xf1"),"n",J("[\xe7c]"),"k",J("\xdf"),"s",J(" & ")," and "];function xa(s){var h=s=""+s;return h.normalize&&(h=h.normalize("NFD").replace(A,"")),F.call(this,h.toLowerCase(),!s.normalize&&B)}let H=/[^a-z0-9]+/,z={b:"p",v:"f",w:"f",z:"s",x:"s",ß:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Aa(s){s=xa.call(this,s).join(" ");let h=[];if(s){let g=s.split(H),_=g.length;for(let y=0,A,b=0;y<_;y++)if((s=g[y])&&(!this.filter||!this.filter[s])){let g=z[A=s[0]]||A,_=g;for(let h=1;h<s.length;h++){A=s[h];let y=z[A]||A;y&&y!==_&&(g+=y,_=y)}h[b++]=g}}return h}let $=[J("ae"),"a",J("oe"),"o",J("sh"),"s",J("th"),"t",J("ph"),"f",J("pf"),"f",J("(?![aeo])h(?![aeo])"),"",J("(?!^[aeo])h(?!^[aeo])"),""];function Ea(s,h){return s&&(2<(s=Aa.call(this,s).join(" ")).length&&(s=G(s,$)),h||(1<s.length&&(s=da(s)),s&&(s=s.split(" ")))),s||[]}let j=J("(?!\\b)[aeo]");k["latin:default"]={encode:ea,F:!1,G:""},k["latin:simple"]={encode:xa,F:!1,G:""},k["latin:balance"]={encode:Aa,F:!1,G:"strict"},k["latin:advanced"]={encode:Ea,F:!1,G:""},k["latin:extra"]={encode:function(s){return s&&(1<(s=Ea.call(this,s,!0)).length&&(s=s.replace(j,"")),1<s.length&&(s=da(s)),s&&(s=s.split(" "))),s||[]},F:!1,G:""},h.Z={Index:N,Document:U,Worker:S,registerCharset:function(s,h){k[s]=h},registerLanguage:function(s,h){b[s]=h}}},9821:function(s,h,g){let _=g(4579).parse,y=g(7799).compile,A=g(7094).segment,b=g(1105);s.exports={parse:_,compile:y,segment:A,hls:b}},7799:function(s){function CompilerError(s,h){this.message=s,this.error=h}function convertTimestamp(s){let h=pad(Math.floor(s/60/60),2),g=pad(Math.floor(s/60)%60,2),_=pad(Math.floor(s%60),2),y=pad(Math.floor(1e3*(s%1).toFixed(4)),3);return`${h}:${g}:${_}.${y}`}function pad(s,h){let g=`${s}`;for(;g.length<h;)g=`0${g}`;return g}CompilerError.prototype=Object.create(Error.prototype),s.exports={CompilerError,compile:function(s){if(!s)throw new CompilerError("Input must be non-null");if("object"!=typeof s)throw new CompilerError("Input must be an object");if(Array.isArray(s))throw new CompilerError("Input cannot be array");if(!s.valid)throw new CompilerError("Input must be valid");let h="WEBVTT\n";if(s.meta){if("object"!=typeof s.meta||Array.isArray(s.meta))throw new CompilerError("Metadata must be an object");Object.entries(s.meta).forEach(s=>{if("string"!=typeof s[1])throw new CompilerError(`Metadata value for "${s[0]}" must be string`);h+=`${s[0]}: ${s[1]}
`})}let g=null;return s.cues.forEach((s,_)=>{if(g&&g>s.start)throw new CompilerError(`Cue number ${_} is not in chronological order`);g=s.start,h+="\n"+function(s){if("object"!=typeof s)throw new CompilerError("Cue malformed: not of type object");if("string"!=typeof s.identifier&&"number"!=typeof s.identifier&&null!==s.identifier)throw new CompilerError(`Cue malformed: identifier value is not a string.
    ${JSON.stringify(s)}`);if(isNaN(s.start))throw new CompilerError(`Cue malformed: null start value.
    ${JSON.stringify(s)}`);if(isNaN(s.end))throw new CompilerError(`Cue malformed: null end value.
    ${JSON.stringify(s)}`);if(s.start>=s.end)throw new CompilerError(`Cue malformed: start timestamp greater than end
    ${JSON.stringify(s)}`);if("string"!=typeof s.text)throw new CompilerError(`Cue malformed: null text value.
    ${JSON.stringify(s)}`);if("string"!=typeof s.styles)throw new CompilerError(`Cue malformed: null styles value.
    ${JSON.stringify(s)}`);let h="";s.identifier.length>0&&(h+=`${s.identifier}
`);let g=convertTimestamp(s.start),_=convertTimestamp(s.end);return h+(`${g} --> ${_}`+(s.styles?` ${s.styles}`:""))+`
${s.text}`}(s)+"\n"}),h}}},1105:function(s,h,g){let _=g(7094).segment;function pad(s,h){let g="0".repeat(Math.max(0,h-s.toString().length));return`${g}${s}`}function printableTimestamp(s){let h=(s%1).toFixed(3);s=Math.round(s-h);let g=Math.floor(s/3600),_=Math.floor((s-3600*g)/60),y=s-3600*g-60*_,A=`${pad(g,2)}:`;return`${A}${pad(_,2)}:${pad(y,2)}.${pad(1e3*h,3)}`}s.exports={hlsSegment:function(s,h,g){void 0===g&&(g="900000");let y=_(s,h),A=[];return y.forEach((s,h)=>{let _=`WEBVTT
X-TIMESTAMP-MAP=MPEGTS:${g},LOCAL:00:00:00.000

${function(s){let h=[];return s.forEach(s=>{h.push(function(s){let h=[];s.identifier&&h.push(s.identifier);let g=printableTimestamp(s.start),_=printableTimestamp(s.end),y=s.styles?`${s.styles}`:"";return h.push(`${g} --> ${_} ${y}`),h.push(s.text),h.join("\n")}(s))}),h.join("\n\n")}(s.cues)}
`,y=`${h}.vtt`;A.push({filename:y,content:_})}),A},hlsSegmentPlaylist:function(s,h){let g;let y=_(s,h),A=function(s){let h=[];return s.forEach((s,g)=>{h.push(`#EXTINF:${s.duration.toFixed(5)},
${g}.vtt`)}),h.join("\n")}(y),b=Math.round((g=0,y.forEach(s=>{s.duration>g&&(g=s.duration)}),g)),k=`#EXTM3U
#EXT-X-TARGETDURATION:${b}
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
${A}
#EXT-X-ENDLIST
`;return k}}},4579:function(s){function ParserError(s,h){this.message=s,this.error=h}ParserError.prototype=Object.create(Error.prototype);let h=/([0-9]+)?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;function parseTimestamp(s){let g=s.match(h);return 3600*parseFloat(g[1]||0)+(60*parseFloat(g[2])+parseFloat(g[3]))}s.exports={ParserError,parse:function(s,g){g||(g={});let{meta:_=!1,strict:y=!0}=g;if("string"!=typeof s)throw new ParserError("Input must be a string");s=(s=(s=s.trim()).replace(/\r\n/g,"\n")).replace(/\r/g,"\n");let A=s.split("\n\n"),b=A.shift();if(!b.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');let k=b.split("\n"),w=k[0].replace("WEBVTT","");if(w.length>0&&" "!==w[0]&&"	"!==w[0])throw new ParserError("Header comment must start with space or tab");if(0===A.length&&1===k.length)return{valid:!0,strict:y,cues:[],errors:[]};if(!_&&k.length>1&&""!==k[1])throw new ParserError("Missing blank line after signature");let{cues:R,errors:B}=function(s,g){let _=[],y=s.map((s,y)=>{try{return function(s,g,_){var y,A;let b="",k=0,w=.01,R="",B="",H=s.split("\n").filter(Boolean);if(H.length>0&&H[0].trim().startsWith("NOTE"))return null;if(1===H.length&&!H[0].includes("-->"))throw new ParserError(`Cue identifier cannot be standalone (cue #${g})`);if(H.length>1&&!(H[0].includes("-->")||H[1].includes("-->"))){let s=`Cue identifier needs to be followed by timestamp (cue #${g})`;throw new ParserError(s)}H.length>1&&H[1].includes("-->")&&(b=H.shift());let z="string"==typeof H[0]&&H[0].split(" --> ");if(2!==z.length||(y=z[0],!h.test(y))||(A=z[1],!h.test(A)))throw new ParserError(`Invalid cue timestamp (cue #${g})`);if(k=parseTimestamp(z[0]),w=parseTimestamp(z[1]),_){if(k>w)throw new ParserError(`Start timestamp greater than end (cue #${g})`);if(w<=k)throw new ParserError(`End must be greater than start (cue #${g})`)}if(!_&&w<k)throw new ParserError(`End must be greater or equal to start when not strict (cue #${g})`);return B=z[1].replace(h,"").trim(),H.shift(),!!(R=H.join("\n"))&&{identifier:b,start:k,end:w,text:R,styles:B}}(s,y,g)}catch(s){return _.push(s),null}}).filter(Boolean);return{cues:y,errors:_}}(A,y);if(y&&B.length>0)throw B[0];let H=_?function(s){let h={};return s.slice(1).forEach(s=>{let g=s.indexOf(":"),_=s.slice(0,g).trim(),y=s.slice(g+1).trim();h[_]=y}),Object.keys(h).length>0?h:null}(k):null,z={valid:0===B.length,strict:y,cues:R,errors:B};return _&&(z.meta=H),z}}},7094:function(s,h,g){let _=g(4579).parse;s.exports={segment:function(s,h){h=h||10;let g=_(s),y=[],A=[],b=null,k=0,w=0;return g.cues.forEach((s,_)=>{let R=0===_,B=_===g.cues.length-1,H=s.start,z=s.end,$=B?1/0:g.cues[_+1].start,j=R?z:z-H,q=R?0:H-g.cues[_-1].end;k=k+j+q,y.length,b&&(A.push(b),k+=b.end-w,b=null),A.push(s);let W=$-z<h&&q<h&&k>h;if(function(s,h,g,_){return(_<=h||_+(h-_%h)+s<g)&&g-s>=h}(w,h,$,q)){var K,ee,et,en;let s;let g=(K=h,ee=k,et=w,s=K,ee>K&&(s=(en=ee-K)+(K-en%K)),s=B?parseFloat((z-et).toFixed(2)):Math.round(s));y.push({duration:g,cues:A}),w+=g,k=0,A=[]}else W=!1;W&&(b=s)}),y}}},3679:function(s,h,g){let _,y,A,b;g.r(h),g.d(h,{Helpers:function(){return dE},Image:function(){return Tr},Primitives:function(){return nM.default},Scroll:function(){return scroll_li},Slider:function(){return sP.default},Viewer:function(){return ul},default:function(){return d_}});var k,w,R,B,H,z,$,j,q,W,K,ee,et,en,er,es,el,ec,eu,ed,eh,ep,ef,em,eg,eE,e_,eT,ev,ey,eA,eb,eS,ek,eC,ex,eI,ew,eO,eN,eR,eD,eL,eM,eP,eF,eB={};g.r(eB),g.d(eB,{boolean:function(){return nQ},booleanish:function(){return nj},commaOrSpaceSeparated:function(){return nK},commaSeparated:function(){return nX},number:function(){return nq},overloadedBoolean:function(){return nY},spaceSeparated:function(){return nW}});var eU={};g.r(eU),g.d(eU,{attentionMarkers:function(){return aD},contentInitial:function(){return ax},disable:function(){return aL},document:function(){return aC},flow:function(){return aw},flowInitial:function(){return aI},insideSpan:function(){return aR},string:function(){return aO},text:function(){return aN}});var eH=g(9203),eG=g(4511),ez=g(6744),eV=g(7294),e$=g.t(eV,2),eQ="http://library.stanford.edu/iiif/image-api/compliance.html#level2",ej="http://library.stanford.edu/iiif/image-api/conformance.html#level2",eY="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",eq="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",eW="http://iiif.io/api/image/1/level2.json",eX="http://iiif.io/api/image/1/profiles/level2.json",eK="http://iiif.io/api/image/2/level2.json",eJ="http://iiif.io/api/image/2/profiles/level2.json",eZ="level2",e0="http://iiif.io/api/image/2/level2",e1=[e0,eQ,ej,eY,eq,eW,eX,eK,eJ,eZ],e2=([...e1],["http://iiif.io/api/image/2/level0","http://iiif.io/api/image/2/level1",e0,"http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/compliance.html#level1",eQ,"http://library.stanford.edu/iiif/image-api/conformance.html#level0","http://library.stanford.edu/iiif/image-api/conformance.html#level1",ej,"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",eY,"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",eq,"http://iiif.io/api/image/1/level0.json","http://iiif.io/api/image/1/profiles/level0.json","http://iiif.io/api/image/1/level1.json","http://iiif.io/api/image/1/profiles/level1.json",eW,eX,"http://iiif.io/api/image/2/level0.json","http://iiif.io/api/image/2/profiles/level0.json","http://iiif.io/api/image/2/level1.json","http://iiif.io/api/image/2/profiles/level1.json",eK,eJ,"level0","level1",eZ]);function chunk_NJNTZ6QT_r(s){for(let h in s)(typeof s[h]>"u"||null===s[h])&&delete s[h];return s}function chunk_NJNTZ6QT_i(s){return Array.isArray(s)?s:s?[s]:[]}var e3=Object.defineProperty,chunk_D22QKJZO_e=(s,h,g)=>h in s?e3(s,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[h]=g,chunk_D22QKJZO_f=(s,h,g)=>(chunk_D22QKJZO_e(s,"symbol"!=typeof h?h+"":h,g),g),e4=["sc:Collection","sc:Manifest","sc:Canvas","sc:AnnotationList","oa:Annotation","sc:Range","sc:Layer","sc:Sequence","oa:Choice","Service","ContentResource"],e5=class t{constructor(s,h={}){chunk_D22QKJZO_f(this,"traversals"),chunk_D22QKJZO_f(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...s},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...h}}static all(s){return new t({collection:[s],manifest:[s],canvas:[s],annotationList:[s],sequence:[s],annotation:[s],contentResource:[s],choice:[s],range:[s],service:[s],layer:[s]})}traverseCollection(s){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(s))),this.traversals.collection)}traverseCollectionItems(s){if(this.options.mergeMemberProperties){let h=[...(s.manifests||[]).map(s=>"string"==typeof s?{"@id":s,"@type":"sc:Manifest"}:s),...(s.collections||[]).map(s=>"string"==typeof s?{"@id":s,"@type":"sc:Collection"}:s),...s.members||[]];delete s.collections,delete s.manifests,s.members=h}return s.manifests&&(s.manifests=s.manifests.map(s=>this.traverseManifest("string"==typeof s?{"@id":s,"@type":"sc:Manifest"}:s))),s.collections&&(s.collections=s.collections.map(s=>this.traverseCollection("string"==typeof s?{"@id":s,"@type":"sc:Collection"}:s))),s.members&&(s.members=s.members.map(s=>"string"==typeof s?s:this.traverseUnknown(s))),s}traverseManifest(s){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(s))),this.traversals.manifest)}traverseManifestItems(s){return s.sequences&&(s.sequences=s.sequences.map(s=>this.traverseSequence(s))),s.structures&&(s.structures=s.structures.map(s=>this.traverseRange(s))),s}traverseSequence(s){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(s))),this.traversals.sequence)}traverseSequenceItems(s){return s.canvases&&(s.canvases=s.canvases.map(s=>this.traverseCanvas(s))),s}traverseCanvas(s){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(s))),this.traversals.canvas)}traverseCanvasItems(s){return s.images&&(s.images=s.images.map(s=>this.traverseAnnotation(s))),s.otherContent&&(s.otherContent=s.otherContent.map(s=>this.traverseAnnotationList(s))),s}traverseRange(s){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(s))),this.traversals.range)}traverseRangeItems(s){if(this.options.mergeMemberProperties){let h=[...(s.ranges||[]).map(s=>"string"==typeof s?{"@id":s,"@type":"sc:Range"}:s),...(s.canvases||[]).map(s=>"string"==typeof s?{"@id":s,"@type":"sc:Canvas"}:s),...s.members||[]];delete s.ranges,delete s.canvases,s.members=h.length?h.map(s=>this.traverseUnknown(s)):void 0}return s}traverseAnnotationList(s){let h="string"==typeof s?{"@id":s,"@type":"sc:AnnotationList"}:s;return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems(h)),this.traversals.annotationList)}traverseAnnotationListItems(s){return s.resources&&(s.resources=s.resources.map(s=>this.traverseAnnotation(s))),s}traverseAnnotation(s){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(s))),this.traversals.annotation)}traverseAnnotationItems(s){return s.resource&&(Array.isArray(s.resource)?s.resource=s.resource.map(s=>this.traverseContentResource(s)):s.resource=this.traverseContentResource(s.resource)),s.on,s}traverseLayer(s){return this.traverseType(this.traverseLinking(this.traverseLayerItems(s)),this.traversals.layer)}traverseLayerItems(s){return s.otherContent&&(s.otherContent=s.otherContent.map(s=>this.traverseAnnotationList(s))),s}traverseChoice(s){return this.traverseType(this.traverseChoiceItems(s),this.traversals.choice)}traverseChoiceItems(s){return s.default&&"rdf:nil"!==s.default&&(s.default=this.traverseContentResource(s.default)),s.item&&"rdf:nil"!==s.item&&(s.item=s.item.map(s=>this.traverseContentResource(s))),s}traverseService(s){return this.traverseType(this.traverseLinking(s),this.traversals.service)}traverseContentResource(s){return"oa:Choice"===s["@type"]?this.traverseChoice(s):this.traverseType(this.traverseDescriptive(this.traverseLinking(s)),this.traversals.contentResource)}traverseUnknown(s){if(!s["@type"]||"string"==typeof s)return s;switch(function(s){if(typeof s>"u"||null===s)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(s))throw Error("Array is not a valid entity");if("object"!=typeof s)throw Error(`${typeof s} is not a valid entity`);if("string"==typeof s["@type"]){let h=e4.indexOf(s["@type"]);if(-1!==h)return e4[h]}if(s.profile)return"Service";if(s.format||s["@type"])return"ContentResource";throw Error("Resource type is not known")}(s)){case"sc:Collection":return this.traverseCollection(s);case"sc:Manifest":return this.traverseManifest(s);case"sc:Canvas":return this.traverseCanvas(s);case"sc:Sequence":return this.traverseSequence(s);case"sc:Range":return this.traverseRange(s);case"oa:Annotation":return this.traverseAnnotation(s);case"sc:AnnotationList":return this.traverseAnnotationList(s);case"sc:Layer":return this.traverseLayer(s);case"Service":return this.traverseService(s);case"oa:Choice":return this.traverseChoice(s);case"ContentResource":return this.traverseContentResource(s)}return s.profile?this.traverseService(s):s}traverseImageResource(s){let h=Array.isArray(s),g=Array.isArray(s)?s:[s],_=[];for(let s of g)"string"==typeof s?_.push(this.traverseContentResource({"@id":s,"@type":"dctypes:Image"})):_.push(this.traverseContentResource(s));return h||this.options.convertPropsToArray?_:_[0]}traverseDescriptive(s){return s.thumbnail&&(s.thumbnail=this.traverseImageResource(s.thumbnail)),s.logo&&(s.logo=this.traverseImageResource(s.logo)),s}traverseOneOrMoreServices(s){let h=Array.isArray(s),g=Array.isArray(s)?s:[s],_=[];for(let s of g)_.push(this.traverseService(s));return h||this.options.convertPropsToArray?_:_[0]}traverseLinking(s){return s.related&&(s.related=this.traverseOneOrManyType(s.related,this.traversals.contentResource)),s.rendering&&(s.rendering=this.traverseOneOrManyType(s.rendering,this.traversals.contentResource)),s.service&&(s.service=this.traverseOneOrMoreServices(s.service)),s.seeAlso&&(s.seeAlso=this.traverseOneOrManyType(s.seeAlso,this.traversals.contentResource)),s.within&&("string"==typeof s.within||(s.within=this.traverseOneOrManyType(s.within,this.traversals.contentResource))),s.startCanvas&&("string"==typeof s.startCanvas?s.startCanvas=this.traverseType({"@id":s.startCanvas,"@type":"sc:Canvas"},this.traversals.canvas):s.startCanvas&&this.traverseType(s.startCanvas,this.traversals.canvas)),s.contentLayer&&("string"==typeof s.contentLayer?s.contentLayer=this.traverseLayer({"@id":s.contentLayer,"@type":"sc:Layer"}):s.contentLayer=this.traverseLayer(s.contentLayer)),s}traverseOneOrManyType(s,h){if(!Array.isArray(s)){if(!this.options.convertPropsToArray)return this.traverseType(s,h);s=[s]}return s.map(s=>this.traverseType(s,h))}traverseType(s,h){return h.reduce((s,h)=>{let g=h(s);return typeof g>"u"&&!this.options.allowUndefinedReturn?s:g},s)}},e6=["http://iiif.io/api/image/2/level1","http://iiif.io/api/image/2/level2","http://library.stanford.edu/iiif/image-api/compliance.html#level1","http://library.stanford.edu/iiif/image-api/compliance.html#level2","http://library.stanford.edu/iiif/image-api/conformance.html#level1","http://library.stanford.edu/iiif/image-api/conformance.html#level2","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2","http://iiif.io/api/image/1/level1.json","http://iiif.io/api/image/1/profiles/level1.json","http://iiif.io/api/image/1/level2.json","http://iiif.io/api/image/1/profiles/level2.json","http://iiif.io/api/image/2/level1.json","http://iiif.io/api/image/2/profiles/level1.json","http://iiif.io/api/image/2/level2.json","http://iiif.io/api/image/2/profiles/level2.json","level1","level2"],e8={attributionLabel:"Attribution",providerId:"http://example.org/provider",providerName:"Unknown"};function chunk_BMMVY4QT_h(s,h="none"){if(!s)return{none:[""]};let g=function(s){if("string"==typeof s)return[s];if(!s)return[];let h=Array.isArray(s)?s:[s],g=[];for(let s of h){if("string"==typeof s){g.push(s);continue}g.push({"@language":s["@language"]||s.language,"@value":s["@value"]||s.value})}return g}(s),_={};for(let s of g){if("string"==typeof s){_[h]=_[h]?_[h]:[],_[h].push(s||"");continue}if(!s["@language"]){_[h]=_[h]?_[h]:[],_[h].push(s["@value"]||"");continue}let g=s["@language"];_[g]=_[g]?_[g]:[],_[g].push(s["@value"]||"")}return 0===Object.keys(_).length?{none:[""]}:_}function chunk_BMMVY4QT_(s){for(let h of["sc","oa","dcterms","dctypes","iiif"])if(s.startsWith(`${h}:`))return s.slice(h.length+1);return s}var e9=["Collection","Manifest","Annotation","AnnotationPage","Range","Service"];function chunk_BMMVY4QT_g(s){let h=s["@id"]||s.id,g=s["@type"]||s.type,_=s.profile||void 0,y=s["@context"]||void 0;if(_){let s=function(s){switch(s){case"http://iiif.io/api/image/2/level0.json":case"http://iiif.io/api/image/2/level1.json":case"http://iiif.io/api/image/2/level2.json":return"ImageService2";case"http://iiif.io/api/auth/1/kiosk":case"http://iiif.io/api/auth/1/login":case"http://iiif.io/api/auth/1/clickthrough":case"http://iiif.io/api/auth/1/external":case"http://iiif.io/api/auth/0/kiosk":case"http://iiif.io/api/auth/0/login":case"http://iiif.io/api/auth/0/clickthrough":case"http://iiif.io/api/auth/0/external":return"AuthCookieService1";case"http://iiif.io/api/auth/1/token":case"http://iiif.io/api/auth/0/token":return"AuthTokenService1";case"http://iiif.io/api/auth/1/logout":case"http://iiif.io/api/auth/0/logout":return"AuthLogoutService1";case"http://iiif.io/api/search/1/search":case"http://iiif.io/api/search/0/search":return"SearchService1";case"http://iiif.io/api/search/1/autocomplete":case"http://iiif.io/api/search/0/autocomplete":return"AutoCompleteService1"}}(_);if(s)return s}if(y){let s=function(s){for(let h of Array.isArray(s)?s:[s])switch(h){case"http://iiif.io/api/image/2/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2":return"ImageService2";case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":return"ImageService1";case"http://iiif.io/api/annex/openannotation/context.json":return"ImageApiSelector"}}(y);if(s)return s}if(g){if(Array.isArray(g)){if(-1!==g.indexOf("oa:CssStylesheet"))return"CssStylesheet";if(-1!==g.indexOf("cnt:ContentAsText"))return"TextualBody";g=g[0]}for(let s of["sc","oa","dcterms","dctypes","iiif"])if(g.startsWith(`${s}:`)){g=g.slice(s.length+1);break}switch(g){case"Layer":return"AnnotationCollection";case"AnnotationList":return"AnnotationPage";case"cnt:ContentAsText":return"TextualBody"}}if(g&&-1!==e9.indexOf(g))return g;if(s.format){if(s.format.startsWith("image/"))return"Image";if(s.format.startsWith("text/")||"application/pdf"===s.format)return"Text";if(s.format.startsWith("application/"))return"Dataset"}return h&&(h.endsWith(".jpg")||h.endsWith(".png")||h.endsWith(".jpeg"))?"Image":g||"unknown"}var e7=/http(s)?:\/\/(creativecommons.org|rightsstatements.org)[^"'\\<\n]+/gm,te=["http://iiif.io/api/presentation/2/context.json","http://iiif.io/api/image/2/context.json","http://iiif.io/api/image/1/context.json","http://library.stanford.edu/iiif/image-api/1.1/context.json","http://iiif.io/api/search/1/context.json","http://iiif.io/api/search/0/context.json","http://iiif.io/api/auth/1/context.json","http://iiif.io/api/auth/0/context.json","http://iiif.io/api/annex/openannotation/context.json"],tt=0;function chunk_BMMVY4QT_x(s,h){let g=encodeURI(s.id||s["@id"]||"").trim();return g&&h?`${g}/${h}`:g||(tt++,`http://example.org/${s["@type"]}${h?`/${h}`:""}/${tt}`)}function chunk_BMMVY4QT_p(s){let h,g=[...s.behavior||[]];return s.viewingHint&&g.push(s.viewingHint),Array.isArray(s.motivation)?h=s.motivation.map(chunk_BMMVY4QT_):s.motivation&&(h=chunk_BMMVY4QT_(s.motivation)),{"@context":s["@context"]?function(s){if(s){let h=Array.isArray(s)?s:[s],g=[];for(let s of h)"http://iiif.io/api/presentation/2/context.json"===s&&g.push("http://iiif.io/api/presentation/3/context.json"),-1===te.indexOf(s)&&g.push(s);if(h.length)return 1===g.length?g[0]:g}}(s["@context"]):void 0,id:(s["@id"]||chunk_BMMVY4QT_x(s)).trim(),type:chunk_BMMVY4QT_g(s),behavior:g.length?g:void 0,height:s.height?s.height:void 0,width:s.width?s.width:void 0,motivation:h,viewingDirection:s.viewingDirection,profile:s.profile,format:s.format?s.format:void 0,duration:void 0,timeMode:void 0}}function chunk_BMMVY4QT_f(s){var h,g;let[_,y]=function(s,h="Rights/License",g="none"){let _=null,y=[];for(let A of Array.isArray(s)?s:[s]){let s=A?function(s){let h=s.match(e7);return h?h[0]:s}(A):void 0;if(s&&(-1!==s.indexOf("creativecommons.org")||-1!==s.indexOf("rightsstatements.org"))){_=s.startsWith("https://")?`http://${s.slice(8)}`:s;continue}s&&y.push({label:{[g]:[h]},value:{[g]:[s]}})}return[_,y]}(s.license),A=[...s.metadata&&(h=s.metadata)?h.map(s=>({label:chunk_BMMVY4QT_h(s.label),value:chunk_BMMVY4QT_h(s.value)})):[],...y];return{rights:_,metadata:A.length?A:void 0,label:s.label?chunk_BMMVY4QT_h(s.label):void 0,requiredStatement:s.attribution?{label:chunk_BMMVY4QT_h(e8.attributionLabel),value:chunk_BMMVY4QT_h(s.attribution)}:void 0,navDate:s.navDate,summary:s.description?chunk_BMMVY4QT_h(s.description):void 0,thumbnail:(g=s.thumbnail)&&(Array.isArray(g)?g:[g]).map(s=>"string"==typeof s?{id:s,type:"Image"}:("unknown"===s.type&&(s.type="Image"),s))}}function chunk_BMMVY4QT_l(s){let h=s.related?Array.isArray(s.related)?s.related:[s.related]:[],g=s.contentLayer;return{provider:s.logo||h.length?[{id:e8.providerId,type:"Agent",homepage:h.length?[h[0]]:void 0,logo:s.logo?Array.isArray(s.logo)?s.logo:[s.logo]:void 0,label:chunk_BMMVY4QT_h(e8.providerName)}]:void 0,partOf:function(s){if(!s.within)return;let h=Array.isArray(s.within)?s.within:[s.within],g=[];for(let _ of h)"string"==typeof _?_&&"sc:Manifest"===s["@type"]&&g.push({id:_,type:"Collection"}):_["@id"]&&g.push({id:_["@id"],type:chunk_BMMVY4QT_g(_)});return g.length?g:void 0}(s),rendering:s.rendering,seeAlso:s.seeAlso,start:s.startCanvas,service:s.service?chunk_NJNTZ6QT_i(s.service):void 0,supplementary:g?[g]:void 0}}function T(s){return"Choice"===s.type?s:chunk_BMMVY4QT_E(s)}function chunk_BMMVY4QT_E(s){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(s),...chunk_BMMVY4QT_f(s),...chunk_BMMVY4QT_l(s),chars:s.chars,format:s.format?s.format:void 0,language:s.language})}var tn=new e5({collection:[function(s){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(s),...chunk_BMMVY4QT_f(s),...chunk_BMMVY4QT_l(s),items:s.members})}],manifest:[function(s){let h=[],g=[],_;for(let y of s.sequences||[])y.canvases.length&&h.push(...y.canvases),y.behavior&&g.push(...y.behavior),y.startCanvas&&(_=y.startCanvas);let y=chunk_BMMVY4QT_p(s);return g.length&&(y.behavior?y.behavior.push(...g):y.behavior=g),chunk_NJNTZ6QT_r({...y,...chunk_BMMVY4QT_f(s),...chunk_BMMVY4QT_l(s),start:_,items:h,structures:function(s){if(!s)return s;let h=new Map;for(let g of s)h.set(g.id,g);let g=[];for(let _ of s)if(_.items){let s=_.items.map(s=>"string"==typeof s?(g.push(s),h.get(s)||s):s&&s.id?(g.push(s.id),h.get(s.id)||s):s);_.items=s}return s.filter(s=>-1===g.indexOf(s.id))}(s.structures)})}],canvas:[function(s){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(s),...chunk_BMMVY4QT_f(s),...chunk_BMMVY4QT_l(s),annotations:s.otherContent&&s.otherContent.length?s.otherContent:void 0,items:s.images&&s.images.length?[{id:chunk_BMMVY4QT_x(s,"annotation-page"),type:"AnnotationPage",items:s.images}]:void 0})}],annotationList:[function(s){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(s),...chunk_BMMVY4QT_f(s),...chunk_BMMVY4QT_l(s),items:s.resources&&s.resources.length?s.resources:void 0})}],sequence:[function(s){return s.canvases&&0!==s.canvases.length?{canvases:s.canvases,behavior:s.viewingHint?[s.viewingHint]:[],startCanvas:s.startCanvas}:{canvases:[],behavior:[]}}],annotation:[function(s){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(s),...chunk_BMMVY4QT_f(s),...chunk_BMMVY4QT_l(s),target:function e(s){if(Array.isArray(s)){if(s.length>1)return{type:"List",items:s.map(e)};s=s[0]}if("string"==typeof s)return encodeURI(s).trim();if(!("@type"in s))return encodeURI(s["@id"]).trim();{let h;if("string"==typeof s.full)h=s.full;else if("dctypes:Image"===s.full["@type"])h={id:s.full["@id"],type:"Image"};else if("sc:Canvas"===s.full["@type"])h={id:s.full["@id"],type:"Canvas"};else throw Error(`Unsupported source type on annotation: ${s.full["@type"]}`);return{type:"SpecificResource",source:h,selector:function chunk_BMMVY4QT_y(s){if((Array.isArray(s["@type"])&&s["@type"].includes("oa:SvgSelector")||"oa:SvgSelector"==s["@type"])&&("chars"in s||"value"in s))return{type:"SvgSelector",value:"chars"in s?s.chars:s.value};if("oa:FragmentSelector"===s["@type"])return{type:"FragmentSelector",value:s.value};if("oa:Choice"===s["@type"])return[chunk_BMMVY4QT_y(s.default),...(Array.isArray(s.item)?s.item:[s.item]).map(chunk_BMMVY4QT_y)];if("iiif:ImageApiSelector"==s["@type"])return{type:"ImageApiSelector",region:"region"in s?s.region:void 0,rotation:"rotation"in s?s.rotation:void 0};throw Error(`Unsupported selector type: ${s["@type"]}`)}(s.selector)}}}(s.on),body:Array.isArray(s.resource)?s.resource.map(T):T(s.resource)})}],contentResource:[chunk_BMMVY4QT_E],choice:[function(s){let h=[];return s.default&&"rdf:nil"!==s.default&&h.push(s.default),s.item&&"rdf:nil"!==s.item&&h.push(...s.item),chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(s),...chunk_BMMVY4QT_f(s),items:h})}],range:[function(s){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(s),...chunk_BMMVY4QT_f(s),...chunk_BMMVY4QT_l(s),items:s.members})}],service:[function(s){let{"@id":h,"@type":g,"@context":_,profile:y,...A}=s,b={};return h&&(b["@id"]=h),b["@type"]=chunk_BMMVY4QT_g(s),"unknown"===b["@type"]&&(_&&_.length&&(b["@context"]=_),b["@type"]="Service"),y&&(b.profile=function chunk_BMMVY4QT_L(s){return Array.isArray(s)?chunk_BMMVY4QT_L(s.find(s=>"string"==typeof s)):-1!==e1.indexOf(s)?"level2":-1!==e6.indexOf(s)?"level1":-1!==e2.indexOf(s)?"level0":"string"==typeof s?s:void 0}(y)),chunk_NJNTZ6QT_r({...b,...A})}],layer:[function(s){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(s),...chunk_BMMVY4QT_f(s),...chunk_BMMVY4QT_l(s)})}]});function chunk_W3DWL6UZ_v(s){return"string"!=typeof s&&(s&&!s.type&&"source"in s?(s.type="SpecificResource",!0):!!s&&"SpecificResource"===s.type)}function chunk_W3DWL6UZ_o(...s){return h=>s.reduce((s,h)=>h(s),h)}var tr=["Collection","Manifest","Canvas","AnnotationPage","AnnotationCollection","Annotation","ContentResource","Range","Service","Selector","Agent"],ta=class a{constructor(s,h={}){chunk_D22QKJZO_f(this,"traversals"),chunk_D22QKJZO_f(this,"options"),chunk_D22QKJZO_f(this,"_traverseManifest",chunk_W3DWL6UZ_o(this.traverseManifestItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this),this.traverseManifestStructures.bind(this),this.traverseInlineAnnotationPages.bind(this))),chunk_D22QKJZO_f(this,"_traverseCanvas",chunk_W3DWL6UZ_o(this.traverseCanvasItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this),this.traverseInlineAnnotationPages.bind(this))),chunk_D22QKJZO_f(this,"_traverseAnnotationPage",chunk_W3DWL6UZ_o(this.traverseAnnotationPageItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this))),chunk_D22QKJZO_f(this,"_traverseRange",chunk_W3DWL6UZ_o(this.traverseRangeRanges.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this))),this.traversals={collection:[],manifest:[],canvas:[],annotationCollection:[],annotationPage:[],annotation:[],contentResource:[],choice:[],range:[],service:[],agent:[],specificResource:[],geoJson:[],...s},this.options={allowUndefinedReturn:!1,...h}}static all(s){return new a({collection:[s],manifest:[s],canvas:[s],annotationCollection:[s],annotationPage:[s],annotation:[s],contentResource:[s],choice:[s],range:[s],service:[s],geoJson:[s],specificResource:[s],agent:[s]})}traverseDescriptive(s){return s.thumbnail&&(s.thumbnail=chunk_NJNTZ6QT_i(s.thumbnail).map(h=>this.traverseType(h,{parent:s},this.traversals.contentResource))),s.provider&&(s.provider=s.provider.map(h=>this.traverseAgent(h,s))),s}traverseLinking(s){return s.seeAlso&&(s.seeAlso=s.seeAlso.map(h=>this.traverseType(h,{parent:s},this.traversals.contentResource))),s.service&&(s.service=chunk_NJNTZ6QT_i(s.service).map(s=>this.traverseService(s))),s.services&&(s.services=chunk_NJNTZ6QT_i(s.services).map(h=>this.traverseService(h,s))),s.logo&&(s.logo=s.logo.map(h=>this.traverseType(h,{parent:s},this.traversals.contentResource))),s.homepage&&(s.homepage=chunk_NJNTZ6QT_i(s.homepage).map(h=>this.traverseType(h,{parent:s},this.traversals.contentResource))),s.partOf&&(s.partOf=s.partOf.map(h=>"string"!=typeof h&&h.type?"Canvas"===h.type?this.traverseType(h,{parent:s},this.traversals.canvas):"AnnotationCollection"===h.type?this.traverseType(h,{parent:s},this.traversals.annotationCollection):"Collection"===h.type?this.traverseType(h,{parent:s},this.traversals.collection):this.traverseType(h,{parent:s},this.traversals.contentResource):this.traverseType(h,{parent:s},this.traversals.contentResource))),s.start&&(chunk_W3DWL6UZ_v(s.start)?s.start=this.traverseSpecificResource(s.start,"Canvas",s):s.start=this.traverseType(s.start,{parent:s},this.traversals.canvas)),s.rendering&&(s.rendering=s.rendering.map(h=>this.traverseType(h,{parent:s},this.traversals.contentResource))),s.supplementary&&(s.supplementary=s.supplementary.map(h=>this.traverseType(h,{parent:s},this.traversals.contentResource))),s}traverseCollectionItems(s){return s.items&&s.items.map(s=>"Collection"===s.type?this.traverseCollection(s):this.traverseManifest(s)),s}traverseCollection(s,h){return this.traverseType(this.traverseDescriptive(this.traverseInlineAnnotationPages(this.traverseLinking(this.traverseLinkedCanvases(this.traverseCollectionItems(s))))),{parent:h},this.traversals.collection)}traverseGeoJson(s,h){return this.traverseType(s,{parent:h},this.traversals.geoJson)}traverseNavPlace(s){return s.navPlace&&(s.navPlace=this.traverseGeoJson(s.navPlace,s)),s}traverseManifestItems(s){return s.items&&(s.items=s.items.map(s=>this.traverseCanvas(s))),s}traverseManifestStructures(s){return s.structures&&(s.structures=s.structures.map(s=>this.traverseRange(s))),s}traverseManifest(s,h){return this.traverseType(this._traverseManifest(s),{parent:h},this.traversals.manifest)}traverseCanvasItems(s){return s.items=(s.items||[]).map(h=>this.traverseAnnotationPage(h,s)),s}traverseInlineAnnotationPages(s){return"string"==typeof s||!s||s.annotations&&(s.annotations=s.annotations.map(h=>this.traverseAnnotationPage(h,s))),s}traverseCanvas(s,h){return this.traverseType(this._traverseCanvas(s),{parent:h},this.traversals.canvas)}traverseAnnotationPageItems(s){return s.items&&(s.items=s.items.map(h=>this.traverseAnnotation(h,s))),s}traverseAnnotationPage(s,h){return this.traverseType(this._traverseAnnotationPage(s),{parent:h},this.traversals.annotationPage)}traverseAnnotationBody(s){return Array.isArray(s.body)?s.body=s.body.map(h=>this.traverseContentResource(h,s)):s.body&&(s.body=this.traverseContentResource(s.body,s)),s}traverseLinkedCanvases(s){return s.placeholderCanvas&&(s.placeholderCanvas=this.traverseCanvas(s.placeholderCanvas)),s.accompanyingCanvas&&(s.accompanyingCanvas=this.traverseCanvas(s.accompanyingCanvas)),s}traverseAnnotation(s,h){return this.traverseType(this.traverseLinking(this.traverseAnnotationBody(this.traverseDescriptive(s))),{parent:h},this.traversals.annotation)}traverseContentResourceLinking(s){return"string"==typeof s||!s||s&&s.service&&(s.service=chunk_NJNTZ6QT_i(s.service||[]).map(h=>this.traverseService(h,s))),s}traverseContentResource(s,h){return"Choice"===s.type&&(s.items=s.items.map(h=>this.traverseContentResource(h,s))),chunk_W3DWL6UZ_v(s)?this.traverseSpecificResource(s,"ContentResource"):this.traverseType(this.traverseInlineAnnotationPages(this.traverseContentResourceLinking(s)),{parent:h},this.traversals.contentResource)}traverseSpecificResource(s,h,g){let _=s.source;return"string"==typeof s.source&&(_={id:s.source,type:h||"unknown"}),this.traverseType({...s,source:"Canvas"===h||"Canvas"===_.type?this.traverseType(_,{parent:g},this.traversals.canvas):"ContentResource"===h?this.traverseContentResource(_,{parent:g}):this.traverseUnknown(_,{parent:g,typeHint:h})},{parent:g},this.traversals.specificResource)}traverseRangeRanges(s){return s.items&&(s.items=s.items.map(h=>"string"==typeof h?this.traverseCanvas({id:h,type:"Canvas"},s):chunk_W3DWL6UZ_v(h)?this.traverseSpecificResource(h,"Canvas",s):"Manifest"===h.type?this.traverseManifest(h,s):this.traverseRange(h,s))),s}traverseRange(s,h){return this.traverseType(this._traverseRange(s),{parent:h},this.traversals.range)}traverseAgent(s,h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(s)),{parent:h},this.traversals.agent)}traverseType(s,h,g){return g.reduce((s,g)=>{let _=g(s,h);return typeof _>"u"&&!this.options.allowUndefinedReturn?s:_},s)}traverseService(s,h){let g=Object.assign({},s);return g&&g.service&&(g.service=chunk_NJNTZ6QT_i(g.service).map(s=>this.traverseService(s))),this.traverseType(g,{parent:h},this.traversals.service)}traverseUnknown(s,{parent:h,typeHint:g}={}){let _=function(s,h){if(typeof s>"u"||null===s)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(s))throw Error("Array is not a valid entity");if("object"!=typeof s){if(h)return h;throw Error(`${typeof s} is not a valid entity`)}if("string"==typeof s.type){let h=tr.indexOf(s.type);if(-1!==h)return tr[h]}if(s.profile)return"Service";throw Error("Resource type is not known")}(s,g);switch(_){case"Collection":return this.traverseCollection(s,h);case"Manifest":return this.traverseManifest(s,h);case"Canvas":return this.traverseCanvas(s,h);case"AnnotationPage":return this.traverseAnnotationPage(s,h);case"Annotation":return this.traverseAnnotation(s,h);case"ContentResource":return this.traverseContentResource(s,h);case"Range":return this.traverseRange(s,h);case"Service":return this.traverseService(s,h);case"Agent":return this.traverseAgent(s,h);default:throw Error(`Unknown or unsupported resource type of ${_}`)}}},ts={},tl="iiif-parser:hasPart",tc="iiif-parser:partOf",tu="iiif-parser:isExternal",td="__$UNSET$__",th="__$UNWRAP$__",tp=[];function chunk_AXOUQGO3_oe(s,h){if(h&&h["@explicit"]){let g={};for(let _ of Object.keys(h))_===tc||"@explicit"===_||(function(s){if(s===ts||0===Object.keys(s).length)return!0;for(let h in s)return!1;return!0}(h[_])?g[_]=s[_]:g[_]=h[_]);return g}return s}Object.freeze(tp),Object.freeze(ts);var tf={id:"https://iiif-parser/annotation-page",type:"AnnotationPage",behavior:tp,label:null,thumbnail:tp,summary:null,requiredStatement:null,metadata:tp,rights:null,provider:tp,items:tp,seeAlso:tp,homepage:tp,rendering:tp,service:tp},tm={id:"https://iiif-parser/empty-canvas",type:"Canvas",label:null,behavior:tp,thumbnail:tp,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tp,rights:null,navDate:null,provider:tp,items:tp,annotations:tp,seeAlso:tp,homepage:tp,partOf:tp,rendering:tp,service:tp,duration:0,height:0,width:0},tg={id:"https://iiif-parser/empty-collection",type:"Collection",label:null,viewingDirection:"left-to-right",behavior:tp,thumbnail:tp,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tp,rights:null,navDate:null,provider:tp,items:tp,annotations:tp,seeAlso:tp,homepage:tp,partOf:tp,rendering:tp,service:tp,services:tp},tE={id:"https://iiif-parser/empty-manifest",type:"Manifest",annotations:tp,behavior:tp,homepage:tp,items:tp,label:null,metadata:tp,navDate:null,provider:tp,partOf:tp,accompanyingCanvas:null,placeholderCanvas:null,rendering:tp,requiredStatement:null,rights:null,seeAlso:tp,service:tp,services:tp,start:null,structures:tp,summary:null,thumbnail:tp,viewingDirection:"left-to-right"},t_={id:"https://iiif-parser/empty-canvas",type:"Range",label:null,behavior:tp,thumbnail:tp,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tp,rights:null,navDate:null,provider:tp,items:tp,annotations:tp,seeAlso:tp,homepage:tp,partOf:tp,rendering:tp,service:tp,start:null,supplementary:null,viewingDirection:"left-to-right"},tT={id:"https://iiif-parser/empty-agent",type:"Agent",label:{},logo:tp,seeAlso:tp,homepage:tp},tv={id:"https://iiif-parser/empty-service",type:"UnknownService"};function chunk_AXOUQGO3_Z(s,h){if("string"==typeof s)return{id:s,type:h};if(!s.id)throw Error(`Invalid resource does not have an ID (${JSON.stringify(s)}, ${h})`);return s}function chunk_AXOUQGO3_W(s,h,g){if("string"==typeof s)return s;if(h.id!==s.id||h.type!==s.type){if("ImageService3"===h.type)return h;if("ImageService3"===s.type)return s;throw Error(`Can only merge entities with identical identifiers and type! ${h.type}(${h.id}) => ${s.type}(${s.id})`)}return function chunk_AXOUQGO3_$(s,h,g){if(!h)return s;if(Array.isArray(s)){if(!Array.isArray(h))throw Error("Cannot merge array with non-array");let g=[...s];for(let _ of h)if(_["@id"]&&!_.id&&(_.id=_["@id"]),_["@type"]&&!_.type&&(_.type=_["@type"]),null!=_){if(Array.isArray(_))g.push(_);else if("object"==typeof _&&_.id&&_.type){let s=g.findIndex(s=>s.id===_.id&&s.type===_.type);s>=0&&(g[s]=chunk_AXOUQGO3_$(g[s],_))}else -1===s.indexOf(_)&&g.push(_)}return g}if("object"==typeof s){if(Array.isArray(h)||"object"!=typeof h)throw Error("Cannot merge object with non-object");let _={...s},y=[],A=[],b=Object.keys(s).filter(s=>s!==tl&&"id"!==s&&"type"!==s),k={},w={};for(let[s,g]of Object.entries(h)){if(s===tl||"id"===s||"type"===s)continue;let h=_[s];h===g?A.push(s):h!==tp&&h?(h&&g&&(k[s]=h,w[s]=g),_[s]=chunk_AXOUQGO3_$(h,g),_[s]===k[s]&&(A.push(s),delete k[s])):(y.push(s),_[s]=g)}if(g&&(g.parent&&g.parent.id||g.isTopLevel)){let h=[],R={};if(g.parent?R[tc]=g.parent.id:g.isTopLevel&&(R[tc]=s.id),_[tl]&&_[tl].length){let s=!(_[tl]||[]).find(s=>s["@explicit"]),g=y.length>0||A.length!==b.length;if(s&&g)for(let s of _[tl]){let g={...s},_=Object.keys(k);if(g){for(let s of(g["@explicit"]=!0,b))s!==tl&&(g[s]=ts);for(let s of _)g[s]=k[s]}h.push(g)}else h.push(..._[tl]);if(g){let s=Object.keys(w);for(let s of(R["@explicit"]=!0,y))R[s]=ts;for(let s of A)R[s]=ts;for(let h of s)R[h]=w[h]}}R.id=_.id,R.type=_.type,h.push(R),_[tl]=h}return _}return s||h}({...s},h,g)}function chunk_AXOUQGO3_U(s){return h=>"string"==typeof h?{id:h,type:s}:h.id?h.type?h:{type:s,...h}:{id:`vault://${function(s){let h=JSON.stringify(s),g=5381,_=h.length;for(;_;)g=33*g^h.charCodeAt(--_);let y=(g>>>0).toString(16);return y.length%2?"0"+y:y}(h)}`,type:s,...h}}function chunk_AXOUQGO3_E(s){return h=>({...s,...h})}function chunk_AXOUQGO3_D(s){return Array.isArray(s)?s:[s]}function chunk_AXOUQGO3_fe(s){return s.body&&(s.body=chunk_AXOUQGO3_D(s.body)),s.seeAlso&&(s.seeAlso=chunk_AXOUQGO3_D(s.seeAlso)),s.audience&&(s.audience=chunk_AXOUQGO3_D(s.audience)),s.accessibility&&(s.accessibility=chunk_AXOUQGO3_D(s.accessibility)),s.motivation&&(s.motivation=chunk_AXOUQGO3_D(s.motivation)),s}function chunk_AXOUQGO3_ee(s,{typeHint:h,partOfTypeHint:g}={}){let _;if("string"==typeof s&&(s={id:s,type:h||"unknown"}),chunk_W3DWL6UZ_v(s))return"string"==typeof s.source&&(s.source={id:s.source,type:h||"unknown"}),"Canvas"===s.source.type&&s.source.partOf&&"string"==typeof s.source.partOf&&(s.source.partOf=[{id:s.source.partOf,type:g||"Manifest"}]),s;if(-1!==(s.id||"").indexOf("#")){let[h,g]=(s.id||"").split("#");s.id=h,g&&(_={type:"FragmentSelector",value:g})}return{type:"SpecificResource",source:s,selector:_}}function chunk_AXOUQGO3_pe(s){let h=Object.assign({},s);return s&&s.items&&(h.items=s.items.map(s=>"string"==typeof s||"Canvas"===s.type?chunk_AXOUQGO3_ee(s):s)),h}function chunk_AXOUQGO3_ye(s){let h=Object.assign({},s);return h.start?(h.start=chunk_AXOUQGO3_ee(h.start,{typeHint:"Canvas"}),h):s}function chunk_AXOUQGO3_me(s){let h=Object.assign({},s);return h.target?(h.target=function chunk_AXOUQGO3_(s,h={}){if(Array.isArray(s))return chunk_AXOUQGO3_(s[0]);if("string"==typeof s){let[g,_]=s.split("#");return _?{type:"SpecificResource",source:{id:g,type:h.typeHint||"Unknown"},selector:{type:"FragmentSelector",value:_}}:{type:"SpecificResource",source:{id:g,type:h.typeMap&&h.typeMap[g]||h.typeHint||"Unknown"}}}if("Choice"===s.type||"List"===s.type||"Composite"===s.type||"Independents"===s.type)return chunk_AXOUQGO3_(s.items[0]);if(!s.type&&"source"in s&&(s.type="SpecificResource"),"SpecificResource"===s.type)return"Canvas"===s.source.type&&s.source.partOf&&"string"==typeof s.source.partOf&&(s.source.partOf=[{id:s.source.partOf,type:"Manifest"}]),s.selector?{type:"SpecificResource",source:s.source,selector:s.selector}:{type:"SpecificResource",source:s.source};if(s.id){"Canvas"===s.type&&s.partOf&&"string"==typeof s.partOf&&(s.partOf=[{id:s.partOf,type:"Manifest"}]);let[h,g]=s.id.split("#");return g?{type:"SpecificResource",source:{...s,id:h},selector:{type:"FragmentSelector",value:g}}:{type:"SpecificResource",source:{...s,id:h}}}return{type:"SpecificResource",source:s}}(h.target,{typeHint:"Canvas"}),h):s}function chunk_AXOUQGO3_ve(s){return s}function chunk_AXOUQGO3_q(s){return typeof s.items>"u"&&(s[tu]=!0),s}function Fe(s){let h=s&&s["@context"]&&("http://iiif.io/api/presentation/2/context.json"===s["@context"]||-1!==s["@context"].indexOf("http://iiif.io/api/presentation/2/context.json")||"http://www.shared-canvas.org/ns/context.json"===s["@context"])||"http://iiif.io/api/image/2/context.json"===s["@context"]?tn.traverseUnknown(s):s,g={Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}},_={},t=(s,_)=>{let y=g[s]?g[s]:{};return(g,A)=>{let b=chunk_AXOUQGO3_Z(g,_||s);return b&&b.id&&s?(y[b.id]=y[b.id]?chunk_AXOUQGO3_W(y[b.id],b,{parent:A.parent,isTopLevel:h.id===b.id}):chunk_AXOUQGO3_W({id:b.id,type:b.type},b,{parent:A.parent,isTopLevel:h.id===b.id}),{id:b.id,type:"ContentResource"===s?s:b.type}):b}},a=(s,h)=>g=>{let{id:y,type:A}=chunk_AXOUQGO3_Z(g,h||s);if(typeof y>"u")throw Error("Found invalid entity without an ID.");return"ContentResource"===s||"Service"===s?_[y]=s:_[y]=A,g},y=new ta({collection:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_E(tg),a("Collection"),t("Collection")],manifest:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_E(tE),chunk_AXOUQGO3_ye,a("Manifest"),t("Manifest")],canvas:[chunk_AXOUQGO3_E(tm),a("Canvas"),t("Canvas")],annotationPage:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_U("AnnotationPage"),chunk_AXOUQGO3_E(tf),a("AnnotationPage"),t("AnnotationPage")],annotation:[chunk_AXOUQGO3_U("Annotation"),chunk_AXOUQGO3_fe,chunk_AXOUQGO3_me,a("Annotation"),t("Annotation")],contentResource:[chunk_AXOUQGO3_U("ContentResource"),a("ContentResource"),t("ContentResource")],range:[chunk_AXOUQGO3_E(t_),chunk_AXOUQGO3_pe,a("Range","Canvas"),t("Range","Canvas")],agent:[chunk_AXOUQGO3_E(tT),a("Agent"),t("Agent")],specificResource:[chunk_AXOUQGO3_ve],service:[s=>{g.Service=g.Service?g.Service:{};let h=s.id||s["@id"],_=function(s){let h=Object.assign({},s);if(h["@id"]&&(h.id=h["@id"]),h["@type"]&&(h.type=h["@type"]),h.service){let s=[];for(let g of(h.service=Array.isArray(h.service)?h.service:[h.service],h.service))s.push({id:g["@id"]||g.id,type:g["@type"]||g.type});h.service=s}return Object.assign({},tv,h)}(s);return _&&_.id&&(g.Service[_.id]?g.Service[h]=chunk_AXOUQGO3_W(g.Service[h],_):g.Service[h]=_),s}]}).traverseUnknown(h);return{entities:g,resource:y,mapping:_}}function $e(s,h,g){if(!h.type||!h.id)throw Error("Unknown entity");if(!g[h.type])throw Error(`Serializer not found for ${h.type}`);return function r(_,y,A=0){let b=g[_.type];if(!b)return td;if(A>20)throw Error("Circular reference: "+_.id+" "+_.type);let[k,w]=function chunk_AXOUQGO3_F(s,h,g){let _=function chunk_AXOUQGO3_L(s,h){let g=h||"unknown";if(!s)return;if("string"==typeof s)return{id:s,type:g};if(chunk_W3DWL6UZ_v(s))return chunk_AXOUQGO3_L(s.source,h);let _=g&&"unknown"!==g?g:s.type||s["@type"],y=s.id||s["@id"];if(_&&-1!==_.indexOf(":")&&(_=_.split(":").pop()),y&&_)return{id:y,type:_}}(h);if(!_)return[void 0,void 0];let y=s.requests[_.id],A=_.type||s.mapping[_.id];if(!A||y&&y.resourceUri&&(!s.entities[A]||!s.entities[A][y.resourceUri]))return[void 0,void 0];let b=s.entities[A][y?y.resourceUri:_.id];if(_.type&&!b)return chunk_AXOUQGO3_F(s,{id:_.id},g);if(b&&b[tl]){let s=b[tl].find(s=>g?s[tc]===g.id:s[tc]===b.id);return[chunk_AXOUQGO3_oe(b,s),b]}return[b,b]}(s,_.type?_:_.id,y)||(_.id&&_.type?_:null);if(!k)return td;let R=b(k,s,{parent:y,isTopLevel:h.id===_.id,fullResource:w}),B=R.next();for(;!B.done;){let s=B.value,h=td;if(s){if(Array.isArray(s)){let g=[];for(let h of s)g.push(r(h,_,A+1));h=g}else h=r(s,_,A+1)}B=R.next(h)}return B.value===td?td:function(s){let h={};for(let[g,_]of s){if(g===th&&_!==td)return _;_!==td&&"u">typeof _&&null!==_&&(h[g]=_)}return h}(B.value)}(h)}function chunk_AXOUQGO3_P(s,{allowSourceString:h=!0,allowString:g=!1,allowedStringType:_}={}){let t=s=>{if(h&&s&&s.source&&"string"!=typeof s.source){let h=Object.keys(s.source);if(s.source.id&&s.source.type&&2===h.length)return{...s,source:s.source.id}}return s};if(s){if(s.source&&s.source.partOf)return t(s);let h=Object.keys(s);if(2===h.length&&s.type&&s.source||3===h.length&&s.type&&s.source&&-1!==h.indexOf("selector")&&!s.selector)return g&&(!_||_===s.source.type)?s.source.id:"ContentResource"===s.source.type?{type:"SpecificResource",source:s.source.id}:s.source;if(s.selector&&!Array.isArray(s.selector)&&"string"!=typeof s.selector&&"FragmentSelector"===s.selector.type){let h=`${s.source.id}#${s.selector.value}`;return g?h:{id:h,type:s.source.type}}}return t(s)}function chunk_AXOUQGO3_O(s){if(!s)return;let h=Object.keys(s);if(0!==h.length){if(1===h.length){let g=h[0];if(!g)return"";let _=(s[g]||[]).join("");return"@none"===g||"none"===g||"en"===g?_:{"@language":g,"@value":_}}return h.map(h=>({"@language":h,"@value":(s[h]||[]).join("")}))}}function chunk_AXOUQGO3_h(s,h=!1){if(s)return s.length>1&&!h?s:s[0]||void 0}function chunk_AXOUQGO3_he(s){if(s){if("string"==typeof s)return{"@id":s};if("@id"in s){let h={...s};return delete h["@type"],h}return{"@context":"http://iiif.io/api/image/2/context.json","@id":s.id,profile:`http://iiif.io/api/image/2/profiles/${s.profile}.json`}}}function chunk_AXOUQGO3_N(s,h){return[["@id",s.id],["@type",h],["format",s.format],["height",s.height],["width",s.width],["viewingDirection","left-to-right"!==s.viewingDirection?s.viewingDirection:void 0],["license",s.license?s.license:void 0]]}function*chunk_AXOUQGO3_b(s){let h=s.provider?yield s.provider[0]:void 0;return[["label",chunk_AXOUQGO3_O(s.label)],["metadata",s.metadata&&s.metadata.length?s.metadata.map(s=>({label:chunk_AXOUQGO3_O(s.label)||"",value:chunk_AXOUQGO3_O(s.value)||""})):void 0],["description",chunk_AXOUQGO3_O(s.summary)],["thumbnail",chunk_AXOUQGO3_h((yield s.thumbnail))],["navDate",s.navDate],["logo",h?chunk_AXOUQGO3_h(h.logo):void 0],["homepage",h?h.homepage:void 0],["attribution",s.requiredStatement?chunk_AXOUQGO3_O(s.requiredStatement.value):void 0]]}function*chunk_AXOUQGO3_k(s){let h=s.start&&s.start.type&&"SpecificResource"===s.start.type?chunk_AXOUQGO3_P(s.start):s.start;return[["seeAlso",chunk_AXOUQGO3_h((yield s.seeAlso))],["service",chunk_AXOUQGO3_h((s.service||[]).map(chunk_AXOUQGO3_he))],["rendering",chunk_AXOUQGO3_h((yield s.rendering))],["startCanvas",h?h.id:void 0]]}var ty={Manifest:function*(s,h,{isTopLevel:g}){return[...g?[["@context","http://iiif.io/api/presentation/2/context.json"]]:[],...chunk_AXOUQGO3_N(s,"sc:Manifest"),...yield*chunk_AXOUQGO3_b(s),...yield*chunk_AXOUQGO3_k(s),["sequences",[{"@id":`${s.id}/sequence0`,"@type":"sc:Sequence",canvases:yield s.items}]],["structures",(yield s.structures)]]},Canvas:function*(s){let h=(yield s.items)[0];return[...chunk_AXOUQGO3_N(s,"sc:Canvas"),...yield*chunk_AXOUQGO3_b(s),...yield*chunk_AXOUQGO3_k(s),["images",h?[h.resources]:void 0],["annotations",s.annotations&&s.annotations.length?chunk_AXOUQGO3_h((yield s.annotations)):void 0]]},AnnotationPage:function*(s){return[...chunk_AXOUQGO3_N(s,"sc:AnnotationList"),...yield*chunk_AXOUQGO3_b(s),["resources",s.items&&s.items.length?chunk_AXOUQGO3_h((yield s.items)):void 0]]},Annotation:function*(s){return[["@id",s.id],["@type","oa:Annotation"],["motivation","sc:painting"],["on",function chunk_AXOUQGO3_ne(s){return Array.isArray(s)?s.map(s=>chunk_AXOUQGO3_ne(s)):"string"==typeof s?s:s.type&&"Canvas"===s.type?s.id:s}(s.target)],["resource",chunk_AXOUQGO3_h((yield s.body),!0)]]},ContentResource:function*(s){return"Image"===s.type?[...chunk_AXOUQGO3_N(s,"dctypes:Image"),...yield*chunk_AXOUQGO3_b(s),...yield*chunk_AXOUQGO3_k(s)]:[...chunk_AXOUQGO3_N(s,void 0),...yield*chunk_AXOUQGO3_b(s)]},AnnotationCollection:function*(s){return[["@id",s.id],["@type","sc:Layer"],["label",chunk_AXOUQGO3_O(s.label)]]},Collection:function*(s){return[...chunk_AXOUQGO3_N(s,"sc:Collection"),...yield*chunk_AXOUQGO3_b(s),...yield*chunk_AXOUQGO3_k(s),["members",(yield*s.items)]]},Range:function*(s){let h=[],g=[];if(s.items)for(let _ of s.items){let y="SpecificResource"===_.type?_.source:_;if(y){let A=yield y;h.push({"@id":function(s){if(s&&"SpecificResource"===s.type){let h=s.id,g=s.selector?Array.isArray(s.selector)?s.selector[0]:s.selector:void 0;return g&&"FragmentSelector"===g.type&&(h+="#"+g.value),h}return s?.id}(_),"@type":y.type,label:A?A.label:void 0,within:s.id}),"Canvas"===y.type&&g.push(y.id)}}return[...chunk_AXOUQGO3_N(s,"sc:Range"),...yield*chunk_AXOUQGO3_b(s),...yield*chunk_AXOUQGO3_k(s),["canvases",g.length===h.length?g:void 0],["members",g.length!==h.length?h:void 0]]}};function chunk_AXOUQGO3_x(s){return[["id",s.id?.startsWith("vault://")?void 0:s.id],["type",s.type],["format",s.format],["profile",s.profile],["height",s.height||void 0],["width",s.width||void 0],["duration",s.duration||void 0],["viewingDirection","left-to-right"!==s.viewingDirection?s.viewingDirection:void 0],["behavior",s.behavior&&s.behavior.length?s.behavior:void 0],["timeMode",s.timeMode],["motivation",Array.isArray(s.motivation)?s.motivation[0]:s.motivation],[tl,td]]}function chunk_AXOUQGO3_d(s){if(s===td||!s||0===s.length)return;let h=s.filter(s=>s!==td);if(0!==h.length)return h}function chunk_AXOUQGO3_re(s){if(s&&s.type&&"ImageService2"===s.type){let{id:h,type:g,profile:_,...y}=s,A="string"==typeof _?_:Array.isArray(_)?_.find(s=>"string"==typeof s):"";return{"@id":h,"@type":g,profile:A?A.startsWith("http")?A:`http://iiif.io/api/image/2/${A}.json`:"http://iiif.io/api/image/2/level0.json",...y}}return s}function chunk_AXOUQGO3_ie(s){if(Array.isArray(s)||(s=s?[s]:[]),!(!s||0===s.length))return s.map(chunk_AXOUQGO3_re)}function*chunk_AXOUQGO3_S(s){return[["label",s.label],["metadata",chunk_AXOUQGO3_d(s.metadata)],["summary",s.summary],["requiredStatement",s.requiredStatement],["rights",Array.isArray(s.rights)?s.rights[0]||void 0:s.rights||void 0],["navDate",s.navDate],["language",s.language],["thumbnail",chunk_AXOUQGO3_d((yield s.thumbnail))],["placeholderCanvas",(yield s.placeholderCanvas)],["accompanyingCanvas",(yield s.accompanyingCanvas)],["provider",chunk_AXOUQGO3_d((yield s.provider))]]}function*chunk_AXOUQGO3_R(s,h){let g=[];for(let _ of s.partOf||[])"Manifest"===_.type&&"Manifest"===h.type||g.push((yield _));return[["seeAlso",chunk_AXOUQGO3_d((yield s.seeAlso))],["service",chunk_AXOUQGO3_d(chunk_AXOUQGO3_ie(s.service))],["services",chunk_AXOUQGO3_d(chunk_AXOUQGO3_ie(s.services))],["rendering",chunk_AXOUQGO3_d((yield s.rendering))],["supplementary",chunk_AXOUQGO3_d((yield s.supplementary))],["homepage",chunk_AXOUQGO3_d((yield s.homepage))],["logo",chunk_AXOUQGO3_d((yield s.logo))],["partOf",chunk_AXOUQGO3_d(g)],["start",s.start?chunk_AXOUQGO3_P(s.start):s.start]]}var tA={Manifest:function*(s,h,{isTopLevel:g}){return g?[["@context",s["@context"]?s["@context"]:"http://iiif.io/api/presentation/3/context.json"],...chunk_AXOUQGO3_x(s),...yield*chunk_AXOUQGO3_S(s),...yield*chunk_AXOUQGO3_R(s),["items",(yield s.items)],["structures",chunk_AXOUQGO3_d((yield s.structures))],["annotations",chunk_AXOUQGO3_d((yield s.annotations))],["navPlace",s.navPlace]]:[...chunk_AXOUQGO3_x(s),...yield*chunk_AXOUQGO3_S(s)]},Canvas:function*(s,h,{parent:g}){return g&&"Manifest"!==g.type&&"Canvas"!==g.type?[["id",s.id]]:[...chunk_AXOUQGO3_x(s),...yield*chunk_AXOUQGO3_S(s),...yield*chunk_AXOUQGO3_R(s,g),["items",(yield s.items)],["annotations",chunk_AXOUQGO3_d((yield s.annotations))],["navPlace",s.navPlace]]},Agent:function*(s){return[["id",s.id],["type","Agent"],["label",s.label],...yield*chunk_AXOUQGO3_R(s)]},AnnotationPage:function*(s){let h=Object.entries(s).map(([s,h])=>[s,Array.isArray(h)?chunk_AXOUQGO3_d(h):h]).filter(([s,h])=>"items"!==s&&"id"!==s&&s!==tl&&s!==tc&&s!==tu),g=yield s.items;return[["id",s.id?.startsWith("vault://")?void 0:s.id],...h,...yield*chunk_AXOUQGO3_R(s),["items",g.length||!1===s[tu]?g:td]]},Service:function*(s){return[[th,chunk_AXOUQGO3_re(s)]]},Annotation:function*(s){let h=Object.entries(s).map(([s,h])=>"motivation"===s?[s,Array.isArray(h)?h[0]:h]:"target"===s?[s,chunk_AXOUQGO3_P(h,{allowString:!0,allowSourceString:!0,allowedStringType:"Canvas"})]:[s,Array.isArray(h)?chunk_AXOUQGO3_d(h):h]).filter(([s])=>"body"!==s&&s!==tl&&s!==tu),g;if(Array.isArray(s.body)){let h=[];for(let g of s.body)if(g&&chunk_W3DWL6UZ_v(g)){let s={...g};"Canvas"!==g.source.type?s.source=yield g.source:s.source=g.source,h.push(chunk_AXOUQGO3_P(s,{allowSourceString:!0}))}else h.push((yield g));g=h}else s.body&&chunk_W3DWL6UZ_v(s.body)?(g={...s.body}).source=yield s.body.source:g=yield s.body;return[...h,...yield*chunk_AXOUQGO3_S(s),...yield*chunk_AXOUQGO3_R(s),["body",1===g.length?g[0]:g]]},ContentResource:function*(s){return function(s,h){let g=Object.keys(h),_=s.map(([s])=>s);for(let y of g)y===tl||y===tu||-1===_.indexOf(y)&&"u">typeof h[y]&&s.push([y,h[y]]);return s}([...chunk_AXOUQGO3_x(s),...yield*chunk_AXOUQGO3_S(s),...yield*chunk_AXOUQGO3_R(s),["annotations",chunk_AXOUQGO3_d((yield s.annotations))],["items",chunk_AXOUQGO3_d((yield s.items))]],s)},AnnotationCollection:function*(s){return[["id",s.id],["type","AnnotationCollection"],["label",s.label]]},Collection:function*(s,h,{isTopLevel:g}){return g?[["@context","http://iiif.io/api/presentation/3/context.json"],...chunk_AXOUQGO3_x(s),...yield*chunk_AXOUQGO3_S(s),...yield*chunk_AXOUQGO3_R(s),["items",chunk_AXOUQGO3_d((yield s.items))],["navPlace",s.navPlace]]:[...chunk_AXOUQGO3_x(s),...yield*chunk_AXOUQGO3_S(s)]},Range:function*(s){let h=[];for(let g of s.items)"Range"===g.type?h.push((yield g)):g&&"SpecificResource"===g.type?h.push(chunk_AXOUQGO3_P(g)):h.push(g);return[...chunk_AXOUQGO3_x(s),...yield*chunk_AXOUQGO3_S(s),...yield*chunk_AXOUQGO3_R(s),["items",h],["annotations",chunk_AXOUQGO3_d((yield s.annotations))],["navPlace",s.navPlace]]}};let tb="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var tS={randomUUID:tb};let tk=new Uint8Array(16),tC=[];for(let s=0;s<256;++s)tC.push((s+256).toString(16).slice(1));var esm_browser_v4=function(s,h,g){if(tS.randomUUID&&!h&&!s)return tS.randomUUID();s=s||{};let y=s.random||(s.rng||function(){if(!_&&!(_="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _(tk)})();if(y[6]=15&y[6]|64,y[8]=63&y[8]|128,h){g=g||0;for(let s=0;s<16;++s)h[g+s]=y[s];return h}return function(s,h=0){return tC[s[h+0]]+tC[s[h+1]]+tC[s[h+2]]+tC[s[h+3]]+"-"+tC[s[h+4]]+tC[s[h+5]]+"-"+tC[s[h+6]]+tC[s[h+7]]+"-"+tC[s[h+8]]+tC[s[h+9]]+"-"+tC[s[h+10]]+tC[s[h+11]]+tC[s[h+12]]+tC[s[h+13]]+tC[s[h+14]]+tC[s[h+15]]}(y)};let tx=window.OpenSeadragon;if(!tx&&!(tx=eH))throw Error("OpenSeadragon is missing.");let tI="http://www.w3.org/2000/svg";tx.Viewer&&(tx.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new image_ve(this)),this._svgOverlayInfo});let image_ve=function(s){let h=this;this._viewer=s,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(tI,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(tI,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){h.resize()}),this._viewer.addHandler("open",function(){h.resize()}),this._viewer.addHandler("rotate",function(){h.resize()}),this._viewer.addHandler("flip",function(){h.resize()}),this._viewer.addHandler("resize",function(){h.resize()}),this.resize()};image_ve.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let s=this._viewer.viewport.pixelFromPoint(new tx.Point(0,0),!0),h=this._viewer.viewport.getZoom(!0),g=this._viewer.viewport.getRotation(),_=this._viewer.viewport.getFlip(),y=this._viewer.viewport._containerInnerSize.x,A=y*h,b=A;_&&(A=-A,s.x=-s.x+y),this._node.setAttribute("transform","translate("+s.x+","+s.y+") scale("+A+","+b+") rotate("+g+")")},onClick:function(s,h){new tx.MouseTracker({element:s,clickHandler:h}).setTracking(!0)}};let Je=s=>fetch(`${s.replace(/\/$/,"")}/info.json`).then(s=>s.json()).then(s=>s).catch(h=>{console.error(`The IIIF tilesource ${s.replace(/\/$/,"")}/info.json failed to load: ${h}`)}),Ge=s=>{let h,g;return Array.isArray(s)&&(h=s[0])&&(g="@id"in h?h["@id"]:h.id),g};var tw=((k=tw||{}).TiledImage="tiledImage",k.SimpleImage="simpleImage",k);let Xe=s=>{let h=Array.isArray(null==s?void 0:s.service)&&(null==s?void 0:s.service.length)>0,g=h?Ge(null==s?void 0:s.service):null==s?void 0:s.id,_=h?tw.TiledImage:tw.SimpleImage;return{uri:g,imageType:_}},image_Ke=(s,h)=>{let g=h?tw.TiledImage:tw.SimpleImage;return{uri:s,imageType:g}},{styled:tO,css:tN,keyframes:tR,createTheme:tD}=(0,ez.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),tL=tO("div",{display:"flex",flexDirection:"column",alignItems:"center"}),tM=tO("p",{fontWeight:"bold",fontSize:"x-large"}),tP=tO("span",{fontSize:"medium"}),st=({error:s})=>{let{message:h}=s;return eV.createElement(tL,{role:"alert"},eV.createElement(tM,{"data-testid":"headline"},"Something went wrong"),h&&eV.createElement(tP,null,`Error message: ${h}`," "))},tF=tO("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),tB=tO("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),tU=tO("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${tF}`]:{display:"block"}},false:{[`${tF}`]:{display:"none"}}}}});var image_y=function(s){return function(){let h={type:s,getType:()=>s,toString:()=>s};return(s,g)=>({...h,...void 0!==s&&{payload:s},...void 0!==g&&{meta:g}})}},tH="@iiif/IMPORT_ENTITIES",tG="@iiif/MODIFY_ENTITY_FIELD",tz="@iiif/REORDER_ENTITY_FIELD",tV="@iiif/ADD_REFERENCE",t$="@iiif/UPDATE_REFERENCE",tQ="@iiif/REMOVE_REFERENCE",tj="@iiif/ADD_METADATA",tY="@iiif/REMOVE_METADATA",tq="@iiif/UPDATE_METADATA",tW="@iiif/REORDER_METADATA",tX=image_y(tH)(),tK=image_y(tG)(),tJ=image_y(tz)(),tZ=image_y(tV)(),t0=image_y(tQ)(),t1=image_y(t$)(),t2=image_y(tj)(),t3=image_y(tq)(),t4={importEntities:tX,modifyEntityField:tK,reorderEntityField:tJ,addReference:tZ,removeReference:t0,updateReference:t1,addMetadata:t2,removeMetadata:image_y(tY)(),updateMetadata:t3,reorderMetadata:image_y(tW)()},t5="@iiif/ADD_MAPPING",t6="@iiif/ADD_MAPPINGS",t8=image_y(t5)(),t9=image_y(t6)(),t7="RESOURCE_ERROR",ne="RESOURCE_LOADING",nt="RESOURCE_READY",nn="@iiif/REQUEST_RESOURCE",nr="@iiif/REQUEST_ERROR",na="@iiif/REQUEST_MISMATCH",no="@iiif/REQUEST_COMPLETE",ns=image_y(nn)(),nl=image_y(nr)(),nc=image_y(na)(),nu=image_y(no)(),nd="@iiif/BATCH",nh=image_y(nd)(),At=(s,h)=>{let{entities:g,resource:_,mapping:y}=Fe(h);if(void 0===_.id)return[nl({id:s,message:"ID is not defined in resource."})];let A=[tX({entities:g}),t9({mapping:y})];return _.id!==s&&(A.push(t8({id:s,type:_.type})),A.push(nc({requestId:s,actualId:_.id}))),A.push(nu({id:s})),A},np=Number.isNaN||function(s){return"number"==typeof s&&s!=s};function image_re(s,h){if(!Array.isArray(s)||!Array.isArray(h))return s===h;if(s.length!==h.length)return!1;for(let y=0;y<s.length;y++){var g,_;if(!((g=s[y])===(_=h[y])||np(g)&&np(_)))return!1}return!0}function image_U(s,h,g){let _=s.iiif.requests[h],y=s.iiif.mapping[h];if(!y||!s.iiif.entities[y][_.resourceUri])return;let A=s.iiif.entities[y][_.resourceUri];if(A&&A[tl]){let s=A[tl].find(s=>s[tc]===A.id);return chunk_AXOUQGO3_oe(A,s)}return A}function image_ie(s,h,{waitTimeout:g=30}={}){return(_,y)=>{let A=s.getStore(),b=A.getState(),k=b.iiif.requests[_];if(k){if(k.loadingState===nt){let s=image_U(b,_);if(s)return s}switch(k.loadingState){case t7:break;case ne:return(async()=>{let s,h=!1;try{let y=await Promise.race([new Promise((g,y)=>{h||(s=A.subscribe(()=>{let s=A.getState();if(s.iiif.requests[_].loadingState===t7){y();return}if(s.iiif.requests[_].loadingState===nt){let h=image_U(s,_);h?g(h):y()}}))}),new Promise((s,_)=>setTimeout(()=>{h=!0,_()},6e4*g))]);if(s&&s(),y)return y}catch{s&&s()}})()}}s.dispatch(ns({id:_}));let c=h=>{if(!h)return;h.id||h["@id"]||(h["@type"]&&(h["@id"]=_),h.id=_);let g=At(_,h);return s.dispatch(nh({actions:g})),image_U(A.getState(),_)};try{let g=h(_,y);return g&&"function"==typeof g.then?(async()=>{try{return c(await g)}catch(h){throw s.dispatch(nl({id:_,message:h.toString()})),h}})():c(g)}catch(h){throw s.dispatch(nl({id:_,message:h.toString()})),h}}}function ke(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let nf={};var image_ne=s=>{let h;let g=new Set,n=(s,_)=>{let y="function"==typeof s?s(h):s;if(!Object.is(y,h)){let s=h;h=_??("object"!=typeof y||null===y)?y:Object.assign({},h,y),g.forEach(g=>g(h,s))}},i=()=>h,_={setState:n,getState:i,getInitialState:()=>y,subscribe:s=>(g.add(s),()=>g.delete(s)),destroy:()=>{(nf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),g.clear()}},y=h=s(n,i,_);return _},It=s=>s?image_ne(s):image_ne,nm="@iiif/SET_META_VALUE",ng="@iiif/SET_META_VALUE_DYNAMIC",nE="@iiif/UNSET_META_VALUE",n_={setMetaValue:image_y(nm)(),setMetaValueDynamic:image_y(ng)(),unsetMetaValue:image_y(nE)()};let nT={};var kt=(s,h)=>(g,_,y)=>(y.dispatch=h=>(g(g=>s(g,h),!1,h),h),y.dispatchFromDevtools=!0,{dispatch:(...s)=>y.dispatch(...s),...h}),nv=new Map,image_k=s=>{let h=nv.get(s);return h?Object.fromEntries(Object.entries(h.stores).map(([s,h])=>[s,h.getState()])):{}},Ft=(s,h,g)=>{if(void 0===s)return{type:"untracked",connection:h.connect(g)};let _=nv.get(g.name);if(_)return{type:"tracked",store:s,..._};let y={connection:h.connect(g),stores:{}};return nv.set(g.name,y),{type:"tracked",store:s,...y}},Lt=(s,h={})=>(g,_,y)=>{let A;let{enabled:b,anonymousActionType:k,store:w,...R}=h;try{A=(b??(nT?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!A)return(nT?"production":void 0)!=="production"&&b&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),s(g,_,y);let{connection:B,...H}=Ft(w,A,R),z=!0;y.setState=(s,h,A)=>{let b=g(s,h);if(!z)return b;let H=void 0===A?{type:k||"anonymous"}:"string"==typeof A?{type:A}:A;return void 0===w?null==B||B.send(H,_()):null==B||B.send({...H,type:`${w}/${H.type}`},{...image_k(R.name),[w]:y.getState()}),b};let m=(...s)=>{let h=z;z=!1,g(...s),z=h},$=s(y.setState,_,y);if("untracked"===H.type?null==B||B.init($):(H.stores[H.store]=y,null==B||B.init(Object.fromEntries(Object.entries(H.stores).map(([s,h])=>[s,s===H.store?$:h.getState()])))),y.dispatchFromDevtools&&"function"==typeof y.dispatch){let s=!1,h=y.dispatch;y.dispatch=(...g)=>{(nT?"production":void 0)==="production"||"__setState"!==g[0].type||s||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),s=!0),h(...g)}}return B.subscribe(s=>{var h;switch(s.type){case"ACTION":if("string"!=typeof s.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return image_V(s.payload,s=>{if("__setState"===s.type){if(void 0===w){m(s.state);return}1!==Object.keys(s.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let h=s.state[w];if(null==h)return;JSON.stringify(y.getState())!==JSON.stringify(h)&&m(h);return}y.dispatchFromDevtools&&"function"==typeof y.dispatch&&y.dispatch(s)});case"DISPATCH":switch(s.payload.type){case"RESET":return m($),void 0===w?null==B?void 0:B.init(y.getState()):null==B?void 0:B.init(image_k(R.name));case"COMMIT":if(void 0===w){null==B||B.init(y.getState());break}return null==B?void 0:B.init(image_k(R.name));case"ROLLBACK":return image_V(s.state,s=>{if(void 0===w){m(s),null==B||B.init(y.getState());return}m(s[w]),null==B||B.init(image_k(R.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return image_V(s.state,s=>{if(void 0===w){m(s);return}JSON.stringify(y.getState())!==JSON.stringify(s[w])&&m(s[w])});case"IMPORT_STATE":{let{nextLiftedState:g}=s.payload,_=null==(h=g.computedStates.slice(-1)[0])?void 0:h.state;if(!_)return;m(void 0===w?_:_[w]),null==B||B.send(null,g);break}case"PAUSE_RECORDING":return z=!z}return}}),$},image_V=(s,h)=>{let g;try{g=JSON.parse(s)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}void 0!==g&&h(g)},zt=s=>(h,g,_)=>{let y=_.subscribe;return _.subscribe=(s,h,g)=>{let A=s;if(h){let y=(null==g?void 0:g.equalityFn)||Object.is,b=s(_.getState());A=g=>{let _=s(g);if(!y(b,_)){let s=b;h(b=_,s)}},null!=g&&g.fireImmediately&&h(b,b)}return y(A)},s(h,g,_)};function image_$(s,h,g,_){return!(!s[g]||!s[g][h]||!s[g][h][_]||!Array.isArray(s[g][h][_]))}function image_l(s){return s.payload}function image_B(s,h){return typeof s>"u"?h:s}function Ue(s={}){let h=Object.keys(s);return function(g={},_){let y=!1,A={};for(let b=0;b<h.length;b++){let k=h[b];A[k]=s[k](g[k],_),y=y||A[k]!==g[k]}return y?A:g}}var ny=Ue({mapping:(s={},h)=>{switch(h.type){case t5:return{...s,[h.payload.id]:h.payload.type};case t6:return{...s,...h.payload.mapping};default:return s}},entities:(s=ke(),h)=>{var g;let r=(g,_)=>({...s,[image_l(h).type]:{...s[image_l(h).type],[image_l(h).id]:{...g,..._}}});switch(h.type){case tG:{if(!s[image_l(h).type]||!s[image_l(h).type][image_l(h).id])return s;let g=s[image_l(h).type][image_l(h).id];return"string"==typeof g?s:r(g,{[image_l(h).key]:image_l(h).value})}case tz:{if(!image_$(s,image_l(h).id,image_l(h).type,image_l(h).key))return s;let g=s[image_l(h).type][image_l(h).id];if("string"==typeof g)return s;let _=Array.from(g[image_l(h).key]),[y]=_.splice(image_l(h).startIndex,1);return _.splice(image_l(h).endIndex,0,y),r(g,{[image_l(h).key]:_})}case tH:{let g=Object.keys(image_l(h).entities),_={...s};for(let y of g){let g=image_l(h).entities[y],A={...s[y]||{}},b=!1,k=Object.keys(g||{})||[];if(g&&k){for(let h of k)b=!0,A[h]=s[y][h]?function(s,h){let g={},_=[];for(let[y,A]of Object.entries(s||{})){_.push(y);let s=(h||{})[y];if(!s||0===s.length){g[y]=A;continue}g[y]=s}for(let[s,y]of Object.entries(h||{}))-1===_.indexOf(s)&&(g[s]=y);return g}(s[y][h],g[h]):g[h];b&&(_[y]=A)}}return _}case tV:{if(!image_$(s,image_l(h).id,image_l(h).type,image_l(h).key))return s;let g=s[image_l(h).type][image_l(h).id],_=Array.from(g[image_l(h).key]);return _.splice(image_B(image_l(h).index,_.length+1),0,image_l(h).reference),r(g,{[image_l(h).key]:_})}case t$:case tQ:{if(!image_$(s,image_l(h).id,image_l(h).type,image_l(h).key))return s;let _=s[image_l(h).type][image_l(h).id],y=Array.from(_[image_l(h).key]),A=image_B(image_l(h).index,y.findIndex(s=>s&&s.id===image_l(h).reference.id));return -1===A||(null==(g=y[A])?void 0:g.id)!==image_l(h).reference.id?s:(h.type===t$?y.splice(A,1,image_l(h).reference):y.splice(A,1),r(_,{[image_l(h).key]:y}))}case tj:{let g=s[image_l(h).type][image_l(h).id];if(!g)return s;let _=Array.from(g.metadata||[]),y=image_l(h);return _.splice(image_B(h.payload.beforeIndex,_.length+1),0,{label:y.label,value:y.label}),r(g,{metadata:_})}case tW:{let g=s[image_l(h).type][image_l(h).id];if("string"==typeof g||!g)return s;let _=Array.from(g.metadata||[]),[y]=_.splice(image_l(h).startIndex,1);return _.splice(image_l(h).endIndex,0,y),r(g,{metadata:_})}case tq:case tY:{let g=s[image_l(h).type][image_l(h).id],_=Array.from(g.metadata||[]),y=image_l(h).atIndex;return typeof y>"u"||-1===y||!_[y]?s:(h.type===tq?_.splice(y,1,{label:image_l(h).label,value:image_l(h).value}):_.splice(y,1),r(g,{metadata:_}))}default:return s}},requests:(s={},h)=>{switch(h.type){case nn:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...s,[h.payload.id]:{requestUri:h.payload.id,loadingState:ne,uriMismatch:!1,resourceUri:h.payload.id}};case na:return{...s,[h.payload.requestId]:{...s[h.payload.requestId]||{},uriMismatch:!0,resourceUri:h.payload.actualId},[h.payload.actualId]:{requestUri:h.payload.requestId,loadingState:s[h.payload.requestId].loadingState,uriMismatch:!0,resourceUri:h.payload.actualId}};case nr:return{...s,[h.payload.id]:{...s[h.payload.id]||{},loadingState:t7,error:h.payload.message}};case no:return{...s,[h.payload.id]:{...s[h.payload.id]||{},loadingState:nt,error:void 0}}}return s},meta:(s={},h)=>{let{id:g,updateValue:_,value:y,meta:A,key:b}=h&&h.payload||{};switch(h.type){case nm:return{...s,[g]:{...s[g]||{},[A]:{...s[g]&&s[g][A]||{},[b]:y}}};case ng:return{...s,[g]:{...s[g]||{},[A]:{...s[g]&&s[g][A]||{},[b]:_(s[g]&&s[g][A]?s[g][A][b]:void 0)}}};case nE:return s[g]&&s[g][A]&&s[g][A][b]?{...s,[g]:{...s[g]||{},[A]:{...s[g]&&s[g][A]||{},[b]:void 0}}}:s;default:return s}}}),nA=Object.defineProperty,Jt=(s,h,g)=>h in s?nA(s,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[h]=g,image_R=(s,h,g)=>(Jt(s,"symbol"!=typeof h?h+"":h,g),g);function image_S(s,h,g,_=!0){h[nk]=h[nk]||[],h[nk].push(s);let y=new Map;Object.defineProperty(h,s,{enumerable:_,get(){if(typeof h[nb][s]>"u")return;let _=h[nb][s];if(!_)return _;let A=g.get(h[nb][s],{parent:this.id?{id:this.id,type:this.type}:void 0});return y.has(A)||(y.clear(),y.set(A,image_O(A,g))),y.get(A)},set(_){h[nb][s]!==_&&(this[nS]?g.modifyEntityField({id:this.id,type:this.type},s,function ze(s){return Array.isArray(s)?s.map(s=>ze(s)):s&&s.type?{id:s.id,type:s.type}:s}(_)):this[nb][s]=_)}})}var nb=Symbol.for("_refs_"),nS=Symbol.for("_reactive_"),nk=Symbol.for("_defined_"),nC=Symbol.for("_parent_");function image_O(s,h,g=!1,_){if(Array.isArray(s))return s.map(s=>image_O(s,h,g));if(!s||!s.type||!s.id)return s;let y=function(s,h=!1,g){let _={id:"",type:"unknown",[nk]:[],[nb]:{},[nC]:null,[nS]:null,is(s){return"string"==typeof s?this.id===s:!!s.id&&s.id===this.id},reactive(){if(!this[nS])return this[nS]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let s=this.unwrap();for(let h of Object.keys(s||{}))this[nk].includes(h)?this[nb][h]=s[h]:this[h]=s[h]}},unreactive(){this[nS]&&(this[nS](),this[nS]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let h=this[nC];return s.get(this.id,{parent:h?{id:h,type:"unknown"}:void 0})},toPresentation3(){return s.toPresentation3(this.unwrap())},toPresentation2(){return s.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(h,g=!0){return s.subscribe(()=>this.id?s.get(this.id):null,h,g)}};return image_S("items",_,s),image_S("annotations",_,s),image_S("structures",_,s),image_S("seeAlso",_,s),image_S("rendering",_,s),image_S("partOf",_,s),image_S("start",_,s,!1),image_S("supplementary",_,s),image_S("homepage",_,s),image_S("thumbnail",_,s),image_S("placeholderCanvas",_,s,!1),image_S("accompanyingCanvas",_,s,!1),image_S("provider",_,s),image_S("body",_,s),image_S("logo",_,s),_}(h,g),A=Object.create(y),b=Object.assign(A,s);return g&&b.reactive(),b}function image_ae(s){switch(s){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return s}var nx=class{constructor(s,h){var g;image_R(this,"options"),image_R(this,"store"),image_R(this,"emitter"),image_R(this,"isBatching",!1),image_R(this,"batchQueue",[]),image_R(this,"remoteFetcher"),image_R(this,"staticFetcher"),image_R(this,"defaultFetcher",s=>fetch(s).then(s=>s.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},s||{}),this.store=h||function(s={}){var h;let{enableDevtools:g=!1,iiifStoreName:_="iiif",defaultState:y={iiif:{entities:ke(),meta:{},mapping:{},requests:{}}},customReducers:A={}}=s,b=(h=Ue({[_]:ny,...A}),(s,g)=>g&&g.type===nd?g.payload.actions.reduce(h,s):g&&"@iiif/BATCH_IMPORT"===g.type?{...s,iiif:{...s.iiif,...g.payload.state}}:h(s,g)),k="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?Lt:(s,h)=>s;return It(zt(k(kt(b,y),{enabled:g})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:g=g||new Map,on:function(s,h){var _=g.get(s);_?_.push(h):g.set(s,[h])},off:function(s,h){var _=g.get(s);_&&(h?_.splice(_.indexOf(h)>>>0,1):g.set(s,[]))},emit:function(s,h){var _=g.get(s);_&&_.slice().map(function(s){s(h)}),(_=g.get("*"))&&_.slice().map(function(g){g(s,h)})}},this.remoteFetcher=image_ie(this,this.options.customFetcher),this.staticFetcher=image_ie(this,(s,h)=>h)}batch(s){this.isBatching=!0;try{s(this),this.isBatching=!1,this.dispatch(nh({actions:this.batchQueue}))}catch(s){throw this.batchQueue=[],this.isBatching=!1,s}this.batchQueue=[]}async asyncBatch(s){this.isBatching=!0;try{await s(this),this.isBatching=!1,this.dispatch(nh({actions:this.batchQueue}))}catch(s){throw this.batchQueue=[],this.isBatching=!1,s}this.batchQueue=[]}modifyEntityField(s,h,g){this.dispatch(t4.modifyEntityField({id:s.id,type:s.type,key:h,value:g}))}dispatch(s){if(this.isBatching)this.batchQueue.push(s);else{if(s.type===nd){for(let h of s.payload.actions)this.emitter.emit(h.type,{action:h,state:this.store.getState()});this.store.dispatch(s);let h=this.getState();for(let g of s.payload.actions)this.emitter.emit(`after:${g.type}`,{action:g,state:h});return}this.emitter.emit(s.type,{action:s,state:this.store.getState()}),this.store.dispatch(s);let h=this.store.getState();this.emitter.emit(`after:${s.type}`,{action:s,state:h});return}}on(s,h){return this.emitter.on(s,h),()=>{this.emitter.off(s,h)}}serialize(s,h){return $e(this.getState().iiif,s,h)}toPresentation2(s){return this.serialize(s,ty)}toPresentation3(s){return this.serialize(s,tA)}hydrate(s,h,g={}){return this.get(s,h,{...g,skipSelfReturn:!1})}get(s,h,g={}){"string"!=typeof h&&(g=h||{},h=void 0);let{skipSelfReturn:_=!0}=g||{},y=g.parent?"string"==typeof g.parent?g.parent:g.parent.id:void 0;if(Array.isArray(s))return s.map(s=>this.get(s,g));let A=this.getState();if(chunk_W3DWL6UZ_v(s)&&!g.preserveSpecificResources&&(s=s.source),"string"==typeof s){let g=image_ae(h||A.iiif.mapping[s]);if(!g)return _?null:{id:s,type:"unknown"};s={id:s,type:g}}if(s&&s.partOf&&!y&&!g.skipPartOfCheck){let h=Array.isArray(s.partOf)?s.partOf[0]:s.partOf;h&&("string"==typeof h&&(y=h),"string"==typeof h.id&&(y=h.id))}let b=image_ae(h||(null==s?void 0:s.type)),k=null==s?void 0:s.id,w=A.iiif.entities[b];if(!w){let h=A.iiif.requests[k];return h&&h.resourceUri!==k?this.get(h.resourceUri,g):_?null:s}let R=w[s.id];if(R&&R[tl]){let s=R[tl].find(s=>y?s[tc]===y:s[tc]===R.id);return chunk_AXOUQGO3_oe(R,s)}return w[s.id]||(_?null:s)}select(s){return s(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(s,h){if(typeof s>"u")return this.get(h,{skipSelfReturn:!1});if("function"==typeof s)try{let g=s(this.get(h,{skipSelfReturn:!1})),i=s=>this.deep(s,g);return i.size=Array.isArray(g)?g.length:1,i}catch{let i=s=>this.deep(s,void 0);return i.size=0,i}let r=h=>this.deep(h,s);return r.size=Array.isArray(s)?s.length:1,r}loadManifest(s,h){let g="string"==typeof s?s:s.id;return this.load(g,h)}loadCollection(s,h){let g="string"==typeof s?s:s.id;return this.load(g,h)}load(s,h){let g="string"==typeof s?s:s.id;return h?Promise.resolve(this.staticFetcher(g,h)):Promise.resolve(this.remoteFetcher(g))}loadSync(s,h){let g="string"==typeof s?s:s.id;return this.staticFetcher(g,h)}loadManifestSync(s,h){let g="string"==typeof s?s:s.id;return this.loadSync(g,h)}loadCollectionSync(s,h){let g="string"==typeof s?s:s.id;return this.loadSync(g,h)}areInputsEqual(s,h){return image_re(s,h)}subscribe(s,h,g){return typeof g>"u"&&(typeof h>"u"||!1===h||!0===h)&&(g=h,h=s,s=s=>s),this.store.subscribe(s,s=>h(s,this),{equalityFn:image_re,fireImmediately:!g})}async ensureLoaded(s){let h="string"==typeof s?s:s.id;this.requestStatus(h)||await this.load(h)}requestStatus(s){return this.select(h=>h.iiif.requests[s])}getResourceMeta(s,h){let g=this.getState().iiif.meta[s];if(g)return h?g[h]:g}getObject(s,h,g={}){let{reactive:_,...y}=g;return image_O(this.get(s,h,y),this,_)}async loadObject(s,h){return image_O(await this.load(s,h),this)}async loadManifestObject(s,h){return image_O(await this.loadManifest(s,h),this)}async loadCollectionObject(s,h){return image_O(await this.loadCollection(s,h),this)}wrapObject(s){return image_O(this.get(s,{skipSelfReturn:!1}),this)}isWrapped(s){return!!s[nk]}setMetaValue([s,h,g],_){this.dispatch("function"==typeof _?n_.setMetaValueDynamic({id:s,meta:h,key:g,updateValue:_}):n_.setMetaValue({id:s,meta:h,key:g,value:_}))}};let nI={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}},nw=(w=null==(ep=null==(eh=null==nI?void 0:nI.informationPanel)?void 0:eh.vtt)?void 0:ep.autoScroll,A={...nI.informationPanel.vtt.autoScroll},"object"==typeof w&&(A="enabled"in w?w:{enabled:!0,settings:w}),!1===w&&(A.enabled=!1),function({behavior:s,block:h}){let g=["auto","instant","smooth"],_=["center","end","nearest","start"];if(!g.includes(s))throw TypeError(`'${s}' not in ${g.join(" | ")}`);if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`)}(A.settings),A),nO={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:nI,customDisplays:[],plugins:[],isAutoScrollEnabled:nw.enabled,isAutoScrolling:!1,isInformationOpen:null==(ef=null==nI?void 0:nI.informationPanel)?void 0:ef.open,isLoaded:!1,isUserScrolling:void 0,vault:new nx,contentSearchVault:new nx,openSeadragonViewer:null,viewerId:esm_browser_v4()},nN=eV.createContext(nO),nR=eV.createContext(nO);function image_le(){let s=eV.useContext(nN);if(void 0===s)throw Error("useViewerState must be used within a ViewerProvider");return s}function image_$e(){let s=eV.useContext(nR);if(void 0===s)throw Error("useViewerDispatch must be used within a ViewerProvider");return s}let nD=tO("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),image_C=({className:s,id:h,label:g,children:_})=>{let y=g.toLowerCase().replace(/\s/g,"-");return eV.createElement(nD,{id:h,className:s,"data-testid":"openseadragon-button","data-button":y},eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${h}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",{id:`${h}-svg-title`},g),_))},nL=tO("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),cr=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),lr=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),ur=()=>eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),dr=()=>eV.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),image_ue=()=>eV.createElement(eV.Fragment,null,eV.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eV.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),fr=({_cloverViewerHasPlaceholder:s,config:h})=>{let g=image_le(),{activeCanvas:_,plugins:y,vault:A}=g,b=A.get({id:_,type:"Canvas"});return eV.createElement(nL,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:s},h.showZoomControl&&eV.createElement(eV.Fragment,null,eV.createElement(image_C,{id:h.zoomInButton,label:"zoom in"},eV.createElement(cr,null)),eV.createElement(image_C,{id:h.zoomOutButton,label:"zoom out"},eV.createElement(lr,null))),h.showFullPageControl&&eV.createElement(image_C,{id:h.fullPageButton,label:"full page"},eV.createElement(ur,null)),h.showRotationControl&&eV.createElement(eV.Fragment,null,eV.createElement(image_C,{id:h.rotateRightButton,label:"rotate right"},eV.createElement(image_ue,null)),eV.createElement(image_C,{id:h.rotateLeftButton,label:"rotate left"},eV.createElement(image_ue,null))),h.showHomeControl&&eV.createElement(image_C,{id:h.homeButton,label:"reset"},eV.createElement(dr,null)),y.filter(s=>{var h;return null==(h=s.imageViewer)?void 0:h.controls}).map((s,h)=>{var g,_,y,A;let k=null==(_=null==(g=s.imageViewer)?void 0:g.controls)?void 0:_.component;return eV.createElement(k,{key:h,...null==(A=null==(y=null==s?void 0:s.imageViewer)?void 0:y.controls)?void 0:A.componentProps,canvas:b,useViewerDispatch:image_$e,useViewerState:image_le})}))},hr=({ariaLabel:s,config:h,uri:g,_cloverViewerHasPlaceholder:_,imageType:y,openSeadragonCallback:A})=>{let[b,k]=(0,eV.useState)(),[w,R]=(0,eV.useState)(),B=image_$e(),H=(0,eV.useRef)(!1);return(0,eV.useEffect)(()=>(H.current||(H.current=!0,w||R(eH(h))),()=>null==w?void 0:w.destroy()),[]),(0,eV.useEffect)(()=>{w&&A&&A(w)},[w,A]),(0,eV.useEffect)(()=>{w&&g!==b&&(null==w||w.forceRedraw(),k(g))},[w,b,g]),(0,eV.useEffect)(()=>{if(b&&w)switch(y){case"simpleImage":null==w||w.addSimpleImage({url:b});break;case"tiledImage":Je(b).then(s=>{try{if(!s)throw Error(`No tile source found for ${b}`);null==w||w.addTiledImage({tileSource:s,success:()=>{"function"==typeof B&&B({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(s){console.error(s)}});break;default:null==w||w.close(),console.warn(`Unable to render ${b} in OpenSeadragon as type: "${y}"`)}},[y,b]),eV.createElement(tU,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":h.id,hasNavigator:h.showNavigator},eV.createElement(fr,{_cloverViewerHasPlaceholder:_,config:h}),h.showNavigator&&eV.createElement(tF,{id:h.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eV.createElement(tB,{id:h.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...s&&{"aria-label":s}}))},mr=(s,h="none")=>{if(!s)return null;if("string"==typeof s)return[s];if(!s[h]){let h=Object.getOwnPropertyNames(s);if(h.length>0)return s[h[0]]}return s[h]&&Array.isArray(s[h])?s[h]:null},gr=(s,h="none",g=", ")=>{let _=mr(s,h);return Array.isArray(_)?_.join(`${g}`):_},Tr=({_cloverViewerHasPlaceholder:s=!1,body:h,instanceId:g,isTiledImage:_=!1,label:y,src:A="",openSeadragonCallback:b,openSeadragonConfig:k={}})=>{let w=g||esm_browser_v4(),R="string"==typeof y?y:gr(y),B={id:`openseadragon-${w}`,navigatorId:`openseadragon-navigator-${w}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${w}`,homeButton:`reset-${w}`,rotateLeftButton:`rotateLeft-${w}`,rotateRightButton:`rotateRight-${w}`,zoomInButton:`zoomIn-${w}`,zoomOutButton:`zoomOut-${w}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...k},{imageType:H,uri:z}=h?Xe(h):image_Ke(A,_);return z?eV.createElement(eG.SV,{FallbackComponent:st},eV.createElement(hr,{_cloverViewerHasPlaceholder:s,ariaLabel:R,config:B,imageType:H,key:w,uri:z,openSeadragonCallback:b})):null};var nM=g(1830),nP=g(1036),nF=g(3041),nB=g(4921),nU=g(2168);let nH="object"==typeof self?self:globalThis,deserializer=(s,h)=>{let as=(h,g)=>(s.set(g,h),h),unpair=g=>{if(s.has(g))return s.get(g);let[_,y]=h[g];switch(_){case 0:case -1:return as(y,g);case 1:{let s=as([],g);for(let h of y)s.push(unpair(h));return s}case 2:{let s=as({},g);for(let[h,g]of y)s[unpair(h)]=unpair(g);return s}case 3:return as(new Date(y),g);case 4:{let{source:s,flags:h}=y;return as(new RegExp(s,h),g)}case 5:{let s=as(new Map,g);for(let[h,g]of y)s.set(unpair(h),unpair(g));return s}case 6:{let s=as(new Set,g);for(let h of y)s.add(unpair(h));return s}case 7:{let{name:s,message:h}=y;return as(new nH[s](h),g)}case 8:return as(BigInt(y),g);case"BigInt":return as(Object(BigInt(y)),g)}return as(new nH[_](y),g)};return unpair},deserialize=s=>deserializer(new Map,s)(0),{toString:nG}={},{keys:nz}=Object,typeOf=s=>{let h=typeof s;if("object"!==h||!s)return[0,h];let g=nG.call(s).slice(8,-1);switch(g){case"Array":return[1,""];case"Object":return[2,""];case"Date":return[3,""];case"RegExp":return[4,""];case"Map":return[5,""];case"Set":return[6,""]}return g.includes("Array")?[1,g]:g.includes("Error")?[7,g]:[2,g]},shouldSkip=([s,h])=>0===s&&("function"===h||"symbol"===h),serializer=(s,h,g,_)=>{let as=(s,h)=>{let y=_.push(s)-1;return g.set(h,y),y},pair=_=>{if(g.has(_))return g.get(_);let[y,A]=typeOf(_);switch(y){case 0:{let h=_;switch(A){case"bigint":y=8,h=_.toString();break;case"function":case"symbol":if(s)throw TypeError("unable to serialize "+A);h=null;break;case"undefined":return as([-1],_)}return as([y,h],_)}case 1:{if(A)return as([A,[..._]],_);let s=[],h=as([y,s],_);for(let h of _)s.push(pair(h));return h}case 2:{if(A)switch(A){case"BigInt":return as([A,_.toString()],_);case"Boolean":case"Number":case"String":return as([A,_.valueOf()],_)}if(h&&"toJSON"in _)return pair(_.toJSON());let g=[],b=as([y,g],_);for(let h of nz(_))(s||!shouldSkip(typeOf(_[h])))&&g.push([pair(h),pair(_[h])]);return b}case 3:return as([y,_.toISOString()],_);case 4:{let{source:s,flags:h}=_;return as([y,{source:s,flags:h}],_)}case 5:{let h=[],g=as([y,h],_);for(let[g,y]of _)(s||!(shouldSkip(typeOf(g))||shouldSkip(typeOf(y))))&&h.push([pair(g),pair(y)]);return g}case 6:{let h=[],g=as([y,h],_);for(let g of _)(s||!shouldSkip(typeOf(g)))&&h.push(pair(g));return g}}let{message:b}=_;return as([y,{name:A,message:b}],_)};return pair},serialize=(s,{json:h,lossy:g}={})=>{let _=[];return serializer(!(h||g),!!h,new Map,_)(s),_};var nV="function"==typeof structuredClone?(s,h)=>h&&("json"in h||"lossy"in h)?deserialize(serialize(s,h)):structuredClone(s):(s,h)=>deserialize(serialize(s,h));let Schema=class Schema{constructor(s,h,g){this.property=s,this.normal=h,g&&(this.space=g)}};function merge(s,h){let g={},_={},y=-1;for(;++y<s.length;)Object.assign(g,s[y].property),Object.assign(_,s[y].normal);return new Schema(g,_,h)}function normalize(s){return s.toLowerCase()}Schema.prototype.property={},Schema.prototype.normal={},Schema.prototype.space=null;let Info=class Info{constructor(s,h){this.property=s,this.attribute=h}};Info.prototype.space=null,Info.prototype.boolean=!1,Info.prototype.booleanish=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.number=!1,Info.prototype.commaSeparated=!1,Info.prototype.spaceSeparated=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.mustUseProperty=!1,Info.prototype.defined=!1;let n$=0,nQ=increment(),nj=increment(),nY=increment(),nq=increment(),nW=increment(),nX=increment(),nK=increment();function increment(){return 2**++n$}let nJ=Object.keys(eB);let DefinedInfo=class DefinedInfo extends Info{constructor(s,h,g,_){var y,A;let b=-1;if(super(s,h),_&&(this.space=_),"number"==typeof g)for(;++b<nJ.length;){let s=nJ[b];y=nJ[b],(A=(g&eB[s])===eB[s])&&(this[y]=A)}}};DefinedInfo.prototype.defined=!0;let nZ={}.hasOwnProperty;function create(s){let h;let g={},_={};for(h in s.properties)if(nZ.call(s.properties,h)){let y=s.properties[h],A=new DefinedInfo(h,s.transform(s.attributes||{},h),y,s.space);s.mustUseProperty&&s.mustUseProperty.includes(h)&&(A.mustUseProperty=!0),g[h]=A,_[normalize(h)]=h,_[normalize(A.attribute)]=h}return new Schema(g,_,s.space)}let n0=create({space:"xlink",transform:(s,h)=>"xlink:"+h.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),n1=create({space:"xml",transform:(s,h)=>"xml:"+h.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(s,h){return h in s?s[h]:h}function caseInsensitiveTransform(s,h){return caseSensitiveTransform(s,h.toLowerCase())}let n2=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),n3=create({transform:(s,h)=>"role"===h?h:"aria-"+h.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:nj,ariaAutoComplete:null,ariaBusy:nj,ariaChecked:nj,ariaColCount:nq,ariaColIndex:nq,ariaColSpan:nq,ariaControls:nW,ariaCurrent:null,ariaDescribedBy:nW,ariaDetails:null,ariaDisabled:nj,ariaDropEffect:nW,ariaErrorMessage:null,ariaExpanded:nj,ariaFlowTo:nW,ariaGrabbed:nj,ariaHasPopup:null,ariaHidden:nj,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nW,ariaLevel:nq,ariaLive:null,ariaModal:nj,ariaMultiLine:nj,ariaMultiSelectable:nj,ariaOrientation:null,ariaOwns:nW,ariaPlaceholder:null,ariaPosInSet:nq,ariaPressed:nj,ariaReadOnly:nj,ariaRelevant:null,ariaRequired:nj,ariaRoleDescription:nW,ariaRowCount:nq,ariaRowIndex:nq,ariaRowSpan:nq,ariaSelected:nj,ariaSetSize:nq,ariaSort:null,ariaValueMax:nq,ariaValueMin:nq,ariaValueNow:nq,ariaValueText:null,role:null}}),n4=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nX,acceptCharset:nW,accessKey:nW,action:null,allow:null,allowFullScreen:nQ,allowPaymentRequest:nQ,allowUserMedia:nQ,alt:null,as:null,async:nQ,autoCapitalize:null,autoComplete:nW,autoFocus:nQ,autoPlay:nQ,blocking:nW,capture:nQ,charSet:null,checked:nQ,cite:null,className:nW,cols:nq,colSpan:null,content:null,contentEditable:nj,controls:nQ,controlsList:nW,coords:nq|nX,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nQ,defer:nQ,dir:null,dirName:null,disabled:nQ,download:nY,draggable:nj,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nQ,formTarget:null,headers:nW,height:nq,hidden:nQ,high:nq,href:null,hrefLang:null,htmlFor:nW,httpEquiv:nW,id:null,imageSizes:null,imageSrcSet:null,inert:nQ,inputMode:null,integrity:null,is:null,isMap:nQ,itemId:null,itemProp:nW,itemRef:nW,itemScope:nQ,itemType:nW,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nQ,low:nq,manifest:null,max:null,maxLength:nq,media:null,method:null,min:null,minLength:nq,multiple:nQ,muted:nQ,name:null,nonce:null,noModule:nQ,noValidate:nQ,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nQ,optimum:nq,pattern:null,ping:nW,placeholder:null,playsInline:nQ,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nQ,referrerPolicy:null,rel:nW,required:nQ,reversed:nQ,rows:nq,rowSpan:nq,sandbox:nW,scope:null,scoped:nQ,seamless:nQ,selected:nQ,shape:null,size:nq,sizes:null,slot:null,span:nq,spellCheck:nj,src:null,srcDoc:null,srcLang:null,srcSet:null,start:nq,step:null,style:null,tabIndex:nq,target:null,title:null,translate:null,type:null,typeMustMatch:nQ,useMap:null,value:nj,width:nq,wrap:null,align:null,aLink:null,archive:nW,axis:null,background:null,bgColor:null,border:nq,borderColor:null,bottomMargin:nq,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nQ,declare:nQ,event:null,face:null,frame:null,frameBorder:null,hSpace:nq,leftMargin:nq,link:null,longDesc:null,lowSrc:null,marginHeight:nq,marginWidth:nq,noResize:nQ,noHref:nQ,noShade:nQ,noWrap:nQ,object:null,profile:null,prompt:null,rev:null,rightMargin:nq,rules:null,scheme:null,scrolling:nj,standby:null,summary:null,text:null,topMargin:nq,valueType:null,version:null,vAlign:null,vLink:null,vSpace:nq,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nQ,disableRemotePlayback:nQ,prefix:null,property:null,results:nq,security:null,unselectable:null}}),n5=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:nK,accentHeight:nq,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:nq,amplitude:nq,arabicForm:null,ascent:nq,attributeName:null,attributeType:null,azimuth:nq,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:nq,by:null,calcMode:null,capHeight:nq,className:nW,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:nq,diffuseConstant:nq,direction:null,display:null,dur:null,divisor:nq,dominantBaseline:null,download:nQ,dx:null,dy:null,edgeMode:null,editable:null,elevation:nq,enableBackground:null,end:null,event:null,exponent:nq,externalResourcesRequired:null,fill:null,fillOpacity:nq,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:nX,g2:nX,glyphName:nX,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:nq,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:nq,horizOriginX:nq,horizOriginY:nq,id:null,ideographic:nq,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:nq,k:nq,k1:nq,k2:nq,k3:nq,k4:nq,kernelMatrix:nK,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:nq,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:nq,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:nq,overlineThickness:nq,paintOrder:null,panose1:null,path:null,pathLength:nq,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nW,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:nq,pointsAtY:nq,pointsAtZ:nq,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nK,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nK,rev:nK,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nK,requiredFeatures:nK,requiredFonts:nK,requiredFormats:nK,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:nq,specularExponent:nq,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:nq,strikethroughThickness:nq,string:null,stroke:null,strokeDashArray:nK,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:nq,strokeOpacity:nq,strokeWidth:null,style:null,surfaceScale:nq,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nK,tabIndex:nq,tableValues:null,target:null,targetX:nq,targetY:nq,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nK,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:nq,underlineThickness:nq,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:nq,values:null,vAlphabetic:nq,vMathematical:nq,vectorEffect:null,vHanging:nq,vIdeographic:nq,version:null,vertAdvY:nq,vertOriginX:nq,vertOriginY:nq,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:nq,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),n6=merge([n1,n0,n2,n3,n4],"html"),n8=merge([n1,n0,n2,n3,n5],"svg");function parse(s){let h=[],g=String(s||""),_=g.indexOf(","),y=0,A=!1;for(;!A;){-1===_&&(_=g.length,A=!0);let s=g.slice(y,_).trim();(s||!A)&&h.push(s),y=_+1,_=g.indexOf(",",y)}return h}function comma_separated_tokens_stringify(s,h){let g=h||{},_=""===s[s.length-1]?[...s,""]:s;return _.join((g.padRight?" ":"")+","+(!1===g.padLeft?"":" ")).trim()}let n9=/[#.]/g,n7=/^data[-\w.:]+$/i,re=/-[a-z]/g,rt=/[A-Z]/g;function find(s,h){let g=normalize(h),_=h,y=Info;if(g in s.normal)return s.property[s.normal[g]];if(g.length>4&&"data"===g.slice(0,4)&&n7.test(h)){if("-"===h.charAt(4)){let s=h.slice(5).replace(re,camelcase);_="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{let s=h.slice(4);if(!re.test(s)){let g=s.replace(rt,kebab);"-"!==g.charAt(0)&&(g="-"+g),h="data"+g}}y=DefinedInfo}return new y(_,h)}function kebab(s){return"-"+s.toLowerCase()}function camelcase(s){return s.charAt(1).toUpperCase()}function space_separated_tokens_parse(s){let h=String(s||"").trim();return h?h.split(/[ \t\n\r\f]+/g):[]}function space_separated_tokens_stringify(s){return s.join(" ").trim()}let rn={}.hasOwnProperty;function createH(s,h,g){let _=g&&function(s){let h={},g=-1;for(;++g<s.length;)h[s[g].toLowerCase()]=s[g];return h}(g);return function(g,y,...A){let b,k=-1;if(null==g)b={type:"root",children:[]},A.unshift(y);else if((b=function(s,h){let g,_;let y=s||"",A={},b=0;for(;b<y.length;){n9.lastIndex=b;let s=n9.exec(y),h=y.slice(b,s?s.index:y.length);h&&(g?"#"===g?A.id=h:Array.isArray(A.className)?A.className.push(h):A.className=[h]:_=h,b+=h.length),s&&(g=s[0],b++)}return{type:"element",tagName:_||h||"div",properties:A,children:[]}}(g,h)).tagName=b.tagName.toLowerCase(),_&&rn.call(_,b.tagName)&&(b.tagName=_[b.tagName]),function(s){if(null===s||"object"!=typeof s||Array.isArray(s))return!0;if("string"!=typeof s.type)return!1;let h=Object.keys(s);for(let g of h){let h=s[g];if(h&&"object"==typeof h){if(!Array.isArray(h))return!0;for(let s of h)if("number"!=typeof s&&"string"!=typeof s)return!0}}return!!("children"in s&&Array.isArray(s.children))}(y))A.unshift(y);else{let h;for(h in y)rn.call(y,h)&&function(s,h,g,_){let y;let A=find(s,g),b=-1;if(null!=_){if("number"==typeof _){if(Number.isNaN(_))return;y=_}else y="boolean"==typeof _?_:"string"==typeof _?A.spaceSeparated?space_separated_tokens_parse(_):A.commaSeparated?parse(_):A.commaOrSpaceSeparated?space_separated_tokens_parse(parse(_).join(" ")):parsePrimitive(A,A.property,_):Array.isArray(_)?_.concat():"style"===A.property?function(s){let h;let g=[];for(h in s)rn.call(s,h)&&g.push([h,s[h]].join(": "));return g.join("; ")}(_):String(_);if(Array.isArray(y)){let s=[];for(;++b<y.length;){let h=parsePrimitive(A,A.property,y[b]);s[b]=h}y=s}if("className"===A.property&&Array.isArray(h.className)){let s=y;y=h.className.concat(s)}h[A.property]=y}}(s,b.properties,h,y[h])}for(;++k<A.length;)!function addChild(s,h){let g=-1;if(null==h);else if("string"==typeof h||"number"==typeof h)s.push({type:"text",value:String(h)});else if(Array.isArray(h))for(;++g<h.length;)addChild(s,h[g]);else if("object"==typeof h&&"type"in h)"root"===h.type?addChild(s,h.children):s.push(h);else throw Error("Expected node, nodes, or string, got `"+h+"`")}(b.children,A[k]);return"element"===b.type&&"template"===b.tagName&&(b.content={type:"root",children:b.children},b.children=[]),b}}function parsePrimitive(s,h,g){if("string"==typeof g){if(s.number&&g&&!Number.isNaN(Number(g)))return Number(g);if((s.boolean||s.overloadedBoolean)&&(""===g||normalize(g)===normalize(h)))return!0}return g}let rr=createH(n6,"div"),rl=createH(n8,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]);function next(s,h){let g=s.indexOf("\r",h),_=s.indexOf("\n",h);return -1===_?g:-1===g||g+1===_?_:g<_?g:_}let rc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ru={}.hasOwnProperty,rd=Object.prototype;function one(s,h){let g;switch(h.nodeName){case"#comment":return g={type:"comment",value:h.data},patch(s,h,g),g;case"#document":case"#document-fragment":{let _="mode"in h&&("quirks"===h.mode||"limited-quirks"===h.mode);if(g={type:"root",children:lib_all(s,h.childNodes),data:{quirksMode:_}},s.file&&s.location){let h=String(s.file),_=function(s){let h=String(s),g=[];return{toOffset:function(s){if(s&&"number"==typeof s.line&&"number"==typeof s.column&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;g.length<s.line;){let s=g[g.length-1],_=next(h,s),y=-1===_?h.length+1:_+1;if(s===y)break;g.push(y)}let _=(s.line>1?g[s.line-2]:0)+s.column-1;if(_<g[s.line-1])return _}},toPoint:function(s){if("number"==typeof s&&s>-1&&s<=h.length){let _=0;for(;;){let y=g[_];if(void 0===y){let s=next(h,g[_-1]);y=-1===s?h.length+1:s+1,g[_]=y}if(y>s)return{line:_+1,column:s-(_>0?g[_-1]:0)+1,offset:s};_++}}}}}(h),y=_.toPoint(0),A=_.toPoint(h.length);g.position={start:y,end:A}}return g}case"#documentType":return patch(s,h,g={type:"doctype"}),g;case"#text":return g={type:"text",value:h.value},patch(s,h,g),g;default:return function(s,h){let g=s.schema;s.schema=h.namespaceURI===rc.svg?n8:n6;let _=-1,y={};for(;++_<h.attrs.length;){let s=h.attrs[_],g=(s.prefix?s.prefix+":":"")+s.name;ru.call(rd,g)||(y[g]=s.value)}let A="svg"===s.schema.space?rl:rr,b=A(h.tagName,y,lib_all(s,h.childNodes));if(patch(s,h,b),"template"===b.tagName){let g=h.sourceCodeLocation,_=g&&g.startTag&&position(g.startTag),y=g&&g.endTag&&position(g.endTag),A=one(s,h.content);_&&y&&s.file&&(A.position={start:_.end,end:y.start}),b.content=A}return s.schema=g,b}(s,h)}}function lib_all(s,h){let g=-1,_=[];for(;++g<h.length;){let y=one(s,h[g]);_.push(y)}return _}function patch(s,h,g){if("sourceCodeLocation"in h&&h.sourceCodeLocation&&s.file){let _=function(s,h,g){let _=position(g);if("element"===h.type){let y=h.children[h.children.length-1];if(_&&!g.endTag&&y&&y.position&&y.position.end&&(_.end=Object.assign({},y.position.end)),s.verbose){let _;let y={};if(g.attrs)for(_ in g.attrs)ru.call(g.attrs,_)&&(y[find(s.schema,_).property]=position(g.attrs[_]));g.startTag;let A=position(g.startTag),b=g.endTag?position(g.endTag):void 0,k={opening:A};b&&(k.closing=b),k.properties=y,h.data={position:k}}}return _}(s,g,h.sourceCodeLocation);_&&(s.location=!0,g.position=_)}}function position(s){let h=point({line:s.startLine,column:s.startCol,offset:s.startOffset}),g=point({line:s.endLine,column:s.endCol,offset:s.endOffset});return h||g?{start:h,end:g}:void 0}function point(s){return s.line&&s.column?s:void 0}let rh={}.hasOwnProperty;function zwitch(s,h){let g=h||{};function one(h,...g){let _=one.invalid,y=one.handlers;if(h&&rh.call(h,s)){let g=String(h[s]);_=rh.call(y,g)?y[g]:one.unknown}if(_)return _.call(this,h,...g)}return one.handlers=g.handlers||{},one.invalid=g.invalid,one.unknown=g.unknown,one}let rp={},rf={}.hasOwnProperty,rm=zwitch("type",{handlers:{root:function(s,h){let g={nodeName:"#document",mode:(s.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return g.childNodes=hast_util_to_parse5_lib_all(s.children,g,h),lib_patch(s,g),g},element:function(s,h){let g;let _=h;"element"===s.type&&"svg"===s.tagName.toLowerCase()&&"html"===h.space&&(_=n8);let y=[];if(s.properties){for(g in s.properties)if("children"!==g&&rf.call(s.properties,g)){let h=function(s,h,g){let _=find(s,h);if(!1===g||null==g||"number"==typeof g&&Number.isNaN(g)||!g&&_.boolean)return;Array.isArray(g)&&(g=_.commaSeparated?comma_separated_tokens_stringify(g):space_separated_tokens_stringify(g));let y={name:_.attribute,value:!0===g?"":String(g)};if(_.space&&"html"!==_.space&&"svg"!==_.space){let s=y.name.indexOf(":");s<0?y.prefix="":(y.name=y.name.slice(s+1),y.prefix=_.attribute.slice(0,s)),y.namespace=rc[_.space]}return y}(_,g,s.properties[g]);h&&y.push(h)}}let A=_.space,b={nodeName:s.tagName,tagName:s.tagName,attrs:y,namespaceURI:rc[A],childNodes:[],parentNode:null};return b.childNodes=hast_util_to_parse5_lib_all(s.children,b,_),lib_patch(s,b),"template"===s.tagName&&s.content&&(b.content=function(s,h){let g={nodeName:"#document-fragment",childNodes:[]};return g.childNodes=hast_util_to_parse5_lib_all(s.children,g,h),lib_patch(s,g),g}(s.content,_)),b},text:function(s){let h={nodeName:"#text",value:s.value,parentNode:null};return lib_patch(s,h),h},comment:function(s){let h={nodeName:"#comment",data:s.value,parentNode:null};return lib_patch(s,h),h},doctype:function(s){let h={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return lib_patch(s,h),h}}});function hast_util_to_parse5_lib_all(s,h,g){let _=-1,y=[];if(s)for(;++_<s.length;){let A=rm(s[_],g);A.parentNode=h,y.push(A)}return y}function lib_patch(s,h){let g=s.position;g&&g.start&&g.end&&(g.start.offset,g.end.offset,h.sourceCodeLocation={startLine:g.start.line,startCol:g.start.column,startOffset:g.start.offset,endLine:g.end.line,endCol:g.end.column,endOffset:g.end.offset})}let rg=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],rE=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);(R=em=em||(em={}))[R.EOF=-1]="EOF",R[R.NULL=0]="NULL",R[R.TABULATION=9]="TABULATION",R[R.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",R[R.LINE_FEED=10]="LINE_FEED",R[R.FORM_FEED=12]="FORM_FEED",R[R.SPACE=32]="SPACE",R[R.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",R[R.QUOTATION_MARK=34]="QUOTATION_MARK",R[R.NUMBER_SIGN=35]="NUMBER_SIGN",R[R.AMPERSAND=38]="AMPERSAND",R[R.APOSTROPHE=39]="APOSTROPHE",R[R.HYPHEN_MINUS=45]="HYPHEN_MINUS",R[R.SOLIDUS=47]="SOLIDUS",R[R.DIGIT_0=48]="DIGIT_0",R[R.DIGIT_9=57]="DIGIT_9",R[R.SEMICOLON=59]="SEMICOLON",R[R.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",R[R.EQUALS_SIGN=61]="EQUALS_SIGN",R[R.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",R[R.QUESTION_MARK=63]="QUESTION_MARK",R[R.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",R[R.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",R[R.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",R[R.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",R[R.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",R[R.GRAVE_ACCENT=96]="GRAVE_ACCENT",R[R.LATIN_SMALL_A=97]="LATIN_SMALL_A",R[R.LATIN_SMALL_F=102]="LATIN_SMALL_F",R[R.LATIN_SMALL_X=120]="LATIN_SMALL_X",R[R.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",R[R.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER";let r_={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(s){return s>=55296&&s<=57343}function isControlCodePoint(s){return 32!==s&&10!==s&&13!==s&&9!==s&&12!==s&&s>=1&&s<=31||s>=127&&s<=159}function isUndefinedCodePoint(s){return s>=64976&&s<=65007||rE.has(s)}(B=eg=eg||(eg={})).controlCharacterInInputStream="control-character-in-input-stream",B.noncharacterInInputStream="noncharacter-in-input-stream",B.surrogateInInputStream="surrogate-in-input-stream",B.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",B.endTagWithAttributes="end-tag-with-attributes",B.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",B.unexpectedSolidusInTag="unexpected-solidus-in-tag",B.unexpectedNullCharacter="unexpected-null-character",B.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",B.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",B.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",B.missingEndTagName="missing-end-tag-name",B.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",B.unknownNamedCharacterReference="unknown-named-character-reference",B.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",B.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",B.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",B.eofBeforeTagName="eof-before-tag-name",B.eofInTag="eof-in-tag",B.missingAttributeValue="missing-attribute-value",B.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",B.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",B.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",B.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",B.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",B.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",B.missingDoctypePublicIdentifier="missing-doctype-public-identifier",B.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",B.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",B.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",B.cdataInHtmlContent="cdata-in-html-content",B.incorrectlyOpenedComment="incorrectly-opened-comment",B.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",B.eofInDoctype="eof-in-doctype",B.nestedComment="nested-comment",B.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",B.eofInComment="eof-in-comment",B.incorrectlyClosedComment="incorrectly-closed-comment",B.eofInCdata="eof-in-cdata",B.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",B.nullCharacterReference="null-character-reference",B.surrogateCharacterReference="surrogate-character-reference",B.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",B.controlCharacterReference="control-character-reference",B.noncharacterCharacterReference="noncharacter-character-reference",B.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",B.missingDoctypeName="missing-doctype-name",B.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",B.duplicateAttribute="duplicate-attribute",B.nonConformingDoctype="non-conforming-doctype",B.missingDoctype="missing-doctype",B.misplacedDoctype="misplaced-doctype",B.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",B.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",B.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",B.openElementsLeftAfterEof="open-elements-left-after-eof",B.abandonedHeadElementChild="abandoned-head-element-child",B.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",B.nestedNoscriptInHead="nested-noscript-in-head",B.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";let Preprocessor=class Preprocessor{constructor(s){this.handler=s,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(s){let{line:h,col:g,offset:_}=this;return{code:s,startLine:h,endLine:h,startCol:g,endCol:g,startOffset:_,endOffset:_}}_err(s){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(s)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(s){if(this.pos!==this.html.length-1){let h=this.html.charCodeAt(this.pos+1);if(h>=56320&&h<=57343)return this.pos++,this._addGap(),(s-55296)*1024+9216+h}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,em.EOF;return this._err(eg.surrogateInInputStream),s}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(s,h){this.html.length>0?this.html+=s:this.html=s,this.endOfChunkHit=!1,this.lastChunkWritten=h}insertHtmlAtCurrentPos(s){this.html=this.html.substring(0,this.pos+1)+s+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(s,h){if(this.pos+s.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(h)return this.html.startsWith(s,this.pos);for(let h=0;h<s.length;h++){let g=32|this.html.charCodeAt(this.pos+h);if(g!==s.charCodeAt(h))return!1}return!0}peek(s){let h=this.pos+s;if(h>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,em.EOF;let g=this.html.charCodeAt(h);return g===em.CARRIAGE_RETURN?em.LINE_FEED:g}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,em.EOF;let s=this.html.charCodeAt(this.pos);if(s===em.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,em.LINE_FEED;if(s===em.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,isSurrogate(s)&&(s=this._processSurrogate(s));let h=null===this.handler.onParseError||s>31&&s<127||s===em.LINE_FEED||s===em.CARRIAGE_RETURN||s>159&&s<64976;return h||this._checkForProblematicCharacters(s),s}_checkForProblematicCharacters(s){isControlCodePoint(s)?this._err(eg.controlCharacterInInputStream):isUndefinedCodePoint(s)&&this._err(eg.noncharacterInInputStream)}retreat(s){for(this.pos-=s;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};function getTokenAttr(s,h){for(let g=s.attrs.length-1;g>=0;g--)if(s.attrs[g].name===h)return s.attrs[g].value;return null}(H=eE=eE||(eE={}))[H.CHARACTER=0]="CHARACTER",H[H.NULL_CHARACTER=1]="NULL_CHARACTER",H[H.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",H[H.START_TAG=3]="START_TAG",H[H.END_TAG=4]="END_TAG",H[H.COMMENT=5]="COMMENT",H[H.DOCTYPE=6]="DOCTYPE",H[H.EOF=7]="EOF",H[H.HIBERNATION=8]="HIBERNATION";var rT=new Uint16Array('ᵁ<\xd5ıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\x00\x00\x00\x00\x00\x00ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig耻\xc6䃆P耻&䀦cute耻\xc1䃁reve;䄂Āiyx}rc耻\xc2䃂;䐐r;쀀\ud835\udd04rave耻\xc0䃀pha;䎑acr;䄀d;橓Āgp\x9d\xa1on;䄄f;쀀\ud835\udd38plyFunction;恡ing耻\xc5䃅Ācs\xbe\xc3r;쀀\ud835\udc9cign;扔ilde耻\xc3䃃ml耻\xc4䃄Ѐaceforsu\xe5\xfb\xfeėĜĢħĪĀcr\xea\xf2kslash;或Ŷ\xf6\xf8;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀\ud835\udd05pf;쀀\ud835\udd39eve;䋘c\xf2ēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻\xa9䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻\xc7䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷\xf2ſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀\ud835\udc9epĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀\ud835\udd07Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\x00\x00\x00͔͂\x00Ѕf;쀀\ud835\udd3bƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegra\xecȹoɴ͹\x00\x00ͻ\xbb͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔e\xe5ˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\x00\x00ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\x00ц\x00ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\x00ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀\ud835\udc9frok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻\xd0䃐cute耻\xc9䃉ƀaiyӒӗӜron;䄚rc耻\xca䃊;䐭ot;䄖r;쀀\ud835\udd08rave耻\xc8䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\x00\x00ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀\ud835\udd3csilon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻\xcb䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀\ud835\udd09lledɓ֗\x00\x00֣mallSquare;旼erySmallSquare;斪Ͱֺ\x00ֿ\x00\x00ׄf;쀀\ud835\udd3dAll;戀riertrf;愱c\xf2׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀\ud835\udd0a;拙pf;쀀\ud835\udd3eeater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀\ud835\udca2;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\x00ڲf;愍izontalLine;攀Āctۃۅ\xf2کrok;䄦mpńېۘownHum\xf0įqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻\xcd䃍Āiyܓܘrc耻\xce䃎;䐘ot;䄰r;愑rave耻\xcc䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lie\xf3ϝǴ݉\x00ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀\ud835\udd40a;䎙cr;愐ilde;䄨ǫޚ\x00ޞcy;䐆l耻\xcf䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀\ud835\udd0dpf;쀀\ud835\udd41ǣ߇\x00ߌr;쀀\ud835\udca5rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀\ud835\udd0epf;쀀\ud835\udd42cr;쀀\ud835\udca6րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\x00ࣃbleBracket;柦nǔࣈ\x00࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ight\xe1Μs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀\ud835\udd0fĀ;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊight\xe1οight\xe1ϊf;쀀\ud835\udd43erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂ\xf2ࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀\ud835\udd10nusPlus;戓pf;쀀\ud835\udd44c\xf2੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘\xeb૙eryThi\xee૙tedĀGL૸ଆreaterGreate\xf2ٳessLes\xf3ੈLine;䀊r;쀀\ud835\udd11ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀\ud835\udca9ilde耻\xd1䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻\xd3䃓Āiy෎ීrc耻\xd4䃔;䐞blac;䅐r;쀀\ud835\udd12rave耻\xd2䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀\ud835\udd46enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀\ud835\udcaaash耻\xd8䃘iŬื฼de耻\xd5䃕es;樷ml耻\xd6䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀\ud835\udd13i;䎦;䎠usMinus;䂱Āipຢອncareplan\xe5ڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀\ud835\udcab;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀\ud835\udd14pf;愚cr;쀀\ud835\udcac؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻\xae䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r\xbbཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\x00စbleBracket;柧nǔည\x00နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀\ud835\udd16ortȀDLRUᄪᄴᄾᅉownArrow\xbbОeftArrow\xbb࢚ightArrow\xbb࿝pArrow;憑gma;䎣allCircle;战pf;쀀\ud835\udd4aɲᅭ\x00\x00ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀\ud835\udcaear;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Th\xe1ྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et\xbbሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻\xde䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀\ud835\udd17Āeiቻ኉ǲኀ\x00ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀\ud835\udd4bipleDot;惛Āctዖዛr;쀀\ud835\udcafrok;䅦ૡዷጎጚጦ\x00ጬጱ\x00\x00\x00\x00\x00ጸጽ፷ᎅ\x00᏿ᐄᐊᐐĀcrዻጁute耻\xda䃚rĀ;oጇገ憟cir;楉rǣጓ\x00጖y;䐎ve;䅬Āiyጞጣrc耻\xdb䃛;䐣blac;䅰r;쀀\ud835\udd18rave耻\xd9䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀\ud835\udd4cЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥own\xe1ϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀\ud835\udcb0ilde;䅨ml耻\xdc䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀\ud835\udd19pf;쀀\ud835\udd4dcr;쀀\ud835\udcb1dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀\ud835\udd1apf;쀀\ud835\udd4ecr;쀀\ud835\udcb2Ȁfiosᓋᓐᓒᓘr;쀀\ud835\udd1b;䎞pf;쀀\ud835\udd4fcr;쀀\ud835\udcb3ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻\xdd䃝Āiyᔉᔍrc;䅶;䐫r;쀀\ud835\udd1cpf;쀀\ud835\udd50cr;쀀\ud835\udcb4ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\x00ᕛoWidt\xe8૙a;䎖r;愨pf;愤cr;쀀\ud835\udcb5௡ᖃᖊᖐ\x00ᖰᖶᖿ\x00\x00\x00\x00ᗆᗛᗫᙟ᙭\x00ᚕ᚛ᚲᚹ\x00ᚾcute耻\xe1䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻\xe2䃢te肻\xb4̆;䐰lig耻\xe6䃦Ā;r\xb2ᖺ;쀀\ud835\udd1erave耻\xe0䃠ĀepᗊᗖĀfpᗏᗔsym;愵\xe8ᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\x00\x00ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e\xbbᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢\xbb\xb9arr;捼Āgpᙣᙧon;䄅f;쀀\ud835\udd52΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒ\xf1ᚃing耻\xe5䃥ƀctyᚡᚦᚨr;쀀\ud835\udcb6;䀪mpĀ;e዁ᚯ\xf1ʈilde耻\xe3䃣ml耻\xe4䃤Āciᛂᛈonin\xf4ɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e\xbbᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰s\xe9ᜌno\xf5ēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀\ud835\udd1fg΀costuvwឍឝឳេ៕៛៞ƀaiuបពរ\xf0ݠrc;旯p\xbb፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\x00\x00ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄e\xe5ᑄ\xe5ᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\x00ᠳƲᠯ\x00ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀\ud835\udd53Ā;tᏋᡣom\xbbᏌtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻\xa6䂦Ȁceioᥑᥖᥚᥠr;쀀\ud835\udcb7mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t\xbb᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\x00᧨ᨑᨕᨲ\x00ᨷᩐ\x00\x00᪴\x00\x00᫁\x00\x00ᬡᬮ᭍᭒\x00᯽\x00ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁\xeeړȀaeiu᧰᧻ᨁᨅǰ᧵\x00᧸s;橍on;䄍dil耻\xe7䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻\xb8ƭptyv;榲t脀\xa2;eᨭᨮ䂢r\xe4Ʋr;쀀\ud835\udd20ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark\xbbᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\x00\x00᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟\xbbཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it\xbb᪼ˬ᫇᫔᫺\x00ᬊonĀ;eᫍᫎ䀺Ā;q\xc7\xc6ɭ᫙\x00\x00᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁\xeeᅠeĀmx᫱᫶ent\xbb᫩e\xf3ɍǧ᫾\x00ᬇĀ;dኻᬂot;橭n\xf4Ɇƀfryᬐᬔᬗ;쀀\ud835\udd54o\xe4ɔ脀\xa9;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀\ud835\udcb8Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\x00\x00᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\x00\x00ᯒre\xe3᭳u\xe3᭵ee;拎edge;拏en耻\xa4䂤earrowĀlrᯮ᯳eft\xbbᮀight\xbbᮽe\xe4ᯝĀciᰁᰇonin\xf4Ƿnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍r\xf2΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸\xf2ᄳhĀ;vᱚᱛ怐\xbbऊūᱡᱧarow;椏a\xe3̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻\xb0䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀\ud835\udd21arĀlrᲳᲵ\xbbࣜ\xbbသʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀\xf7;o᳧ᳰntimes;拇n\xf8᳷cy;䑒cɯᴆ\x00\x00ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀\ud835\udd55ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedg\xe5\xfanƀadhᄮᵝᵧownarrow\xf3ᲃarpoonĀlrᵲᵶef\xf4Ჴigh\xf4ᲶŢᵿᶅkaro\xf7གɯᶊ\x00\x00ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀\ud835\udcb9;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃r\xf2Щa\xf2ྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴo\xf4ᲉĀcsḎḔute耻\xe9䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻\xea䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀\ud835\udd22ƀ;rsṐṑṗ檚ave耻\xe8䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et\xbbẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀\ud835\udd56ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on\xbbớ;䏵ȀcsuvỪỳἋἣĀioữḱrc\xbbḮɩỹ\x00\x00ỻ\xedՈantĀglἂἆtr\xbbṝess\xbbṺƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯o\xf4͒ĀahὉὋ;䎷耻\xf0䃰Āmrὓὗl耻\xeb䃫o;悬ƀcipὡὤὧl;䀡s\xf4ծĀeoὬὴctatio\xeeՙnential\xe5չৡᾒ\x00ᾞ\x00ᾡᾧ\x00\x00ῆῌ\x00ΐ\x00ῦῪ \x00 ⁚llingdotse\xf1Ṅy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\x00\x00᾽g;耀ﬀig;耀ﬄ;쀀\ud835\udd23lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\x00ῳf;쀀\ud835\udd57ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\x00⁐β•‥‧‪‬\x00‮耻\xbd䂽;慓耻\xbc䂼;慕;慙;慛Ƴ‴\x00‶;慔;慖ʴ‾⁁\x00\x00⁃耻\xbe䂾;慗;慜5;慘ƶ⁌\x00⁎;慚;慝8;慞l;恄wn;挢cr;쀀\ud835\udcbbࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lan\xf4٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀\ud835\udd24Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox\xbbℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀\ud835\udd58Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\x00↎pro\xf8₞r;楸qĀlqؿ↖les\xf3₈i\xed٫Āen↣↭rtneqq;쀀≩︀\xc5↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽r\xf2ΠȀilmr⇐⇔⇗⇛rs\xf0ᒄf\xbb․il\xf4کĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it\xbb∊lip;怦con;抹r;쀀\ud835\udd25sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀\ud835\udd59bar;怕ƀclt≯≴≸r;쀀\ud835\udcbdas\xe8⇴rok;䄧Ābp⊂⊇ull;恃hen\xbbᱛૡ⊣\x00⊪\x00⊸⋅⋎\x00⋕⋳\x00\x00⋸⌢⍧⍢⍿\x00⎆⎪⎴cute耻\xed䃭ƀ;iyݱ⊰⊵rc耻\xee䃮;䐸Ācx⊼⊿y;䐵cl耻\xa1䂡ĀfrΟ⋉;쀀\ud835\udd26rave耻\xec䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓in\xe5ގar\xf4ܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝do\xf4⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙er\xf3ᕣ\xe3⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀\ud835\udd5aa;䎹uest耻\xbf䂿Āci⎊⎏r;쀀\ud835\udcbenʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\x00⎼cy;䑖l耻\xef䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀\ud835\udd27ath;䈷pf;쀀\ud835\udd5bǣ⏬\x00⏱r;쀀\ud835\udcbfrcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀\ud835\udd28reen;䄸cy;䑅cy;䑜pf;쀀\ud835\udd5ccr;쀀\ud835\udcc0஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼r\xf2৆\xf2Εail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\x00⒪\x00⒱\x00\x00\x00\x00\x00⒵Ⓔ\x00ⓆⓈⓍ\x00⓹ute;䄺mptyv;榴ra\xeeࡌbda;䎻gƀ;dlࢎⓁⓃ;榑\xe5ࢎ;檅uo耻\xab䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝\xeb≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼\xecࢰ\xe2┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□a\xe9⓶arpoonĀdu▯▴own\xbbњp\xbb०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoon\xf3྘quigarro\xf7⇰hreetimes;拋ƀ;qs▋ও◺lan\xf4বʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋ppro\xf8Ⓠot;拖qĀgq♃♅\xf4উgt\xf2⒌\xf4ছi\xedলƀilr♕࣡♚sht;楼;쀀\ud835\udd29Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖r\xf2◁orne\xf2ᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che\xbb⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox\xbb⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽r\xebࣁgƀlmr⛿✍✔eftĀar০✇ight\xe1৲apsto;柼ight\xe1৽parrowĀlr✥✩ef\xf4⓭ight;憬ƀafl✶✹✽r;榅;쀀\ud835\udd5dus;樭imes;樴š❋❏st;戗\xe1ፎƀ;ef❗❘᠀旊nge\xbb❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇r\xf2ࢨorne\xf2ᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀\ud835\udcc1mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹re\xe5◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀\xc5⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻\xaf䂯Āet⡗⡙;時Ā;e⡞⡟朠se\xbb⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻ow\xeeҌef\xf4ए\xf0Ꮡker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle\xbbᘦr;쀀\ud835\udd2ao;愧ƀcdn⢯⢴⣉ro耻\xb5䂵Ȁ;acdᑤ⢽⣀⣄s\xf4ᚧir;櫰ot肻\xb7Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛\xf2−\xf0ઁĀdp⣩⣮els;抧f;쀀\ud835\udd5eĀct⣸⣽r;쀀\ud835\udcc2pos\xbbᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la\xbb˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉ro\xf8඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\x00⧣p肻\xa0ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\x00⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸ui\xf6ୣĀei⩊⩎ar;椨\xed஘istĀ;s஠டr;쀀\ud835\udd2bȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lan\xf4௢i\xed௪Ā;rஶ⪁\xbbஷƀAap⪊⪍⪑r\xf2⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹r\xf2⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro\xf7⫁ightarro\xf7⪐ƀ;qs఻⪺⫪lan\xf4ౕĀ;sౕ⫴\xbbశi\xedౝĀ;rవ⫾iĀ;eచథi\xe4ඐĀpt⬌⬑f;쀀\ud835\udd5f膀\xac;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lle\xec୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳u\xe5ಥĀ;cಘ⭸Ā;eಒ⭽\xf1ಘȀAait⮈⮋⮝⮧r\xf2⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow\xbb⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉u\xe5൅;쀀\ud835\udcc3ortɭ⬅\x00\x00⯖ar\xe1⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭\xe5೸\xe5ഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗ\xf1സȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇ\xecௗlde耻\xf1䃱\xe7ృiangleĀlrⱒⱜeftĀ;eచⱚ\xf1దightĀ;eೋⱥ\xf1೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00ⴭ\x00ⴸⵈⵠⵥ⵲ⶄᬇ\x00\x00ⶍⶫ\x00ⷈⷎ\x00ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻\xf3䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻\xf4䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀\ud835\udd2cͯ⵹\x00\x00⵼\x00ⶂn;䋛ave耻\xf2䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨr\xf2᪀Āir⶝ⶠr;榾oss;榻n\xe5๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀\ud835\udd60ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨r\xf2᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f\xbbⷿ耻\xaa䂪耻\xba䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧\xf2⸁ash耻\xf8䃸l;折iŬⸯ⸴de耻\xf5䃵esĀ;aǛ⸺s;樶ml耻\xf6䃶bar;挽ૡ⹞\x00⹽\x00⺀⺝\x00⺢⺹\x00\x00⻋ຜ\x00⼓\x00\x00⼫⾼\x00⿈rȀ;astЃ⹧⹲຅脀\xb6;l⹭⹮䂶le\xecЃɩ⹸\x00\x00⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀\ud835\udd2dƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕ma\xf4੶ne;明ƀ;tv⺿⻀⻈䏀chfork\xbb´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎\xf6⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻\xb1ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀\ud835\udd61nd耻\xa3䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷u\xe5໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾ppro\xf8⽃urlye\xf1໙\xf1໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨i\xedໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺\xf0⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴\xef໻rel;抰Āci⿀⿅r;쀀\ud835\udcc5;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀\ud835\udd2epf;쀀\ud835\udd62rime;恗cr;쀀\ud835\udcc6ƀaeo⿸〉〓tĀei⿾々rnion\xf3ڰnt;樖stĀ;e【】䀿\xf1Ἑ\xf4༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがr\xf2Ⴓ\xf2ϝail;検ar\xf2ᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕i\xe3ᅮmptyv;榳gȀ;del࿑らるろ;榒;榥\xe5࿑uo耻\xbb䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞\xeb≝\xf0✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶al\xf3༞ƀabrョリヮr\xf2៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗\xec࿲\xe2ヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜn\xe5Ⴛar\xf4ྩt;断ƀilrㅩဣㅮsht;楽;쀀\ud835\udd2fĀaoㅷㆆrĀduㅽㅿ\xbbѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭa\xe9トarpoonĀduㆻㆿow\xeeㅾp\xbb႒eftĀah㇊㇐rrow\xf3࿪arpoon\xf3Ցightarrows;應quigarro\xf7ニhreetimes;拌g;䋚ingdotse\xf1ἲƀahm㈍㈐㈓r\xf2࿪a\xf2Ց;怏oustĀ;a㈞㈟掱che\xbb㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾r\xebဃƀafl㉇㉊㉎r;榆;쀀\ud835\udd63us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒ar\xf2㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀\ud835\udcc7Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠re\xe5ㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\x00㍺㎤\x00\x00㏬㏰\x00㐨㑈㑚㒭㒱㓊㓱\x00㘖\x00\x00㘳cute;䅛qu\xef➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\x00㋼;檸on;䅡u\xe5ᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓i\xedሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒\xeb∨Ā;oਸ਼਴t耻\xa7䂧i;䀻war;椩mĀin㍩\xf0nu\xf3\xf1t;朶rĀ;o㍶⁕쀀\ud835\udd30Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\x00\x00㎜i\xe4ᑤara\xec⹯耻\xad䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲ar\xf2ᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetm\xe9㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀\ud835\udd64aĀdr㑍ЂesĀ;u㑔㑕晠it\xbb㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍\xf1ᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝\xf1ᆮƀ;afᅻ㒦ְrť㒫ֱ\xbbᅼar\xf2ᅈȀcemt㒹㒾㓂㓅r;쀀\ud835\udcc8tm\xee\xf1i\xec㐕ar\xe6ᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psilo\xeeỠh\xe9⺯s\xbb⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦ppro\xf8㋺urlye\xf1ᇾ\xf1ᇳƀaes㖂㖈㌛ppro\xf8㌚q\xf1㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻\xb9䂹耻\xb2䂲耻\xb3䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨\xeb∮Ā;oਫ਩war;椪lig耻\xdf䃟௡㙑㙝㙠ዎ㙳㙹\x00㙾㛂\x00\x00\x00\x00\x00㛛㜃\x00㜉㝬\x00\x00\x00㞇ɲ㙖\x00\x00㙛get;挖;䏄r\xeb๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀\ud835\udd31Ȁeiko㚆㚝㚵㚼ǲ㚋\x00㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮ppro\xf8዁im\xbbኬs\xf0ኞĀas㚺㚮\xf0዁rn耻\xfe䃾Ǭ̟㛆⋧es膀\xd7;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀\xe1⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀\ud835\udd65rk;櫚\xe1㍢rime;怴ƀaip㜏㜒㝤d\xe5ቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own\xbbᶻeftĀ;e⠀㜾\xf1म;扜ightĀ;e㊪㝋\xf1ၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀\ud835\udcc9;䑆cy;䑛rok;䅧Āio㞋㞎x\xf4᝷headĀlr㞗㞠eftarro\xf7ࡏightarrow\xbbཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶r\xf2ϭar;楣Ācr㟜㟢ute耻\xfa䃺\xf2ᅐrǣ㟪\x00㟭y;䑞ve;䅭Āiy㟵㟺rc耻\xfb䃻;䑃ƀabh㠃㠆㠋r\xf2Ꭽlac;䅱a\xf2ᏃĀir㠓㠘sht;楾;쀀\ud835\udd32rave耻\xf9䃹š㠧㠱rĀlr㠬㠮\xbbॗ\xbbႃlk;斀Āct㠹㡍ɯ㠿\x00\x00㡊rnĀ;e㡅㡆挜r\xbb㡆op;挏ri;旸Āal㡖㡚cr;䅫肻\xa8͉Āgp㡢㡦on;䅳f;쀀\ud835\udd66̀adhlsuᅋ㡸㡽፲㢑㢠own\xe1ᎳarpoonĀlr㢈㢌ef\xf4㠭igh\xf4㠯iƀ;hl㢙㢚㢜䏅\xbbᏺon\xbb㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\x00\x00㣁rnĀ;e㢼㢽挝r\xbb㢽op;挎ng;䅯ri;旹cr;쀀\ud835\udccaƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨\xbb᠓Āam㣯㣲r\xf2㢨l耻\xfc䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠r\xf2ϷarĀ;v㤦㤧櫨;櫩as\xe8ϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖app\xe1␕othin\xe7ẖƀhir㓫⻈㥙op\xf4⾵Ā;hᎷ㥢\xefㆍĀiu㥩㥭gm\xe1㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟et\xe1㚜iangleĀlr㦪㦯eft\xbbथight\xbbၑy;䐲ash\xbbံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨa\xf2ᑩr;쀀\ud835\udd33tr\xe9㦮suĀbp㧯㧱\xbbജ\xbb൙pf;쀀\ud835\udd67ro\xf0໻tr\xe9㦴Ācu㨆㨋r;쀀\ud835\udccbĀbp㨐㨘nĀEe㦀㨖\xbb㥾nĀEe㦒㨞\xbb㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀\ud835\udd34pf;쀀\ud835\udd68Ā;eᑹ㩦at\xe8ᑹcr;쀀\ud835\udcccૣណ㪇\x00㪋\x00㪐㪛\x00\x00㪝㪨㪫㪯\x00\x00㫃㫎\x00㫘ៜ៟tr\xe9៑r;쀀\ud835\udd35ĀAa㪔㪗r\xf2σr\xf2৶;䎾ĀAa㪡㪤r\xf2θr\xf2৫a\xf0✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀\ud835\udd69im\xe5ឲĀAa㫇㫊r\xf2ώr\xf2ਁĀcq㫒ីr;쀀\ud835\udccdĀpt៖㫜r\xe9។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻\xfd䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻\xa5䂥r;쀀\ud835\udd36cy;䑗pf;쀀\ud835\udd6acr;쀀\ud835\udcceĀcm㬦㬩y;䑎l耻\xff䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡tr\xe6ᕟa;䎶r;쀀\ud835\udd37cy;䐶grarr;懝pf;쀀\ud835\udd6bcr;쀀\ud835\udccfĀjn㮅㮇;怍j;怌'.split("").map(s=>s.charCodeAt(0))),rv=new Uint16Array("Ȁaglq	\x15\x18\x1bɭ\x0f\x00\x00\x12p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(s=>s.charCodeAt(0)));let ry=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),rA=null!==(e_=String.fromCodePoint)&&void 0!==e_?e_:function(s){let h="";return s>65535&&(s-=65536,h+=String.fromCharCode(s>>>10&1023|55296),s=56320|1023&s),h+=String.fromCharCode(s)};function isNumber(s){return s>=eT.ZERO&&s<=eT.NINE}(z=eT||(eT={}))[z.NUM=35]="NUM",z[z.SEMI=59]="SEMI",z[z.EQUALS=61]="EQUALS",z[z.ZERO=48]="ZERO",z[z.NINE=57]="NINE",z[z.LOWER_A=97]="LOWER_A",z[z.LOWER_F=102]="LOWER_F",z[z.LOWER_X=120]="LOWER_X",z[z.LOWER_Z=122]="LOWER_Z",z[z.UPPER_A=65]="UPPER_A",z[z.UPPER_F=70]="UPPER_F",z[z.UPPER_Z=90]="UPPER_Z",($=ev||(ev={}))[$.VALUE_LENGTH=49152]="VALUE_LENGTH",$[$.BRANCH_LENGTH=16256]="BRANCH_LENGTH",$[$.JUMP_TABLE=127]="JUMP_TABLE",(j=ey||(ey={}))[j.EntityStart=0]="EntityStart",j[j.NumericStart=1]="NumericStart",j[j.NumericDecimal=2]="NumericDecimal",j[j.NumericHex=3]="NumericHex",j[j.NamedEntity=4]="NamedEntity",(q=eA||(eA={}))[q.Legacy=0]="Legacy",q[q.Strict=1]="Strict",q[q.Attribute=2]="Attribute";let EntityDecoder=class EntityDecoder{constructor(s,h,g){this.decodeTree=s,this.emitCodePoint=h,this.errors=g,this.state=ey.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=eA.Strict}startEntity(s){this.decodeMode=s,this.state=ey.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(s,h){switch(this.state){case ey.EntityStart:if(s.charCodeAt(h)===eT.NUM)return this.state=ey.NumericStart,this.consumed+=1,this.stateNumericStart(s,h+1);return this.state=ey.NamedEntity,this.stateNamedEntity(s,h);case ey.NumericStart:return this.stateNumericStart(s,h);case ey.NumericDecimal:return this.stateNumericDecimal(s,h);case ey.NumericHex:return this.stateNumericHex(s,h);case ey.NamedEntity:return this.stateNamedEntity(s,h)}}stateNumericStart(s,h){return h>=s.length?-1:(32|s.charCodeAt(h))===eT.LOWER_X?(this.state=ey.NumericHex,this.consumed+=1,this.stateNumericHex(s,h+1)):(this.state=ey.NumericDecimal,this.stateNumericDecimal(s,h))}addToNumericResult(s,h,g,_){if(h!==g){let y=g-h;this.result=this.result*Math.pow(_,y)+parseInt(s.substr(h,y),_),this.consumed+=y}}stateNumericHex(s,h){let g=h;for(;h<s.length;){var _;let y=s.charCodeAt(h);if(!isNumber(y)&&(!((_=y)>=eT.UPPER_A)||!(_<=eT.UPPER_F))&&(!(_>=eT.LOWER_A)||!(_<=eT.LOWER_F)))return this.addToNumericResult(s,g,h,16),this.emitNumericEntity(y,3);h+=1}return this.addToNumericResult(s,g,h,16),-1}stateNumericDecimal(s,h){let g=h;for(;h<s.length;){let _=s.charCodeAt(h);if(!isNumber(_))return this.addToNumericResult(s,g,h,10),this.emitNumericEntity(_,2);h+=1}return this.addToNumericResult(s,g,h,10),-1}emitNumericEntity(s,h){var g,_,y;if(this.consumed<=h)return null===(g=this.errors)||void 0===g||g.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(s===eT.SEMI)this.consumed+=1;else if(this.decodeMode===eA.Strict)return 0;return this.emitCodePoint((_=this.result)>=55296&&_<=57343||_>1114111?65533:null!==(y=ry.get(_))&&void 0!==y?y:_,this.consumed),this.errors&&(s!==eT.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(s,h){let{decodeTree:g}=this,_=g[this.treeIndex],y=(_&ev.VALUE_LENGTH)>>14;for(;h<s.length;h++,this.excess++){let A=s.charCodeAt(h);if(this.treeIndex=determineBranch(g,_,this.treeIndex+Math.max(1,y),A),this.treeIndex<0)return 0===this.result||this.decodeMode===eA.Attribute&&(0===y||function(s){var h;return s===eT.EQUALS||(h=s)>=eT.UPPER_A&&h<=eT.UPPER_Z||h>=eT.LOWER_A&&h<=eT.LOWER_Z||isNumber(h)}(A))?0:this.emitNotTerminatedNamedEntity();if(0!=(y=((_=g[this.treeIndex])&ev.VALUE_LENGTH)>>14)){if(A===eT.SEMI)return this.emitNamedEntityData(this.treeIndex,y,this.consumed+this.excess);this.decodeMode!==eA.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var s;let{result:h,decodeTree:g}=this,_=(g[h]&ev.VALUE_LENGTH)>>14;return this.emitNamedEntityData(h,_,this.consumed),null===(s=this.errors)||void 0===s||s.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(s,h,g){let{decodeTree:_}=this;return this.emitCodePoint(1===h?_[s]&~ev.VALUE_LENGTH:_[s+1],g),3===h&&this.emitCodePoint(_[s+2],g),g}end(){var s;switch(this.state){case ey.NamedEntity:return 0!==this.result&&(this.decodeMode!==eA.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ey.NumericDecimal:return this.emitNumericEntity(0,2);case ey.NumericHex:return this.emitNumericEntity(0,3);case ey.NumericStart:return null===(s=this.errors)||void 0===s||s.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ey.EntityStart:return 0}}};function getDecoder(s){let h="",g=new EntityDecoder(s,s=>h+=rA(s));return function(s,_){let y=0,A=0;for(;(A=s.indexOf("&",A))>=0;){h+=s.slice(y,A),g.startEntity(_);let b=g.write(s,A+1);if(b<0){y=A+g.end();break}y=A+b,A=0===b?y+1:y}let b=h+s.slice(y);return h="",b}}function determineBranch(s,h,g,_){let y=(h&ev.BRANCH_LENGTH)>>7,A=h&ev.JUMP_TABLE;if(0===y)return 0!==A&&_===A?g:-1;if(A){let h=_-A;return h<0||h>=y?-1:s[g+h]-1}let b=g,k=b+y-1;for(;b<=k;){let h=b+k>>>1,g=s[h];if(g<_)b=h+1;else{if(!(g>_))return s[h+y];k=h-1}}return -1}getDecoder(rT),getDecoder(rv),(W=eb=eb||(eb={})).HTML="http://www.w3.org/1999/xhtml",W.MATHML="http://www.w3.org/1998/Math/MathML",W.SVG="http://www.w3.org/2000/svg",W.XLINK="http://www.w3.org/1999/xlink",W.XML="http://www.w3.org/XML/1998/namespace",W.XMLNS="http://www.w3.org/2000/xmlns/",(K=eS=eS||(eS={})).TYPE="type",K.ACTION="action",K.ENCODING="encoding",K.PROMPT="prompt",K.NAME="name",K.COLOR="color",K.FACE="face",K.SIZE="size",(ee=ek=ek||(ek={})).NO_QUIRKS="no-quirks",ee.QUIRKS="quirks",ee.LIMITED_QUIRKS="limited-quirks",(et=eC=eC||(eC={})).A="a",et.ADDRESS="address",et.ANNOTATION_XML="annotation-xml",et.APPLET="applet",et.AREA="area",et.ARTICLE="article",et.ASIDE="aside",et.B="b",et.BASE="base",et.BASEFONT="basefont",et.BGSOUND="bgsound",et.BIG="big",et.BLOCKQUOTE="blockquote",et.BODY="body",et.BR="br",et.BUTTON="button",et.CAPTION="caption",et.CENTER="center",et.CODE="code",et.COL="col",et.COLGROUP="colgroup",et.DD="dd",et.DESC="desc",et.DETAILS="details",et.DIALOG="dialog",et.DIR="dir",et.DIV="div",et.DL="dl",et.DT="dt",et.EM="em",et.EMBED="embed",et.FIELDSET="fieldset",et.FIGCAPTION="figcaption",et.FIGURE="figure",et.FONT="font",et.FOOTER="footer",et.FOREIGN_OBJECT="foreignObject",et.FORM="form",et.FRAME="frame",et.FRAMESET="frameset",et.H1="h1",et.H2="h2",et.H3="h3",et.H4="h4",et.H5="h5",et.H6="h6",et.HEAD="head",et.HEADER="header",et.HGROUP="hgroup",et.HR="hr",et.HTML="html",et.I="i",et.IMG="img",et.IMAGE="image",et.INPUT="input",et.IFRAME="iframe",et.KEYGEN="keygen",et.LABEL="label",et.LI="li",et.LINK="link",et.LISTING="listing",et.MAIN="main",et.MALIGNMARK="malignmark",et.MARQUEE="marquee",et.MATH="math",et.MENU="menu",et.META="meta",et.MGLYPH="mglyph",et.MI="mi",et.MO="mo",et.MN="mn",et.MS="ms",et.MTEXT="mtext",et.NAV="nav",et.NOBR="nobr",et.NOFRAMES="noframes",et.NOEMBED="noembed",et.NOSCRIPT="noscript",et.OBJECT="object",et.OL="ol",et.OPTGROUP="optgroup",et.OPTION="option",et.P="p",et.PARAM="param",et.PLAINTEXT="plaintext",et.PRE="pre",et.RB="rb",et.RP="rp",et.RT="rt",et.RTC="rtc",et.RUBY="ruby",et.S="s",et.SCRIPT="script",et.SECTION="section",et.SELECT="select",et.SOURCE="source",et.SMALL="small",et.SPAN="span",et.STRIKE="strike",et.STRONG="strong",et.STYLE="style",et.SUB="sub",et.SUMMARY="summary",et.SUP="sup",et.TABLE="table",et.TBODY="tbody",et.TEMPLATE="template",et.TEXTAREA="textarea",et.TFOOT="tfoot",et.TD="td",et.TH="th",et.THEAD="thead",et.TITLE="title",et.TR="tr",et.TRACK="track",et.TT="tt",et.U="u",et.UL="ul",et.SVG="svg",et.VAR="var",et.WBR="wbr",et.XMP="xmp",(en=ex=ex||(ex={}))[en.UNKNOWN=0]="UNKNOWN",en[en.A=1]="A",en[en.ADDRESS=2]="ADDRESS",en[en.ANNOTATION_XML=3]="ANNOTATION_XML",en[en.APPLET=4]="APPLET",en[en.AREA=5]="AREA",en[en.ARTICLE=6]="ARTICLE",en[en.ASIDE=7]="ASIDE",en[en.B=8]="B",en[en.BASE=9]="BASE",en[en.BASEFONT=10]="BASEFONT",en[en.BGSOUND=11]="BGSOUND",en[en.BIG=12]="BIG",en[en.BLOCKQUOTE=13]="BLOCKQUOTE",en[en.BODY=14]="BODY",en[en.BR=15]="BR",en[en.BUTTON=16]="BUTTON",en[en.CAPTION=17]="CAPTION",en[en.CENTER=18]="CENTER",en[en.CODE=19]="CODE",en[en.COL=20]="COL",en[en.COLGROUP=21]="COLGROUP",en[en.DD=22]="DD",en[en.DESC=23]="DESC",en[en.DETAILS=24]="DETAILS",en[en.DIALOG=25]="DIALOG",en[en.DIR=26]="DIR",en[en.DIV=27]="DIV",en[en.DL=28]="DL",en[en.DT=29]="DT",en[en.EM=30]="EM",en[en.EMBED=31]="EMBED",en[en.FIELDSET=32]="FIELDSET",en[en.FIGCAPTION=33]="FIGCAPTION",en[en.FIGURE=34]="FIGURE",en[en.FONT=35]="FONT",en[en.FOOTER=36]="FOOTER",en[en.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",en[en.FORM=38]="FORM",en[en.FRAME=39]="FRAME",en[en.FRAMESET=40]="FRAMESET",en[en.H1=41]="H1",en[en.H2=42]="H2",en[en.H3=43]="H3",en[en.H4=44]="H4",en[en.H5=45]="H5",en[en.H6=46]="H6",en[en.HEAD=47]="HEAD",en[en.HEADER=48]="HEADER",en[en.HGROUP=49]="HGROUP",en[en.HR=50]="HR",en[en.HTML=51]="HTML",en[en.I=52]="I",en[en.IMG=53]="IMG",en[en.IMAGE=54]="IMAGE",en[en.INPUT=55]="INPUT",en[en.IFRAME=56]="IFRAME",en[en.KEYGEN=57]="KEYGEN",en[en.LABEL=58]="LABEL",en[en.LI=59]="LI",en[en.LINK=60]="LINK",en[en.LISTING=61]="LISTING",en[en.MAIN=62]="MAIN",en[en.MALIGNMARK=63]="MALIGNMARK",en[en.MARQUEE=64]="MARQUEE",en[en.MATH=65]="MATH",en[en.MENU=66]="MENU",en[en.META=67]="META",en[en.MGLYPH=68]="MGLYPH",en[en.MI=69]="MI",en[en.MO=70]="MO",en[en.MN=71]="MN",en[en.MS=72]="MS",en[en.MTEXT=73]="MTEXT",en[en.NAV=74]="NAV",en[en.NOBR=75]="NOBR",en[en.NOFRAMES=76]="NOFRAMES",en[en.NOEMBED=77]="NOEMBED",en[en.NOSCRIPT=78]="NOSCRIPT",en[en.OBJECT=79]="OBJECT",en[en.OL=80]="OL",en[en.OPTGROUP=81]="OPTGROUP",en[en.OPTION=82]="OPTION",en[en.P=83]="P",en[en.PARAM=84]="PARAM",en[en.PLAINTEXT=85]="PLAINTEXT",en[en.PRE=86]="PRE",en[en.RB=87]="RB",en[en.RP=88]="RP",en[en.RT=89]="RT",en[en.RTC=90]="RTC",en[en.RUBY=91]="RUBY",en[en.S=92]="S",en[en.SCRIPT=93]="SCRIPT",en[en.SECTION=94]="SECTION",en[en.SELECT=95]="SELECT",en[en.SOURCE=96]="SOURCE",en[en.SMALL=97]="SMALL",en[en.SPAN=98]="SPAN",en[en.STRIKE=99]="STRIKE",en[en.STRONG=100]="STRONG",en[en.STYLE=101]="STYLE",en[en.SUB=102]="SUB",en[en.SUMMARY=103]="SUMMARY",en[en.SUP=104]="SUP",en[en.TABLE=105]="TABLE",en[en.TBODY=106]="TBODY",en[en.TEMPLATE=107]="TEMPLATE",en[en.TEXTAREA=108]="TEXTAREA",en[en.TFOOT=109]="TFOOT",en[en.TD=110]="TD",en[en.TH=111]="TH",en[en.THEAD=112]="THEAD",en[en.TITLE=113]="TITLE",en[en.TR=114]="TR",en[en.TRACK=115]="TRACK",en[en.TT=116]="TT",en[en.U=117]="U",en[en.UL=118]="UL",en[en.SVG=119]="SVG",en[en.VAR=120]="VAR",en[en.WBR=121]="WBR",en[en.XMP=122]="XMP";let rb=new Map([[eC.A,ex.A],[eC.ADDRESS,ex.ADDRESS],[eC.ANNOTATION_XML,ex.ANNOTATION_XML],[eC.APPLET,ex.APPLET],[eC.AREA,ex.AREA],[eC.ARTICLE,ex.ARTICLE],[eC.ASIDE,ex.ASIDE],[eC.B,ex.B],[eC.BASE,ex.BASE],[eC.BASEFONT,ex.BASEFONT],[eC.BGSOUND,ex.BGSOUND],[eC.BIG,ex.BIG],[eC.BLOCKQUOTE,ex.BLOCKQUOTE],[eC.BODY,ex.BODY],[eC.BR,ex.BR],[eC.BUTTON,ex.BUTTON],[eC.CAPTION,ex.CAPTION],[eC.CENTER,ex.CENTER],[eC.CODE,ex.CODE],[eC.COL,ex.COL],[eC.COLGROUP,ex.COLGROUP],[eC.DD,ex.DD],[eC.DESC,ex.DESC],[eC.DETAILS,ex.DETAILS],[eC.DIALOG,ex.DIALOG],[eC.DIR,ex.DIR],[eC.DIV,ex.DIV],[eC.DL,ex.DL],[eC.DT,ex.DT],[eC.EM,ex.EM],[eC.EMBED,ex.EMBED],[eC.FIELDSET,ex.FIELDSET],[eC.FIGCAPTION,ex.FIGCAPTION],[eC.FIGURE,ex.FIGURE],[eC.FONT,ex.FONT],[eC.FOOTER,ex.FOOTER],[eC.FOREIGN_OBJECT,ex.FOREIGN_OBJECT],[eC.FORM,ex.FORM],[eC.FRAME,ex.FRAME],[eC.FRAMESET,ex.FRAMESET],[eC.H1,ex.H1],[eC.H2,ex.H2],[eC.H3,ex.H3],[eC.H4,ex.H4],[eC.H5,ex.H5],[eC.H6,ex.H6],[eC.HEAD,ex.HEAD],[eC.HEADER,ex.HEADER],[eC.HGROUP,ex.HGROUP],[eC.HR,ex.HR],[eC.HTML,ex.HTML],[eC.I,ex.I],[eC.IMG,ex.IMG],[eC.IMAGE,ex.IMAGE],[eC.INPUT,ex.INPUT],[eC.IFRAME,ex.IFRAME],[eC.KEYGEN,ex.KEYGEN],[eC.LABEL,ex.LABEL],[eC.LI,ex.LI],[eC.LINK,ex.LINK],[eC.LISTING,ex.LISTING],[eC.MAIN,ex.MAIN],[eC.MALIGNMARK,ex.MALIGNMARK],[eC.MARQUEE,ex.MARQUEE],[eC.MATH,ex.MATH],[eC.MENU,ex.MENU],[eC.META,ex.META],[eC.MGLYPH,ex.MGLYPH],[eC.MI,ex.MI],[eC.MO,ex.MO],[eC.MN,ex.MN],[eC.MS,ex.MS],[eC.MTEXT,ex.MTEXT],[eC.NAV,ex.NAV],[eC.NOBR,ex.NOBR],[eC.NOFRAMES,ex.NOFRAMES],[eC.NOEMBED,ex.NOEMBED],[eC.NOSCRIPT,ex.NOSCRIPT],[eC.OBJECT,ex.OBJECT],[eC.OL,ex.OL],[eC.OPTGROUP,ex.OPTGROUP],[eC.OPTION,ex.OPTION],[eC.P,ex.P],[eC.PARAM,ex.PARAM],[eC.PLAINTEXT,ex.PLAINTEXT],[eC.PRE,ex.PRE],[eC.RB,ex.RB],[eC.RP,ex.RP],[eC.RT,ex.RT],[eC.RTC,ex.RTC],[eC.RUBY,ex.RUBY],[eC.S,ex.S],[eC.SCRIPT,ex.SCRIPT],[eC.SECTION,ex.SECTION],[eC.SELECT,ex.SELECT],[eC.SOURCE,ex.SOURCE],[eC.SMALL,ex.SMALL],[eC.SPAN,ex.SPAN],[eC.STRIKE,ex.STRIKE],[eC.STRONG,ex.STRONG],[eC.STYLE,ex.STYLE],[eC.SUB,ex.SUB],[eC.SUMMARY,ex.SUMMARY],[eC.SUP,ex.SUP],[eC.TABLE,ex.TABLE],[eC.TBODY,ex.TBODY],[eC.TEMPLATE,ex.TEMPLATE],[eC.TEXTAREA,ex.TEXTAREA],[eC.TFOOT,ex.TFOOT],[eC.TD,ex.TD],[eC.TH,ex.TH],[eC.THEAD,ex.THEAD],[eC.TITLE,ex.TITLE],[eC.TR,ex.TR],[eC.TRACK,ex.TRACK],[eC.TT,ex.TT],[eC.U,ex.U],[eC.UL,ex.UL],[eC.SVG,ex.SVG],[eC.VAR,ex.VAR],[eC.WBR,ex.WBR],[eC.XMP,ex.XMP]]);function getTagID(s){var h;return null!==(h=rb.get(s))&&void 0!==h?h:ex.UNKNOWN}let rS=ex,rk={[eb.HTML]:new Set([rS.ADDRESS,rS.APPLET,rS.AREA,rS.ARTICLE,rS.ASIDE,rS.BASE,rS.BASEFONT,rS.BGSOUND,rS.BLOCKQUOTE,rS.BODY,rS.BR,rS.BUTTON,rS.CAPTION,rS.CENTER,rS.COL,rS.COLGROUP,rS.DD,rS.DETAILS,rS.DIR,rS.DIV,rS.DL,rS.DT,rS.EMBED,rS.FIELDSET,rS.FIGCAPTION,rS.FIGURE,rS.FOOTER,rS.FORM,rS.FRAME,rS.FRAMESET,rS.H1,rS.H2,rS.H3,rS.H4,rS.H5,rS.H6,rS.HEAD,rS.HEADER,rS.HGROUP,rS.HR,rS.HTML,rS.IFRAME,rS.IMG,rS.INPUT,rS.LI,rS.LINK,rS.LISTING,rS.MAIN,rS.MARQUEE,rS.MENU,rS.META,rS.NAV,rS.NOEMBED,rS.NOFRAMES,rS.NOSCRIPT,rS.OBJECT,rS.OL,rS.P,rS.PARAM,rS.PLAINTEXT,rS.PRE,rS.SCRIPT,rS.SECTION,rS.SELECT,rS.SOURCE,rS.STYLE,rS.SUMMARY,rS.TABLE,rS.TBODY,rS.TD,rS.TEMPLATE,rS.TEXTAREA,rS.TFOOT,rS.TH,rS.THEAD,rS.TITLE,rS.TR,rS.TRACK,rS.UL,rS.WBR,rS.XMP]),[eb.MATHML]:new Set([rS.MI,rS.MO,rS.MN,rS.MS,rS.MTEXT,rS.ANNOTATION_XML]),[eb.SVG]:new Set([rS.TITLE,rS.FOREIGN_OBJECT,rS.DESC]),[eb.XLINK]:new Set,[eb.XML]:new Set,[eb.XMLNS]:new Set};function isNumberedHeader(s){return s===rS.H1||s===rS.H2||s===rS.H3||s===rS.H4||s===rS.H5||s===rS.H6}eC.STYLE,eC.SCRIPT,eC.XMP,eC.IFRAME,eC.NOEMBED,eC.NOFRAMES,eC.PLAINTEXT;let rC=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);(er=eI||(eI={}))[er.DATA=0]="DATA",er[er.RCDATA=1]="RCDATA",er[er.RAWTEXT=2]="RAWTEXT",er[er.SCRIPT_DATA=3]="SCRIPT_DATA",er[er.PLAINTEXT=4]="PLAINTEXT",er[er.TAG_OPEN=5]="TAG_OPEN",er[er.END_TAG_OPEN=6]="END_TAG_OPEN",er[er.TAG_NAME=7]="TAG_NAME",er[er.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",er[er.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",er[er.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",er[er.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",er[er.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",er[er.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",er[er.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",er[er.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",er[er.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",er[er.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",er[er.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",er[er.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",er[er.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",er[er.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",er[er.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",er[er.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",er[er.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",er[er.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",er[er.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",er[er.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",er[er.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",er[er.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",er[er.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",er[er.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",er[er.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",er[er.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",er[er.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",er[er.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",er[er.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",er[er.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",er[er.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",er[er.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",er[er.BOGUS_COMMENT=40]="BOGUS_COMMENT",er[er.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",er[er.COMMENT_START=42]="COMMENT_START",er[er.COMMENT_START_DASH=43]="COMMENT_START_DASH",er[er.COMMENT=44]="COMMENT",er[er.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",er[er.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",er[er.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",er[er.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",er[er.COMMENT_END_DASH=49]="COMMENT_END_DASH",er[er.COMMENT_END=50]="COMMENT_END",er[er.COMMENT_END_BANG=51]="COMMENT_END_BANG",er[er.DOCTYPE=52]="DOCTYPE",er[er.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",er[er.DOCTYPE_NAME=54]="DOCTYPE_NAME",er[er.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",er[er.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",er[er.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",er[er.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",er[er.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",er[er.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",er[er.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",er[er.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",er[er.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",er[er.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",er[er.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",er[er.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",er[er.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",er[er.CDATA_SECTION=68]="CDATA_SECTION",er[er.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",er[er.CDATA_SECTION_END=70]="CDATA_SECTION_END",er[er.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",er[er.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",er[er.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",er[er.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",er[er.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",er[er.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",er[er.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",er[er.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END";let rx={DATA:eI.DATA,RCDATA:eI.RCDATA,RAWTEXT:eI.RAWTEXT,SCRIPT_DATA:eI.SCRIPT_DATA,PLAINTEXT:eI.PLAINTEXT,CDATA_SECTION:eI.CDATA_SECTION};function isAsciiDigit(s){return s>=em.DIGIT_0&&s<=em.DIGIT_9}function isAsciiUpper(s){return s>=em.LATIN_CAPITAL_A&&s<=em.LATIN_CAPITAL_Z}function isAsciiLetter(s){return s>=em.LATIN_SMALL_A&&s<=em.LATIN_SMALL_Z||isAsciiUpper(s)}function tokenizer_isAsciiAlphaNumeric(s){return isAsciiLetter(s)||isAsciiDigit(s)}function isAsciiUpperHexDigit(s){return s>=em.LATIN_CAPITAL_A&&s<=em.LATIN_CAPITAL_F}function isAsciiLowerHexDigit(s){return s>=em.LATIN_SMALL_A&&s<=em.LATIN_SMALL_F}function isWhitespace(s){return s===em.SPACE||s===em.LINE_FEED||s===em.TABULATION||s===em.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(s){return isWhitespace(s)||s===em.SOLIDUS||s===em.GREATER_THAN_SIGN}let Tokenizer=class Tokenizer{constructor(s,h){this.options=s,this.handler=h,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=eI.DATA,this.returnState=eI.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(h),this.currentLocation=this.getCurrentLocation(-1)}_err(s){var h,g;null===(g=(h=this.handler).onParseError)||void 0===g||g.call(h,this.preprocessor.getError(s))}getCurrentLocation(s){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-s,startOffset:this.preprocessor.offset-s,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let s=this._consume();this._ensureHibernation()||this._callState(s)}this.inLoop=!1}}pause(){this.paused=!0}resume(s){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==s||s())}write(s,h,g){this.active=!0,this.preprocessor.write(s,h),this._runParsingLoop(),this.paused||null==g||g()}insertHtmlAtCurrentPos(s){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(s),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(s){this.consumedAfterSnapshot-=s,this.preprocessor.retreat(s)}_reconsumeInState(s,h){this.state=s,this._callState(h)}_advanceBy(s){this.consumedAfterSnapshot+=s;for(let h=0;h<s;h++)this.preprocessor.advance()}_consumeSequenceIfMatch(s,h){return!!this.preprocessor.startsWith(s,h)&&(this._advanceBy(s.length-1),!0)}_createStartTagToken(){this.currentToken={type:eE.START_TAG,tagName:"",tagID:ex.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:eE.END_TAG,tagName:"",tagID:ex.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(s){this.currentToken={type:eE.COMMENT,data:"",location:this.getCurrentLocation(s)}}_createDoctypeToken(s){this.currentToken={type:eE.DOCTYPE,name:s,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(s,h){this.currentCharacterToken={type:s,chars:h,location:this.currentLocation}}_createAttr(s){this.currentAttr={name:s,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var s,h;let g=this.currentToken;if(null===getTokenAttr(g,this.currentAttr.name)){if(g.attrs.push(this.currentAttr),g.location&&this.currentLocation){let _=null!==(s=(h=g.location).attrs)&&void 0!==s?s:h.attrs=Object.create(null);_[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(eg.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(s){this._emitCurrentCharacterToken(s.location),this.currentToken=null,s.location&&(s.location.endLine=this.preprocessor.line,s.location.endCol=this.preprocessor.col+1,s.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let s=this.currentToken;this.prepareToken(s),s.tagID=getTagID(s.tagName),s.type===eE.START_TAG?(this.lastStartTagName=s.tagName,this.handler.onStartTag(s)):(s.attrs.length>0&&this._err(eg.endTagWithAttributes),s.selfClosing&&this._err(eg.endTagWithTrailingSolidus),this.handler.onEndTag(s)),this.preprocessor.dropParsedChunk()}emitCurrentComment(s){this.prepareToken(s),this.handler.onComment(s),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(s){this.prepareToken(s),this.handler.onDoctype(s),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(s){if(this.currentCharacterToken){switch(s&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=s.startLine,this.currentCharacterToken.location.endCol=s.startCol,this.currentCharacterToken.location.endOffset=s.startOffset),this.currentCharacterToken.type){case eE.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case eE.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case eE.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){let s=this.getCurrentLocation(0);s&&(s.endLine=s.startLine,s.endCol=s.startCol,s.endOffset=s.startOffset),this._emitCurrentCharacterToken(s),this.handler.onEof({type:eE.EOF,location:s}),this.active=!1}_appendCharToCurrentCharacterToken(s,h){if(this.currentCharacterToken){if(this.currentCharacterToken.type!==s)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=h;return}}this._createCharacterToken(s,h)}_emitCodePoint(s){let h=isWhitespace(s)?eE.WHITESPACE_CHARACTER:s===em.NULL?eE.NULL_CHARACTER:eE.CHARACTER;this._appendCharToCurrentCharacterToken(h,String.fromCodePoint(s))}_emitChars(s){this._appendCharToCurrentCharacterToken(eE.CHARACTER,s)}_matchNamedCharacterReference(s){let h=null,g=0,_=!1;for(let A=0,b=rT[0];A>=0&&!((A=determineBranch(rT,b,A+1,s))<0);s=this._consume()){g+=1,b=rT[A];let k=b&ev.VALUE_LENGTH;if(k){var y;let b=(k>>14)-1;if(s!==em.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((y=this.preprocessor.peek(1))===em.EQUALS_SIGN||tokenizer_isAsciiAlphaNumeric(y))?(h=[em.AMPERSAND],A+=b):(h=0===b?[rT[A]&~ev.VALUE_LENGTH]:1===b?[rT[++A]]:[rT[++A],rT[++A]],g=0,_=s!==em.SEMICOLON),0===b){this._consume();break}}}return this._unconsume(g),_&&!this.preprocessor.endOfChunkHit&&this._err(eg.missingSemicolonAfterCharacterReference),this._unconsume(1),h}_isCharacterReferenceInAttribute(){return this.returnState===eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===eI.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===eI.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(s){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(s):this._emitCodePoint(s)}_callState(s){switch(this.state){case eI.DATA:this._stateData(s);break;case eI.RCDATA:this._stateRcdata(s);break;case eI.RAWTEXT:this._stateRawtext(s);break;case eI.SCRIPT_DATA:this._stateScriptData(s);break;case eI.PLAINTEXT:this._statePlaintext(s);break;case eI.TAG_OPEN:this._stateTagOpen(s);break;case eI.END_TAG_OPEN:this._stateEndTagOpen(s);break;case eI.TAG_NAME:this._stateTagName(s);break;case eI.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(s);break;case eI.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(s);break;case eI.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(s);break;case eI.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(s);break;case eI.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(s);break;case eI.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(s);break;case eI.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(s);break;case eI.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(s);break;case eI.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(s);break;case eI.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(s);break;case eI.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(s);break;case eI.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(s);break;case eI.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(s);break;case eI.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(s);break;case eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(s);break;case eI.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(s);break;case eI.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(s);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(s);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(s);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(s);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(s);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(s);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(s);break;case eI.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(s);break;case eI.ATTRIBUTE_NAME:this._stateAttributeName(s);break;case eI.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(s);break;case eI.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(s);break;case eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(s);break;case eI.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(s);break;case eI.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(s);break;case eI.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(s);break;case eI.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(s);break;case eI.BOGUS_COMMENT:this._stateBogusComment(s);break;case eI.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(s);break;case eI.COMMENT_START:this._stateCommentStart(s);break;case eI.COMMENT_START_DASH:this._stateCommentStartDash(s);break;case eI.COMMENT:this._stateComment(s);break;case eI.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(s);break;case eI.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(s);break;case eI.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(s);break;case eI.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(s);break;case eI.COMMENT_END_DASH:this._stateCommentEndDash(s);break;case eI.COMMENT_END:this._stateCommentEnd(s);break;case eI.COMMENT_END_BANG:this._stateCommentEndBang(s);break;case eI.DOCTYPE:this._stateDoctype(s);break;case eI.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(s);break;case eI.DOCTYPE_NAME:this._stateDoctypeName(s);break;case eI.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(s);break;case eI.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(s);break;case eI.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(s);break;case eI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(s);break;case eI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(s);break;case eI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(s);break;case eI.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(s);break;case eI.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(s);break;case eI.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(s);break;case eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(s);break;case eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(s);break;case eI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(s);break;case eI.BOGUS_DOCTYPE:this._stateBogusDoctype(s);break;case eI.CDATA_SECTION:this._stateCdataSection(s);break;case eI.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(s);break;case eI.CDATA_SECTION_END:this._stateCdataSectionEnd(s);break;case eI.CHARACTER_REFERENCE:this._stateCharacterReference(s);break;case eI.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(s);break;case eI.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(s);break;case eI.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(s);break;case eI.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(s);break;case eI.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(s);break;case eI.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(s);break;case eI.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(s);break;default:throw Error("Unknown state")}}_stateData(s){switch(s){case em.LESS_THAN_SIGN:this.state=eI.TAG_OPEN;break;case em.AMPERSAND:this.returnState=eI.DATA,this.state=eI.CHARACTER_REFERENCE;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitCodePoint(s);break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(s)}}_stateRcdata(s){switch(s){case em.AMPERSAND:this.returnState=eI.RCDATA,this.state=eI.CHARACTER_REFERENCE;break;case em.LESS_THAN_SIGN:this.state=eI.RCDATA_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(s)}}_stateRawtext(s){switch(s){case em.LESS_THAN_SIGN:this.state=eI.RAWTEXT_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(s)}}_stateScriptData(s){switch(s){case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(s)}}_statePlaintext(s){switch(s){case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(s)}}_stateTagOpen(s){if(isAsciiLetter(s))this._createStartTagToken(),this.state=eI.TAG_NAME,this._stateTagName(s);else switch(s){case em.EXCLAMATION_MARK:this.state=eI.MARKUP_DECLARATION_OPEN;break;case em.SOLIDUS:this.state=eI.END_TAG_OPEN;break;case em.QUESTION_MARK:this._err(eg.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=eI.BOGUS_COMMENT,this._stateBogusComment(s);break;case em.EOF:this._err(eg.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(eg.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=eI.DATA,this._stateData(s)}}_stateEndTagOpen(s){if(isAsciiLetter(s))this._createEndTagToken(),this.state=eI.TAG_NAME,this._stateTagName(s);else switch(s){case em.GREATER_THAN_SIGN:this._err(eg.missingEndTagName),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(eg.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=eI.BOGUS_COMMENT,this._stateBogusComment(s)}}_stateTagName(s){let h=this.currentToken;switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_ATTRIBUTE_NAME;break;case em.SOLIDUS:this.state=eI.SELF_CLOSING_START_TAG;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentTagToken();break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.tagName+="�";break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:h.tagName+=String.fromCodePoint(isAsciiUpper(s)?s+32:s)}}_stateRcdataLessThanSign(s){s===em.SOLIDUS?this.state=eI.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=eI.RCDATA,this._stateRcdata(s))}_stateRcdataEndTagOpen(s){isAsciiLetter(s)?(this.state=eI.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(s)):(this._emitChars("</"),this.state=eI.RCDATA,this._stateRcdata(s))}handleSpecialEndTag(s){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let h=this.currentToken;h.tagName=this.lastStartTagName;let g=this.preprocessor.peek(this.lastStartTagName.length);switch(g){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=eI.BEFORE_ATTRIBUTE_NAME,!1;case em.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=eI.SELF_CLOSING_START_TAG,!1;case em.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=eI.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(s){this.handleSpecialEndTag(s)&&(this._emitChars("</"),this.state=eI.RCDATA,this._stateRcdata(s))}_stateRawtextLessThanSign(s){s===em.SOLIDUS?this.state=eI.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=eI.RAWTEXT,this._stateRawtext(s))}_stateRawtextEndTagOpen(s){isAsciiLetter(s)?(this.state=eI.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(s)):(this._emitChars("</"),this.state=eI.RAWTEXT,this._stateRawtext(s))}_stateRawtextEndTagName(s){this.handleSpecialEndTag(s)&&(this._emitChars("</"),this.state=eI.RAWTEXT,this._stateRawtext(s))}_stateScriptDataLessThanSign(s){switch(s){case em.SOLIDUS:this.state=eI.SCRIPT_DATA_END_TAG_OPEN;break;case em.EXCLAMATION_MARK:this.state=eI.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=eI.SCRIPT_DATA,this._stateScriptData(s)}}_stateScriptDataEndTagOpen(s){isAsciiLetter(s)?(this.state=eI.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(s)):(this._emitChars("</"),this.state=eI.SCRIPT_DATA,this._stateScriptData(s))}_stateScriptDataEndTagName(s){this.handleSpecialEndTag(s)&&(this._emitChars("</"),this.state=eI.SCRIPT_DATA,this._stateScriptData(s))}_stateScriptDataEscapeStart(s){s===em.HYPHEN_MINUS?(this.state=eI.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=eI.SCRIPT_DATA,this._stateScriptData(s))}_stateScriptDataEscapeStartDash(s){s===em.HYPHEN_MINUS?(this.state=eI.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=eI.SCRIPT_DATA,this._stateScriptData(s))}_stateScriptDataEscaped(s){switch(s){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(s)}}_stateScriptDataEscapedDash(s){switch(s){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_ESCAPED,this._emitCodePoint(s)}}_stateScriptDataEscapedDashDash(s){switch(s){case em.HYPHEN_MINUS:this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case em.GREATER_THAN_SIGN:this.state=eI.SCRIPT_DATA,this._emitChars(">");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_ESCAPED,this._emitCodePoint(s)}}_stateScriptDataEscapedLessThanSign(s){s===em.SOLIDUS?this.state=eI.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(s)?(this._emitChars("<"),this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(s)):(this._emitChars("<"),this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(s))}_stateScriptDataEscapedEndTagOpen(s){isAsciiLetter(s)?(this.state=eI.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(s)):(this._emitChars("</"),this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(s))}_stateScriptDataEscapedEndTagName(s){this.handleSpecialEndTag(s)&&(this._emitChars("</"),this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(s))}_stateScriptDataDoubleEscapeStart(s){if(this.preprocessor.startsWith(r_.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(r_.SCRIPT.length))){this._emitCodePoint(s);for(let s=0;s<r_.SCRIPT.length;s++)this._emitCodePoint(this._consume());this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(s))}_stateScriptDataDoubleEscaped(s){switch(s){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(s)}}_stateScriptDataDoubleEscapedDash(s){switch(s){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(s)}}_stateScriptDataDoubleEscapedDashDash(s){switch(s){case em.HYPHEN_MINUS:this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case em.GREATER_THAN_SIGN:this.state=eI.SCRIPT_DATA,this._emitChars(">");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(s)}}_stateScriptDataDoubleEscapedLessThanSign(s){s===em.SOLIDUS?(this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(s))}_stateScriptDataDoubleEscapeEnd(s){if(this.preprocessor.startsWith(r_.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(r_.SCRIPT.length))){this._emitCodePoint(s);for(let s=0;s<r_.SCRIPT.length;s++)this._emitCodePoint(this._consume());this.state=eI.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(s))}_stateBeforeAttributeName(s){switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.SOLIDUS:case em.GREATER_THAN_SIGN:case em.EOF:this.state=eI.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(s);break;case em.EQUALS_SIGN:this._err(eg.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=eI.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=eI.ATTRIBUTE_NAME,this._stateAttributeName(s)}}_stateAttributeName(s){switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:case em.SOLIDUS:case em.GREATER_THAN_SIGN:case em.EOF:this._leaveAttrName(),this.state=eI.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(s);break;case em.EQUALS_SIGN:this._leaveAttrName(),this.state=eI.BEFORE_ATTRIBUTE_VALUE;break;case em.QUOTATION_MARK:case em.APOSTROPHE:case em.LESS_THAN_SIGN:this._err(eg.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(s);break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.name+="�";break;default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(s)?s+32:s)}}_stateAfterAttributeName(s){switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.SOLIDUS:this.state=eI.SELF_CLOSING_START_TAG;break;case em.EQUALS_SIGN:this.state=eI.BEFORE_ATTRIBUTE_VALUE;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentTagToken();break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=eI.ATTRIBUTE_NAME,this._stateAttributeName(s)}}_stateBeforeAttributeValue(s){switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.QUOTATION_MARK:this.state=eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case em.APOSTROPHE:this.state=eI.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingAttributeValue),this.state=eI.DATA,this.emitCurrentTagToken();break;default:this.state=eI.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(s)}}_stateAttributeValueDoubleQuoted(s){switch(s){case em.QUOTATION_MARK:this.state=eI.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case em.AMPERSAND:this.returnState=eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=eI.CHARACTER_REFERENCE;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.value+="�";break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(s)}}_stateAttributeValueSingleQuoted(s){switch(s){case em.APOSTROPHE:this.state=eI.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case em.AMPERSAND:this.returnState=eI.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=eI.CHARACTER_REFERENCE;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.value+="�";break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(s)}}_stateAttributeValueUnquoted(s){switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this._leaveAttrValue(),this.state=eI.BEFORE_ATTRIBUTE_NAME;break;case em.AMPERSAND:this.returnState=eI.ATTRIBUTE_VALUE_UNQUOTED,this.state=eI.CHARACTER_REFERENCE;break;case em.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=eI.DATA,this.emitCurrentTagToken();break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.value+="�";break;case em.QUOTATION_MARK:case em.APOSTROPHE:case em.LESS_THAN_SIGN:case em.EQUALS_SIGN:case em.GRAVE_ACCENT:this._err(eg.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(s);break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(s)}}_stateAfterAttributeValueQuoted(s){switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this._leaveAttrValue(),this.state=eI.BEFORE_ATTRIBUTE_NAME;break;case em.SOLIDUS:this._leaveAttrValue(),this.state=eI.SELF_CLOSING_START_TAG;break;case em.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=eI.DATA,this.emitCurrentTagToken();break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this._err(eg.missingWhitespaceBetweenAttributes),this.state=eI.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(s)}}_stateSelfClosingStartTag(s){switch(s){case em.GREATER_THAN_SIGN:{let s=this.currentToken;s.selfClosing=!0,this.state=eI.DATA,this.emitCurrentTagToken();break}case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this._err(eg.unexpectedSolidusInTag),this.state=eI.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(s)}}_stateBogusComment(s){let h=this.currentToken;switch(s){case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentComment(h);break;case em.EOF:this.emitCurrentComment(h),this._emitEOFToken();break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.data+="�";break;default:h.data+=String.fromCodePoint(s)}}_stateMarkupDeclarationOpen(s){this._consumeSequenceIfMatch(r_.DASH_DASH,!0)?(this._createCommentToken(r_.DASH_DASH.length+1),this.state=eI.COMMENT_START):this._consumeSequenceIfMatch(r_.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(r_.DOCTYPE.length+1),this.state=eI.DOCTYPE):this._consumeSequenceIfMatch(r_.CDATA_START,!0)?this.inForeignNode?this.state=eI.CDATA_SECTION:(this._err(eg.cdataInHtmlContent),this._createCommentToken(r_.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=eI.BOGUS_COMMENT):this._ensureHibernation()||(this._err(eg.incorrectlyOpenedComment),this._createCommentToken(2),this.state=eI.BOGUS_COMMENT,this._stateBogusComment(s))}_stateCommentStart(s){switch(s){case em.HYPHEN_MINUS:this.state=eI.COMMENT_START_DASH;break;case em.GREATER_THAN_SIGN:{this._err(eg.abruptClosingOfEmptyComment),this.state=eI.DATA;let s=this.currentToken;this.emitCurrentComment(s);break}default:this.state=eI.COMMENT,this._stateComment(s)}}_stateCommentStartDash(s){let h=this.currentToken;switch(s){case em.HYPHEN_MINUS:this.state=eI.COMMENT_END;break;case em.GREATER_THAN_SIGN:this._err(eg.abruptClosingOfEmptyComment),this.state=eI.DATA,this.emitCurrentComment(h);break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(h),this._emitEOFToken();break;default:h.data+="-",this.state=eI.COMMENT,this._stateComment(s)}}_stateComment(s){let h=this.currentToken;switch(s){case em.HYPHEN_MINUS:this.state=eI.COMMENT_END_DASH;break;case em.LESS_THAN_SIGN:h.data+="<",this.state=eI.COMMENT_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.data+="�";break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(h),this._emitEOFToken();break;default:h.data+=String.fromCodePoint(s)}}_stateCommentLessThanSign(s){let h=this.currentToken;switch(s){case em.EXCLAMATION_MARK:h.data+="!",this.state=eI.COMMENT_LESS_THAN_SIGN_BANG;break;case em.LESS_THAN_SIGN:h.data+="<";break;default:this.state=eI.COMMENT,this._stateComment(s)}}_stateCommentLessThanSignBang(s){s===em.HYPHEN_MINUS?this.state=eI.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=eI.COMMENT,this._stateComment(s))}_stateCommentLessThanSignBangDash(s){s===em.HYPHEN_MINUS?this.state=eI.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=eI.COMMENT_END_DASH,this._stateCommentEndDash(s))}_stateCommentLessThanSignBangDashDash(s){s!==em.GREATER_THAN_SIGN&&s!==em.EOF&&this._err(eg.nestedComment),this.state=eI.COMMENT_END,this._stateCommentEnd(s)}_stateCommentEndDash(s){let h=this.currentToken;switch(s){case em.HYPHEN_MINUS:this.state=eI.COMMENT_END;break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(h),this._emitEOFToken();break;default:h.data+="-",this.state=eI.COMMENT,this._stateComment(s)}}_stateCommentEnd(s){let h=this.currentToken;switch(s){case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentComment(h);break;case em.EXCLAMATION_MARK:this.state=eI.COMMENT_END_BANG;break;case em.HYPHEN_MINUS:h.data+="-";break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(h),this._emitEOFToken();break;default:h.data+="--",this.state=eI.COMMENT,this._stateComment(s)}}_stateCommentEndBang(s){let h=this.currentToken;switch(s){case em.HYPHEN_MINUS:h.data+="--!",this.state=eI.COMMENT_END_DASH;break;case em.GREATER_THAN_SIGN:this._err(eg.incorrectlyClosedComment),this.state=eI.DATA,this.emitCurrentComment(h);break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(h),this._emitEOFToken();break;default:h.data+="--!",this.state=eI.COMMENT,this._stateComment(s)}}_stateDoctype(s){switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_DOCTYPE_NAME;break;case em.GREATER_THAN_SIGN:this.state=eI.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(s);break;case em.EOF:{this._err(eg.eofInDoctype),this._createDoctypeToken(null);let s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(eg.missingWhitespaceBeforeDoctypeName),this.state=eI.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(s)}}_stateBeforeDoctypeName(s){if(isAsciiUpper(s))this._createDoctypeToken(String.fromCharCode(s+32)),this.state=eI.DOCTYPE_NAME;else switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._createDoctypeToken("�"),this.state=eI.DOCTYPE_NAME;break;case em.GREATER_THAN_SIGN:{this._err(eg.missingDoctypeName),this._createDoctypeToken(null);let s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=eI.DATA;break}case em.EOF:{this._err(eg.eofInDoctype),this._createDoctypeToken(null);let s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(s)),this.state=eI.DOCTYPE_NAME}}_stateDoctypeName(s){let h=this.currentToken;switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.AFTER_DOCTYPE_NAME;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.name+="�";break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:h.name+=String.fromCodePoint(isAsciiUpper(s)?s+32:s)}}_stateAfterDoctypeName(s){let h=this.currentToken;switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(r_.PUBLIC,!1)?this.state=eI.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(r_.SYSTEM,!1)?this.state=eI.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(eg.invalidCharacterSequenceAfterDoctypeName),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(s))}}_stateAfterDoctypePublicKeyword(s){let h=this.currentToken;switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case em.QUOTATION_MARK:this._err(eg.missingWhitespaceAfterDoctypePublicKeyword),h.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:this._err(eg.missingWhitespaceAfterDoctypePublicKeyword),h.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypePublicIdentifier),h.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypePublicIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(s)}}_stateBeforeDoctypePublicIdentifier(s){let h=this.currentToken;switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.QUOTATION_MARK:h.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:h.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypePublicIdentifier),h.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypePublicIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(s)}}_stateDoctypePublicIdentifierDoubleQuoted(s){let h=this.currentToken;switch(s){case em.QUOTATION_MARK:this.state=eI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.publicId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypePublicIdentifier),h.forceQuirks=!0,this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:h.publicId+=String.fromCodePoint(s)}}_stateDoctypePublicIdentifierSingleQuoted(s){let h=this.currentToken;switch(s){case em.APOSTROPHE:this.state=eI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.publicId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypePublicIdentifier),h.forceQuirks=!0,this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:h.publicId+=String.fromCodePoint(s)}}_stateAfterDoctypePublicIdentifier(s){let h=this.currentToken;switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.QUOTATION_MARK:this._err(eg.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:this._err(eg.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(s)}}_stateBetweenDoctypePublicAndSystemIdentifiers(s){let h=this.currentToken;switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.GREATER_THAN_SIGN:this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.QUOTATION_MARK:h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(s)}}_stateAfterDoctypeSystemKeyword(s){let h=this.currentToken;switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case em.QUOTATION_MARK:this._err(eg.missingWhitespaceAfterDoctypeSystemKeyword),h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:this._err(eg.missingWhitespaceAfterDoctypeSystemKeyword),h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(s)}}_stateBeforeDoctypeSystemIdentifier(s){let h=this.currentToken;switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.QUOTATION_MARK:h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(s)}}_stateDoctypeSystemIdentifierDoubleQuoted(s){let h=this.currentToken;switch(s){case em.QUOTATION_MARK:this.state=eI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.systemId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypeSystemIdentifier),h.forceQuirks=!0,this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:h.systemId+=String.fromCodePoint(s)}}_stateDoctypeSystemIdentifierSingleQuoted(s){let h=this.currentToken;switch(s){case em.APOSTROPHE:this.state=eI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.systemId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypeSystemIdentifier),h.forceQuirks=!0,this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:h.systemId+=String.fromCodePoint(s)}}_stateAfterDoctypeSystemIdentifier(s){let h=this.currentToken;switch(s){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.GREATER_THAN_SIGN:this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(s)}}_stateBogusDoctype(s){let h=this.currentToken;switch(s){case em.GREATER_THAN_SIGN:this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.NULL:this._err(eg.unexpectedNullCharacter);break;case em.EOF:this.emitCurrentDoctype(h),this._emitEOFToken()}}_stateCdataSection(s){switch(s){case em.RIGHT_SQUARE_BRACKET:this.state=eI.CDATA_SECTION_BRACKET;break;case em.EOF:this._err(eg.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(s)}}_stateCdataSectionBracket(s){s===em.RIGHT_SQUARE_BRACKET?this.state=eI.CDATA_SECTION_END:(this._emitChars("]"),this.state=eI.CDATA_SECTION,this._stateCdataSection(s))}_stateCdataSectionEnd(s){switch(s){case em.GREATER_THAN_SIGN:this.state=eI.DATA;break;case em.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=eI.CDATA_SECTION,this._stateCdataSection(s)}}_stateCharacterReference(s){s===em.NUMBER_SIGN?this.state=eI.NUMERIC_CHARACTER_REFERENCE:tokenizer_isAsciiAlphaNumeric(s)?(this.state=eI.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(s)):(this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this._reconsumeInState(this.returnState,s))}_stateNamedCharacterReference(s){let h=this._matchNamedCharacterReference(s);if(this._ensureHibernation());else if(h){for(let s=0;s<h.length;s++)this._flushCodePointConsumedAsCharacterReference(h[s]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this.state=eI.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(s){tokenizer_isAsciiAlphaNumeric(s)?this._flushCodePointConsumedAsCharacterReference(s):(s===em.SEMICOLON&&this._err(eg.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,s))}_stateNumericCharacterReference(s){this.charRefCode=0,s===em.LATIN_SMALL_X||s===em.LATIN_CAPITAL_X?this.state=eI.HEXADEMICAL_CHARACTER_REFERENCE_START:isAsciiDigit(s)?(this.state=eI.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(s)):(this._err(eg.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(em.NUMBER_SIGN),this._reconsumeInState(this.returnState,s))}_stateHexademicalCharacterReferenceStart(s){isAsciiDigit(s)||isAsciiUpperHexDigit(s)||isAsciiLowerHexDigit(s)?(this.state=eI.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(s)):(this._err(eg.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(em.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(s){isAsciiUpperHexDigit(s)?this.charRefCode=16*this.charRefCode+s-55:isAsciiLowerHexDigit(s)?this.charRefCode=16*this.charRefCode+s-87:isAsciiDigit(s)?this.charRefCode=16*this.charRefCode+s-48:s===em.SEMICOLON?this.state=eI.NUMERIC_CHARACTER_REFERENCE_END:(this._err(eg.missingSemicolonAfterCharacterReference),this.state=eI.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(s))}_stateDecimalCharacterReference(s){isAsciiDigit(s)?this.charRefCode=10*this.charRefCode+s-48:s===em.SEMICOLON?this.state=eI.NUMERIC_CHARACTER_REFERENCE_END:(this._err(eg.missingSemicolonAfterCharacterReference),this.state=eI.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(s))}_stateNumericCharacterReferenceEnd(s){if(this.charRefCode===em.NULL)this._err(eg.nullCharacterReference),this.charRefCode=em.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(eg.characterReferenceOutsideUnicodeRange),this.charRefCode=em.REPLACEMENT_CHARACTER;else if(isSurrogate(this.charRefCode))this._err(eg.surrogateCharacterReference),this.charRefCode=em.REPLACEMENT_CHARACTER;else if(isUndefinedCodePoint(this.charRefCode))this._err(eg.noncharacterCharacterReference);else if(isControlCodePoint(this.charRefCode)||this.charRefCode===em.CARRIAGE_RETURN){this._err(eg.controlCharacterReference);let s=rC.get(this.charRefCode);void 0!==s&&(this.charRefCode=s)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,s)}};let rI=new Set([ex.DD,ex.DT,ex.LI,ex.OPTGROUP,ex.OPTION,ex.P,ex.RB,ex.RP,ex.RT,ex.RTC]),rw=new Set([...rI,ex.CAPTION,ex.COLGROUP,ex.TBODY,ex.TD,ex.TFOOT,ex.TH,ex.THEAD,ex.TR]),rO=new Map([[ex.APPLET,eb.HTML],[ex.CAPTION,eb.HTML],[ex.HTML,eb.HTML],[ex.MARQUEE,eb.HTML],[ex.OBJECT,eb.HTML],[ex.TABLE,eb.HTML],[ex.TD,eb.HTML],[ex.TEMPLATE,eb.HTML],[ex.TH,eb.HTML],[ex.ANNOTATION_XML,eb.MATHML],[ex.MI,eb.MATHML],[ex.MN,eb.MATHML],[ex.MO,eb.MATHML],[ex.MS,eb.MATHML],[ex.MTEXT,eb.MATHML],[ex.DESC,eb.SVG],[ex.FOREIGN_OBJECT,eb.SVG],[ex.TITLE,eb.SVG]]),rN=[ex.H1,ex.H2,ex.H3,ex.H4,ex.H5,ex.H6],rR=[ex.TR,ex.TEMPLATE,ex.HTML],rD=[ex.TBODY,ex.TFOOT,ex.THEAD,ex.TEMPLATE,ex.HTML],rL=[ex.TABLE,ex.TEMPLATE,ex.HTML],rM=[ex.TD,ex.TH];let OpenElementStack=class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(s,h,g){this.treeAdapter=h,this.handler=g,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=ex.UNKNOWN,this.current=s}_indexOf(s){return this.items.lastIndexOf(s,this.stackTop)}_isInTemplate(){return this.currentTagId===ex.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===eb.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(s,h){this.stackTop++,this.items[this.stackTop]=s,this.current=s,this.tagIDs[this.stackTop]=h,this.currentTagId=h,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(s,h,!0)}pop(){let s=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(s,!0)}replace(s,h){let g=this._indexOf(s);this.items[g]=h,g===this.stackTop&&(this.current=h)}insertAfter(s,h,g){let _=this._indexOf(s)+1;this.items.splice(_,0,h),this.tagIDs.splice(_,0,g),this.stackTop++,_===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,_===this.stackTop)}popUntilTagNamePopped(s){let h=this.stackTop+1;do h=this.tagIDs.lastIndexOf(s,h-1);while(h>0&&this.treeAdapter.getNamespaceURI(this.items[h])!==eb.HTML);this.shortenToLength(h<0?0:h)}shortenToLength(s){for(;this.stackTop>=s;){let h=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(h,this.stackTop<s)}}popUntilElementPopped(s){let h=this._indexOf(s);this.shortenToLength(h<0?0:h)}popUntilPopped(s,h){let g=this._indexOfTagNames(s,h);this.shortenToLength(g<0?0:g)}popUntilNumberedHeaderPopped(){this.popUntilPopped(rN,eb.HTML)}popUntilTableCellPopped(){this.popUntilPopped(rM,eb.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(s,h){for(let g=this.stackTop;g>=0;g--)if(s.includes(this.tagIDs[g])&&this.treeAdapter.getNamespaceURI(this.items[g])===h)return g;return -1}clearBackTo(s,h){let g=this._indexOfTagNames(s,h);this.shortenToLength(g+1)}clearBackToTableContext(){this.clearBackTo(rL,eb.HTML)}clearBackToTableBodyContext(){this.clearBackTo(rD,eb.HTML)}clearBackToTableRowContext(){this.clearBackTo(rR,eb.HTML)}remove(s){let h=this._indexOf(s);h>=0&&(h===this.stackTop?this.pop():(this.items.splice(h,1),this.tagIDs.splice(h,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(s,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===ex.BODY?this.items[1]:null}contains(s){return this._indexOf(s)>-1}getCommonAncestor(s){let h=this._indexOf(s)-1;return h>=0?this.items[h]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===ex.HTML}hasInScope(s){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(g===s&&_===eb.HTML)break;if(rO.get(g)===_)return!1}return!0}hasNumberedHeaderInScope(){for(let s=this.stackTop;s>=0;s--){let h=this.tagIDs[s],g=this.treeAdapter.getNamespaceURI(this.items[s]);if(isNumberedHeader(h)&&g===eb.HTML)break;if(rO.get(h)===g)return!1}return!0}hasInListItemScope(s){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(g===s&&_===eb.HTML)break;if((g===ex.UL||g===ex.OL)&&_===eb.HTML||rO.get(g)===_)return!1}return!0}hasInButtonScope(s){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(g===s&&_===eb.HTML)break;if(g===ex.BUTTON&&_===eb.HTML||rO.get(g)===_)return!1}return!0}hasInTableScope(s){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(_===eb.HTML){if(g===s)break;if(g===ex.TABLE||g===ex.TEMPLATE||g===ex.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let s=this.stackTop;s>=0;s--){let h=this.tagIDs[s],g=this.treeAdapter.getNamespaceURI(this.items[s]);if(g===eb.HTML){if(h===ex.TBODY||h===ex.THEAD||h===ex.TFOOT)break;if(h===ex.TABLE||h===ex.HTML)return!1}}return!0}hasInSelectScope(s){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(_===eb.HTML){if(g===s)break;if(g!==ex.OPTION&&g!==ex.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;rI.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;rw.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(s){for(;this.currentTagId!==s&&rw.has(this.currentTagId);)this.pop()}};(es=ew=ew||(ew={}))[es.Marker=0]="Marker",es[es.Element=1]="Element";let rP={type:ew.Marker};let FormattingElementList=class FormattingElementList{constructor(s){this.treeAdapter=s,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(s,h){let g=[],_=h.length,y=this.treeAdapter.getTagName(s),A=this.treeAdapter.getNamespaceURI(s);for(let s=0;s<this.entries.length;s++){let h=this.entries[s];if(h.type===ew.Marker)break;let{element:b}=h;if(this.treeAdapter.getTagName(b)===y&&this.treeAdapter.getNamespaceURI(b)===A){let h=this.treeAdapter.getAttrList(b);h.length===_&&g.push({idx:s,attrs:h})}}return g}_ensureNoahArkCondition(s){if(this.entries.length<3)return;let h=this.treeAdapter.getAttrList(s),g=this._getNoahArkConditionCandidates(s,h);if(g.length<3)return;let _=new Map(h.map(s=>[s.name,s.value])),y=0;for(let s=0;s<g.length;s++){let h=g[s];h.attrs.every(s=>_.get(s.name)===s.value)&&(y+=1)>=3&&this.entries.splice(h.idx,1)}}insertMarker(){this.entries.unshift(rP)}pushElement(s,h){this._ensureNoahArkCondition(s),this.entries.unshift({type:ew.Element,element:s,token:h})}insertElementAfterBookmark(s,h){let g=this.entries.indexOf(this.bookmark);this.entries.splice(g,0,{type:ew.Element,element:s,token:h})}removeEntry(s){let h=this.entries.indexOf(s);h>=0&&this.entries.splice(h,1)}clearToLastMarker(){let s=this.entries.indexOf(rP);s>=0?this.entries.splice(0,s+1):this.entries.length=0}getElementEntryInScopeWithTagName(s){let h=this.entries.find(h=>h.type===ew.Marker||this.treeAdapter.getTagName(h.element)===s);return h&&h.type===ew.Element?h:null}getElementEntry(s){return this.entries.find(h=>h.type===ew.Element&&h.element===s)}};function createTextNode(s){return{nodeName:"#text",value:s,parentNode:null}}let rF={createDocument:()=>({nodeName:"#document",mode:ek.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(s,h,g)=>({nodeName:s,tagName:s,attrs:g,namespaceURI:h,childNodes:[],parentNode:null}),createCommentNode:s=>({nodeName:"#comment",data:s,parentNode:null}),appendChild(s,h){s.childNodes.push(h),h.parentNode=s},insertBefore(s,h,g){let _=s.childNodes.indexOf(g);s.childNodes.splice(_,0,h),h.parentNode=s},setTemplateContent(s,h){s.content=h},getTemplateContent:s=>s.content,setDocumentType(s,h,g,_){let y=s.childNodes.find(s=>"#documentType"===s.nodeName);y?(y.name=h,y.publicId=g,y.systemId=_):rF.appendChild(s,{nodeName:"#documentType",name:h,publicId:g,systemId:_,parentNode:null})},setDocumentMode(s,h){s.mode=h},getDocumentMode:s=>s.mode,detachNode(s){if(s.parentNode){let h=s.parentNode.childNodes.indexOf(s);s.parentNode.childNodes.splice(h,1),s.parentNode=null}},insertText(s,h){if(s.childNodes.length>0){let g=s.childNodes[s.childNodes.length-1];if(rF.isTextNode(g)){g.value+=h;return}}rF.appendChild(s,createTextNode(h))},insertTextBefore(s,h,g){let _=s.childNodes[s.childNodes.indexOf(g)-1];_&&rF.isTextNode(_)?_.value+=h:rF.insertBefore(s,createTextNode(h),g)},adoptAttributes(s,h){let g=new Set(s.attrs.map(s=>s.name));for(let _=0;_<h.length;_++)g.has(h[_].name)||s.attrs.push(h[_])},getFirstChild:s=>s.childNodes[0],getChildNodes:s=>s.childNodes,getParentNode:s=>s.parentNode,getAttrList:s=>s.attrs,getTagName:s=>s.tagName,getNamespaceURI:s=>s.namespaceURI,getTextNodeContent:s=>s.value,getCommentNodeContent:s=>s.data,getDocumentTypeNodeName:s=>s.name,getDocumentTypeNodePublicId:s=>s.publicId,getDocumentTypeNodeSystemId:s=>s.systemId,isTextNode:s=>"#text"===s.nodeName,isCommentNode:s=>"#comment"===s.nodeName,isDocumentTypeNode:s=>"#documentType"===s.nodeName,isElementNode:s=>Object.prototype.hasOwnProperty.call(s,"tagName"),setNodeSourceCodeLocation(s,h){s.sourceCodeLocation=h},getNodeSourceCodeLocation:s=>s.sourceCodeLocation,updateNodeSourceCodeLocation(s,h){s.sourceCodeLocation={...s.sourceCodeLocation,...h}}},rB="html",rU=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],rH=[...rU,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],rG=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),rz=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],rV=[...rz,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(s,h){return h.some(h=>s.startsWith(h))}let r$={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},rQ=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(s=>[s.toLowerCase(),s])),rj=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:eb.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:eb.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:eb.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:eb.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:eb.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:eb.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:eb.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:eb.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:eb.XML}],["xml:space",{prefix:"xml",name:"space",namespace:eb.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:eb.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:eb.XMLNS}]]),rY=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(s=>[s.toLowerCase(),s])),rq=new Set([ex.B,ex.BIG,ex.BLOCKQUOTE,ex.BODY,ex.BR,ex.CENTER,ex.CODE,ex.DD,ex.DIV,ex.DL,ex.DT,ex.EM,ex.EMBED,ex.H1,ex.H2,ex.H3,ex.H4,ex.H5,ex.H6,ex.HEAD,ex.HR,ex.I,ex.IMG,ex.LI,ex.LISTING,ex.MENU,ex.META,ex.NOBR,ex.OL,ex.P,ex.PRE,ex.RUBY,ex.S,ex.SMALL,ex.SPAN,ex.STRONG,ex.STRIKE,ex.SUB,ex.SUP,ex.TABLE,ex.TT,ex.U,ex.UL,ex.VAR]);function adjustTokenMathMLAttrs(s){for(let h=0;h<s.attrs.length;h++)if("definitionurl"===s.attrs[h].name){s.attrs[h].name="definitionURL";break}}function adjustTokenSVGAttrs(s){for(let h=0;h<s.attrs.length;h++){let g=rQ.get(s.attrs[h].name);null!=g&&(s.attrs[h].name=g)}}function adjustTokenXMLAttrs(s){for(let h=0;h<s.attrs.length;h++){let g=rj.get(s.attrs[h].name);g&&(s.attrs[h].prefix=g.prefix,s.attrs[h].name=g.name,s.attrs[h].namespace=g.namespace)}}(el=eO||(eO={}))[el.INITIAL=0]="INITIAL",el[el.BEFORE_HTML=1]="BEFORE_HTML",el[el.BEFORE_HEAD=2]="BEFORE_HEAD",el[el.IN_HEAD=3]="IN_HEAD",el[el.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",el[el.AFTER_HEAD=5]="AFTER_HEAD",el[el.IN_BODY=6]="IN_BODY",el[el.TEXT=7]="TEXT",el[el.IN_TABLE=8]="IN_TABLE",el[el.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",el[el.IN_CAPTION=10]="IN_CAPTION",el[el.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",el[el.IN_TABLE_BODY=12]="IN_TABLE_BODY",el[el.IN_ROW=13]="IN_ROW",el[el.IN_CELL=14]="IN_CELL",el[el.IN_SELECT=15]="IN_SELECT",el[el.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",el[el.IN_TEMPLATE=17]="IN_TEMPLATE",el[el.AFTER_BODY=18]="AFTER_BODY",el[el.IN_FRAMESET=19]="IN_FRAMESET",el[el.AFTER_FRAMESET=20]="AFTER_FRAMESET",el[el.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",el[el.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let rW={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},rX=new Set([ex.TABLE,ex.TBODY,ex.TFOOT,ex.THEAD,ex.TR]),rK={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:rF,onParseError:null};let parser_Parser=class parser_Parser{constructor(s,h,g=null,_=null){this.fragmentContext=g,this.scriptHandler=_,this.currentToken=null,this.stopped=!1,this.insertionMode=eO.INITIAL,this.originalInsertionMode=eO.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...rK,...s},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=h?h:this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=g?getTagID(this.treeAdapter.getTagName(g)):ex.UNKNOWN,this._setContextModes(null!=g?g:this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(s,h){let g=new this(h);return g.tokenizer.write(s,!0),g.document}static getFragmentParser(s,h){let g={...rK,...h};null!=s||(s=g.treeAdapter.createElement(eC.TEMPLATE,eb.HTML,[]));let _=g.treeAdapter.createElement("documentmock",eb.HTML,[]),y=new this(g,_,s);return y.fragmentContextID===ex.TEMPLATE&&y.tmplInsertionModeStack.unshift(eO.IN_TEMPLATE),y._initTokenizerForFragmentParsing(),y._insertFakeRootElement(),y._resetInsertionMode(),y._findFormInFragmentContext(),y}getFragment(){let s=this.treeAdapter.getFirstChild(this.document),h=this.treeAdapter.createDocumentFragment();return this._adoptNodes(s,h),h}_err(s,h,g){var _;if(!this.onParseError)return;let y=null!==(_=s.location)&&void 0!==_?_:rW,A={code:h,startLine:y.startLine,startCol:y.startCol,startOffset:y.startOffset,endLine:g?y.startLine:y.endLine,endCol:g?y.startCol:y.endCol,endOffset:g?y.startOffset:y.endOffset};this.onParseError(A)}onItemPush(s,h,g){var _,y;null===(y=(_=this.treeAdapter).onItemPush)||void 0===y||y.call(_,s),g&&this.openElements.stackTop>0&&this._setContextModes(s,h)}onItemPop(s,h){var g,_;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(s,this.currentToken),null===(_=(g=this.treeAdapter).onItemPop)||void 0===_||_.call(g,s,this.openElements.current),h){let s,h;0===this.openElements.stackTop&&this.fragmentContext?(s=this.fragmentContext,h=this.fragmentContextID):{current:s,currentTagId:h}=this.openElements,this._setContextModes(s,h)}}_setContextModes(s,h){let g=s===this.document||this.treeAdapter.getNamespaceURI(s)===eb.HTML;this.currentNotInHTML=!g,this.tokenizer.inForeignNode=!g&&!this._isIntegrationPoint(h,s)}_switchToTextParsing(s,h){this._insertElement(s,eb.HTML),this.tokenizer.state=h,this.originalInsertionMode=this.insertionMode,this.insertionMode=eO.TEXT}switchToPlaintextParsing(){this.insertionMode=eO.TEXT,this.originalInsertionMode=eO.IN_BODY,this.tokenizer.state=rx.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let s=this.fragmentContext;for(;s;){if(this.treeAdapter.getTagName(s)===eC.FORM){this.formElement=s;break}s=this.treeAdapter.getParentNode(s)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===eb.HTML)switch(this.fragmentContextID){case ex.TITLE:case ex.TEXTAREA:this.tokenizer.state=rx.RCDATA;break;case ex.STYLE:case ex.XMP:case ex.IFRAME:case ex.NOEMBED:case ex.NOFRAMES:case ex.NOSCRIPT:this.tokenizer.state=rx.RAWTEXT;break;case ex.SCRIPT:this.tokenizer.state=rx.SCRIPT_DATA;break;case ex.PLAINTEXT:this.tokenizer.state=rx.PLAINTEXT}}_setDocumentType(s){let h=s.name||"",g=s.publicId||"",_=s.systemId||"";if(this.treeAdapter.setDocumentType(this.document,h,g,_),s.location){let h=this.treeAdapter.getChildNodes(this.document),g=h.find(s=>this.treeAdapter.isDocumentTypeNode(s));g&&this.treeAdapter.setNodeSourceCodeLocation(g,s.location)}}_attachElementToTree(s,h){if(this.options.sourceCodeLocationInfo){let g=h&&{...h,startTag:h};this.treeAdapter.setNodeSourceCodeLocation(s,g)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(s);else{let h=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(h,s)}}_appendElement(s,h){let g=this.treeAdapter.createElement(s.tagName,h,s.attrs);this._attachElementToTree(g,s.location)}_insertElement(s,h){let g=this.treeAdapter.createElement(s.tagName,h,s.attrs);this._attachElementToTree(g,s.location),this.openElements.push(g,s.tagID)}_insertFakeElement(s,h){let g=this.treeAdapter.createElement(s,eb.HTML,[]);this._attachElementToTree(g,null),this.openElements.push(g,h)}_insertTemplate(s){let h=this.treeAdapter.createElement(s.tagName,eb.HTML,s.attrs),g=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(h,g),this._attachElementToTree(h,s.location),this.openElements.push(h,s.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(g,null)}_insertFakeRootElement(){let s=this.treeAdapter.createElement(eC.HTML,eb.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,null),this.treeAdapter.appendChild(this.openElements.current,s),this.openElements.push(s,ex.HTML)}_appendCommentNode(s,h){let g=this.treeAdapter.createCommentNode(s.data);this.treeAdapter.appendChild(h,g),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(g,s.location)}_insertCharacters(s){let h,g;if(this._shouldFosterParentOnInsertion()?({parent:h,beforeElement:g}=this._findFosterParentingLocation(),g?this.treeAdapter.insertTextBefore(h,s.chars,g):this.treeAdapter.insertText(h,s.chars)):(h=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(h,s.chars)),!s.location)return;let _=this.treeAdapter.getChildNodes(h),y=g?_.lastIndexOf(g):_.length,A=_[y-1],b=this.treeAdapter.getNodeSourceCodeLocation(A);if(b){let{endLine:h,endCol:g,endOffset:_}=s.location;this.treeAdapter.updateNodeSourceCodeLocation(A,{endLine:h,endCol:g,endOffset:_})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(A,s.location)}_adoptNodes(s,h){for(let g=this.treeAdapter.getFirstChild(s);g;g=this.treeAdapter.getFirstChild(s))this.treeAdapter.detachNode(g),this.treeAdapter.appendChild(h,g)}_setEndLocation(s,h){if(this.treeAdapter.getNodeSourceCodeLocation(s)&&h.location){let g=h.location,_=this.treeAdapter.getTagName(s),y=h.type===eE.END_TAG&&_===h.tagName?{endTag:{...g},endLine:g.endLine,endCol:g.endCol,endOffset:g.endOffset}:{endLine:g.startLine,endCol:g.startCol,endOffset:g.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(s,y)}}shouldProcessStartTagTokenInForeignContent(s){let h,g;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(h=this.fragmentContext,g=this.fragmentContextID):{current:h,currentTagId:g}=this.openElements,(s.tagID!==ex.SVG||this.treeAdapter.getTagName(h)!==eC.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(h)!==eb.MATHML)&&(this.tokenizer.inForeignNode||(s.tagID===ex.MGLYPH||s.tagID===ex.MALIGNMARK)&&!this._isIntegrationPoint(g,h,eb.HTML)))}_processToken(s){switch(s.type){case eE.CHARACTER:this.onCharacter(s);break;case eE.NULL_CHARACTER:this.onNullCharacter(s);break;case eE.COMMENT:this.onComment(s);break;case eE.DOCTYPE:this.onDoctype(s);break;case eE.START_TAG:this._processStartTag(s);break;case eE.END_TAG:this.onEndTag(s);break;case eE.EOF:this.onEof(s);break;case eE.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(s)}}_isIntegrationPoint(s,h,g){let _=this.treeAdapter.getNamespaceURI(h),y=this.treeAdapter.getAttrList(h);return(!g||g===eb.HTML)&&function(s,h,g){if(h===eb.MATHML&&s===ex.ANNOTATION_XML){for(let s=0;s<g.length;s++)if(g[s].name===eS.ENCODING){let h=g[s].value.toLowerCase();return h===r$.TEXT_HTML||h===r$.APPLICATION_XML}}return h===eb.SVG&&(s===ex.FOREIGN_OBJECT||s===ex.DESC||s===ex.TITLE)}(s,_,y)||(!g||g===eb.MATHML)&&_===eb.MATHML&&(s===ex.MI||s===ex.MO||s===ex.MN||s===ex.MS||s===ex.MTEXT)}_reconstructActiveFormattingElements(){let s=this.activeFormattingElements.entries.length;if(s){let h=this.activeFormattingElements.entries.findIndex(s=>s.type===ew.Marker||this.openElements.contains(s.element)),g=h<0?s-1:h-1;for(let s=g;s>=0;s--){let h=this.activeFormattingElements.entries[s];this._insertElement(h.token,this.treeAdapter.getNamespaceURI(h.element)),h.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=eO.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(ex.P),this.openElements.popUntilTagNamePopped(ex.P)}_resetInsertionMode(){for(let s=this.openElements.stackTop;s>=0;s--)switch(0===s&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[s]){case ex.TR:this.insertionMode=eO.IN_ROW;return;case ex.TBODY:case ex.THEAD:case ex.TFOOT:this.insertionMode=eO.IN_TABLE_BODY;return;case ex.CAPTION:this.insertionMode=eO.IN_CAPTION;return;case ex.COLGROUP:this.insertionMode=eO.IN_COLUMN_GROUP;return;case ex.TABLE:this.insertionMode=eO.IN_TABLE;return;case ex.BODY:this.insertionMode=eO.IN_BODY;return;case ex.FRAMESET:this.insertionMode=eO.IN_FRAMESET;return;case ex.SELECT:this._resetInsertionModeForSelect(s);return;case ex.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case ex.HTML:this.insertionMode=this.headElement?eO.AFTER_HEAD:eO.BEFORE_HEAD;return;case ex.TD:case ex.TH:if(s>0){this.insertionMode=eO.IN_CELL;return}break;case ex.HEAD:if(s>0){this.insertionMode=eO.IN_HEAD;return}}this.insertionMode=eO.IN_BODY}_resetInsertionModeForSelect(s){if(s>0)for(let h=s-1;h>0;h--){let s=this.openElements.tagIDs[h];if(s===ex.TEMPLATE)break;if(s===ex.TABLE){this.insertionMode=eO.IN_SELECT_IN_TABLE;return}}this.insertionMode=eO.IN_SELECT}_isElementCausesFosterParenting(s){return rX.has(s)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let s=this.openElements.stackTop;s>=0;s--){let h=this.openElements.items[s];switch(this.openElements.tagIDs[s]){case ex.TEMPLATE:if(this.treeAdapter.getNamespaceURI(h)===eb.HTML)return{parent:this.treeAdapter.getTemplateContent(h),beforeElement:null};break;case ex.TABLE:{let g=this.treeAdapter.getParentNode(h);if(g)return{parent:g,beforeElement:h};return{parent:this.openElements.items[s-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(s){let h=this._findFosterParentingLocation();h.beforeElement?this.treeAdapter.insertBefore(h.parent,s,h.beforeElement):this.treeAdapter.appendChild(h.parent,s)}_isSpecialElement(s,h){let g=this.treeAdapter.getNamespaceURI(s);return rk[g].has(h)}onCharacter(s){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(s),this.framesetOk=!1;return}switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,s);break;case eO.BEFORE_HTML:tokenBeforeHtml(this,s);break;case eO.BEFORE_HEAD:tokenBeforeHead(this,s);break;case eO.IN_HEAD:tokenInHead(this,s);break;case eO.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,s);break;case eO.AFTER_HEAD:tokenAfterHead(this,s);break;case eO.IN_BODY:case eO.IN_CAPTION:case eO.IN_CELL:case eO.IN_TEMPLATE:characterInBody(this,s);break;case eO.TEXT:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:this._insertCharacters(s);break;case eO.IN_TABLE:case eO.IN_TABLE_BODY:case eO.IN_ROW:characterInTable(this,s);break;case eO.IN_TABLE_TEXT:characterInTableText(this,s);break;case eO.IN_COLUMN_GROUP:tokenInColumnGroup(this,s);break;case eO.AFTER_BODY:tokenAfterBody(this,s);break;case eO.AFTER_AFTER_BODY:tokenAfterAfterBody(this,s)}}onNullCharacter(s){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){s.chars="�",this._insertCharacters(s);return}switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,s);break;case eO.BEFORE_HTML:tokenBeforeHtml(this,s);break;case eO.BEFORE_HEAD:tokenBeforeHead(this,s);break;case eO.IN_HEAD:tokenInHead(this,s);break;case eO.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,s);break;case eO.AFTER_HEAD:tokenAfterHead(this,s);break;case eO.TEXT:this._insertCharacters(s);break;case eO.IN_TABLE:case eO.IN_TABLE_BODY:case eO.IN_ROW:characterInTable(this,s);break;case eO.IN_COLUMN_GROUP:tokenInColumnGroup(this,s);break;case eO.AFTER_BODY:tokenAfterBody(this,s);break;case eO.AFTER_AFTER_BODY:tokenAfterAfterBody(this,s)}}onComment(s){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,s);return}switch(this.insertionMode){case eO.INITIAL:case eO.BEFORE_HTML:case eO.BEFORE_HEAD:case eO.IN_HEAD:case eO.IN_HEAD_NO_SCRIPT:case eO.AFTER_HEAD:case eO.IN_BODY:case eO.IN_TABLE:case eO.IN_CAPTION:case eO.IN_COLUMN_GROUP:case eO.IN_TABLE_BODY:case eO.IN_ROW:case eO.IN_CELL:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:case eO.IN_TEMPLATE:case eO.IN_FRAMESET:case eO.AFTER_FRAMESET:appendComment(this,s);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,s);break;case eO.AFTER_BODY:!function(s,h){s._appendCommentNode(h,s.openElements.items[0])}(this,s);break;case eO.AFTER_AFTER_BODY:case eO.AFTER_AFTER_FRAMESET:!function(s,h){s._appendCommentNode(h,s.document)}(this,s)}}onDoctype(s){switch(this.skipNextNewLine=!1,this.insertionMode){case eO.INITIAL:!function(s,h){s._setDocumentType(h);let g=h.forceQuirks?ek.QUIRKS:function(s){if(s.name!==rB)return ek.QUIRKS;let{systemId:h}=s;if(h&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===h.toLowerCase())return ek.QUIRKS;let{publicId:g}=s;if(null!==g){if(g=g.toLowerCase(),rG.has(g))return ek.QUIRKS;let s=null===h?rH:rU;if(hasPrefix(g,s))return ek.QUIRKS;if(hasPrefix(g,s=null===h?rz:rV))return ek.LIMITED_QUIRKS}return ek.NO_QUIRKS}(h);h.name===rB&&null===h.publicId&&(null===h.systemId||"about:legacy-compat"===h.systemId)||s._err(h,eg.nonConformingDoctype),s.treeAdapter.setDocumentMode(s.document,g),s.insertionMode=eO.BEFORE_HTML}(this,s);break;case eO.BEFORE_HEAD:case eO.IN_HEAD:case eO.IN_HEAD_NO_SCRIPT:case eO.AFTER_HEAD:this._err(s,eg.misplacedDoctype);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,s)}}onStartTag(s){this.skipNextNewLine=!1,this.currentToken=s,this._processStartTag(s),s.selfClosing&&!s.ackSelfClosing&&this._err(s,eg.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(s){this.shouldProcessStartTagTokenInForeignContent(s)?function(s,h){if(function(s){let h=s.tagID,g=h===ex.FONT&&s.attrs.some(({name:s})=>s===eS.COLOR||s===eS.SIZE||s===eS.FACE);return g||rq.has(h)}(h))popUntilHtmlOrIntegrationPoint(s),s._startTagOutsideForeignContent(h);else{let g=s._getAdjustedCurrentElement(),_=s.treeAdapter.getNamespaceURI(g);_===eb.MATHML?adjustTokenMathMLAttrs(h):_===eb.SVG&&(function(s){let h=rY.get(s.tagName);null!=h&&(s.tagName=h,s.tagID=getTagID(s.tagName))}(h),adjustTokenSVGAttrs(h)),adjustTokenXMLAttrs(h),h.selfClosing?s._appendElement(h,_):s._insertElement(h,_),h.ackSelfClosing=!0}}(this,s):this._startTagOutsideForeignContent(s)}_startTagOutsideForeignContent(s){switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,s);break;case eO.BEFORE_HTML:s.tagID===ex.HTML?(this._insertElement(s,eb.HTML),this.insertionMode=eO.BEFORE_HEAD):tokenBeforeHtml(this,s);break;case eO.BEFORE_HEAD:!function(s,h){switch(h.tagID){case ex.HTML:startTagInBody(s,h);break;case ex.HEAD:s._insertElement(h,eb.HTML),s.headElement=s.openElements.current,s.insertionMode=eO.IN_HEAD;break;default:tokenBeforeHead(s,h)}}(this,s);break;case eO.IN_HEAD:startTagInHead(this,s);break;case eO.IN_HEAD_NO_SCRIPT:!function(s,h){switch(h.tagID){case ex.HTML:startTagInBody(s,h);break;case ex.BASEFONT:case ex.BGSOUND:case ex.HEAD:case ex.LINK:case ex.META:case ex.NOFRAMES:case ex.STYLE:startTagInHead(s,h);break;case ex.NOSCRIPT:s._err(h,eg.nestedNoscriptInHead);break;default:tokenInHeadNoScript(s,h)}}(this,s);break;case eO.AFTER_HEAD:!function(s,h){switch(h.tagID){case ex.HTML:startTagInBody(s,h);break;case ex.BODY:s._insertElement(h,eb.HTML),s.framesetOk=!1,s.insertionMode=eO.IN_BODY;break;case ex.FRAMESET:s._insertElement(h,eb.HTML),s.insertionMode=eO.IN_FRAMESET;break;case ex.BASE:case ex.BASEFONT:case ex.BGSOUND:case ex.LINK:case ex.META:case ex.NOFRAMES:case ex.SCRIPT:case ex.STYLE:case ex.TEMPLATE:case ex.TITLE:s._err(h,eg.abandonedHeadElementChild),s.openElements.push(s.headElement,ex.HEAD),startTagInHead(s,h),s.openElements.remove(s.headElement);break;case ex.HEAD:s._err(h,eg.misplacedStartTagForHeadElement);break;default:tokenAfterHead(s,h)}}(this,s);break;case eO.IN_BODY:startTagInBody(this,s);break;case eO.IN_TABLE:startTagInTable(this,s);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,s);break;case eO.IN_CAPTION:!function(s,h){let g=h.tagID;rJ.has(g)?s.openElements.hasInTableScope(ex.CAPTION)&&(s.openElements.generateImpliedEndTags(),s.openElements.popUntilTagNamePopped(ex.CAPTION),s.activeFormattingElements.clearToLastMarker(),s.insertionMode=eO.IN_TABLE,startTagInTable(s,h)):startTagInBody(s,h)}(this,s);break;case eO.IN_COLUMN_GROUP:startTagInColumnGroup(this,s);break;case eO.IN_TABLE_BODY:startTagInTableBody(this,s);break;case eO.IN_ROW:startTagInRow(this,s);break;case eO.IN_CELL:!function(s,h){let g=h.tagID;rJ.has(g)?(s.openElements.hasInTableScope(ex.TD)||s.openElements.hasInTableScope(ex.TH))&&(s._closeTableCell(),startTagInRow(s,h)):startTagInBody(s,h)}(this,s);break;case eO.IN_SELECT:startTagInSelect(this,s);break;case eO.IN_SELECT_IN_TABLE:!function(s,h){let g=h.tagID;g===ex.CAPTION||g===ex.TABLE||g===ex.TBODY||g===ex.TFOOT||g===ex.THEAD||g===ex.TR||g===ex.TD||g===ex.TH?(s.openElements.popUntilTagNamePopped(ex.SELECT),s._resetInsertionMode(),s._processStartTag(h)):startTagInSelect(s,h)}(this,s);break;case eO.IN_TEMPLATE:!function(s,h){switch(h.tagID){case ex.BASE:case ex.BASEFONT:case ex.BGSOUND:case ex.LINK:case ex.META:case ex.NOFRAMES:case ex.SCRIPT:case ex.STYLE:case ex.TEMPLATE:case ex.TITLE:startTagInHead(s,h);break;case ex.CAPTION:case ex.COLGROUP:case ex.TBODY:case ex.TFOOT:case ex.THEAD:s.tmplInsertionModeStack[0]=eO.IN_TABLE,s.insertionMode=eO.IN_TABLE,startTagInTable(s,h);break;case ex.COL:s.tmplInsertionModeStack[0]=eO.IN_COLUMN_GROUP,s.insertionMode=eO.IN_COLUMN_GROUP,startTagInColumnGroup(s,h);break;case ex.TR:s.tmplInsertionModeStack[0]=eO.IN_TABLE_BODY,s.insertionMode=eO.IN_TABLE_BODY,startTagInTableBody(s,h);break;case ex.TD:case ex.TH:s.tmplInsertionModeStack[0]=eO.IN_ROW,s.insertionMode=eO.IN_ROW,startTagInRow(s,h);break;default:s.tmplInsertionModeStack[0]=eO.IN_BODY,s.insertionMode=eO.IN_BODY,startTagInBody(s,h)}}(this,s);break;case eO.AFTER_BODY:s.tagID===ex.HTML?startTagInBody(this,s):tokenAfterBody(this,s);break;case eO.IN_FRAMESET:!function(s,h){switch(h.tagID){case ex.HTML:startTagInBody(s,h);break;case ex.FRAMESET:s._insertElement(h,eb.HTML);break;case ex.FRAME:s._appendElement(h,eb.HTML),h.ackSelfClosing=!0;break;case ex.NOFRAMES:startTagInHead(s,h)}}(this,s);break;case eO.AFTER_FRAMESET:!function(s,h){switch(h.tagID){case ex.HTML:startTagInBody(s,h);break;case ex.NOFRAMES:startTagInHead(s,h)}}(this,s);break;case eO.AFTER_AFTER_BODY:s.tagID===ex.HTML?startTagInBody(this,s):tokenAfterAfterBody(this,s);break;case eO.AFTER_AFTER_FRAMESET:!function(s,h){switch(h.tagID){case ex.HTML:startTagInBody(s,h);break;case ex.NOFRAMES:startTagInHead(s,h)}}(this,s)}}onEndTag(s){this.skipNextNewLine=!1,this.currentToken=s,this.currentNotInHTML?function(s,h){if(h.tagID===ex.P||h.tagID===ex.BR){popUntilHtmlOrIntegrationPoint(s),s._endTagOutsideForeignContent(h);return}for(let g=s.openElements.stackTop;g>0;g--){let _=s.openElements.items[g];if(s.treeAdapter.getNamespaceURI(_)===eb.HTML){s._endTagOutsideForeignContent(h);break}let y=s.treeAdapter.getTagName(_);if(y.toLowerCase()===h.tagName){h.tagName=y,s.openElements.shortenToLength(g);break}}}(this,s):this._endTagOutsideForeignContent(s)}_endTagOutsideForeignContent(s){var h;switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,s);break;case eO.BEFORE_HTML:!function(s,h){let g=h.tagID;(g===ex.HTML||g===ex.HEAD||g===ex.BODY||g===ex.BR)&&tokenBeforeHtml(s,h)}(this,s);break;case eO.BEFORE_HEAD:!function(s,h){let g=h.tagID;g===ex.HEAD||g===ex.BODY||g===ex.HTML||g===ex.BR?tokenBeforeHead(s,h):s._err(h,eg.endTagWithoutMatchingOpenElement)}(this,s);break;case eO.IN_HEAD:!function(s,h){switch(h.tagID){case ex.HEAD:s.openElements.pop(),s.insertionMode=eO.AFTER_HEAD;break;case ex.BODY:case ex.BR:case ex.HTML:tokenInHead(s,h);break;case ex.TEMPLATE:templateEndTagInHead(s,h);break;default:s._err(h,eg.endTagWithoutMatchingOpenElement)}}(this,s);break;case eO.IN_HEAD_NO_SCRIPT:!function(s,h){switch(h.tagID){case ex.NOSCRIPT:s.openElements.pop(),s.insertionMode=eO.IN_HEAD;break;case ex.BR:tokenInHeadNoScript(s,h);break;default:s._err(h,eg.endTagWithoutMatchingOpenElement)}}(this,s);break;case eO.AFTER_HEAD:!function(s,h){switch(h.tagID){case ex.BODY:case ex.HTML:case ex.BR:tokenAfterHead(s,h);break;case ex.TEMPLATE:templateEndTagInHead(s,h);break;default:s._err(h,eg.endTagWithoutMatchingOpenElement)}}(this,s);break;case eO.IN_BODY:endTagInBody(this,s);break;case eO.TEXT:s.tagID===ex.SCRIPT&&(null===(h=this.scriptHandler)||void 0===h||h.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case eO.IN_TABLE:endTagInTable(this,s);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,s);break;case eO.IN_CAPTION:!function(s,h){let g=h.tagID;switch(g){case ex.CAPTION:case ex.TABLE:s.openElements.hasInTableScope(ex.CAPTION)&&(s.openElements.generateImpliedEndTags(),s.openElements.popUntilTagNamePopped(ex.CAPTION),s.activeFormattingElements.clearToLastMarker(),s.insertionMode=eO.IN_TABLE,g===ex.TABLE&&endTagInTable(s,h));break;case ex.BODY:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TBODY:case ex.TD:case ex.TFOOT:case ex.TH:case ex.THEAD:case ex.TR:break;default:endTagInBody(s,h)}}(this,s);break;case eO.IN_COLUMN_GROUP:!function(s,h){switch(h.tagID){case ex.COLGROUP:s.openElements.currentTagId===ex.COLGROUP&&(s.openElements.pop(),s.insertionMode=eO.IN_TABLE);break;case ex.TEMPLATE:templateEndTagInHead(s,h);break;case ex.COL:break;default:tokenInColumnGroup(s,h)}}(this,s);break;case eO.IN_TABLE_BODY:endTagInTableBody(this,s);break;case eO.IN_ROW:endTagInRow(this,s);break;case eO.IN_CELL:!function(s,h){let g=h.tagID;switch(g){case ex.TD:case ex.TH:s.openElements.hasInTableScope(g)&&(s.openElements.generateImpliedEndTags(),s.openElements.popUntilTagNamePopped(g),s.activeFormattingElements.clearToLastMarker(),s.insertionMode=eO.IN_ROW);break;case ex.TABLE:case ex.TBODY:case ex.TFOOT:case ex.THEAD:case ex.TR:s.openElements.hasInTableScope(g)&&(s._closeTableCell(),endTagInRow(s,h));break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:break;default:endTagInBody(s,h)}}(this,s);break;case eO.IN_SELECT:endTagInSelect(this,s);break;case eO.IN_SELECT_IN_TABLE:!function(s,h){let g=h.tagID;g===ex.CAPTION||g===ex.TABLE||g===ex.TBODY||g===ex.TFOOT||g===ex.THEAD||g===ex.TR||g===ex.TD||g===ex.TH?s.openElements.hasInTableScope(g)&&(s.openElements.popUntilTagNamePopped(ex.SELECT),s._resetInsertionMode(),s.onEndTag(h)):endTagInSelect(s,h)}(this,s);break;case eO.IN_TEMPLATE:s.tagID===ex.TEMPLATE&&templateEndTagInHead(this,s);break;case eO.AFTER_BODY:endTagAfterBody(this,s);break;case eO.IN_FRAMESET:s.tagID!==ex.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===ex.FRAMESET||(this.insertionMode=eO.AFTER_FRAMESET));break;case eO.AFTER_FRAMESET:s.tagID===ex.HTML&&(this.insertionMode=eO.AFTER_AFTER_FRAMESET);break;case eO.AFTER_AFTER_BODY:tokenAfterAfterBody(this,s)}}onEof(s){switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,s);break;case eO.BEFORE_HTML:tokenBeforeHtml(this,s);break;case eO.BEFORE_HEAD:tokenBeforeHead(this,s);break;case eO.IN_HEAD:tokenInHead(this,s);break;case eO.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,s);break;case eO.AFTER_HEAD:tokenAfterHead(this,s);break;case eO.IN_BODY:case eO.IN_TABLE:case eO.IN_CAPTION:case eO.IN_COLUMN_GROUP:case eO.IN_TABLE_BODY:case eO.IN_ROW:case eO.IN_CELL:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:eofInBody(this,s);break;case eO.TEXT:this._err(s,eg.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(s);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,s);break;case eO.IN_TEMPLATE:eofInTemplate(this,s);break;case eO.AFTER_BODY:case eO.IN_FRAMESET:case eO.AFTER_FRAMESET:case eO.AFTER_AFTER_BODY:case eO.AFTER_AFTER_FRAMESET:stopParsing(this,s)}}onWhitespaceCharacter(s){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,s.chars.charCodeAt(0)===em.LINE_FEED)){if(1===s.chars.length)return;s.chars=s.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(s);return}switch(this.insertionMode){case eO.IN_HEAD:case eO.IN_HEAD_NO_SCRIPT:case eO.AFTER_HEAD:case eO.TEXT:case eO.IN_COLUMN_GROUP:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:case eO.IN_FRAMESET:case eO.AFTER_FRAMESET:this._insertCharacters(s);break;case eO.IN_BODY:case eO.IN_CAPTION:case eO.IN_CELL:case eO.IN_TEMPLATE:case eO.AFTER_BODY:case eO.AFTER_AFTER_BODY:case eO.AFTER_AFTER_FRAMESET:whitespaceCharacterInBody(this,s);break;case eO.IN_TABLE:case eO.IN_TABLE_BODY:case eO.IN_ROW:characterInTable(this,s);break;case eO.IN_TABLE_TEXT:whitespaceCharacterInTableText(this,s)}}};function callAdoptionAgency(s,h){for(let g=0;g<8;g++){let g=function(s,h){let g=s.activeFormattingElements.getElementEntryInScopeWithTagName(h.tagName);return g?s.openElements.contains(g.element)?s.openElements.hasInScope(h.tagID)||(g=null):(s.activeFormattingElements.removeEntry(g),g=null):genericEndTagInBody(s,h),g}(s,h);if(!g)break;let _=function(s,h){let g=null,_=s.openElements.stackTop;for(;_>=0;_--){let y=s.openElements.items[_];if(y===h.element)break;s._isSpecialElement(y,s.openElements.tagIDs[_])&&(g=y)}return g||(s.openElements.shortenToLength(_<0?0:_),s.activeFormattingElements.removeEntry(h)),g}(s,g);if(!_)break;s.activeFormattingElements.bookmark=g;let y=function(s,h,g){let _=h,y=s.openElements.getCommonAncestor(h);for(let A=0,b=y;b!==g;A++,b=y){y=s.openElements.getCommonAncestor(b);let g=s.activeFormattingElements.getElementEntry(b),k=g&&A>=3,w=!g||k;w?(k&&s.activeFormattingElements.removeEntry(g),s.openElements.remove(b)):(b=function(s,h){let g=s.treeAdapter.getNamespaceURI(h.element),_=s.treeAdapter.createElement(h.token.tagName,g,h.token.attrs);return s.openElements.replace(h.element,_),h.element=_,_}(s,g),_===h&&(s.activeFormattingElements.bookmark=g),s.treeAdapter.detachNode(_),s.treeAdapter.appendChild(b,_),_=b)}return _}(s,_,g.element),A=s.openElements.getCommonAncestor(g.element);s.treeAdapter.detachNode(y),A&&function(s,h,g){let _=s.treeAdapter.getTagName(h),y=getTagID(_);if(s._isElementCausesFosterParenting(y))s._fosterParentElement(g);else{let _=s.treeAdapter.getNamespaceURI(h);y===ex.TEMPLATE&&_===eb.HTML&&(h=s.treeAdapter.getTemplateContent(h)),s.treeAdapter.appendChild(h,g)}}(s,A,y),function(s,h,g){let _=s.treeAdapter.getNamespaceURI(g.element),{token:y}=g,A=s.treeAdapter.createElement(y.tagName,_,y.attrs);s._adoptNodes(h,A),s.treeAdapter.appendChild(h,A),s.activeFormattingElements.insertElementAfterBookmark(A,y),s.activeFormattingElements.removeEntry(g),s.openElements.remove(g.element),s.openElements.insertAfter(h,A,y.tagID)}(s,_,g)}}function appendComment(s,h){s._appendCommentNode(h,s.openElements.currentTmplContentOrNode)}function stopParsing(s,h){if(s.stopped=!0,h.location){let g=s.fragmentContext?0:2;for(let _=s.openElements.stackTop;_>=g;_--)s._setEndLocation(s.openElements.items[_],h);if(!s.fragmentContext&&s.openElements.stackTop>=0){let g=s.openElements.items[0],_=s.treeAdapter.getNodeSourceCodeLocation(g);if(_&&!_.endTag&&(s._setEndLocation(g,h),s.openElements.stackTop>=1)){let g=s.openElements.items[1],_=s.treeAdapter.getNodeSourceCodeLocation(g);_&&!_.endTag&&s._setEndLocation(g,h)}}}}function tokenInInitialMode(s,h){s._err(h,eg.missingDoctype,!0),s.treeAdapter.setDocumentMode(s.document,ek.QUIRKS),s.insertionMode=eO.BEFORE_HTML,s._processToken(h)}function tokenBeforeHtml(s,h){s._insertFakeRootElement(),s.insertionMode=eO.BEFORE_HEAD,s._processToken(h)}function tokenBeforeHead(s,h){s._insertFakeElement(eC.HEAD,ex.HEAD),s.headElement=s.openElements.current,s.insertionMode=eO.IN_HEAD,s._processToken(h)}function startTagInHead(s,h){switch(h.tagID){case ex.HTML:startTagInBody(s,h);break;case ex.BASE:case ex.BASEFONT:case ex.BGSOUND:case ex.LINK:case ex.META:s._appendElement(h,eb.HTML),h.ackSelfClosing=!0;break;case ex.TITLE:s._switchToTextParsing(h,rx.RCDATA);break;case ex.NOSCRIPT:s.options.scriptingEnabled?s._switchToTextParsing(h,rx.RAWTEXT):(s._insertElement(h,eb.HTML),s.insertionMode=eO.IN_HEAD_NO_SCRIPT);break;case ex.NOFRAMES:case ex.STYLE:s._switchToTextParsing(h,rx.RAWTEXT);break;case ex.SCRIPT:s._switchToTextParsing(h,rx.SCRIPT_DATA);break;case ex.TEMPLATE:s._insertTemplate(h),s.activeFormattingElements.insertMarker(),s.framesetOk=!1,s.insertionMode=eO.IN_TEMPLATE,s.tmplInsertionModeStack.unshift(eO.IN_TEMPLATE);break;case ex.HEAD:s._err(h,eg.misplacedStartTagForHeadElement);break;default:tokenInHead(s,h)}}function templateEndTagInHead(s,h){s.openElements.tmplCount>0?(s.openElements.generateImpliedEndTagsThoroughly(),s.openElements.currentTagId!==ex.TEMPLATE&&s._err(h,eg.closingOfElementWithOpenChildElements),s.openElements.popUntilTagNamePopped(ex.TEMPLATE),s.activeFormattingElements.clearToLastMarker(),s.tmplInsertionModeStack.shift(),s._resetInsertionMode()):s._err(h,eg.endTagWithoutMatchingOpenElement)}function tokenInHead(s,h){s.openElements.pop(),s.insertionMode=eO.AFTER_HEAD,s._processToken(h)}function tokenInHeadNoScript(s,h){let g=h.type===eE.EOF?eg.openElementsLeftAfterEof:eg.disallowedContentInNoscriptInHead;s._err(h,g),s.openElements.pop(),s.insertionMode=eO.IN_HEAD,s._processToken(h)}function tokenAfterHead(s,h){s._insertFakeElement(eC.BODY,ex.BODY),s.insertionMode=eO.IN_BODY,modeInBody(s,h)}function modeInBody(s,h){switch(h.type){case eE.CHARACTER:characterInBody(s,h);break;case eE.WHITESPACE_CHARACTER:whitespaceCharacterInBody(s,h);break;case eE.COMMENT:appendComment(s,h);break;case eE.START_TAG:startTagInBody(s,h);break;case eE.END_TAG:endTagInBody(s,h);break;case eE.EOF:eofInBody(s,h)}}function whitespaceCharacterInBody(s,h){s._reconstructActiveFormattingElements(),s._insertCharacters(h)}function characterInBody(s,h){s._reconstructActiveFormattingElements(),s._insertCharacters(h),s.framesetOk=!1}function areaStartTagInBody(s,h){s._reconstructActiveFormattingElements(),s._appendElement(h,eb.HTML),s.framesetOk=!1,h.ackSelfClosing=!0}function isHiddenInput(s){let h=getTokenAttr(s,eS.TYPE);return null!=h&&"hidden"===h.toLowerCase()}function noembedStartTagInBody(s,h){s._switchToTextParsing(h,rx.RAWTEXT)}function genericStartTagInBody(s,h){s._reconstructActiveFormattingElements(),s._insertElement(h,eb.HTML)}function startTagInBody(s,h){switch(h.tagID){case ex.I:case ex.S:case ex.B:case ex.U:case ex.EM:case ex.TT:case ex.BIG:case ex.CODE:case ex.FONT:case ex.SMALL:case ex.STRIKE:case ex.STRONG:s._reconstructActiveFormattingElements(),s._insertElement(h,eb.HTML),s.activeFormattingElements.pushElement(s.openElements.current,h);break;case ex.A:!function(s,h){let g=s.activeFormattingElements.getElementEntryInScopeWithTagName(eC.A);g&&(callAdoptionAgency(s,h),s.openElements.remove(g.element),s.activeFormattingElements.removeEntry(g)),s._reconstructActiveFormattingElements(),s._insertElement(h,eb.HTML),s.activeFormattingElements.pushElement(s.openElements.current,h)}(s,h);break;case ex.H1:case ex.H2:case ex.H3:case ex.H4:case ex.H5:case ex.H6:s.openElements.hasInButtonScope(ex.P)&&s._closePElement(),isNumberedHeader(s.openElements.currentTagId)&&s.openElements.pop(),s._insertElement(h,eb.HTML);break;case ex.P:case ex.DL:case ex.OL:case ex.UL:case ex.DIV:case ex.DIR:case ex.NAV:case ex.MAIN:case ex.MENU:case ex.ASIDE:case ex.CENTER:case ex.FIGURE:case ex.FOOTER:case ex.HEADER:case ex.HGROUP:case ex.DIALOG:case ex.DETAILS:case ex.ADDRESS:case ex.ARTICLE:case ex.SECTION:case ex.SUMMARY:case ex.FIELDSET:case ex.BLOCKQUOTE:case ex.FIGCAPTION:s.openElements.hasInButtonScope(ex.P)&&s._closePElement(),s._insertElement(h,eb.HTML);break;case ex.LI:case ex.DD:case ex.DT:!function(s,h){s.framesetOk=!1;let g=h.tagID;for(let h=s.openElements.stackTop;h>=0;h--){let _=s.openElements.tagIDs[h];if(g===ex.LI&&_===ex.LI||(g===ex.DD||g===ex.DT)&&(_===ex.DD||_===ex.DT)){s.openElements.generateImpliedEndTagsWithExclusion(_),s.openElements.popUntilTagNamePopped(_);break}if(_!==ex.ADDRESS&&_!==ex.DIV&&_!==ex.P&&s._isSpecialElement(s.openElements.items[h],_))break}s.openElements.hasInButtonScope(ex.P)&&s._closePElement(),s._insertElement(h,eb.HTML)}(s,h);break;case ex.BR:case ex.IMG:case ex.WBR:case ex.AREA:case ex.EMBED:case ex.KEYGEN:areaStartTagInBody(s,h);break;case ex.HR:s.openElements.hasInButtonScope(ex.P)&&s._closePElement(),s._appendElement(h,eb.HTML),s.framesetOk=!1,h.ackSelfClosing=!0;break;case ex.RB:case ex.RTC:s.openElements.hasInScope(ex.RUBY)&&s.openElements.generateImpliedEndTags(),s._insertElement(h,eb.HTML);break;case ex.RT:case ex.RP:s.openElements.hasInScope(ex.RUBY)&&s.openElements.generateImpliedEndTagsWithExclusion(ex.RTC),s._insertElement(h,eb.HTML);break;case ex.PRE:case ex.LISTING:s.openElements.hasInButtonScope(ex.P)&&s._closePElement(),s._insertElement(h,eb.HTML),s.skipNextNewLine=!0,s.framesetOk=!1;break;case ex.XMP:s.openElements.hasInButtonScope(ex.P)&&s._closePElement(),s._reconstructActiveFormattingElements(),s.framesetOk=!1,s._switchToTextParsing(h,rx.RAWTEXT);break;case ex.SVG:s._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(h),adjustTokenXMLAttrs(h),h.selfClosing?s._appendElement(h,eb.SVG):s._insertElement(h,eb.SVG),h.ackSelfClosing=!0;break;case ex.HTML:0===s.openElements.tmplCount&&s.treeAdapter.adoptAttributes(s.openElements.items[0],h.attrs);break;case ex.BASE:case ex.LINK:case ex.META:case ex.STYLE:case ex.TITLE:case ex.SCRIPT:case ex.BGSOUND:case ex.BASEFONT:case ex.TEMPLATE:startTagInHead(s,h);break;case ex.BODY:!function(s,h){let g=s.openElements.tryPeekProperlyNestedBodyElement();g&&0===s.openElements.tmplCount&&(s.framesetOk=!1,s.treeAdapter.adoptAttributes(g,h.attrs))}(s,h);break;case ex.FORM:!function(s,h){let g=s.openElements.tmplCount>0;s.formElement&&!g||(s.openElements.hasInButtonScope(ex.P)&&s._closePElement(),s._insertElement(h,eb.HTML),g||(s.formElement=s.openElements.current))}(s,h);break;case ex.NOBR:s._reconstructActiveFormattingElements(),s.openElements.hasInScope(ex.NOBR)&&(callAdoptionAgency(s,h),s._reconstructActiveFormattingElements()),s._insertElement(h,eb.HTML),s.activeFormattingElements.pushElement(s.openElements.current,h);break;case ex.MATH:s._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(h),adjustTokenXMLAttrs(h),h.selfClosing?s._appendElement(h,eb.MATHML):s._insertElement(h,eb.MATHML),h.ackSelfClosing=!0;break;case ex.TABLE:s.treeAdapter.getDocumentMode(s.document)!==ek.QUIRKS&&s.openElements.hasInButtonScope(ex.P)&&s._closePElement(),s._insertElement(h,eb.HTML),s.framesetOk=!1,s.insertionMode=eO.IN_TABLE;break;case ex.INPUT:s._reconstructActiveFormattingElements(),s._appendElement(h,eb.HTML),isHiddenInput(h)||(s.framesetOk=!1),h.ackSelfClosing=!0;break;case ex.PARAM:case ex.TRACK:case ex.SOURCE:s._appendElement(h,eb.HTML),h.ackSelfClosing=!0;break;case ex.IMAGE:h.tagName=eC.IMG,h.tagID=ex.IMG,areaStartTagInBody(s,h);break;case ex.BUTTON:s.openElements.hasInScope(ex.BUTTON)&&(s.openElements.generateImpliedEndTags(),s.openElements.popUntilTagNamePopped(ex.BUTTON)),s._reconstructActiveFormattingElements(),s._insertElement(h,eb.HTML),s.framesetOk=!1;break;case ex.APPLET:case ex.OBJECT:case ex.MARQUEE:s._reconstructActiveFormattingElements(),s._insertElement(h,eb.HTML),s.activeFormattingElements.insertMarker(),s.framesetOk=!1;break;case ex.IFRAME:s.framesetOk=!1,s._switchToTextParsing(h,rx.RAWTEXT);break;case ex.SELECT:s._reconstructActiveFormattingElements(),s._insertElement(h,eb.HTML),s.framesetOk=!1,s.insertionMode=s.insertionMode===eO.IN_TABLE||s.insertionMode===eO.IN_CAPTION||s.insertionMode===eO.IN_TABLE_BODY||s.insertionMode===eO.IN_ROW||s.insertionMode===eO.IN_CELL?eO.IN_SELECT_IN_TABLE:eO.IN_SELECT;break;case ex.OPTION:case ex.OPTGROUP:s.openElements.currentTagId===ex.OPTION&&s.openElements.pop(),s._reconstructActiveFormattingElements(),s._insertElement(h,eb.HTML);break;case ex.NOEMBED:noembedStartTagInBody(s,h);break;case ex.FRAMESET:!function(s,h){let g=s.openElements.tryPeekProperlyNestedBodyElement();s.framesetOk&&g&&(s.treeAdapter.detachNode(g),s.openElements.popAllUpToHtmlElement(),s._insertElement(h,eb.HTML),s.insertionMode=eO.IN_FRAMESET)}(s,h);break;case ex.TEXTAREA:s._insertElement(h,eb.HTML),s.skipNextNewLine=!0,s.tokenizer.state=rx.RCDATA,s.originalInsertionMode=s.insertionMode,s.framesetOk=!1,s.insertionMode=eO.TEXT;break;case ex.NOSCRIPT:s.options.scriptingEnabled?noembedStartTagInBody(s,h):genericStartTagInBody(s,h);break;case ex.PLAINTEXT:s.openElements.hasInButtonScope(ex.P)&&s._closePElement(),s._insertElement(h,eb.HTML),s.tokenizer.state=rx.PLAINTEXT;break;case ex.COL:case ex.TH:case ex.TD:case ex.TR:case ex.HEAD:case ex.FRAME:case ex.TBODY:case ex.TFOOT:case ex.THEAD:case ex.CAPTION:case ex.COLGROUP:break;default:genericStartTagInBody(s,h)}}function genericEndTagInBody(s,h){let g=h.tagName,_=h.tagID;for(let h=s.openElements.stackTop;h>0;h--){let y=s.openElements.items[h],A=s.openElements.tagIDs[h];if(_===A&&(_!==ex.UNKNOWN||s.treeAdapter.getTagName(y)===g)){s.openElements.generateImpliedEndTagsWithExclusion(_),s.openElements.stackTop>=h&&s.openElements.shortenToLength(h);break}if(s._isSpecialElement(y,A))break}}function endTagInBody(s,h){switch(h.tagID){case ex.A:case ex.B:case ex.I:case ex.S:case ex.U:case ex.EM:case ex.TT:case ex.BIG:case ex.CODE:case ex.FONT:case ex.NOBR:case ex.SMALL:case ex.STRIKE:case ex.STRONG:callAdoptionAgency(s,h);break;case ex.P:s.openElements.hasInButtonScope(ex.P)||s._insertFakeElement(eC.P,ex.P),s._closePElement();break;case ex.DL:case ex.UL:case ex.OL:case ex.DIR:case ex.DIV:case ex.NAV:case ex.PRE:case ex.MAIN:case ex.MENU:case ex.ASIDE:case ex.BUTTON:case ex.CENTER:case ex.FIGURE:case ex.FOOTER:case ex.HEADER:case ex.HGROUP:case ex.DIALOG:case ex.ADDRESS:case ex.ARTICLE:case ex.DETAILS:case ex.SECTION:case ex.SUMMARY:case ex.LISTING:case ex.FIELDSET:case ex.BLOCKQUOTE:case ex.FIGCAPTION:!function(s,h){let g=h.tagID;s.openElements.hasInScope(g)&&(s.openElements.generateImpliedEndTags(),s.openElements.popUntilTagNamePopped(g))}(s,h);break;case ex.LI:s.openElements.hasInListItemScope(ex.LI)&&(s.openElements.generateImpliedEndTagsWithExclusion(ex.LI),s.openElements.popUntilTagNamePopped(ex.LI));break;case ex.DD:case ex.DT:!function(s,h){let g=h.tagID;s.openElements.hasInScope(g)&&(s.openElements.generateImpliedEndTagsWithExclusion(g),s.openElements.popUntilTagNamePopped(g))}(s,h);break;case ex.H1:case ex.H2:case ex.H3:case ex.H4:case ex.H5:case ex.H6:s.openElements.hasNumberedHeaderInScope()&&(s.openElements.generateImpliedEndTags(),s.openElements.popUntilNumberedHeaderPopped());break;case ex.BR:s._reconstructActiveFormattingElements(),s._insertFakeElement(eC.BR,ex.BR),s.openElements.pop(),s.framesetOk=!1;break;case ex.BODY:!function(s,h){if(s.openElements.hasInScope(ex.BODY)&&(s.insertionMode=eO.AFTER_BODY,s.options.sourceCodeLocationInfo)){let g=s.openElements.tryPeekProperlyNestedBodyElement();g&&s._setEndLocation(g,h)}}(s,h);break;case ex.HTML:s.openElements.hasInScope(ex.BODY)&&(s.insertionMode=eO.AFTER_BODY,endTagAfterBody(s,h));break;case ex.FORM:!function(s){let h=s.openElements.tmplCount>0,{formElement:g}=s;h||(s.formElement=null),(g||h)&&s.openElements.hasInScope(ex.FORM)&&(s.openElements.generateImpliedEndTags(),h?s.openElements.popUntilTagNamePopped(ex.FORM):g&&s.openElements.remove(g))}(s);break;case ex.APPLET:case ex.OBJECT:case ex.MARQUEE:!function(s,h){let g=h.tagID;s.openElements.hasInScope(g)&&(s.openElements.generateImpliedEndTags(),s.openElements.popUntilTagNamePopped(g),s.activeFormattingElements.clearToLastMarker())}(s,h);break;case ex.TEMPLATE:templateEndTagInHead(s,h);break;default:genericEndTagInBody(s,h)}}function eofInBody(s,h){s.tmplInsertionModeStack.length>0?eofInTemplate(s,h):stopParsing(s,h)}function characterInTable(s,h){if(rX.has(s.openElements.currentTagId))switch(s.pendingCharacterTokens.length=0,s.hasNonWhitespacePendingCharacterToken=!1,s.originalInsertionMode=s.insertionMode,s.insertionMode=eO.IN_TABLE_TEXT,h.type){case eE.CHARACTER:characterInTableText(s,h);break;case eE.WHITESPACE_CHARACTER:whitespaceCharacterInTableText(s,h)}else tokenInTable(s,h)}function startTagInTable(s,h){switch(h.tagID){case ex.TD:case ex.TH:case ex.TR:s.openElements.clearBackToTableContext(),s._insertFakeElement(eC.TBODY,ex.TBODY),s.insertionMode=eO.IN_TABLE_BODY,startTagInTableBody(s,h);break;case ex.STYLE:case ex.SCRIPT:case ex.TEMPLATE:startTagInHead(s,h);break;case ex.COL:s.openElements.clearBackToTableContext(),s._insertFakeElement(eC.COLGROUP,ex.COLGROUP),s.insertionMode=eO.IN_COLUMN_GROUP,startTagInColumnGroup(s,h);break;case ex.FORM:s.formElement||0!==s.openElements.tmplCount||(s._insertElement(h,eb.HTML),s.formElement=s.openElements.current,s.openElements.pop());break;case ex.TABLE:s.openElements.hasInTableScope(ex.TABLE)&&(s.openElements.popUntilTagNamePopped(ex.TABLE),s._resetInsertionMode(),s._processStartTag(h));break;case ex.TBODY:case ex.TFOOT:case ex.THEAD:s.openElements.clearBackToTableContext(),s._insertElement(h,eb.HTML),s.insertionMode=eO.IN_TABLE_BODY;break;case ex.INPUT:isHiddenInput(h)?s._appendElement(h,eb.HTML):tokenInTable(s,h),h.ackSelfClosing=!0;break;case ex.CAPTION:s.openElements.clearBackToTableContext(),s.activeFormattingElements.insertMarker(),s._insertElement(h,eb.HTML),s.insertionMode=eO.IN_CAPTION;break;case ex.COLGROUP:s.openElements.clearBackToTableContext(),s._insertElement(h,eb.HTML),s.insertionMode=eO.IN_COLUMN_GROUP;break;default:tokenInTable(s,h)}}function endTagInTable(s,h){switch(h.tagID){case ex.TABLE:s.openElements.hasInTableScope(ex.TABLE)&&(s.openElements.popUntilTagNamePopped(ex.TABLE),s._resetInsertionMode());break;case ex.TEMPLATE:templateEndTagInHead(s,h);break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TBODY:case ex.TD:case ex.TFOOT:case ex.TH:case ex.THEAD:case ex.TR:break;default:tokenInTable(s,h)}}function tokenInTable(s,h){let g=s.fosterParentingEnabled;s.fosterParentingEnabled=!0,modeInBody(s,h),s.fosterParentingEnabled=g}function whitespaceCharacterInTableText(s,h){s.pendingCharacterTokens.push(h)}function characterInTableText(s,h){s.pendingCharacterTokens.push(h),s.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(s,h){let g=0;if(s.hasNonWhitespacePendingCharacterToken)for(;g<s.pendingCharacterTokens.length;g++)tokenInTable(s,s.pendingCharacterTokens[g]);else for(;g<s.pendingCharacterTokens.length;g++)s._insertCharacters(s.pendingCharacterTokens[g]);s.insertionMode=s.originalInsertionMode,s._processToken(h)}let rJ=new Set([ex.CAPTION,ex.COL,ex.COLGROUP,ex.TBODY,ex.TD,ex.TFOOT,ex.TH,ex.THEAD,ex.TR]);function startTagInColumnGroup(s,h){switch(h.tagID){case ex.HTML:startTagInBody(s,h);break;case ex.COL:s._appendElement(h,eb.HTML),h.ackSelfClosing=!0;break;case ex.TEMPLATE:startTagInHead(s,h);break;default:tokenInColumnGroup(s,h)}}function tokenInColumnGroup(s,h){s.openElements.currentTagId===ex.COLGROUP&&(s.openElements.pop(),s.insertionMode=eO.IN_TABLE,s._processToken(h))}function startTagInTableBody(s,h){switch(h.tagID){case ex.TR:s.openElements.clearBackToTableBodyContext(),s._insertElement(h,eb.HTML),s.insertionMode=eO.IN_ROW;break;case ex.TH:case ex.TD:s.openElements.clearBackToTableBodyContext(),s._insertFakeElement(eC.TR,ex.TR),s.insertionMode=eO.IN_ROW,startTagInRow(s,h);break;case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.TBODY:case ex.TFOOT:case ex.THEAD:s.openElements.hasTableBodyContextInTableScope()&&(s.openElements.clearBackToTableBodyContext(),s.openElements.pop(),s.insertionMode=eO.IN_TABLE,startTagInTable(s,h));break;default:startTagInTable(s,h)}}function endTagInTableBody(s,h){let g=h.tagID;switch(h.tagID){case ex.TBODY:case ex.TFOOT:case ex.THEAD:s.openElements.hasInTableScope(g)&&(s.openElements.clearBackToTableBodyContext(),s.openElements.pop(),s.insertionMode=eO.IN_TABLE);break;case ex.TABLE:s.openElements.hasTableBodyContextInTableScope()&&(s.openElements.clearBackToTableBodyContext(),s.openElements.pop(),s.insertionMode=eO.IN_TABLE,endTagInTable(s,h));break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TD:case ex.TH:case ex.TR:break;default:endTagInTable(s,h)}}function startTagInRow(s,h){switch(h.tagID){case ex.TH:case ex.TD:s.openElements.clearBackToTableRowContext(),s._insertElement(h,eb.HTML),s.insertionMode=eO.IN_CELL,s.activeFormattingElements.insertMarker();break;case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.TBODY:case ex.TFOOT:case ex.THEAD:case ex.TR:s.openElements.hasInTableScope(ex.TR)&&(s.openElements.clearBackToTableRowContext(),s.openElements.pop(),s.insertionMode=eO.IN_TABLE_BODY,startTagInTableBody(s,h));break;default:startTagInTable(s,h)}}function endTagInRow(s,h){switch(h.tagID){case ex.TR:s.openElements.hasInTableScope(ex.TR)&&(s.openElements.clearBackToTableRowContext(),s.openElements.pop(),s.insertionMode=eO.IN_TABLE_BODY);break;case ex.TABLE:s.openElements.hasInTableScope(ex.TR)&&(s.openElements.clearBackToTableRowContext(),s.openElements.pop(),s.insertionMode=eO.IN_TABLE_BODY,endTagInTableBody(s,h));break;case ex.TBODY:case ex.TFOOT:case ex.THEAD:(s.openElements.hasInTableScope(h.tagID)||s.openElements.hasInTableScope(ex.TR))&&(s.openElements.clearBackToTableRowContext(),s.openElements.pop(),s.insertionMode=eO.IN_TABLE_BODY,endTagInTableBody(s,h));break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TD:case ex.TH:break;default:endTagInTable(s,h)}}function startTagInSelect(s,h){switch(h.tagID){case ex.HTML:startTagInBody(s,h);break;case ex.OPTION:s.openElements.currentTagId===ex.OPTION&&s.openElements.pop(),s._insertElement(h,eb.HTML);break;case ex.OPTGROUP:s.openElements.currentTagId===ex.OPTION&&s.openElements.pop(),s.openElements.currentTagId===ex.OPTGROUP&&s.openElements.pop(),s._insertElement(h,eb.HTML);break;case ex.INPUT:case ex.KEYGEN:case ex.TEXTAREA:case ex.SELECT:s.openElements.hasInSelectScope(ex.SELECT)&&(s.openElements.popUntilTagNamePopped(ex.SELECT),s._resetInsertionMode(),h.tagID!==ex.SELECT&&s._processStartTag(h));break;case ex.SCRIPT:case ex.TEMPLATE:startTagInHead(s,h)}}function endTagInSelect(s,h){switch(h.tagID){case ex.OPTGROUP:s.openElements.stackTop>0&&s.openElements.currentTagId===ex.OPTION&&s.openElements.tagIDs[s.openElements.stackTop-1]===ex.OPTGROUP&&s.openElements.pop(),s.openElements.currentTagId===ex.OPTGROUP&&s.openElements.pop();break;case ex.OPTION:s.openElements.currentTagId===ex.OPTION&&s.openElements.pop();break;case ex.SELECT:s.openElements.hasInSelectScope(ex.SELECT)&&(s.openElements.popUntilTagNamePopped(ex.SELECT),s._resetInsertionMode());break;case ex.TEMPLATE:templateEndTagInHead(s,h)}}function eofInTemplate(s,h){s.openElements.tmplCount>0?(s.openElements.popUntilTagNamePopped(ex.TEMPLATE),s.activeFormattingElements.clearToLastMarker(),s.tmplInsertionModeStack.shift(),s._resetInsertionMode(),s.onEof(h)):stopParsing(s,h)}function endTagAfterBody(s,h){var g;if(h.tagID===ex.HTML){if(s.fragmentContext||(s.insertionMode=eO.AFTER_AFTER_BODY),s.options.sourceCodeLocationInfo&&s.openElements.tagIDs[0]===ex.HTML){s._setEndLocation(s.openElements.items[0],h);let _=s.openElements.items[1];!_||(null===(g=s.treeAdapter.getNodeSourceCodeLocation(_))||void 0===g?void 0:g.endTag)||s._setEndLocation(_,h)}}else tokenAfterBody(s,h)}function tokenAfterBody(s,h){s.insertionMode=eO.IN_BODY,modeInBody(s,h)}function tokenAfterAfterBody(s,h){s.insertionMode=eO.IN_BODY,modeInBody(s,h)}function popUntilHtmlOrIntegrationPoint(s){for(;s.treeAdapter.getNamespaceURI(s.openElements.current)!==eb.HTML&&!s._isIntegrationPoint(s.openElements.currentTagId,s.openElements.current);)s.openElements.pop()}let rZ=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function getEscaper(s,h){return function(g){let _;let y=0,A="";for(;_=s.exec(g);)y!==_.index&&(A+=g.substring(y,_.index)),A+=h.get(_[0].charCodeAt(0)),y=_.index+1;return A+g.substring(y)}}null!=String.prototype.codePointAt||((s,h)=>(64512&s.charCodeAt(h))==55296?(s.charCodeAt(h)-55296)*1024+s.charCodeAt(h+1)-56320+65536:s.charCodeAt(h)),getEscaper(/[&<>'"]/g,rZ),getEscaper(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),getEscaper(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),eC.AREA,eC.BASE,eC.BASEFONT,eC.BGSOUND,eC.BR,eC.COL,eC.EMBED,eC.FRAME,eC.HR,eC.IMG,eC.INPUT,eC.KEYGEN,eC.LINK,eC.META,eC.PARAM,eC.SOURCE,eC.TRACK,eC.WBR;let r0=lib_point("end"),r1=lib_point("start");function lib_point(s){return function(h){let g=h&&h.position&&h.position[s]||{};if("number"==typeof g.line&&g.line>0&&"number"==typeof g.column&&g.column>0)return{line:g.line,column:g.column,offset:"number"==typeof g.offset&&g.offset>-1?g.offset:void 0}}}let convert=function(s){if(null==s)return lib_ok;if("function"==typeof s)return castFactory(s);if("object"==typeof s)return Array.isArray(s)?function(s){let h=[],g=-1;for(;++g<s.length;)h[g]=convert(s[g]);return castFactory(function(...s){let g=-1;for(;++g<h.length;)if(h[g].apply(this,s))return!0;return!1})}(s):castFactory(function(h){let g;for(g in s)if(h[g]!==s[g])return!1;return!0});if("string"==typeof s)return castFactory(function(h){return h&&h.type===s});throw Error("Expected function, string, or object as test")};function castFactory(s){return function(h,g,_){var y;return!!(null!==(y=h)&&"object"==typeof y&&"type"in y&&s.call(this,h,"number"==typeof g?g:void 0,_||void 0))}}function lib_ok(){return!0}let r2=[],r3=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,r4=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),r5={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function raw(s,h){let g=function(s){let h="root"===s.type?s.children[0]:s;return!!(h&&("doctype"===h.type||"element"===h.type&&"html"===h.tagName.toLowerCase()))}(s),_=zwitch("type",{handlers:{root:lib_root,element:hast_util_raw_lib_element,text:hast_util_raw_lib_text,comment:lib_comment,doctype:lib_doctype,raw:handleRaw},unknown}),y={parser:g?new parser_Parser(r5):parser_Parser.getFragmentParser(void 0,r5),handle(s){_(s,y)},stitches:!1,options:h||{}};_(s,y),resetTokenizer(y,r1());let A=g?y.parser.document:y.parser.getFragment(),b=function(s,h){let g=h||{};return one({file:g.file||void 0,location:!1,schema:"svg"===g.space?n8:n6,verbose:g.verbose||!1},s)}(A,{file:y.options.file});if(y.stitches){let s;s=function(s,h,g){if(s.value.stitch&&g&&void 0!==h){let _=g.children;return _[h]=s.value.stitch,h}},function(s,h,g,_){let y;"function"==typeof h&&"function"!=typeof g?(_=g,g=h):y=h;let A=convert(y),b=_?-1:1;(function factory(s,y,k){let w=s&&"object"==typeof s?s:{};if("string"==typeof w.type){let h="string"==typeof w.tagName?w.tagName:"string"==typeof w.name?w.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+s.type+(h?"<"+h+">":"")+")"})}return visit;function visit(){var w;let R,B,H,z=r2;if((!h||A(s,y,k[k.length-1]||void 0))&&!1===(z=Array.isArray(w=g(s,k))?w:"number"==typeof w?[!0,w]:null==w?r2:[w])[0])return z;if("children"in s&&s.children&&s.children&&"skip"!==z[0])for(B=(_?s.children.length:-1)+b,H=k.concat(s);B>-1&&B<s.children.length;){let h=s.children[B];if(!1===(R=factory(h,B,H)())[0])return R;B="number"==typeof R[1]?R[1]:B+b}return z}})(s,void 0,[])()}(b,"comment",function(h,g){let _=g[g.length-1],y=_?_.children.indexOf(h):void 0;return s(h,y,_)},void 0)}return"root"===b.type&&1===b.children.length&&b.children[0].type===s.type?b.children[0]:b}function hast_util_raw_lib_all(s,h){let g=-1;if(s)for(;++g<s.length;)h.handle(s[g])}function lib_root(s,h){hast_util_raw_lib_all(s.children,h)}function hast_util_raw_lib_element(s,h){(function(s,h){let g=s.tagName.toLowerCase();if(h.parser.tokenizer.state===rx.PLAINTEXT)return;resetTokenizer(h,r1(s));let _=h.parser.openElements.current,y="namespaceURI"in _?_.namespaceURI:rc.html;y===rc.html&&"svg"===g&&(y=rc.svg);let A=function(s,h){let g=(h||rp).space;return rm(s,"svg"===g?n8:n6)}({...s,children:[]},{space:y===rc.svg?"svg":"html"}),b={type:eE.START_TAG,tagName:g,tagID:getTagID(g),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in A?A.attrs:[],location:createParse5Location(s)};h.parser.currentToken=b,h.parser._processToken(h.parser.currentToken),h.parser.tokenizer.lastStartTagName=g})(s,h),hast_util_raw_lib_all(s.children,h),function(s,h){let g=s.tagName.toLowerCase();if(!h.parser.tokenizer.inForeignNode&&rg.includes(g)||h.parser.tokenizer.state===rx.PLAINTEXT)return;resetTokenizer(h,r0(s));let _={type:eE.END_TAG,tagName:g,tagID:getTagID(g),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:createParse5Location(s)};h.parser.currentToken=_,h.parser._processToken(h.parser.currentToken),g===h.parser.tokenizer.lastStartTagName&&(h.parser.tokenizer.state===rx.RCDATA||h.parser.tokenizer.state===rx.RAWTEXT||h.parser.tokenizer.state===rx.SCRIPT_DATA)&&(h.parser.tokenizer.state=rx.DATA)}(s,h)}function hast_util_raw_lib_text(s,h){h.parser.tokenizer.state>4&&(h.parser.tokenizer.state=0);let g={type:eE.CHARACTER,chars:s.value,location:createParse5Location(s)};resetTokenizer(h,r1(s)),h.parser.currentToken=g,h.parser._processToken(h.parser.currentToken)}function lib_doctype(s,h){let g={type:eE.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:createParse5Location(s)};resetTokenizer(h,r1(s)),h.parser.currentToken=g,h.parser._processToken(h.parser.currentToken)}function lib_comment(s,h){let g=s.value,_={type:eE.COMMENT,data:g,location:createParse5Location(s)};resetTokenizer(h,r1(s)),h.parser.currentToken=_,h.parser._processToken(h.parser.currentToken)}function handleRaw(s,h){if(h.parser.tokenizer.preprocessor.html="",h.parser.tokenizer.preprocessor.pos=-1,h.parser.tokenizer.preprocessor.lastGapPos=-2,h.parser.tokenizer.preprocessor.gapStack=[],h.parser.tokenizer.preprocessor.skipNextNewLine=!1,h.parser.tokenizer.preprocessor.lastChunkWritten=!1,h.parser.tokenizer.preprocessor.endOfChunkHit=!1,h.parser.tokenizer.preprocessor.isEol=!1,setPoint(h,r1(s)),h.parser.tokenizer.write(h.options.tagfilter?s.value.replace(r3,"&lt;$1$2"):s.value,!1),h.parser.tokenizer._runParsingLoop(),72===h.parser.tokenizer.state||78===h.parser.tokenizer.state){h.parser.tokenizer.preprocessor.lastChunkWritten=!0;let s=h.parser.tokenizer._consume();h.parser.tokenizer._callState(s)}}function unknown(s,h){if(h.options.passThrough&&h.options.passThrough.includes(s.type))!function(s,h){h.stitches=!0;let g="children"in s?nV({...s,children:[]}):nV(s);if("children"in s&&"children"in g){let _=raw({type:"root",children:s.children},h.options);g.children=_.children}lib_comment({type:"comment",value:{stitch:g}},h)}(s,h);else{let h="";throw r4.has(s.type)&&(h=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),Error("Cannot compile `"+s.type+"` node"+h)}}function resetTokenizer(s,h){setPoint(s,h);let g=s.parser.tokenizer.currentCharacterToken;g&&g.location&&(g.location.endLine=s.parser.tokenizer.preprocessor.line,g.location.endCol=s.parser.tokenizer.preprocessor.col+1,g.location.endOffset=s.parser.tokenizer.preprocessor.offset+1,s.parser.currentToken=g,s.parser._processToken(s.parser.currentToken)),s.parser.tokenizer.paused=!1,s.parser.tokenizer.inLoop=!1,s.parser.tokenizer.active=!1,s.parser.tokenizer.returnState=rx.DATA,s.parser.tokenizer.charRefCode=-1,s.parser.tokenizer.consumedAfterSnapshot=-1,s.parser.tokenizer.currentLocation=null,s.parser.tokenizer.currentCharacterToken=null,s.parser.tokenizer.currentToken=null,s.parser.tokenizer.currentAttr={name:"",value:""}}function setPoint(s,h){if(h&&void 0!==h.offset){let g={startLine:h.line,startCol:h.column,startOffset:h.offset,endLine:-1,endCol:-1,endOffset:-1};s.parser.tokenizer.preprocessor.lineStartPos=-h.column+1,s.parser.tokenizer.preprocessor.droppedBufferSize=h.offset,s.parser.tokenizer.preprocessor.line=h.line,s.parser.tokenizer.currentLocation=g}}function createParse5Location(s){let h=r1(s)||{line:void 0,column:void 0,offset:void 0},g=r0(s)||{line:void 0,column:void 0,offset:void 0},_={startLine:h.line,startCol:h.column,startOffset:h.offset,endLine:g.line,endCol:g.column,endOffset:g.offset};return _}function rehypeRaw(s){return function(h,g){let _=raw(h,{...s,file:g});return _}}let r6=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],r8={nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},r9=["cent","copy","divide","gt","lt","not","para","times"],r7={}.hasOwnProperty,ie={};for(y in r8)r7.call(r8,y)&&(ie[r8[y]]=y);function formatSmart(s,h,g){let _,y=function(s,h,g){let _="&#x"+s.toString(16).toUpperCase();return g&&h&&!/[\dA-Fa-f]/.test(String.fromCharCode(h))?_:_+";"}(s,h,g.omitOptionalSemicolons);if((g.useNamedReferences||g.useShortestReferences)&&(_=function(s,h,g,_){let y=String.fromCharCode(s);if(r7.call(ie,y)){let s=ie[y],A="&"+s;return g&&r6.includes(s)&&!r9.includes(s)&&(!_||h&&61!==h&&/[^\da-z]/i.test(String.fromCharCode(h)))?A:A+";"}return""}(s,h,g.omitOptionalSemicolons,g.attribute)),(g.useShortestReferences||!_)&&g.useShortestReferences){let _=function(s,h,g){let _="&#"+String(s);return g&&h&&!/\d/.test(String.fromCharCode(h))?_:_+";"}(s,h,g.omitOptionalSemicolons);_.length<y.length&&(y=_)}return _&&(!g.useShortestReferences||_.length<y.length)?_:y}function stringifyEntities(s,h){return function(s,h){if(s=s.replace(h.subset?function(s){let h=[],g=-1;for(;++g<s.length;)h.push(s[g].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return RegExp("(?:"+h.join("|")+")","g")}(h.subset):/["&'<>`]/g,basic),h.subset||h.escapeOnly)return s;return s.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(s,g,_){return h.format((s.charCodeAt(0)-55296)*1024+s.charCodeAt(1)-56320+65536,_.charCodeAt(g+2),h)}).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,basic);function basic(s,g,_){return h.format(s.charCodeAt(0),_.charCodeAt(g+1),h)}}(s,Object.assign({format:formatSmart},h))}let it=/^>|^->|<!--|-->|--!>|<!-$/g,ir=[">"],io=["<",">"];function ccount(s,h){let g=String(s);if("string"!=typeof h)throw TypeError("Expected character");let _=0,y=g.indexOf(h);for(;-1!==y;)_++,y=g.indexOf(h,y+h.length);return _}let is=/[ \t\n\f\r]/g;function whitespace(s){return"object"==typeof s?"text"===s.type&&lib_empty(s.value):lib_empty(s)}function lib_empty(s){return""===s.replace(is,"")}let il=siblings(1),ic=siblings(-1),iu=[];function siblings(s){return function(h,g,_){let y=h?h.children:iu,A=(g||0)+s,b=y[A];if(!_)for(;b&&whitespace(b);)A+=s,b=y[A];return b}}let id={}.hasOwnProperty;function omission(s){return function(h,g,_){return id.call(s,h.tagName)&&s[h.tagName](h,g,_)}}let ih=omission({body:function(s,h,g){let _=il(g,h);return!_||"comment"!==_.type},caption:headOrColgroupOrCaption,colgroup:headOrColgroupOrCaption,dd:function(s,h,g){let _=il(g,h);return!_||"element"===_.type&&("dt"===_.tagName||"dd"===_.tagName)},dt:function(s,h,g){let _=il(g,h);return!!(_&&"element"===_.type&&("dt"===_.tagName||"dd"===_.tagName))},head:headOrColgroupOrCaption,html:function(s,h,g){let _=il(g,h);return!_||"comment"!==_.type},li:function(s,h,g){let _=il(g,h);return!_||"element"===_.type&&"li"===_.tagName},optgroup:function(s,h,g){let _=il(g,h);return!_||"element"===_.type&&"optgroup"===_.tagName},option:function(s,h,g){let _=il(g,h);return!_||"element"===_.type&&("option"===_.tagName||"optgroup"===_.tagName)},p:function(s,h,g){let _=il(g,h);return _?"element"===_.type&&("address"===_.tagName||"article"===_.tagName||"aside"===_.tagName||"blockquote"===_.tagName||"details"===_.tagName||"div"===_.tagName||"dl"===_.tagName||"fieldset"===_.tagName||"figcaption"===_.tagName||"figure"===_.tagName||"footer"===_.tagName||"form"===_.tagName||"h1"===_.tagName||"h2"===_.tagName||"h3"===_.tagName||"h4"===_.tagName||"h5"===_.tagName||"h6"===_.tagName||"header"===_.tagName||"hgroup"===_.tagName||"hr"===_.tagName||"main"===_.tagName||"menu"===_.tagName||"nav"===_.tagName||"ol"===_.tagName||"p"===_.tagName||"pre"===_.tagName||"section"===_.tagName||"table"===_.tagName||"ul"===_.tagName):!g||!("element"===g.type&&("a"===g.tagName||"audio"===g.tagName||"del"===g.tagName||"ins"===g.tagName||"map"===g.tagName||"noscript"===g.tagName||"video"===g.tagName))},rp:rubyElement,rt:rubyElement,tbody:function(s,h,g){let _=il(g,h);return!_||"element"===_.type&&("tbody"===_.tagName||"tfoot"===_.tagName)},td:cells,tfoot:function(s,h,g){return!il(g,h)},th:cells,thead:function(s,h,g){let _=il(g,h);return!!(_&&"element"===_.type&&("tbody"===_.tagName||"tfoot"===_.tagName))},tr:function(s,h,g){let _=il(g,h);return!_||"element"===_.type&&"tr"===_.tagName}});function headOrColgroupOrCaption(s,h,g){let _=il(g,h,!0);return!_||"comment"!==_.type&&!("text"===_.type&&whitespace(_.value.charAt(0)))}function rubyElement(s,h,g){let _=il(g,h);return!_||"element"===_.type&&("rp"===_.tagName||"rt"===_.tagName)}function cells(s,h,g){let _=il(g,h);return!_||"element"===_.type&&("td"===_.tagName||"th"===_.tagName)}let ip=omission({body:function(s){let h=il(s,-1,!0);return!h||"comment"!==h.type&&!("text"===h.type&&whitespace(h.value.charAt(0)))&&!("element"===h.type&&("meta"===h.tagName||"link"===h.tagName||"script"===h.tagName||"style"===h.tagName||"template"===h.tagName))},colgroup:function(s,h,g){let _=ic(g,h),y=il(s,-1,!0);return!(g&&_&&"element"===_.type&&"colgroup"===_.tagName&&ih(_,g.children.indexOf(_),g))&&!!(y&&"element"===y.type&&"col"===y.tagName)},head:function(s){let h=new Set;for(let g of s.children)if("element"===g.type&&("base"===g.tagName||"title"===g.tagName)){if(h.has(g.tagName))return!1;h.add(g.tagName)}let g=s.children[0];return!g||"element"===g.type},html:function(s){let h=il(s,-1);return!h||"comment"!==h.type},tbody:function(s,h,g){let _=ic(g,h),y=il(s,-1);return!(g&&_&&"element"===_.type&&("thead"===_.tagName||"tbody"===_.tagName)&&ih(_,g.children.indexOf(_),g))&&!!(y&&"element"===y.type&&"tr"===y.tagName)}}),im={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\x00	\n\f\r \"&'/<=>".split(""),"\x00	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\x00	\n\f\r \"&'<=>`".split("")],["\x00	\n\f\r \"&'<=>`".split(""),"\x00	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\x00&'".split(""),"\x00\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\x00"&'.split(""),"\x00\"&'`".split("")]]},ig=["<","&"];function text_text(s,h,g,_){return g&&"element"===g.type&&("script"===g.tagName||"style"===g.tagName)?s.value:stringifyEntities(s.value,Object.assign({},_.settings.characterReferences,{subset:ig}))}let iE=zwitch("type",{invalid:function(s){throw Error("Expected node, not `"+s+"`")},unknown:function(s){throw Error("Cannot compile unknown node `"+s.type+"`")},handlers:{comment:function(s,h,g,_){return _.settings.bogusComments?"<?"+stringifyEntities(s.value,Object.assign({},_.settings.characterReferences,{subset:ir}))+">":"<!--"+s.value.replace(it,function(s){return stringifyEntities(s,Object.assign({},_.settings.characterReferences,{subset:io}))})+"-->"},doctype:function(s,h,g,_){return"<!"+(_.settings.upperDoctype?"DOCTYPE":"doctype")+(_.settings.tightDoctype?"":" ")+"html>"},element:function(s,h,g,_){let y;let A=_.schema,b="svg"!==A.space&&_.settings.omitOptionalTags,k="svg"===A.space?_.settings.closeEmptyElements:_.settings.voids.includes(s.tagName.toLowerCase()),w=[];"html"===A.space&&"svg"===s.tagName&&(_.schema=n8);let R=function(s,h){let g;let _=[],y=-1;if(h){for(g in h)if(null!==h[g]&&void 0!==h[g]){let y=function(s,h,g){let _;let y=find(s.schema,h),A=s.settings.allowParseErrors&&"html"===s.schema.space?0:1,b=s.settings.allowDangerousCharacters?0:1,k=s.quote;if(y.overloadedBoolean&&(g===y.attribute||""===g)?g=!0:(y.boolean||y.overloadedBoolean&&"string"!=typeof g)&&(g=!!g),null==g||!1===g||"number"==typeof g&&Number.isNaN(g))return"";let w=stringifyEntities(y.attribute,Object.assign({},s.settings.characterReferences,{subset:im.name[A][b]}));return!0===g?w:(g=Array.isArray(g)?(y.commaSeparated?comma_separated_tokens_stringify:space_separated_tokens_stringify)(g,{padLeft:!s.settings.tightCommaSeparatedLists}):String(g),s.settings.collapseEmptyAttributes&&!g)?w:(s.settings.preferUnquoted&&(_=stringifyEntities(g,Object.assign({},s.settings.characterReferences,{attribute:!0,subset:im.unquoted[A][b]}))),_!==g&&(s.settings.quoteSmart&&ccount(g,k)>ccount(g,s.alternative)&&(k=s.alternative),_=k+stringifyEntities(g,Object.assign({},s.settings.characterReferences,{subset:("'"===k?im.single:im.double)[A][b],attribute:!0}))+k),w+(_?"="+_:_))}(s,g,h[g]);y&&_.push(y)}}for(;++y<_.length;){let h=s.settings.tightAttributes?_[y].charAt(_[y].length-1):void 0;y!==_.length-1&&'"'!==h&&"'"!==h&&(_[y]+=" ")}return _.join("")}(_,s.properties),B=_.all("html"===A.space&&"template"===s.tagName?s.content:s);return _.schema=A,B&&(k=!1),!R&&b&&ip(s,h,g)||(w.push("<",s.tagName,R?" "+R:""),k&&("svg"===A.space||_.settings.closeSelfClosing)&&(y=R.charAt(R.length-1),(!_.settings.tightSelfClosing||"/"===y||y&&'"'!==y&&"'"!==y)&&w.push(" "),w.push("/")),w.push(">")),w.push(B),k||b&&ih(s,h,g)||w.push("</"+s.tagName+">"),w.join("")},raw:function(s,h,g,_){return _.settings.allowDangerousHtml?s.value:text_text(s,h,g,_)},root:function(s,h,g,_){return _.all(s)},text:text_text}}),i_={},iT={},iv=[];function hast_util_to_html_lib_one(s,h,g){return iE(s,h,g,this)}function hast_util_to_html_lib_all(s){let h=[],g=s&&s.children||iv,_=-1;for(;++_<g.length;)h[_]=this.one(g[_],_,s);return h.join("")}function rehypeStringify(s){let h={...this.data("settings"),...s};this.compiler=function(s){return function(s,h){let g=h||i_,_=g.quote||'"';if('"'!==_&&"'"!==_)throw Error("Invalid quote `"+_+"`, expected `'` or `\"`");let y={one:hast_util_to_html_lib_one,all:hast_util_to_html_lib_all,settings:{omitOptionalTags:g.omitOptionalTags||!1,allowParseErrors:g.allowParseErrors||!1,allowDangerousCharacters:g.allowDangerousCharacters||!1,quoteSmart:g.quoteSmart||!1,preferUnquoted:g.preferUnquoted||!1,tightAttributes:g.tightAttributes||!1,upperDoctype:g.upperDoctype||!1,tightDoctype:g.tightDoctype||!1,bogusComments:g.bogusComments||!1,tightCommaSeparatedLists:g.tightCommaSeparatedLists||!1,tightSelfClosing:g.tightSelfClosing||!1,collapseEmptyAttributes:g.collapseEmptyAttributes||!1,allowDangerousHtml:g.allowDangerousHtml||!1,voids:g.voids||rg,characterReferences:g.characterReferences||iT,closeSelfClosing:g.closeSelfClosing||!1,closeEmptyElements:g.closeEmptyElements||!1},schema:"svg"===g.space?n8:n6,quote:_,alternative:'"'===_?"'":'"'};return y.one(Array.isArray(s)?{type:"root",children:s}:s,void 0,void 0)}(s,h)}}let iy=regexCheck(/[A-Za-z]/),iA=regexCheck(/[\dA-Za-z]/),ib=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(s){return null!==s&&(s<32||127===s)}let iS=regexCheck(/\d/),ik=regexCheck(/[\dA-Fa-f]/),iC=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(s){return null!==s&&s<-2}function markdownLineEndingOrSpace(s){return null!==s&&(s<0||32===s)}function markdownSpace(s){return -2===s||-1===s||32===s}let ix=regexCheck(/\p{P}|\p{S}/u),iI=regexCheck(/\s/);function regexCheck(s){return function(h){return null!==h&&h>-1&&s.test(String.fromCharCode(h))}}let lib_convert=function(s){if(null==s)return unist_util_is_lib_ok;if("function"==typeof s)return lib_castFactory(s);if("object"==typeof s)return Array.isArray(s)?function(s){let h=[],g=-1;for(;++g<s.length;)h[g]=lib_convert(s[g]);return lib_castFactory(function(...s){let g=-1;for(;++g<h.length;)if(h[g].apply(this,s))return!0;return!1})}(s):lib_castFactory(function(h){let g;for(g in s)if(h[g]!==s[g])return!1;return!0});if("string"==typeof s)return lib_castFactory(function(h){return h&&h.type===s});throw Error("Expected function, string, or object as test")};function lib_castFactory(s){return function(h,g,_){var y;return!!(null!==(y=h)&&"object"==typeof y&&"type"in y&&s.call(this,h,"number"==typeof g?g:void 0,_||void 0))}}function unist_util_is_lib_ok(){return!0}let iw=[];function lib_visitParents(s,h,g,_){let y;"function"==typeof h&&"function"!=typeof g?(_=g,g=h):y=h;let A=lib_convert(y),b=_?-1:1;(function factory(s,y,k){let w=s&&"object"==typeof s?s:{};if("string"==typeof w.type){let h="string"==typeof w.tagName?w.tagName:"string"==typeof w.name?w.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+s.type+(h?"<"+h+">":"")+")"})}return visit;function visit(){var w;let R,B,H,z=iw;if((!h||A(s,y,k[k.length-1]||void 0))&&!1===(z=Array.isArray(w=g(s,k))?w:"number"==typeof w?[!0,w]:null==w?iw:[w])[0])return z;if("children"in s&&s.children&&s.children&&"skip"!==z[0])for(B=(_?s.children.length:-1)+b,H=k.concat(s);B>-1&&B<s.children.length;){let h=s.children[B];if(!1===(R=factory(h,B,H)())[0])return R;B="number"==typeof R[1]?R[1]:B+b}return z}})(s,void 0,[])()}let iO="phrasing",iN=["autolink","link","image","label"];function enterLiteralAutolink(s){this.enter({type:"link",title:null,url:"",children:[]},s)}function enterLiteralAutolinkValue(s){this.config.enter.autolinkProtocol.call(this,s)}function exitLiteralAutolinkHttp(s){this.config.exit.autolinkProtocol.call(this,s)}function exitLiteralAutolinkWww(s){this.config.exit.data.call(this,s);let h=this.stack[this.stack.length-1];h.type,h.url="http://"+this.sliceSerialize(s)}function exitLiteralAutolinkEmail(s){this.config.exit.autolinkEmail.call(this,s)}function exitLiteralAutolink(s){this.exit(s)}function transformGfmAutolinkLiterals(s){!function(s,h,g){let _=lib_convert((g||{}).ignore||[]),y=function(s){let h=[];if(!Array.isArray(s))throw TypeError("Expected find and replace tuple or list of tuples");let g=!s[0]||Array.isArray(s[0])?s:[s],_=-1;for(;++_<g.length;){var y;let s=g[_];h.push(["string"==typeof(y=s[0])?RegExp(function(s){if("string"!=typeof s)throw TypeError("Expected a string");return s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(y),"g"):y,function(s){return"function"==typeof s?s:function(){return s}}(s[1])])}return h}(h),A=-1;for(;++A<y.length;)lib_visitParents(s,"text",visitor);function visitor(s,h){let g,b=-1;for(;++b<h.length;){let s=h[b],y=g?g.children:void 0;if(_(s,y?y.indexOf(s):void 0,g))return;g=s}if(g)return function(s,h){let g=h[h.length-1],_=y[A][0],b=y[A][1],k=0,w=g.children,R=w.indexOf(s),B=!1,H=[];_.lastIndex=0;let z=_.exec(s.value);for(;z;){let g=z.index,y={index:z.index,input:z.input,stack:[...h,s]},A=b(...z,y);if("string"==typeof A&&(A=A.length>0?{type:"text",value:A}:void 0),!1===A?_.lastIndex=g+1:(k!==g&&H.push({type:"text",value:s.value.slice(k,g)}),Array.isArray(A)?H.push(...A):A&&H.push(A),k=g+z[0].length,B=!0),!_.global)break;z=_.exec(s.value)}return B?(k<s.value.length&&H.push({type:"text",value:s.value.slice(k)}),g.children.splice(R,1,...H)):H=[s],R+H.length}(s,h)}}(s,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,findEmail]],{ignore:["link","linkReference"]})}function findUrl(s,h,g,_,y){let A="";if(!previous(y)||(/^w/i.test(h)&&(g=h+g,h="",A="http://"),!function(s){let h=s.split(".");return!(h.length<2||h[h.length-1]&&(/_/.test(h[h.length-1])||!/[a-zA-Z\d]/.test(h[h.length-1]))||h[h.length-2]&&(/_/.test(h[h.length-2])||!/[a-zA-Z\d]/.test(h[h.length-2])))}(g)))return!1;let b=function(s){let h=/[!"&'),.:;<>?\]}]+$/.exec(s);if(!h)return[s,void 0];s=s.slice(0,h.index);let g=h[0],_=g.indexOf(")"),y=ccount(s,"("),A=ccount(s,")");for(;-1!==_&&y>A;)s+=g.slice(0,_+1),_=(g=g.slice(_+1)).indexOf(")"),A++;return[s,g]}(g+_);if(!b[0])return!1;let k={type:"link",title:null,url:A+h+b[0],children:[{type:"text",value:h+b[0]}]};return b[1]?[k,{type:"text",value:b[1]}]:k}function findEmail(s,h,g,_){return!(!previous(_,!0)||/[-\d_]$/.test(g))&&{type:"link",title:null,url:"mailto:"+h+"@"+g,children:[{type:"text",value:h+"@"+g}]}}function previous(s,h){let g=s.input.charCodeAt(s.index-1);return(0===s.index||iI(g)||ix(g))&&(!h||47!==g)}function normalizeIdentifier(s){return s.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function enterFootnoteDefinition(s){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},s)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(s){let h=this.resume(),g=this.stack[this.stack.length-1];g.type,g.label=h,g.identifier=normalizeIdentifier(this.sliceSerialize(s)).toLowerCase()}function exitFootnoteDefinition(s){this.exit(s)}function enterFootnoteCall(s){this.enter({type:"footnoteReference",identifier:"",label:""},s)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(s){let h=this.resume(),g=this.stack[this.stack.length-1];g.type,g.label=h,g.identifier=normalizeIdentifier(this.sliceSerialize(s)).toLowerCase()}function exitFootnoteCall(s){this.exit(s)}function footnoteReference(s,h,g,_){let y=g.createTracker(_),A=y.move("[^"),b=g.enter("footnoteReference"),k=g.enter("reference");return A+=y.move(g.safe(g.associationId(s),{...y.current(),before:A,after:"]"})),k(),b(),A+=y.move("]")}function footnoteDefinition(s,h,g,_){let y=g.createTracker(_),A=y.move("[^"),b=g.enter("footnoteDefinition"),k=g.enter("label");return A+=y.move(g.safe(g.associationId(s),{...y.current(),before:A,after:"]"})),k(),A+=y.move("]:"+(s.children&&s.children.length>0?" ":"")),y.shift(4),A+=y.move(g.indentLines(g.containerFlow(s,y.current()),map)),b(),A}function map(s,h,g){return 0===h?s:(g?"":"    ")+s}footnoteReference.peek=function(){return"["};let iR=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function enterStrikethrough(s){this.enter({type:"delete",children:[]},s)}function exitStrikethrough(s){this.exit(s)}function handleDelete(s,h,g,_){let y=g.createTracker(_),A=g.enter("strikethrough"),b=y.move("~~");return b+=g.containerPhrasing(s,{...y.current(),before:b,after:"~"})+y.move("~~"),A(),b}function defaultStringLength(s){return s.length}function toAlignment(s){let h="string"==typeof s?s.codePointAt(0):0;return 67===h||99===h?99:76===h||108===h?108:82===h||114===h?114:0}function blockquote_map(s,h,g){return">"+(g?"":" ")+s}function listInScope(s,h,g){if("string"==typeof h&&(h=[h]),!h||0===h.length)return g;let _=-1;for(;++_<h.length;)if(s.includes(h[_]))return!0;return!1}function hardBreak(s,h,g,_){let y=-1;for(;++y<g.unsafe.length;){var A,b;if("\n"===g.unsafe[y].character&&listInScope(A=g.stack,(b=g.unsafe[y]).inConstruct,!0)&&!listInScope(A,b.notInConstruct,!1))return/[ \t]/.test(_.before)?"":" "}return"\\\n"}function code_map(s,h,g){return(g?"":"    ")+s}function checkQuote(s){let h=s.options.quote||'"';if('"'!==h&&"'"!==h)throw Error("Cannot serialize title with `"+h+"` for `options.quote`, expected `\"`, or `'`");return h}function encodeCharacterReference(s){return"&#x"+s.toString(16).toUpperCase()+";"}function classifyCharacter(s){return null===s||markdownLineEndingOrSpace(s)||iI(s)?1:ix(s)?2:void 0}function encodeInfo(s,h,g){let _=classifyCharacter(s),y=classifyCharacter(h);return void 0===_?void 0===y?"_"===g?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===y?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===_?void 0===y?{inside:!1,outside:!1}:1===y?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===y?{inside:!1,outside:!1}:1===y?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function emphasis(s,h,g,_){let y=function(s){let h=s.options.emphasis||"*";if("*"!==h&&"_"!==h)throw Error("Cannot serialize emphasis with `"+h+"` for `options.emphasis`, expected `*`, or `_`");return h}(g),A=g.enter("emphasis"),b=g.createTracker(_),k=b.move(y),w=b.move(g.containerPhrasing(s,{after:y,before:k,...b.current()})),R=w.charCodeAt(0),B=encodeInfo(_.before.charCodeAt(_.before.length-1),R,y);B.inside&&(w=encodeCharacterReference(R)+w.slice(1));let H=w.charCodeAt(w.length-1),z=encodeInfo(_.after.charCodeAt(0),H,y);z.inside&&(w=w.slice(0,-1)+encodeCharacterReference(H));let $=b.move(y);return A(),g.attentionEncodeSurroundingInfo={after:z.outside,before:B.outside},k+w+$}function lib_visit(s,h,g,_){let y,A,b;"function"==typeof h&&"function"!=typeof g?(A=void 0,b=h,y=g):(A=h,b=g,y=_),lib_visitParents(s,A,function(s,h){let g=h[h.length-1],_=g?g.children.indexOf(s):void 0;return b(s,_,g)},y)}handleDelete.peek=function(){return"~"},emphasis.peek=function(s,h,g){return g.options.emphasis||"*"};let iD={};function lib_toString(s,h){let g=h||iD,_="boolean"!=typeof g.includeImageAlt||g.includeImageAlt,y="boolean"!=typeof g.includeHtml||g.includeHtml;return mdast_util_to_string_lib_one(s,_,y)}function mdast_util_to_string_lib_one(s,h,g){if(s&&"object"==typeof s){if("value"in s)return"html"!==s.type||g?s.value:"";if(h&&"alt"in s&&s.alt)return s.alt;if("children"in s)return mdast_util_to_string_lib_all(s.children,h,g)}return Array.isArray(s)?mdast_util_to_string_lib_all(s,h,g):""}function mdast_util_to_string_lib_all(s,h,g){let _=[],y=-1;for(;++y<s.length;)_[y]=mdast_util_to_string_lib_one(s[y],h,g);return _.join("")}function html_html(s){return s.value||""}function image_image(s,h,g,_){let y=checkQuote(g),A='"'===y?"Quote":"Apostrophe",b=g.enter("image"),k=g.enter("label"),w=g.createTracker(_),R=w.move("![");return R+=w.move(g.safe(s.alt,{before:R,after:"]",...w.current()}))+w.move("]("),k(),!s.url&&s.title||/[\0- \u007F]/.test(s.url)?(k=g.enter("destinationLiteral"),R+=w.move("<"),R+=w.move(g.safe(s.url,{before:R,after:">",...w.current()}))+w.move(">")):(k=g.enter("destinationRaw"),R+=w.move(g.safe(s.url,{before:R,after:s.title?" ":")",...w.current()}))),k(),s.title&&(k=g.enter(`title${A}`),R+=w.move(" "+y),R+=w.move(g.safe(s.title,{before:R,after:y,...w.current()}))+w.move(y),k()),R+=w.move(")"),b(),R}function imageReference(s,h,g,_){let y=s.referenceType,A=g.enter("imageReference"),b=g.enter("label"),k=g.createTracker(_),w=k.move("!["),R=g.safe(s.alt,{before:w,after:"]",...k.current()});w+=k.move(R+"]["),b();let B=g.stack;g.stack=[],b=g.enter("reference");let H=g.safe(g.associationId(s),{before:w,after:"]",...k.current()});return b(),g.stack=B,A(),"full"!==y&&R&&R===H?"shortcut"===y?w=w.slice(0,-1):w+=k.move("]"):w+=k.move(H+"]"),w}function inlineCode(s,h,g){let _=s.value||"",y="`",A=-1;for(;RegExp("(^|[^`])"+y+"([^`]|$)").test(_);)y+="`";for(/[^ \r\n]/.test(_)&&(/^[ \r\n]/.test(_)&&/[ \r\n]$/.test(_)||/^`|`$/.test(_))&&(_=" "+_+" ");++A<g.unsafe.length;){let s;let h=g.unsafe[A],y=g.compilePattern(h);if(h.atBreak)for(;s=y.exec(_);){let h=s.index;10===_.charCodeAt(h)&&13===_.charCodeAt(h-1)&&h--,_=_.slice(0,h)+" "+_.slice(s.index+1)}}return y+_+y}function formatLinkAsAutolink(s,h){let g=lib_toString(s);return!!(!h.options.resourceLink&&s.url&&!s.title&&s.children&&1===s.children.length&&"text"===s.children[0].type&&(g===s.url||"mailto:"+g===s.url)&&/^[a-z][a-z+.-]+:/i.test(s.url)&&!/[\0- <>\u007F]/.test(s.url))}function link_link(s,h,g,_){let y,A;let b=checkQuote(g),k='"'===b?"Quote":"Apostrophe",w=g.createTracker(_);if(formatLinkAsAutolink(s,g)){let h=g.stack;g.stack=[],y=g.enter("autolink");let _=w.move("<");return _+=w.move(g.containerPhrasing(s,{before:_,after:">",...w.current()}))+w.move(">"),y(),g.stack=h,_}y=g.enter("link"),A=g.enter("label");let R=w.move("[");return R+=w.move(g.containerPhrasing(s,{before:R,after:"](",...w.current()}))+w.move("]("),A(),!s.url&&s.title||/[\0- \u007F]/.test(s.url)?(A=g.enter("destinationLiteral"),R+=w.move("<"),R+=w.move(g.safe(s.url,{before:R,after:">",...w.current()}))+w.move(">")):(A=g.enter("destinationRaw"),R+=w.move(g.safe(s.url,{before:R,after:s.title?" ":")",...w.current()}))),A(),s.title&&(A=g.enter(`title${k}`),R+=w.move(" "+b),R+=w.move(g.safe(s.title,{before:R,after:b,...w.current()}))+w.move(b),A()),R+=w.move(")"),y(),R}function linkReference(s,h,g,_){let y=s.referenceType,A=g.enter("linkReference"),b=g.enter("label"),k=g.createTracker(_),w=k.move("["),R=g.containerPhrasing(s,{before:w,after:"]",...k.current()});w+=k.move(R+"]["),b();let B=g.stack;g.stack=[],b=g.enter("reference");let H=g.safe(g.associationId(s),{before:w,after:"]",...k.current()});return b(),g.stack=B,A(),"full"!==y&&R&&R===H?"shortcut"===y?w=w.slice(0,-1):w+=k.move("]"):w+=k.move(H+"]"),w}function checkBullet(s){let h=s.options.bullet||"*";if("*"!==h&&"+"!==h&&"-"!==h)throw Error("Cannot serialize items with `"+h+"` for `options.bullet`, expected `*`, `+`, or `-`");return h}function checkRule(s){let h=s.options.rule||"*";if("*"!==h&&"-"!==h&&"_"!==h)throw Error("Cannot serialize rules with `"+h+"` for `options.rule`, expected `*`, `-`, or `_`");return h}html_html.peek=function(){return"<"},image_image.peek=function(){return"!"},imageReference.peek=function(){return"!"},inlineCode.peek=function(){return"`"},link_link.peek=function(s,h,g){return formatLinkAsAutolink(s,g)?"<":"["},linkReference.peek=function(){return"["};let iL=lib_convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function strong(s,h,g,_){let y=function(s){let h=s.options.strong||"*";if("*"!==h&&"_"!==h)throw Error("Cannot serialize strong with `"+h+"` for `options.strong`, expected `*`, or `_`");return h}(g),A=g.enter("strong"),b=g.createTracker(_),k=b.move(y+y),w=b.move(g.containerPhrasing(s,{after:y,before:k,...b.current()})),R=w.charCodeAt(0),B=encodeInfo(_.before.charCodeAt(_.before.length-1),R,y);B.inside&&(w=encodeCharacterReference(R)+w.slice(1));let H=w.charCodeAt(w.length-1),z=encodeInfo(_.after.charCodeAt(0),H,y);z.inside&&(w=w.slice(0,-1)+encodeCharacterReference(H));let $=b.move(y+y);return A(),g.attentionEncodeSurroundingInfo={after:z.outside,before:B.outside},k+w+$}strong.peek=function(s,h,g){return g.options.strong||"*"};let iM={blockquote:function(s,h,g,_){let y=g.enter("blockquote"),A=g.createTracker(_);A.move("> "),A.shift(2);let b=g.indentLines(g.containerFlow(s,A.current()),blockquote_map);return y(),b},break:hardBreak,code:function(s,h,g,_){let y=function(s){let h=s.options.fence||"`";if("`"!==h&&"~"!==h)throw Error("Cannot serialize code with `"+h+"` for `options.fence`, expected `` ` `` or `~`");return h}(g),A=s.value||"",b="`"===y?"GraveAccent":"Tilde";if(!1===g.options.fences&&s.value&&!s.lang&&/[^ \r\n]/.test(s.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(s.value)){let s=g.enter("codeIndented"),h=g.indentLines(A,code_map);return s(),h}let k=g.createTracker(_),w=y.repeat(Math.max(function(s,h){let g=String(s),_=g.indexOf(h),y=_,A=0,b=0;if("string"!=typeof h)throw TypeError("Expected substring");for(;-1!==_;)_===y?++A>b&&(b=A):A=1,y=_+h.length,_=g.indexOf(h,y);return b}(A,y)+1,3)),R=g.enter("codeFenced"),B=k.move(w);if(s.lang){let h=g.enter(`codeFencedLang${b}`);B+=k.move(g.safe(s.lang,{before:B,after:" ",encode:["`"],...k.current()})),h()}if(s.lang&&s.meta){let h=g.enter(`codeFencedMeta${b}`);B+=k.move(" "),B+=k.move(g.safe(s.meta,{before:B,after:"\n",encode:["`"],...k.current()})),h()}return B+=k.move("\n"),A&&(B+=k.move(A+"\n")),B+=k.move(w),R(),B},definition:function(s,h,g,_){let y=checkQuote(g),A='"'===y?"Quote":"Apostrophe",b=g.enter("definition"),k=g.enter("label"),w=g.createTracker(_),R=w.move("[");return R+=w.move(g.safe(g.associationId(s),{before:R,after:"]",...w.current()}))+w.move("]: "),k(),!s.url||/[\0- \u007F]/.test(s.url)?(k=g.enter("destinationLiteral"),R+=w.move("<"),R+=w.move(g.safe(s.url,{before:R,after:">",...w.current()}))+w.move(">")):(k=g.enter("destinationRaw"),R+=w.move(g.safe(s.url,{before:R,after:s.title?" ":"\n",...w.current()}))),k(),s.title&&(k=g.enter(`title${A}`),R+=w.move(" "+y),R+=w.move(g.safe(s.title,{before:R,after:y,...w.current()}))+w.move(y),k()),b(),R},emphasis:emphasis,hardBreak:hardBreak,heading:function(s,h,g,_){let y;let A=Math.max(Math.min(6,s.depth||1),1),b=g.createTracker(_);if(y=!1,lib_visit(s,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||"break"===s.type)return y=!0,!1}),(!s.depth||s.depth<3)&&lib_toString(s)&&(g.options.setext||y)){let h=g.enter("headingSetext"),_=g.enter("phrasing"),y=g.containerPhrasing(s,{...b.current(),before:"\n",after:"\n"});return _(),h(),y+"\n"+(1===A?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf("\n"))+1))}let k="#".repeat(A),w=g.enter("headingAtx"),R=g.enter("phrasing");b.move(k+" ");let B=g.containerPhrasing(s,{before:"# ",after:"\n",...b.current()});return/^[\t ]/.test(B)&&(B=encodeCharacterReference(B.charCodeAt(0))+B.slice(1)),B=B?k+" "+B:k,g.options.closeAtx&&(B+=" "+k),R(),w(),B},html:html_html,image:image_image,imageReference:imageReference,inlineCode:inlineCode,link:link_link,linkReference:linkReference,list:function(s,h,g,_){let y=g.enter("list"),A=g.bulletCurrent,b=s.ordered?function(s){let h=s.options.bulletOrdered||".";if("."!==h&&")"!==h)throw Error("Cannot serialize items with `"+h+"` for `options.bulletOrdered`, expected `.` or `)`");return h}(g):checkBullet(g),k=s.ordered?"."===b?")":".":function(s){let h=checkBullet(s),g=s.options.bulletOther;if(!g)return"*"===h?"-":"*";if("*"!==g&&"+"!==g&&"-"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(g===h)throw Error("Expected `bullet` (`"+h+"`) and `bulletOther` (`"+g+"`) to be different");return g}(g),w=!!h&&!!g.bulletLastUsed&&b===g.bulletLastUsed;if(!s.ordered){let h=s.children?s.children[0]:void 0;if("*"!==b&&"-"!==b||!h||h.children&&h.children[0]||"list"!==g.stack[g.stack.length-1]||"listItem"!==g.stack[g.stack.length-2]||"list"!==g.stack[g.stack.length-3]||"listItem"!==g.stack[g.stack.length-4]||0!==g.indexStack[g.indexStack.length-1]||0!==g.indexStack[g.indexStack.length-2]||0!==g.indexStack[g.indexStack.length-3]||(w=!0),checkRule(g)===b&&h){let h=-1;for(;++h<s.children.length;){let g=s.children[h];if(g&&"listItem"===g.type&&g.children&&g.children[0]&&"thematicBreak"===g.children[0].type){w=!0;break}}}}w&&(b=k),g.bulletCurrent=b;let R=g.containerFlow(s,_);return g.bulletLastUsed=b,g.bulletCurrent=A,y(),R},listItem:function(s,h,g,_){let y=function(s){let h=s.options.listItemIndent||"one";if("tab"!==h&&"one"!==h&&"mixed"!==h)throw Error("Cannot serialize items with `"+h+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return h}(g),A=g.bulletCurrent||checkBullet(g);h&&"list"===h.type&&h.ordered&&(A=("number"==typeof h.start&&h.start>-1?h.start:1)+(!1===g.options.incrementListMarker?0:h.children.indexOf(s))+A);let b=A.length+1;("tab"===y||"mixed"===y&&(h&&"list"===h.type&&h.spread||s.spread))&&(b=4*Math.ceil(b/4));let k=g.createTracker(_);k.move(A+" ".repeat(b-A.length)),k.shift(b);let w=g.enter("listItem"),R=g.indentLines(g.containerFlow(s,k.current()),function(s,h,g){return h?(g?"":" ".repeat(b))+s:(g?A:A+" ".repeat(b-A.length))+s});return w(),R},paragraph:function(s,h,g,_){let y=g.enter("paragraph"),A=g.enter("phrasing"),b=g.containerPhrasing(s,_);return A(),y(),b},root:function(s,h,g,_){let y=s.children.some(function(s){return iL(s)}),A=y?g.containerPhrasing:g.containerFlow;return A.call(g,s,_)},strong:strong,text:function(s,h,g,_){return g.safe(s.value,_)},thematicBreak:function(s,h,g){let _=(checkRule(g)+(g.options.ruleSpaces?" ":"")).repeat(function(s){let h=s.options.ruleRepetition||3;if(h<3)throw Error("Cannot serialize rules with repetition `"+h+"` for `options.ruleRepetition`, expected `3` or more");return h}(g));return g.options.ruleSpaces?_.slice(0,-1):_}};function enterTable(s){let h=s._align;this.enter({type:"table",align:h.map(function(s){return"none"===s?null:s}),children:[]},s),this.data.inTable=!0}function exitTable(s){this.exit(s),this.data.inTable=void 0}function enterRow(s){this.enter({type:"tableRow",children:[]},s)}function exit(s){this.exit(s)}function enterCell(s){this.enter({type:"tableCell",children:[]},s)}function exitCodeText(s){let h=this.resume();this.data.inTable&&(h=h.replace(/\\([\\|])/g,replace));let g=this.stack[this.stack.length-1];g.type,g.value=h,this.exit(s)}function replace(s,h){return"|"===h?h:s}function exitCheck(s){let h=this.stack[this.stack.length-2];h.type,h.checked="taskListCheckValueChecked"===s.type}function exitParagraphWithTaskListItem(s){let h=this.stack[this.stack.length-2];if(h&&"listItem"===h.type&&"boolean"==typeof h.checked){let s=this.stack[this.stack.length-1];s.type;let g=s.children[0];if(g&&"text"===g.type){let _;let y=h.children,A=-1;for(;++A<y.length;){let s=y[A];if("paragraph"===s.type){_=s;break}}_===s&&(g.value=g.value.slice(1),0===g.value.length?s.children.shift():s.position&&g.position&&"number"==typeof g.position.start.offset&&(g.position.start.column++,g.position.start.offset++,s.position.start=Object.assign({},g.position.start)))}}this.exit(s)}function listItemWithTaskListItem(s,h,g,_){let y=s.children[0],A="boolean"==typeof s.checked&&y&&"paragraph"===y.type,b="["+(s.checked?"x":" ")+"] ",k=g.createTracker(_);A&&k.move(b);let w=iM.listItem(s,h,g,{..._,...k.current()});return A&&(w=w.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(s){return s+b})),w}function splice(s,h,g,_){let y;let A=s.length,b=0;if(h=h<0?-h>A?0:A+h:h>A?A:h,g=g>0?g:0,_.length<1e4)(y=Array.from(_)).unshift(h,g),s.splice(...y);else for(g&&s.splice(h,g);b<_.length;)(y=_.slice(b,b+1e4)).unshift(h,0),s.splice(...y),b+=1e4,h+=1e4}function push(s,h){return s.length>0?(splice(s,s.length,0,h),s):h}let iP={}.hasOwnProperty;function combineExtensions(s){let h={},g=-1;for(;++g<s.length;)!function(s,h){let g;for(g in h){let _;let y=iP.call(s,g)?s[g]:void 0,A=y||(s[g]={}),b=h[g];if(b)for(_ in b){iP.call(A,_)||(A[_]=[]);let s=b[_];!function(s,h){let g=-1,_=[];for(;++g<h.length;)("after"===h[g].add?s:_).push(h[g]);splice(s,0,0,_)}(A[_],Array.isArray(s)?s:s?[s]:[])}}}(h,s[g]);return h}let iF={tokenize:function(s,h,g){let _=0;return function wwwPrefixInside(h){return(87===h||119===h)&&_<3?(_++,s.consume(h),wwwPrefixInside):46===h&&3===_?(s.consume(h),wwwPrefixAfter):g(h)};function wwwPrefixAfter(s){return null===s?g(s):h(s)}},partial:!0},iB={tokenize:function(s,h,g){let _,y,A;return domainInside;function domainInside(h){return 46===h||95===h?s.check(iH,domainAfter,domainAtPunctuation)(h):null===h||markdownLineEndingOrSpace(h)||iI(h)||45!==h&&ix(h)?domainAfter(h):(A=!0,s.consume(h),domainInside)}function domainAtPunctuation(h){return 95===h?_=!0:(y=_,_=void 0),s.consume(h),domainInside}function domainAfter(s){return y||_||!A?g(s):h(s)}},partial:!0},iU={tokenize:function(s,h){let g=0,_=0;return pathInside;function pathInside(y){return 40===y?(g++,s.consume(y),pathInside):41===y&&_<g?pathAtPunctuation(y):33===y||34===y||38===y||39===y||41===y||42===y||44===y||46===y||58===y||59===y||60===y||63===y||93===y||95===y||126===y?s.check(iH,h,pathAtPunctuation)(y):null===y||markdownLineEndingOrSpace(y)||iI(y)?h(y):(s.consume(y),pathInside)}function pathAtPunctuation(h){return 41===h&&_++,s.consume(h),pathInside}},partial:!0},iH={tokenize:function(s,h,g){return trail;function trail(_){return 33===_||34===_||39===_||41===_||42===_||44===_||46===_||58===_||59===_||63===_||95===_||126===_?(s.consume(_),trail):38===_?(s.consume(_),trailCharacterReferenceStart):93===_?(s.consume(_),trailBracketAfter):60===_||null===_||markdownLineEndingOrSpace(_)||iI(_)?h(_):g(_)}function trailBracketAfter(s){return null===s||40===s||91===s||markdownLineEndingOrSpace(s)||iI(s)?h(s):trail(s)}function trailCharacterReferenceStart(h){return iy(h)?function trailCharacterReferenceInside(h){return 59===h?(s.consume(h),trail):iy(h)?(s.consume(h),trailCharacterReferenceInside):g(h)}(h):g(h)}},partial:!0},iG={tokenize:function(s,h,g){return function(h){return s.consume(h),after};function after(s){return iA(s)?g(s):h(s)}},partial:!0},iz={name:"wwwAutolink",tokenize:function(s,h,g){let _=this;return function(h){return 87!==h&&119!==h||!previousWww.call(_,_.previous)||previousUnbalanced(_.events)?g(h):(s.enter("literalAutolink"),s.enter("literalAutolinkWww"),s.check(iF,s.attempt(iB,s.attempt(iU,wwwAfter),g),g)(h))};function wwwAfter(g){return s.exit("literalAutolinkWww"),s.exit("literalAutolink"),h(g)}},previous:previousWww},iV={name:"protocolAutolink",tokenize:function(s,h,g){let _=this,y="",A=!1;return function(h){return(72===h||104===h)&&previousProtocol.call(_,_.previous)&&!previousUnbalanced(_.events)?(s.enter("literalAutolink"),s.enter("literalAutolinkHttp"),y+=String.fromCodePoint(h),s.consume(h),protocolPrefixInside):g(h)};function protocolPrefixInside(h){if(iy(h)&&y.length<5)return y+=String.fromCodePoint(h),s.consume(h),protocolPrefixInside;if(58===h){let g=y.toLowerCase();if("http"===g||"https"===g)return s.consume(h),protocolSlashesInside}return g(h)}function protocolSlashesInside(h){return 47===h?(s.consume(h),A)?afterProtocol:(A=!0,protocolSlashesInside):g(h)}function afterProtocol(h){return null===h||asciiControl(h)||markdownLineEndingOrSpace(h)||iI(h)||ix(h)?g(h):s.attempt(iB,s.attempt(iU,protocolAfter),g)(h)}function protocolAfter(g){return s.exit("literalAutolinkHttp"),s.exit("literalAutolink"),h(g)}},previous:previousProtocol},i$={name:"emailAutolink",tokenize:function(s,h,g){let _,y;let A=this;return function(h){return!gfmAtext(h)||!previousEmail.call(A,A.previous)||previousUnbalanced(A.events)?g(h):(s.enter("literalAutolink"),s.enter("literalAutolinkEmail"),function atext(h){return gfmAtext(h)?(s.consume(h),atext):64===h?(s.consume(h),emailDomain):g(h)}(h))};function emailDomain(h){return 46===h?s.check(iG,emailDomainAfter,emailDomainDot)(h):45===h||95===h||iA(h)?(y=!0,s.consume(h),emailDomain):emailDomainAfter(h)}function emailDomainDot(h){return s.consume(h),_=!0,emailDomain}function emailDomainAfter(b){return y&&_&&iy(A.previous)?(s.exit("literalAutolinkEmail"),s.exit("literalAutolink"),h(b)):g(b)}},previous:previousEmail},iQ={},ij=48;for(;ij<123;)iQ[ij]=i$,58==++ij?ij=65:91===ij&&(ij=97);function previousWww(s){return null===s||40===s||42===s||95===s||91===s||93===s||126===s||markdownLineEndingOrSpace(s)}function previousProtocol(s){return!iy(s)}function previousEmail(s){return!(47===s||gfmAtext(s))}function gfmAtext(s){return 43===s||45===s||46===s||95===s||iA(s)}function previousUnbalanced(s){let h=s.length,g=!1;for(;h--;){let _=s[h][1];if(("labelLink"===_.type||"labelImage"===_.type)&&!_._balanced){g=!0;break}if(_._gfmAutolinkLiteralWalkedInto){g=!1;break}}return s.length>0&&!g&&(s[s.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),g}function factorySpace(s,h,g,_){let y=_?_-1:Number.POSITIVE_INFINITY,A=0;return function(_){return markdownSpace(_)?(s.enter(g),function prefix(_){return markdownSpace(_)&&A++<y?(s.consume(_),prefix):(s.exit(g),h(_))}(_)):h(_)}}iQ[43]=i$,iQ[45]=i$,iQ[46]=i$,iQ[95]=i$,iQ[72]=[i$,iV],iQ[104]=[i$,iV],iQ[87]=[i$,iz],iQ[119]=[i$,iz];let iY={partial:!0,tokenize:function(s,h,g){return function(h){return markdownSpace(h)?factorySpace(s,after,"linePrefix")(h):after(h)};function after(s){return null===s||markdownLineEnding(s)?h(s):g(s)}}},iq={tokenize:function(s,h,g){let _=this;return factorySpace(s,function(s){let y=_.events[_.events.length-1];return y&&"gfmFootnoteDefinitionIndent"===y[1].type&&4===y[2].sliceSerialize(y[1],!0).length?h(s):g(s)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function tokenizePotentialGfmFootnoteCall(s,h,g){let _;let y=this,A=y.events.length,b=y.parser.gfmFootnotes||(y.parser.gfmFootnotes=[]);for(;A--;){let s=y.events[A][1];if("labelImage"===s.type){_=s;break}if("gfmFootnoteCall"===s.type||"labelLink"===s.type||"label"===s.type||"image"===s.type||"link"===s.type)break}return function(A){if(!_||!_._balanced)return g(A);let k=normalizeIdentifier(y.sliceSerialize({start:_.end,end:y.now()}));return 94===k.codePointAt(0)&&b.includes(k.slice(1))?(s.enter("gfmFootnoteCallLabelMarker"),s.consume(A),s.exit("gfmFootnoteCallLabelMarker"),h(A)):g(A)}}function resolveToPotentialGfmFootnoteCall(s,h){let g=s.length;for(;g--;)if("labelImage"===s[g][1].type&&"enter"===s[g][0]){s[g][1];break}s[g+1][1].type="data",s[g+3][1].type="gfmFootnoteCallLabelMarker";let _={type:"gfmFootnoteCall",start:Object.assign({},s[g+3][1].start),end:Object.assign({},s[s.length-1][1].end)},y={type:"gfmFootnoteCallMarker",start:Object.assign({},s[g+3][1].end),end:Object.assign({},s[g+3][1].end)};y.end.column++,y.end.offset++,y.end._bufferIndex++;let A={type:"gfmFootnoteCallString",start:Object.assign({},y.end),end:Object.assign({},s[s.length-1][1].start)},b={type:"chunkString",contentType:"string",start:Object.assign({},A.start),end:Object.assign({},A.end)},k=[s[g+1],s[g+2],["enter",_,h],s[g+3],s[g+4],["enter",y,h],["exit",y,h],["enter",A,h],["enter",b,h],["exit",b,h],["exit",A,h],s[s.length-2],s[s.length-1],["exit",_,h]];return s.splice(g,s.length-g+1,...k),s}function tokenizeGfmFootnoteCall(s,h,g){let _;let y=this,A=y.parser.gfmFootnotes||(y.parser.gfmFootnotes=[]),b=0;return function(h){return s.enter("gfmFootnoteCall"),s.enter("gfmFootnoteCallLabelMarker"),s.consume(h),s.exit("gfmFootnoteCallLabelMarker"),callStart};function callStart(h){return 94!==h?g(h):(s.enter("gfmFootnoteCallMarker"),s.consume(h),s.exit("gfmFootnoteCallMarker"),s.enter("gfmFootnoteCallString"),s.enter("chunkString").contentType="string",callData)}function callData(k){if(b>999||93===k&&!_||null===k||91===k||markdownLineEndingOrSpace(k))return g(k);if(93===k){s.exit("chunkString");let _=s.exit("gfmFootnoteCallString");return A.includes(normalizeIdentifier(y.sliceSerialize(_)))?(s.enter("gfmFootnoteCallLabelMarker"),s.consume(k),s.exit("gfmFootnoteCallLabelMarker"),s.exit("gfmFootnoteCall"),h):g(k)}return markdownLineEndingOrSpace(k)||(_=!0),b++,s.consume(k),92===k?callEscape:callData}function callEscape(h){return 91===h||92===h||93===h?(s.consume(h),b++,callData):callData(h)}}function tokenizeDefinitionStart(s,h,g){let _,y;let A=this,b=A.parser.gfmFootnotes||(A.parser.gfmFootnotes=[]),k=0;return function(h){return s.enter("gfmFootnoteDefinition")._container=!0,s.enter("gfmFootnoteDefinitionLabel"),s.enter("gfmFootnoteDefinitionLabelMarker"),s.consume(h),s.exit("gfmFootnoteDefinitionLabelMarker"),labelAtMarker};function labelAtMarker(h){return 94===h?(s.enter("gfmFootnoteDefinitionMarker"),s.consume(h),s.exit("gfmFootnoteDefinitionMarker"),s.enter("gfmFootnoteDefinitionLabelString"),s.enter("chunkString").contentType="string",labelInside):g(h)}function labelInside(h){if(k>999||93===h&&!y||null===h||91===h||markdownLineEndingOrSpace(h))return g(h);if(93===h){s.exit("chunkString");let g=s.exit("gfmFootnoteDefinitionLabelString");return _=normalizeIdentifier(A.sliceSerialize(g)),s.enter("gfmFootnoteDefinitionLabelMarker"),s.consume(h),s.exit("gfmFootnoteDefinitionLabelMarker"),s.exit("gfmFootnoteDefinitionLabel"),labelAfter}return markdownLineEndingOrSpace(h)||(y=!0),k++,s.consume(h),92===h?labelEscape:labelInside}function labelEscape(h){return 91===h||92===h||93===h?(s.consume(h),k++,labelInside):labelInside(h)}function labelAfter(h){return 58===h?(s.enter("definitionMarker"),s.consume(h),s.exit("definitionMarker"),b.includes(_)||b.push(_),factorySpace(s,whitespaceAfter,"gfmFootnoteDefinitionWhitespace")):g(h)}function whitespaceAfter(s){return h(s)}}function tokenizeDefinitionContinuation(s,h,g){return s.check(iY,h,s.attempt(iq,h,g))}function gfmFootnoteDefinitionEnd(s){s.exit("gfmFootnoteDefinition")}function resolveAll(s,h,g){let _=[],y=-1;for(;++y<s.length;){let A=s[y].resolveAll;A&&!_.includes(A)&&(h=A(h,g),_.push(A))}return h}let EditMap=class EditMap{constructor(){this.map=[]}add(s,h,g){!function(s,h,g,_){let y=0;if(0!==g||0!==_.length){for(;y<s.map.length;){if(s.map[y][0]===h){s.map[y][1]+=g,s.map[y][2].push(..._);return}y+=1}s.map.push([h,g,_])}}(this,s,h,g)}consume(s){if(this.map.sort(function(s,h){return s[0]-h[0]}),0===this.map.length)return;let h=this.map.length,g=[];for(;h>0;)h-=1,g.push(s.slice(this.map[h][0]+this.map[h][1]),this.map[h][2]),s.length=this.map[h][0];g.push([...s]),s.length=0;let _=g.pop();for(;_;)s.push(..._),_=g.pop();this.map.length=0}};function tokenizeTable(s,h,g){let _;let y=this,A=0,b=0;return function(s){let h=y.events.length-1;for(;h>-1;){let s=y.events[h][1].type;if("lineEnding"===s||"linePrefix"===s)h--;else break}let _=h>-1?y.events[h][1].type:null,A="tableHead"===_||"tableRow"===_?bodyRowStart:headRowBefore;return A===bodyRowStart&&y.parser.lazy[y.now().line]?g(s):A(s)};function headRowBefore(h){return s.enter("tableHead"),s.enter("tableRow"),124===h||(_=!0,b+=1),headRowBreak(h)}function headRowBreak(h){return null===h?g(h):markdownLineEnding(h)?b>1?(b=0,y.interrupt=!0,s.exit("tableRow"),s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),headDelimiterStart):g(h):markdownSpace(h)?factorySpace(s,headRowBreak,"whitespace")(h):(b+=1,_&&(_=!1,A+=1),124===h)?(s.enter("tableCellDivider"),s.consume(h),s.exit("tableCellDivider"),_=!0,headRowBreak):(s.enter("data"),headRowData(h))}function headRowData(h){return null===h||124===h||markdownLineEndingOrSpace(h)?(s.exit("data"),headRowBreak(h)):(s.consume(h),92===h?headRowEscape:headRowData)}function headRowEscape(h){return 92===h||124===h?(s.consume(h),headRowData):headRowData(h)}function headDelimiterStart(h){return(y.interrupt=!1,y.parser.lazy[y.now().line])?g(h):(s.enter("tableDelimiterRow"),_=!1,markdownSpace(h))?factorySpace(s,headDelimiterBefore,"linePrefix",y.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):headDelimiterBefore(h)}function headDelimiterBefore(h){return 45===h||58===h?headDelimiterValueBefore(h):124===h?(_=!0,s.enter("tableCellDivider"),s.consume(h),s.exit("tableCellDivider"),headDelimiterCellBefore):g(h)}function headDelimiterCellBefore(h){return markdownSpace(h)?factorySpace(s,headDelimiterValueBefore,"whitespace")(h):headDelimiterValueBefore(h)}function headDelimiterValueBefore(h){return 58===h?(b+=1,_=!0,s.enter("tableDelimiterMarker"),s.consume(h),s.exit("tableDelimiterMarker"),headDelimiterLeftAlignmentAfter):45===h?(b+=1,headDelimiterLeftAlignmentAfter(h)):null===h||markdownLineEnding(h)?headDelimiterCellAfter(h):g(h)}function headDelimiterLeftAlignmentAfter(h){return 45===h?(s.enter("tableDelimiterFiller"),function headDelimiterFiller(h){return 45===h?(s.consume(h),headDelimiterFiller):58===h?(_=!0,s.exit("tableDelimiterFiller"),s.enter("tableDelimiterMarker"),s.consume(h),s.exit("tableDelimiterMarker"),headDelimiterRightAlignmentAfter):(s.exit("tableDelimiterFiller"),headDelimiterRightAlignmentAfter(h))}(h)):g(h)}function headDelimiterRightAlignmentAfter(h){return markdownSpace(h)?factorySpace(s,headDelimiterCellAfter,"whitespace")(h):headDelimiterCellAfter(h)}function headDelimiterCellAfter(y){return 124===y?headDelimiterBefore(y):null===y||markdownLineEnding(y)?_&&A===b?(s.exit("tableDelimiterRow"),s.exit("tableHead"),h(y)):g(y):g(y)}function bodyRowStart(h){return s.enter("tableRow"),bodyRowBreak(h)}function bodyRowBreak(g){return 124===g?(s.enter("tableCellDivider"),s.consume(g),s.exit("tableCellDivider"),bodyRowBreak):null===g||markdownLineEnding(g)?(s.exit("tableRow"),h(g)):markdownSpace(g)?factorySpace(s,bodyRowBreak,"whitespace")(g):(s.enter("data"),bodyRowData(g))}function bodyRowData(h){return null===h||124===h||markdownLineEndingOrSpace(h)?(s.exit("data"),bodyRowBreak(h)):(s.consume(h),92===h?bodyRowEscape:bodyRowData)}function bodyRowEscape(h){return 92===h||124===h?(s.consume(h),bodyRowData):bodyRowData(h)}}function resolveTable(s,h){let g,_,y,A=-1,b=!0,k=0,w=[0,0,0,0],R=[0,0,0,0],B=!1,H=0,z=new EditMap;for(;++A<s.length;){let $=s[A],j=$[1];"enter"===$[0]?"tableHead"===j.type?(B=!1,0!==H&&(flushTableEnd(z,h,H,g,_),_=void 0,H=0),g={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},z.add(A,0,[["enter",g,h]])):"tableRow"===j.type||"tableDelimiterRow"===j.type?(b=!0,y=void 0,w=[0,0,0,0],R=[0,A+1,0,0],B&&(B=!1,_={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},z.add(A,0,[["enter",_,h]])),k="tableDelimiterRow"===j.type?2:_?3:1):k&&("data"===j.type||"tableDelimiterMarker"===j.type||"tableDelimiterFiller"===j.type)?(b=!1,0===R[2]&&(0!==w[1]&&(R[0]=R[1],y=flushCell(z,h,w,k,void 0,y),w=[0,0,0,0]),R[2]=A)):"tableCellDivider"===j.type&&(b?b=!1:(0!==w[1]&&(R[0]=R[1],y=flushCell(z,h,w,k,void 0,y)),R=[(w=R)[1],A,0,0])):"tableHead"===j.type?(B=!0,H=A):"tableRow"===j.type||"tableDelimiterRow"===j.type?(H=A,0!==w[1]?(R[0]=R[1],y=flushCell(z,h,w,k,A,y)):0!==R[1]&&(y=flushCell(z,h,R,k,A,y)),k=0):k&&("data"===j.type||"tableDelimiterMarker"===j.type||"tableDelimiterFiller"===j.type)&&(R[3]=A)}for(0!==H&&flushTableEnd(z,h,H,g,_),z.consume(h.events),A=-1;++A<h.events.length;){let s=h.events[A];"enter"===s[0]&&"table"===s[1].type&&(s[1]._align=function(s,h){let g=!1,_=[];for(;h<s.length;){let y=s[h];if(g){if("enter"===y[0])"tableContent"===y[1].type&&_.push("tableDelimiterMarker"===s[h+1][1].type?"left":"none");else if("tableContent"===y[1].type){if("tableDelimiterMarker"===s[h-1][1].type){let s=_.length-1;_[s]="left"===_[s]?"center":"right"}}else if("tableDelimiterRow"===y[1].type)break}else"enter"===y[0]&&"tableDelimiterRow"===y[1].type&&(g=!0);h+=1}return _}(h.events,A))}return s}function flushCell(s,h,g,_,y,A){0!==g[0]&&(A.end=Object.assign({},getPoint(h.events,g[0])),s.add(g[0],0,[["exit",A,h]]));let b=getPoint(h.events,g[1]);if(A={type:1===_?"tableHeader":2===_?"tableDelimiter":"tableData",start:Object.assign({},b),end:Object.assign({},b)},s.add(g[1],0,[["enter",A,h]]),0!==g[2]){let y=getPoint(h.events,g[2]),A=getPoint(h.events,g[3]),b={type:"tableContent",start:Object.assign({},y),end:Object.assign({},A)};if(s.add(g[2],0,[["enter",b,h]]),2!==_){let _=h.events[g[2]],y=h.events[g[3]];if(_[1].end=Object.assign({},y[1].end),_[1].type="chunkText",_[1].contentType="text",g[3]>g[2]+1){let h=g[2]+1,_=g[3]-g[2]-1;s.add(h,_,[])}}s.add(g[3]+1,0,[["exit",b,h]])}return void 0!==y&&(A.end=Object.assign({},getPoint(h.events,y)),s.add(y,0,[["exit",A,h]]),A=void 0),A}function flushTableEnd(s,h,g,_,y){let A=[],b=getPoint(h.events,g);y&&(y.end=Object.assign({},b),A.push(["exit",y,h])),_.end=Object.assign({},b),A.push(["exit",_,h]),s.add(g+1,0,A)}function getPoint(s,h){let g=s[h],_="enter"===g[0]?"start":"end";return g[1][_]}let iW={name:"tasklistCheck",tokenize:function(s,h,g){let _=this;return function(h){return null===_.previous&&_._gfmTasklistFirstContentOfListItem?(s.enter("taskListCheck"),s.enter("taskListCheckMarker"),s.consume(h),s.exit("taskListCheckMarker"),inside):g(h)};function inside(h){return markdownLineEndingOrSpace(h)?(s.enter("taskListCheckValueUnchecked"),s.consume(h),s.exit("taskListCheckValueUnchecked"),close):88===h||120===h?(s.enter("taskListCheckValueChecked"),s.consume(h),s.exit("taskListCheckValueChecked"),close):g(h)}function close(h){return 93===h?(s.enter("taskListCheckMarker"),s.consume(h),s.exit("taskListCheckMarker"),s.exit("taskListCheck"),after):g(h)}function after(_){return markdownLineEnding(_)?h(_):markdownSpace(_)?s.check({tokenize:spaceThenNonSpace},h,g)(_):g(_)}}};function spaceThenNonSpace(s,h,g){return factorySpace(s,function(s){return null===s?g(s):h(s)},"whitespace")}let iX={};function remarkGfm(s){let h=s||iX,g=this.data(),_=g.micromarkExtensions||(g.micromarkExtensions=[]),y=g.fromMarkdownExtensions||(g.fromMarkdownExtensions=[]),A=g.toMarkdownExtensions||(g.toMarkdownExtensions=[]);_.push(combineExtensions([{text:iQ},{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}},function(s){let h=(s||{}).singleTilde,g={name:"strikethrough",tokenize:function(s,g,_){let y=this.previous,A=this.events,b=0;return function(k){return 126===y&&"characterEscape"!==A[A.length-1][1].type?_(k):(s.enter("strikethroughSequenceTemporary"),function more(A){let k=classifyCharacter(y);if(126===A)return b>1?_(A):(s.consume(A),b++,more);if(b<2&&!h)return _(A);let w=s.exit("strikethroughSequenceTemporary"),R=classifyCharacter(A);return w._open=!R||2===R&&!!k,w._close=!k||2===k&&!!R,g(A)}(k))}},resolveAll:function(s,h){let g=-1;for(;++g<s.length;)if("enter"===s[g][0]&&"strikethroughSequenceTemporary"===s[g][1].type&&s[g][1]._close){let _=g;for(;_--;)if("exit"===s[_][0]&&"strikethroughSequenceTemporary"===s[_][1].type&&s[_][1]._open&&s[g][1].end.offset-s[g][1].start.offset==s[_][1].end.offset-s[_][1].start.offset){s[g][1].type="strikethroughSequence",s[_][1].type="strikethroughSequence";let y={type:"strikethrough",start:Object.assign({},s[_][1].start),end:Object.assign({},s[g][1].end)},A={type:"strikethroughText",start:Object.assign({},s[_][1].end),end:Object.assign({},s[g][1].start)},b=[["enter",y,h],["enter",s[_][1],h],["exit",s[_][1],h],["enter",A,h]],k=h.parser.constructs.insideSpan.null;k&&splice(b,b.length,0,resolveAll(k,s.slice(_+1,g),h)),splice(b,b.length,0,[["exit",A,h],["enter",s[g][1],h],["exit",s[g][1],h],["exit",y,h]]),splice(s,_-1,g-_+3,b),g=_+b.length-2;break}}for(g=-1;++g<s.length;)"strikethroughSequenceTemporary"===s[g][1].type&&(s[g][1].type="data");return s}};return null==h&&(h=!0),{text:{126:g},insideSpan:{null:[g]},attentionMarkers:{null:[126]}}}(h),{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}},{text:{91:iW}}])),y.push([{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}},{enter:{gfmFootnoteDefinition:enterFootnoteDefinition,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteCallString:enterFootnoteCallString},exit:{gfmFootnoteDefinition:exitFootnoteDefinition,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteCallString:exitFootnoteCallString}},{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}},{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}},{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}]),A.push({extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:iO,notInConstruct:iN},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:iO,notInConstruct:iN},{character:":",before:"[ps]",after:"\\/",inConstruct:iO,notInConstruct:iN}]},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition,footnoteReference}},{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:iR}],handlers:{delete:handleDelete}},function(s){let h=s||{},g=h.tableCellPadding,_=h.tablePipeAlign,y=h.stringLength,A=g?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(s,h,g){let _=iM.inlineCode(s,h,g);return g.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_},table:function(s,h,g,_){return serializeData(function(s,h,g){let _=s.children,y=-1,A=[],b=h.enter("table");for(;++y<_.length;)A[y]=handleTableRowAsData(_[y],h,g);return b(),A}(s,g,_),s.align)},tableCell:handleTableCell,tableRow:function(s,h,g,_){let y=handleTableRowAsData(s,g,_),A=serializeData([y]);return A.slice(0,A.indexOf("\n"))}}};function handleTableCell(s,h,g,_){let y=g.enter("tableCell"),b=g.enter("phrasing"),k=g.containerPhrasing(s,{..._,before:A,after:A});return b(),y(),k}function serializeData(s,h){return function(s,h={}){let g=(h.align||[]).concat(),_=h.stringLength||defaultStringLength,y=[],A=[],b=[],k=[],w=0,R=-1;for(;++R<s.length;){let g=[],y=[],H=-1;for(s[R].length>w&&(w=s[R].length);++H<s[R].length;){var B;let A=null==(B=s[R][H])?"":String(B);if(!1!==h.alignDelimiters){let s=_(A);y[H]=s,(void 0===k[H]||s>k[H])&&(k[H]=s)}g.push(A)}A[R]=g,b[R]=y}let H=-1;if("object"==typeof g&&"length"in g)for(;++H<w;)y[H]=toAlignment(g[H]);else{let s=toAlignment(g);for(;++H<w;)y[H]=s}H=-1;let z=[],$=[];for(;++H<w;){let s=y[H],g="",_="";99===s?(g=":",_=":"):108===s?g=":":114===s&&(_=":");let A=!1===h.alignDelimiters?1:Math.max(1,k[H]-g.length-_.length),b=g+"-".repeat(A)+_;!1!==h.alignDelimiters&&((A=g.length+A+_.length)>k[H]&&(k[H]=A),$[H]=A),z[H]=b}A.splice(1,0,z),b.splice(1,0,$),R=-1;let j=[];for(;++R<A.length;){let s=A[R],g=b[R];H=-1;let _=[];for(;++H<w;){let A=s[H]||"",b="",R="";if(!1!==h.alignDelimiters){let s=k[H]-(g[H]||0),h=y[H];114===h?b=" ".repeat(s):99===h?s%2?(b=" ".repeat(s/2+.5),R=" ".repeat(s/2-.5)):R=b=" ".repeat(s/2):R=" ".repeat(s)}!1===h.delimiterStart||H||_.push("|"),!1!==h.padding&&!(!1===h.alignDelimiters&&""===A)&&(!1!==h.delimiterStart||H)&&_.push(" "),!1!==h.alignDelimiters&&_.push(b),_.push(A),!1!==h.alignDelimiters&&_.push(R),!1!==h.padding&&_.push(" "),(!1!==h.delimiterEnd||H!==w-1)&&_.push("|")}j.push(!1===h.delimiterEnd?_.join("").replace(/ +$/,""):_.join(""))}return j.join("\n")}(s,{align:h,alignDelimiters:_,padding:g,stringLength:y})}function handleTableRowAsData(s,h,g){let _=s.children,y=-1,A=[],b=h.enter("tableRow");for(;++y<_.length;)A[y]=handleTableCell(_[y],s,h,g);return b(),A}}(h),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}]})}let SpliceBuffer=class SpliceBuffer{constructor(s){this.left=s?[...s]:[],this.right=[]}get(s){if(s<0||s>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+s+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return s<this.left.length?this.left[s]:this.right[this.right.length-s+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(s,h){let g=null==h?Number.POSITIVE_INFINITY:h;return g<this.left.length?this.left.slice(s,g):s>this.left.length?this.right.slice(this.right.length-g+this.left.length,this.right.length-s+this.left.length).reverse():this.left.slice(s).concat(this.right.slice(this.right.length-g+this.left.length).reverse())}splice(s,h,g){let _=h||0;this.setCursor(Math.trunc(s));let y=this.right.splice(this.right.length-_,Number.POSITIVE_INFINITY);return g&&chunkedPush(this.left,g),y.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(s){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(s)}pushMany(s){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,s)}unshift(s){this.setCursor(0),this.right.push(s)}unshiftMany(s){this.setCursor(0),chunkedPush(this.right,s.reverse())}setCursor(s){if(s!==this.left.length&&(!(s>this.left.length)||0!==this.right.length)&&(!(s<0)||0!==this.left.length)){if(s<this.left.length){let h=this.left.splice(s,Number.POSITIVE_INFINITY);chunkedPush(this.right,h.reverse())}else{let h=this.right.splice(this.left.length+this.right.length-s,Number.POSITIVE_INFINITY);chunkedPush(this.left,h.reverse())}}}};function chunkedPush(s,h){let g=0;if(h.length<1e4)s.push(...h);else for(;g<h.length;)s.push(...h.slice(g,g+1e4)),g+=1e4}function subtokenize(s){let h,g,_,y,A,b,k;let w={},R=-1,B=new SpliceBuffer(s);for(;++R<B.length;){for(;(R in w);)R=w[R];if(h=B.get(R),R&&"chunkFlow"===h[1].type&&"listItemPrefix"===B.get(R-1)[1].type&&((_=0)<(b=h[1]._tokenizer.events).length&&"lineEndingBlank"===b[_][1].type&&(_+=2),_<b.length&&"content"===b[_][1].type))for(;++_<b.length&&"content"!==b[_][1].type;)"chunkText"===b[_][1].type&&(b[_][1]._isInFirstContentOfListItem=!0,_++);if("enter"===h[0])h[1].contentType&&(Object.assign(w,function(s,h){let g,_;let y=s.get(h)[1],A=s.get(h)[2],b=h-1,k=[],w=y._tokenizer||A.parser[y.contentType](y.start),R=w.events,B=[],H={},z=-1,$=y,j=0,q=0,W=[q];for(;$;){for(;s.get(++b)[1]!==$;);k.push(b),!$._tokenizer&&(g=A.sliceStream($),$.next||g.push(null),_&&w.defineSkip($.start),$._isInFirstContentOfListItem&&(w._gfmTasklistFirstContentOfListItem=!0),w.write(g),$._isInFirstContentOfListItem&&(w._gfmTasklistFirstContentOfListItem=void 0)),_=$,$=$.next}for($=y;++z<R.length;)"exit"===R[z][0]&&"enter"===R[z-1][0]&&R[z][1].type===R[z-1][1].type&&R[z][1].start.line!==R[z][1].end.line&&(q=z+1,W.push(q),$._tokenizer=void 0,$.previous=void 0,$=$.next);for(w.events=[],$?($._tokenizer=void 0,$.previous=void 0):W.pop(),z=W.length;z--;){let h=R.slice(W[z],W[z+1]),g=k.pop();B.push([g,g+h.length-1]),s.splice(g,2,h)}for(B.reverse(),z=-1;++z<B.length;)H[j+B[z][0]]=j+B[z][1],j+=B[z][1]-B[z][0]-1;return H}(B,R)),R=w[R],k=!0);else if(h[1]._container){for(_=R,g=void 0;_--;)if("lineEnding"===(y=B.get(_))[1].type||"lineEndingBlank"===y[1].type)"enter"===y[0]&&(g&&(B.get(g)[1].type="lineEndingBlank"),y[1].type="lineEnding",g=_);else break;g&&(h[1].end={...B.get(g)[1].start},(A=B.slice(g,R)).unshift(h),B.splice(g,R-g+1,A))}}return splice(s,0,Number.POSITIVE_INFINITY,B.slice(0)),!k}let iK={tokenize:function(s){let h;let g=s.attempt(this.parser.constructs.contentInitial,function(h){if(null===h){s.consume(h);return}return s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),factorySpace(s,g,"linePrefix")},function(g){return s.enter("paragraph"),function lineStart(g){let _=s.enter("chunkText",{contentType:"text",previous:h});return h&&(h.next=_),h=_,function data(h){if(null===h){s.exit("chunkText"),s.exit("paragraph"),s.consume(h);return}return markdownLineEnding(h)?(s.consume(h),s.exit("chunkText"),lineStart):(s.consume(h),data)}(g)}(g)});return g}},iJ={tokenize:function(s){let h,g,_;let y=this,A=[],b=0;return start;function start(h){if(b<A.length){let g=A[b];return y.containerState=g[1],s.attempt(g[0].continuation,documentContinue,checkNewContainers)(h)}return checkNewContainers(h)}function documentContinue(s){if(b++,y.containerState._closeFlow){let g;y.containerState._closeFlow=void 0,h&&closeFlow();let _=y.events.length,A=_;for(;A--;)if("exit"===y.events[A][0]&&"chunkFlow"===y.events[A][1].type){g=y.events[A][1].end;break}exitContainers(b);let k=_;for(;k<y.events.length;)y.events[k][1].end={...g},k++;return splice(y.events,A+1,0,y.events.slice(_)),y.events.length=k,checkNewContainers(s)}return start(s)}function checkNewContainers(g){if(b===A.length){if(!h)return documentContinued(g);if(h.currentConstruct&&h.currentConstruct.concrete)return flowStart(g);y.interrupt=!!(h.currentConstruct&&!h._gfmTableDynamicInterruptHack)}return y.containerState={},s.check(iZ,thereIsANewContainer,thereIsNoNewContainer)(g)}function thereIsANewContainer(s){return h&&closeFlow(),exitContainers(b),documentContinued(s)}function thereIsNoNewContainer(s){return y.parser.lazy[y.now().line]=b!==A.length,_=y.now().offset,flowStart(s)}function documentContinued(h){return y.containerState={},s.attempt(iZ,containerContinue,flowStart)(h)}function containerContinue(s){return b++,A.push([y.currentConstruct,y.containerState]),documentContinued(s)}function flowStart(_){if(null===_){h&&closeFlow(),exitContainers(0),s.consume(_);return}return h=h||y.parser.flow(y.now()),s.enter("chunkFlow",{_tokenizer:h,contentType:"flow",previous:g}),function flowContinue(h){if(null===h){writeToChild(s.exit("chunkFlow"),!0),exitContainers(0),s.consume(h);return}return markdownLineEnding(h)?(s.consume(h),writeToChild(s.exit("chunkFlow")),b=0,y.interrupt=void 0,start):(s.consume(h),flowContinue)}(_)}function writeToChild(s,A){let k=y.sliceStream(s);if(A&&k.push(null),s.previous=g,g&&(g.next=s),g=s,h.defineSkip(s.start),h.write(k),y.parser.lazy[s.start.line]){let s,g,A=h.events.length;for(;A--;)if(h.events[A][1].start.offset<_&&(!h.events[A][1].end||h.events[A][1].end.offset>_))return;let k=y.events.length,w=k;for(;w--;)if("exit"===y.events[w][0]&&"chunkFlow"===y.events[w][1].type){if(s){g=y.events[w][1].end;break}s=!0}for(exitContainers(b),A=k;A<y.events.length;)y.events[A][1].end={...g},A++;splice(y.events,w+1,0,y.events.slice(k)),y.events.length=A}}function exitContainers(h){let g=A.length;for(;g-- >h;){let h=A[g];y.containerState=h[1],h[0].exit.call(y,s)}A.length=h}function closeFlow(){h.write([null]),g=void 0,h=void 0,y.containerState._closeFlow=void 0}}},iZ={tokenize:function(s,h,g){return factorySpace(s,s.attempt(this.parser.constructs.document,h,g),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},i0={resolve:function(s){return subtokenize(s),s},tokenize:function(s,h){let g;return function(h){return s.enter("content"),g=s.enter("chunkContent",{contentType:"content"}),chunkInside(h)};function chunkInside(h){return null===h?contentEnd(h):markdownLineEnding(h)?s.check(i1,contentContinue,contentEnd)(h):(s.consume(h),chunkInside)}function contentEnd(g){return s.exit("chunkContent"),s.exit("content"),h(g)}function contentContinue(h){return s.consume(h),s.exit("chunkContent"),g.next=s.enter("chunkContent",{contentType:"content",previous:g}),g=g.next,chunkInside}}},i1={partial:!0,tokenize:function(s,h,g){let _=this;return function(h){return s.exit("chunkContent"),s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),factorySpace(s,prefixed,"linePrefix")};function prefixed(y){if(null===y||markdownLineEnding(y))return g(y);let A=_.events[_.events.length-1];return!_.parser.constructs.disable.null.includes("codeIndented")&&A&&"linePrefix"===A[1].type&&A[2].sliceSerialize(A[1],!0).length>=4?h(y):s.interrupt(_.parser.constructs.flow,g,h)(y)}}},i2={tokenize:function(s){let h=this,g=s.attempt(iY,function(_){if(null===_){s.consume(_);return}return s.enter("lineEndingBlank"),s.consume(_),s.exit("lineEndingBlank"),h.currentConstruct=void 0,g},s.attempt(this.parser.constructs.flowInitial,afterConstruct,factorySpace(s,s.attempt(this.parser.constructs.flow,afterConstruct,s.attempt(i0,afterConstruct)),"linePrefix")));return g;function afterConstruct(_){if(null===_){s.consume(_);return}return s.enter("lineEnding"),s.consume(_),s.exit("lineEnding"),h.currentConstruct=void 0,g}}},i3={resolveAll:createResolver()},i4=initializeFactory("string"),i5=initializeFactory("text");function initializeFactory(s){return{resolveAll:createResolver("text"===s?resolveAllLineSuffixes:void 0),tokenize:function(h){let g=this,_=this.parser.constructs[s],y=h.attempt(_,start,notText);return start;function start(s){return atBreak(s)?y(s):notText(s)}function notText(s){if(null===s){h.consume(s);return}return h.enter("data"),h.consume(s),data}function data(s){return atBreak(s)?(h.exit("data"),y(s)):(h.consume(s),data)}function atBreak(s){if(null===s)return!0;let h=_[s],y=-1;if(h)for(;++y<h.length;){let s=h[y];if(!s.previous||s.previous.call(g,g.previous))return!0}return!1}}}}function createResolver(s){return function(h,g){let _,y=-1;for(;++y<=h.length;)void 0===_?h[y]&&"data"===h[y][1].type&&(_=y,y++):h[y]&&"data"===h[y][1].type||(y!==_+2&&(h[_][1].end=h[y-1][1].end,h.splice(_+2,y-_-2),y=_+2),_=void 0);return s?s(h,g):h}}function resolveAllLineSuffixes(s,h){let g=0;for(;++g<=s.length;)if((g===s.length||"lineEnding"===s[g][1].type)&&"data"===s[g-1][1].type){let _;let y=s[g-1][1],A=h.sliceStream(y),b=A.length,k=-1,w=0;for(;b--;){let s=A[b];if("string"==typeof s){for(k=s.length;32===s.charCodeAt(k-1);)w++,k--;if(k)break;k=-1}else if(-2===s)_=!0,w++;else if(-1===s);else{b++;break}}if(w){let A={type:g===s.length||_||w<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:b?k:y.start._bufferIndex+k,_index:y.start._index+b,line:y.end.line,column:y.end.column-w,offset:y.end.offset-w},end:{...y.end}};y.end={...A.start},y.start.offset===y.end.offset?Object.assign(y,A):(s.splice(g,0,["enter",A,h],["exit",A,h]),g+=2)}g++}return s}let i6={name:"thematicBreak",tokenize:function(s,h,g){let _,y=0;return function(A){return s.enter("thematicBreak"),_=A,function atBreak(A){return A===_?(s.enter("thematicBreakSequence"),function sequence(h){return h===_?(s.consume(h),y++,sequence):(s.exit("thematicBreakSequence"),markdownSpace(h)?factorySpace(s,atBreak,"whitespace")(h):atBreak(h))}(A)):y>=3&&(null===A||markdownLineEnding(A))?(s.exit("thematicBreak"),h(A)):g(A)}(A)}}},i8={continuation:{tokenize:function(s,h,g){let _=this;return _.containerState._closeFlow=void 0,s.check(iY,function(g){return _.containerState.furtherBlankLines=_.containerState.furtherBlankLines||_.containerState.initialBlankLine,factorySpace(s,h,"listItemIndent",_.containerState.size+1)(g)},function(g){return _.containerState.furtherBlankLines||!markdownSpace(g)?(_.containerState.furtherBlankLines=void 0,_.containerState.initialBlankLine=void 0,notInCurrentItem(g)):(_.containerState.furtherBlankLines=void 0,_.containerState.initialBlankLine=void 0,s.attempt(i7,h,notInCurrentItem)(g))});function notInCurrentItem(y){return _.containerState._closeFlow=!0,_.interrupt=void 0,factorySpace(s,s.attempt(i8,h,g),"linePrefix",_.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y)}}},exit:function(s){s.exit(this.containerState.type)},name:"list",tokenize:function(s,h,g){let _=this,y=_.events[_.events.length-1],A=y&&"linePrefix"===y[1].type?y[2].sliceSerialize(y[1],!0).length:0,b=0;return function(h){let y=_.containerState.type||(42===h||43===h||45===h?"listUnordered":"listOrdered");if("listUnordered"===y?!_.containerState.marker||h===_.containerState.marker:iS(h)){if(_.containerState.type||(_.containerState.type=y,s.enter(y,{_container:!0})),"listUnordered"===y)return s.enter("listItemPrefix"),42===h||45===h?s.check(i6,g,atMarker)(h):atMarker(h);if(!_.interrupt||49===h)return s.enter("listItemPrefix"),s.enter("listItemValue"),function inside(h){return iS(h)&&++b<10?(s.consume(h),inside):(!_.interrupt||b<2)&&(_.containerState.marker?h===_.containerState.marker:41===h||46===h)?(s.exit("listItemValue"),atMarker(h)):g(h)}(h)}return g(h)};function atMarker(h){return s.enter("listItemMarker"),s.consume(h),s.exit("listItemMarker"),_.containerState.marker=_.containerState.marker||h,s.check(iY,_.interrupt?g:onBlank,s.attempt(i9,endOfPrefix,otherPrefix))}function onBlank(s){return _.containerState.initialBlankLine=!0,A++,endOfPrefix(s)}function otherPrefix(h){return markdownSpace(h)?(s.enter("listItemPrefixWhitespace"),s.consume(h),s.exit("listItemPrefixWhitespace"),endOfPrefix):g(h)}function endOfPrefix(g){return _.containerState.size=A+_.sliceSerialize(s.exit("listItemPrefix"),!0).length,h(g)}}},i9={partial:!0,tokenize:function(s,h,g){let _=this;return factorySpace(s,function(s){let y=_.events[_.events.length-1];return!markdownSpace(s)&&y&&"listItemPrefixWhitespace"===y[1].type?h(s):g(s)},"listItemPrefixWhitespace",_.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},i7={partial:!0,tokenize:function(s,h,g){let _=this;return factorySpace(s,function(s){let y=_.events[_.events.length-1];return y&&"listItemIndent"===y[1].type&&y[2].sliceSerialize(y[1],!0).length===_.containerState.size?h(s):g(s)},"listItemIndent",_.containerState.size+1)}},ae={continuation:{tokenize:function(s,h,g){let _=this;return function(h){return markdownSpace(h)?factorySpace(s,contBefore,"linePrefix",_.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):contBefore(h)};function contBefore(_){return s.attempt(ae,h,g)(_)}}},exit:function(s){s.exit("blockQuote")},name:"blockQuote",tokenize:function(s,h,g){let _=this;return function(h){if(62===h){let g=_.containerState;return g.open||(s.enter("blockQuote",{_container:!0}),g.open=!0),s.enter("blockQuotePrefix"),s.enter("blockQuoteMarker"),s.consume(h),s.exit("blockQuoteMarker"),after}return g(h)};function after(g){return markdownSpace(g)?(s.enter("blockQuotePrefixWhitespace"),s.consume(g),s.exit("blockQuotePrefixWhitespace"),s.exit("blockQuotePrefix"),h):(s.exit("blockQuotePrefix"),h(g))}}};function factoryDestination(s,h,g,_,y,A,b,k,w){let R=w||Number.POSITIVE_INFINITY,B=0;return function(h){return 60===h?(s.enter(_),s.enter(y),s.enter(A),s.consume(h),s.exit(A),enclosedBefore):null===h||32===h||41===h||asciiControl(h)?g(h):(s.enter(_),s.enter(b),s.enter(k),s.enter("chunkString",{contentType:"string"}),raw(h))};function enclosedBefore(g){return 62===g?(s.enter(A),s.consume(g),s.exit(A),s.exit(y),s.exit(_),h):(s.enter(k),s.enter("chunkString",{contentType:"string"}),enclosed(g))}function enclosed(h){return 62===h?(s.exit("chunkString"),s.exit(k),enclosedBefore(h)):null===h||60===h||markdownLineEnding(h)?g(h):(s.consume(h),92===h?enclosedEscape:enclosed)}function enclosedEscape(h){return 60===h||62===h||92===h?(s.consume(h),enclosed):enclosed(h)}function raw(y){return!B&&(null===y||41===y||markdownLineEndingOrSpace(y))?(s.exit("chunkString"),s.exit(k),s.exit(b),s.exit(_),h(y)):B<R&&40===y?(s.consume(y),B++,raw):41===y?(s.consume(y),B--,raw):null===y||32===y||40===y||asciiControl(y)?g(y):(s.consume(y),92===y?rawEscape:raw)}function rawEscape(h){return 40===h||41===h||92===h?(s.consume(h),raw):raw(h)}}function factoryLabel(s,h,g,_,y,A){let b;let k=this,w=0;return function(h){return s.enter(_),s.enter(y),s.consume(h),s.exit(y),s.enter(A),atBreak};function atBreak(R){return w>999||null===R||91===R||93===R&&!b||94===R&&!w&&"_hiddenFootnoteSupport"in k.parser.constructs?g(R):93===R?(s.exit(A),s.enter(y),s.consume(R),s.exit(y),s.exit(_),h):markdownLineEnding(R)?(s.enter("lineEnding"),s.consume(R),s.exit("lineEnding"),atBreak):(s.enter("chunkString",{contentType:"string"}),labelInside(R))}function labelInside(h){return null===h||91===h||93===h||markdownLineEnding(h)||w++>999?(s.exit("chunkString"),atBreak(h)):(s.consume(h),b||(b=!markdownSpace(h)),92===h?labelEscape:labelInside)}function labelEscape(h){return 91===h||92===h||93===h?(s.consume(h),w++,labelInside):labelInside(h)}}function factoryTitle(s,h,g,_,y,A){let b;return function(h){return 34===h||39===h||40===h?(s.enter(_),s.enter(y),s.consume(h),s.exit(y),b=40===h?41:h,begin):g(h)};function begin(g){return g===b?(s.enter(y),s.consume(g),s.exit(y),s.exit(_),h):(s.enter(A),atBreak(g))}function atBreak(h){return h===b?(s.exit(A),begin(b)):null===h?g(h):markdownLineEnding(h)?(s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),factorySpace(s,atBreak,"linePrefix")):(s.enter("chunkString",{contentType:"string"}),inside(h))}function inside(h){return h===b||null===h||markdownLineEnding(h)?(s.exit("chunkString"),atBreak(h)):(s.consume(h),92===h?escape:inside)}function escape(h){return h===b||92===h?(s.consume(h),inside):inside(h)}}function factoryWhitespace(s,h){let g;return function start(_){return markdownLineEnding(_)?(s.enter("lineEnding"),s.consume(_),s.exit("lineEnding"),g=!0,start):markdownSpace(_)?factorySpace(s,start,g?"linePrefix":"lineSuffix")(_):h(_)}}let at={partial:!0,tokenize:function(s,h,g){return function(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(s,beforeMarker)(h):g(h)};function beforeMarker(h){return factoryTitle(s,titleAfter,g,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function titleAfter(h){return markdownSpace(h)?factorySpace(s,titleAfterOptionalWhitespace,"whitespace")(h):titleAfterOptionalWhitespace(h)}function titleAfterOptionalWhitespace(s){return null===s||markdownLineEnding(s)?h(s):g(s)}}},ar={name:"codeIndented",tokenize:function(s,h,g){let _=this;return function(h){return s.enter("codeIndented"),factorySpace(s,afterPrefix,"linePrefix",5)(h)};function afterPrefix(h){let y=_.events[_.events.length-1];return y&&"linePrefix"===y[1].type&&y[2].sliceSerialize(y[1],!0).length>=4?function atBreak(h){return null===h?after(h):markdownLineEnding(h)?s.attempt(ai,atBreak,after)(h):(s.enter("codeFlowValue"),function inside(h){return null===h||markdownLineEnding(h)?(s.exit("codeFlowValue"),atBreak(h)):(s.consume(h),inside)}(h))}(h):g(h)}function after(g){return s.exit("codeIndented"),h(g)}}},ai={partial:!0,tokenize:function(s,h,g){let _=this;return furtherStart;function furtherStart(h){return _.parser.lazy[_.now().line]?g(h):markdownLineEnding(h)?(s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),furtherStart):factorySpace(s,afterPrefix,"linePrefix",5)(h)}function afterPrefix(s){let y=_.events[_.events.length-1];return y&&"linePrefix"===y[1].type&&y[2].sliceSerialize(y[1],!0).length>=4?h(s):markdownLineEnding(s)?furtherStart(s):g(s)}}},al={name:"setextUnderline",resolveTo:function(s,h){let g,_,y,A=s.length;for(;A--;)if("enter"===s[A][0]){if("content"===s[A][1].type){g=A;break}"paragraph"===s[A][1].type&&(_=A)}else"content"===s[A][1].type&&s.splice(A,1),y||"definition"!==s[A][1].type||(y=A);let b={type:"setextHeading",start:{...s[_][1].start},end:{...s[s.length-1][1].end}};return s[_][1].type="setextHeadingText",y?(s.splice(_,0,["enter",b,h]),s.splice(y+1,0,["exit",s[g][1],h]),s[g][1].end={...s[y][1].end}):s[g][1]=b,s.push(["exit",b,h]),s},tokenize:function(s,h,g){let _;let y=this;return function(h){let A,b=y.events.length;for(;b--;)if("lineEnding"!==y.events[b][1].type&&"linePrefix"!==y.events[b][1].type&&"content"!==y.events[b][1].type){A="paragraph"===y.events[b][1].type;break}return!y.parser.lazy[y.now().line]&&(y.interrupt||A)?(s.enter("setextHeadingLine"),_=h,s.enter("setextHeadingLineSequence"),function inside(h){return h===_?(s.consume(h),inside):(s.exit("setextHeadingLineSequence"),markdownSpace(h)?factorySpace(s,after,"lineSuffix")(h):after(h))}(h)):g(h)};function after(_){return null===_||markdownLineEnding(_)?(s.exit("setextHeadingLine"),h(_)):g(_)}}},ac=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],au=["pre","script","style","textarea"],ad={partial:!0,tokenize:function(s,h,g){return function(_){return s.enter("lineEnding"),s.consume(_),s.exit("lineEnding"),s.attempt(iY,h,g)}}},ah={partial:!0,tokenize:function(s,h,g){let _=this;return function(h){return markdownLineEnding(h)?(s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),after):g(h)};function after(s){return _.parser.lazy[_.now().line]?g(s):h(s)}}},ap={partial:!0,tokenize:function(s,h,g){let _=this;return function(h){return null===h?g(h):(s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),lineStart)};function lineStart(s){return _.parser.lazy[_.now().line]?g(s):h(s)}}},af={concrete:!0,name:"codeFenced",tokenize:function(s,h,g){let _;let y=this,A={partial:!0,tokenize:function(s,h,g){let A=0;return function(h){return s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),start};function start(h){return s.enter("codeFencedFence"),markdownSpace(h)?factorySpace(s,beforeSequenceClose,"linePrefix",y.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):beforeSequenceClose(h)}function beforeSequenceClose(h){return h===_?(s.enter("codeFencedFenceSequence"),function sequenceClose(h){return h===_?(A++,s.consume(h),sequenceClose):A>=k?(s.exit("codeFencedFenceSequence"),markdownSpace(h)?factorySpace(s,sequenceCloseAfter,"whitespace")(h):sequenceCloseAfter(h)):g(h)}(h)):g(h)}function sequenceCloseAfter(_){return null===_||markdownLineEnding(_)?(s.exit("codeFencedFence"),h(_)):g(_)}}},b=0,k=0;return function(h){return function(h){let A=y.events[y.events.length-1];return b=A&&"linePrefix"===A[1].type?A[2].sliceSerialize(A[1],!0).length:0,_=h,s.enter("codeFenced"),s.enter("codeFencedFence"),s.enter("codeFencedFenceSequence"),function sequenceOpen(h){return h===_?(k++,s.consume(h),sequenceOpen):k<3?g(h):(s.exit("codeFencedFenceSequence"),markdownSpace(h)?factorySpace(s,infoBefore,"whitespace")(h):infoBefore(h))}(h)}(h)};function infoBefore(A){return null===A||markdownLineEnding(A)?(s.exit("codeFencedFence"),y.interrupt?h(A):s.check(ap,atNonLazyBreak,after)(A)):(s.enter("codeFencedFenceInfo"),s.enter("chunkString",{contentType:"string"}),function info(h){return null===h||markdownLineEnding(h)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),infoBefore(h)):markdownSpace(h)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),factorySpace(s,metaBefore,"whitespace")(h)):96===h&&h===_?g(h):(s.consume(h),info)}(A))}function metaBefore(h){return null===h||markdownLineEnding(h)?infoBefore(h):(s.enter("codeFencedFenceMeta"),s.enter("chunkString",{contentType:"string"}),function meta(h){return null===h||markdownLineEnding(h)?(s.exit("chunkString"),s.exit("codeFencedFenceMeta"),infoBefore(h)):96===h&&h===_?g(h):(s.consume(h),meta)}(h))}function atNonLazyBreak(h){return s.attempt(A,after,contentBefore)(h)}function contentBefore(h){return s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),contentStart}function contentStart(h){return b>0&&markdownSpace(h)?factorySpace(s,beforeContentChunk,"linePrefix",b+1)(h):beforeContentChunk(h)}function beforeContentChunk(h){return null===h||markdownLineEnding(h)?s.check(ap,atNonLazyBreak,after)(h):(s.enter("codeFlowValue"),function contentChunk(h){return null===h||markdownLineEnding(h)?(s.exit("codeFlowValue"),beforeContentChunk(h)):(s.consume(h),contentChunk)}(h))}function after(g){return s.exit("codeFenced"),h(g)}}},am=document.createElement("i");function decodeNamedCharacterReference(s){let h="&"+s+";";am.innerHTML=h;let g=am.textContent;return(59!==g.charCodeAt(g.length-1)||"semi"===s)&&g!==h&&g}let ag={name:"characterReference",tokenize:function(s,h,g){let _,y;let A=this,b=0;return function(h){return s.enter("characterReference"),s.enter("characterReferenceMarker"),s.consume(h),s.exit("characterReferenceMarker"),open};function open(h){return 35===h?(s.enter("characterReferenceMarkerNumeric"),s.consume(h),s.exit("characterReferenceMarkerNumeric"),numeric):(s.enter("characterReferenceValue"),_=31,y=iA,value(h))}function numeric(h){return 88===h||120===h?(s.enter("characterReferenceMarkerHexadecimal"),s.consume(h),s.exit("characterReferenceMarkerHexadecimal"),s.enter("characterReferenceValue"),_=6,y=ik,value):(s.enter("characterReferenceValue"),_=7,y=iS,value(h))}function value(k){if(59===k&&b){let _=s.exit("characterReferenceValue");return y!==iA||decodeNamedCharacterReference(A.sliceSerialize(_))?(s.enter("characterReferenceMarker"),s.consume(k),s.exit("characterReferenceMarker"),s.exit("characterReference"),h):g(k)}return y(k)&&b++<_?(s.consume(k),value):g(k)}}},aE={name:"characterEscape",tokenize:function(s,h,g){return function(h){return s.enter("characterEscape"),s.enter("escapeMarker"),s.consume(h),s.exit("escapeMarker"),inside};function inside(_){return iC(_)?(s.enter("characterEscapeValue"),s.consume(_),s.exit("characterEscapeValue"),s.exit("characterEscape"),h):g(_)}}},a_={name:"lineEnding",tokenize:function(s,h){return function(g){return s.enter("lineEnding"),s.consume(g),s.exit("lineEnding"),factorySpace(s,h,"linePrefix")}}},aT={name:"labelEnd",resolveAll:function(s){let h=-1,g=[];for(;++h<s.length;){let _=s[h][1];if(g.push(s[h]),"labelImage"===_.type||"labelLink"===_.type||"labelEnd"===_.type){let s="labelImage"===_.type?4:2;_.type="data",h+=s}}return s.length!==g.length&&splice(s,0,s.length,g),s},resolveTo:function(s,h){let g,_,y,A,b=s.length,k=0;for(;b--;)if(g=s[b][1],_){if("link"===g.type||"labelLink"===g.type&&g._inactive)break;"enter"===s[b][0]&&"labelLink"===g.type&&(g._inactive=!0)}else if(y){if("enter"===s[b][0]&&("labelImage"===g.type||"labelLink"===g.type)&&!g._balanced&&(_=b,"labelLink"!==g.type)){k=2;break}}else"labelEnd"===g.type&&(y=b);let w={type:"labelLink"===s[_][1].type?"link":"image",start:{...s[_][1].start},end:{...s[s.length-1][1].end}},R={type:"label",start:{...s[_][1].start},end:{...s[y][1].end}},B={type:"labelText",start:{...s[_+k+2][1].end},end:{...s[y-2][1].start}};return A=push(A=[["enter",w,h],["enter",R,h]],s.slice(_+1,_+k+3)),A=push(A,[["enter",B,h]]),A=push(A,resolveAll(h.parser.constructs.insideSpan.null,s.slice(_+k+4,y-3),h)),A=push(A,[["exit",B,h],s[y-2],s[y-1],["exit",R,h]]),A=push(A,s.slice(y+1)),A=push(A,[["exit",w,h]]),splice(s,_,s.length,A),s},tokenize:function(s,h,g){let _,y;let A=this,b=A.events.length;for(;b--;)if(("labelImage"===A.events[b][1].type||"labelLink"===A.events[b][1].type)&&!A.events[b][1]._balanced){_=A.events[b][1];break}return function(h){return _?_._inactive?labelEndNok(h):(y=A.parser.defined.includes(normalizeIdentifier(A.sliceSerialize({start:_.end,end:A.now()}))),s.enter("labelEnd"),s.enter("labelMarker"),s.consume(h),s.exit("labelMarker"),s.exit("labelEnd"),after):g(h)};function after(h){return 40===h?s.attempt(av,labelEndOk,y?labelEndOk:labelEndNok)(h):91===h?s.attempt(ay,labelEndOk,y?referenceNotFull:labelEndNok)(h):y?labelEndOk(h):labelEndNok(h)}function referenceNotFull(h){return s.attempt(aA,labelEndOk,labelEndNok)(h)}function labelEndOk(s){return h(s)}function labelEndNok(s){return _._balanced=!0,g(s)}}},av={tokenize:function(s,h,g){return function(h){return s.enter("resource"),s.enter("resourceMarker"),s.consume(h),s.exit("resourceMarker"),resourceBefore};function resourceBefore(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(s,resourceOpen)(h):resourceOpen(h)}function resourceOpen(h){return 41===h?resourceEnd(h):factoryDestination(s,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function resourceDestinationAfter(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(s,resourceBetween)(h):resourceEnd(h)}function resourceDestinationMissing(s){return g(s)}function resourceBetween(h){return 34===h||39===h||40===h?factoryTitle(s,resourceTitleAfter,g,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):resourceEnd(h)}function resourceTitleAfter(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(s,resourceEnd)(h):resourceEnd(h)}function resourceEnd(_){return 41===_?(s.enter("resourceMarker"),s.consume(_),s.exit("resourceMarker"),s.exit("resource"),h):g(_)}}},ay={tokenize:function(s,h,g){let _=this;return function(h){return factoryLabel.call(_,s,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")(h)};function referenceFullAfter(s){return _.parser.defined.includes(normalizeIdentifier(_.sliceSerialize(_.events[_.events.length-1][1]).slice(1,-1)))?h(s):g(s)}function referenceFullMissing(s){return g(s)}}},aA={tokenize:function(s,h,g){return function(h){return s.enter("reference"),s.enter("referenceMarker"),s.consume(h),s.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen(_){return 93===_?(s.enter("referenceMarker"),s.consume(_),s.exit("referenceMarker"),s.exit("reference"),h):g(_)}}},ab={name:"labelStartImage",resolveAll:aT.resolveAll,tokenize:function(s,h,g){let _=this;return function(h){return s.enter("labelImage"),s.enter("labelImageMarker"),s.consume(h),s.exit("labelImageMarker"),open};function open(h){return 91===h?(s.enter("labelMarker"),s.consume(h),s.exit("labelMarker"),s.exit("labelImage"),after):g(h)}function after(s){return 94===s&&"_hiddenFootnoteSupport"in _.parser.constructs?g(s):h(s)}}},aS={name:"attention",resolveAll:function(s,h){let g,_,y,A,b,k,w,R,B=-1;for(;++B<s.length;)if("enter"===s[B][0]&&"attentionSequence"===s[B][1].type&&s[B][1]._close){for(g=B;g--;)if("exit"===s[g][0]&&"attentionSequence"===s[g][1].type&&s[g][1]._open&&h.sliceSerialize(s[g][1]).charCodeAt(0)===h.sliceSerialize(s[B][1]).charCodeAt(0)){if((s[g][1]._close||s[B][1]._open)&&(s[B][1].end.offset-s[B][1].start.offset)%3&&!((s[g][1].end.offset-s[g][1].start.offset+s[B][1].end.offset-s[B][1].start.offset)%3))continue;k=s[g][1].end.offset-s[g][1].start.offset>1&&s[B][1].end.offset-s[B][1].start.offset>1?2:1;let H={...s[g][1].end},z={...s[B][1].start};movePoint(H,-k),movePoint(z,k),A={type:k>1?"strongSequence":"emphasisSequence",start:H,end:{...s[g][1].end}},b={type:k>1?"strongSequence":"emphasisSequence",start:{...s[B][1].start},end:z},y={type:k>1?"strongText":"emphasisText",start:{...s[g][1].end},end:{...s[B][1].start}},_={type:k>1?"strong":"emphasis",start:{...A.start},end:{...b.end}},s[g][1].end={...A.start},s[B][1].start={...b.end},w=[],s[g][1].end.offset-s[g][1].start.offset&&(w=push(w,[["enter",s[g][1],h],["exit",s[g][1],h]])),w=push(w,[["enter",_,h],["enter",A,h],["exit",A,h],["enter",y,h]]),w=push(w,resolveAll(h.parser.constructs.insideSpan.null,s.slice(g+1,B),h)),w=push(w,[["exit",y,h],["enter",b,h],["exit",b,h],["exit",_,h]]),s[B][1].end.offset-s[B][1].start.offset?(R=2,w=push(w,[["enter",s[B][1],h],["exit",s[B][1],h]])):R=0,splice(s,g-1,B-g+3,w),B=g+w.length-R-2;break}}for(B=-1;++B<s.length;)"attentionSequence"===s[B][1].type&&(s[B][1].type="data");return s},tokenize:function(s,h){let g;let _=this.parser.constructs.attentionMarkers.null,y=this.previous,A=classifyCharacter(y);return function(b){return g=b,s.enter("attentionSequence"),function inside(b){if(b===g)return s.consume(b),inside;let k=s.exit("attentionSequence"),w=classifyCharacter(b),R=!w||2===w&&A||_.includes(b),B=!A||2===A&&w||_.includes(y);return k._open=!!(42===g?R:R&&(A||!B)),k._close=!!(42===g?B:B&&(w||!R)),h(b)}(b)}}};function movePoint(s,h){s.column+=h,s.offset+=h,s._bufferIndex+=h}let ak={name:"labelStartLink",resolveAll:aT.resolveAll,tokenize:function(s,h,g){let _=this;return function(h){return s.enter("labelLink"),s.enter("labelMarker"),s.consume(h),s.exit("labelMarker"),s.exit("labelLink"),after};function after(s){return 94===s&&"_hiddenFootnoteSupport"in _.parser.constructs?g(s):h(s)}}},aC={42:i8,43:i8,45:i8,48:i8,49:i8,50:i8,51:i8,52:i8,53:i8,54:i8,55:i8,56:i8,57:i8,62:ae},ax={91:{name:"definition",tokenize:function(s,h,g){let _;let y=this;return function(h){return s.enter("definition"),factoryLabel.call(y,s,labelAfter,g,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)};function labelAfter(h){return(_=normalizeIdentifier(y.sliceSerialize(y.events[y.events.length-1][1]).slice(1,-1)),58===h)?(s.enter("definitionMarker"),s.consume(h),s.exit("definitionMarker"),markerAfter):g(h)}function markerAfter(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(s,destinationBefore)(h):destinationBefore(h)}function destinationBefore(h){return factoryDestination(s,destinationAfter,g,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function destinationAfter(h){return s.attempt(at,after,after)(h)}function after(h){return markdownSpace(h)?factorySpace(s,afterWhitespace,"whitespace")(h):afterWhitespace(h)}function afterWhitespace(A){return null===A||markdownLineEnding(A)?(s.exit("definition"),y.parser.defined.push(_),h(A)):g(A)}}}},aI={[-2]:ar,[-1]:ar,32:ar},aw={35:{name:"headingAtx",resolve:function(s,h){let g,_,y=s.length-2,A=3;return"whitespace"===s[3][1].type&&(A+=2),y-2>A&&"whitespace"===s[y][1].type&&(y-=2),"atxHeadingSequence"===s[y][1].type&&(A===y-1||y-4>A&&"whitespace"===s[y-2][1].type)&&(y-=A+1===y?2:4),y>A&&(g={type:"atxHeadingText",start:s[A][1].start,end:s[y][1].end},_={type:"chunkText",start:s[A][1].start,end:s[y][1].end,contentType:"text"},splice(s,A,y-A+1,[["enter",g,h],["enter",_,h],["exit",_,h],["exit",g,h]])),s},tokenize:function(s,h,g){let _=0;return function(y){return s.enter("atxHeading"),s.enter("atxHeadingSequence"),function sequenceOpen(y){return 35===y&&_++<6?(s.consume(y),sequenceOpen):null===y||markdownLineEndingOrSpace(y)?(s.exit("atxHeadingSequence"),function atBreak(g){return 35===g?(s.enter("atxHeadingSequence"),function sequenceFurther(h){return 35===h?(s.consume(h),sequenceFurther):(s.exit("atxHeadingSequence"),atBreak(h))}(g)):null===g||markdownLineEnding(g)?(s.exit("atxHeading"),h(g)):markdownSpace(g)?factorySpace(s,atBreak,"whitespace")(g):(s.enter("atxHeadingText"),function data(h){return null===h||35===h||markdownLineEndingOrSpace(h)?(s.exit("atxHeadingText"),atBreak(h)):(s.consume(h),data)}(g))}(y)):g(y)}(y)}}},42:i6,45:[al,i6],60:{concrete:!0,name:"htmlFlow",resolveTo:function(s){let h=s.length;for(;h--&&("enter"!==s[h][0]||"htmlFlow"!==s[h][1].type););return h>1&&"linePrefix"===s[h-2][1].type&&(s[h][1].start=s[h-2][1].start,s[h+1][1].start=s[h-2][1].start,s.splice(h-2,2)),s},tokenize:function(s,h,g){let _,y,A,b,k;let w=this;return function(h){return s.enter("htmlFlow"),s.enter("htmlFlowData"),s.consume(h),open};function open(b){return 33===b?(s.consume(b),declarationOpen):47===b?(s.consume(b),y=!0,tagCloseStart):63===b?(s.consume(b),_=3,w.interrupt?h:continuationDeclarationInside):iy(b)?(s.consume(b),A=String.fromCharCode(b),tagName):g(b)}function declarationOpen(y){return 45===y?(s.consume(y),_=2,commentOpenInside):91===y?(s.consume(y),_=5,b=0,cdataOpenInside):iy(y)?(s.consume(y),_=4,w.interrupt?h:continuationDeclarationInside):g(y)}function commentOpenInside(_){return 45===_?(s.consume(_),w.interrupt?h:continuationDeclarationInside):g(_)}function cdataOpenInside(_){let y="CDATA[";return _===y.charCodeAt(b++)?(s.consume(_),b===y.length)?w.interrupt?h:continuation:cdataOpenInside:g(_)}function tagCloseStart(h){return iy(h)?(s.consume(h),A=String.fromCharCode(h),tagName):g(h)}function tagName(b){if(null===b||47===b||62===b||markdownLineEndingOrSpace(b)){let k=47===b,R=A.toLowerCase();return!k&&!y&&au.includes(R)?(_=1,w.interrupt?h(b):continuation(b)):ac.includes(A.toLowerCase())?(_=6,k)?(s.consume(b),basicSelfClosing):w.interrupt?h(b):continuation(b):(_=7,w.interrupt&&!w.parser.lazy[w.now().line]?g(b):y?function completeClosingTagAfter(h){return markdownSpace(h)?(s.consume(h),completeClosingTagAfter):completeEnd(h)}(b):completeAttributeNameBefore(b))}return 45===b||iA(b)?(s.consume(b),A+=String.fromCharCode(b),tagName):g(b)}function basicSelfClosing(_){return 62===_?(s.consume(_),w.interrupt?h:continuation):g(_)}function completeAttributeNameBefore(h){return 47===h?(s.consume(h),completeEnd):58===h||95===h||iy(h)?(s.consume(h),completeAttributeName):markdownSpace(h)?(s.consume(h),completeAttributeNameBefore):completeEnd(h)}function completeAttributeName(h){return 45===h||46===h||58===h||95===h||iA(h)?(s.consume(h),completeAttributeName):completeAttributeNameAfter(h)}function completeAttributeNameAfter(h){return 61===h?(s.consume(h),completeAttributeValueBefore):markdownSpace(h)?(s.consume(h),completeAttributeNameAfter):completeAttributeNameBefore(h)}function completeAttributeValueBefore(h){return null===h||60===h||61===h||62===h||96===h?g(h):34===h||39===h?(s.consume(h),k=h,completeAttributeValueQuoted):markdownSpace(h)?(s.consume(h),completeAttributeValueBefore):function completeAttributeValueUnquoted(h){return null===h||34===h||39===h||47===h||60===h||61===h||62===h||96===h||markdownLineEndingOrSpace(h)?completeAttributeNameAfter(h):(s.consume(h),completeAttributeValueUnquoted)}(h)}function completeAttributeValueQuoted(h){return h===k?(s.consume(h),k=null,completeAttributeValueQuotedAfter):null===h||markdownLineEnding(h)?g(h):(s.consume(h),completeAttributeValueQuoted)}function completeAttributeValueQuotedAfter(s){return 47===s||62===s||markdownSpace(s)?completeAttributeNameBefore(s):g(s)}function completeEnd(h){return 62===h?(s.consume(h),completeAfter):g(h)}function completeAfter(h){return null===h||markdownLineEnding(h)?continuation(h):markdownSpace(h)?(s.consume(h),completeAfter):g(h)}function continuation(h){return 45===h&&2===_?(s.consume(h),continuationCommentInside):60===h&&1===_?(s.consume(h),continuationRawTagOpen):62===h&&4===_?(s.consume(h),continuationClose):63===h&&3===_?(s.consume(h),continuationDeclarationInside):93===h&&5===_?(s.consume(h),continuationCdataInside):markdownLineEnding(h)&&(6===_||7===_)?(s.exit("htmlFlowData"),s.check(ad,continuationAfter,continuationStart)(h)):null===h||markdownLineEnding(h)?(s.exit("htmlFlowData"),continuationStart(h)):(s.consume(h),continuation)}function continuationStart(h){return s.check(ah,continuationStartNonLazy,continuationAfter)(h)}function continuationStartNonLazy(h){return s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),continuationBefore}function continuationBefore(h){return null===h||markdownLineEnding(h)?continuationStart(h):(s.enter("htmlFlowData"),continuation(h))}function continuationCommentInside(h){return 45===h?(s.consume(h),continuationDeclarationInside):continuation(h)}function continuationRawTagOpen(h){return 47===h?(s.consume(h),A="",continuationRawEndTag):continuation(h)}function continuationRawEndTag(h){if(62===h){let g=A.toLowerCase();return au.includes(g)?(s.consume(h),continuationClose):continuation(h)}return iy(h)&&A.length<8?(s.consume(h),A+=String.fromCharCode(h),continuationRawEndTag):continuation(h)}function continuationCdataInside(h){return 93===h?(s.consume(h),continuationDeclarationInside):continuation(h)}function continuationDeclarationInside(h){return 62===h?(s.consume(h),continuationClose):45===h&&2===_?(s.consume(h),continuationDeclarationInside):continuation(h)}function continuationClose(h){return null===h||markdownLineEnding(h)?(s.exit("htmlFlowData"),continuationAfter(h)):(s.consume(h),continuationClose)}function continuationAfter(g){return s.exit("htmlFlow"),h(g)}}},61:al,95:i6,96:af,126:af},aO={38:ag,92:aE},aN={[-5]:a_,[-4]:a_,[-3]:a_,33:ab,38:ag,42:aS,60:[{name:"autolink",tokenize:function(s,h,g){let _=0;return function(h){return s.enter("autolink"),s.enter("autolinkMarker"),s.consume(h),s.exit("autolinkMarker"),s.enter("autolinkProtocol"),open};function open(h){return iy(h)?(s.consume(h),schemeOrEmailAtext):64===h?g(h):emailAtext(h)}function schemeOrEmailAtext(h){return 43===h||45===h||46===h||iA(h)?(_=1,function schemeInsideOrEmailAtext(h){return 58===h?(s.consume(h),_=0,urlInside):(43===h||45===h||46===h||iA(h))&&_++<32?(s.consume(h),schemeInsideOrEmailAtext):(_=0,emailAtext(h))}(h)):emailAtext(h)}function urlInside(_){return 62===_?(s.exit("autolinkProtocol"),s.enter("autolinkMarker"),s.consume(_),s.exit("autolinkMarker"),s.exit("autolink"),h):null===_||32===_||60===_||asciiControl(_)?g(_):(s.consume(_),urlInside)}function emailAtext(h){return 64===h?(s.consume(h),emailAtSignOrDot):ib(h)?(s.consume(h),emailAtext):g(h)}function emailAtSignOrDot(y){return iA(y)?function emailLabel(y){return 46===y?(s.consume(y),_=0,emailAtSignOrDot):62===y?(s.exit("autolinkProtocol").type="autolinkEmail",s.enter("autolinkMarker"),s.consume(y),s.exit("autolinkMarker"),s.exit("autolink"),h):function emailValue(h){if((45===h||iA(h))&&_++<63){let g=45===h?emailValue:emailLabel;return s.consume(h),g}return g(h)}(y)}(y):g(y)}}},{name:"htmlText",tokenize:function(s,h,g){let _,y,A;let b=this;return function(h){return s.enter("htmlText"),s.enter("htmlTextData"),s.consume(h),open};function open(h){return 33===h?(s.consume(h),declarationOpen):47===h?(s.consume(h),tagCloseStart):63===h?(s.consume(h),instruction):iy(h)?(s.consume(h),tagOpen):g(h)}function declarationOpen(h){return 45===h?(s.consume(h),commentOpenInside):91===h?(s.consume(h),y=0,cdataOpenInside):iy(h)?(s.consume(h),declaration):g(h)}function commentOpenInside(h){return 45===h?(s.consume(h),commentEnd):g(h)}function comment(h){return null===h?g(h):45===h?(s.consume(h),commentClose):markdownLineEnding(h)?(A=comment,lineEndingBefore(h)):(s.consume(h),comment)}function commentClose(h){return 45===h?(s.consume(h),commentEnd):comment(h)}function commentEnd(s){return 62===s?end(s):45===s?commentClose(s):comment(s)}function cdataOpenInside(h){let _="CDATA[";return h===_.charCodeAt(y++)?(s.consume(h),y===_.length?cdata:cdataOpenInside):g(h)}function cdata(h){return null===h?g(h):93===h?(s.consume(h),cdataClose):markdownLineEnding(h)?(A=cdata,lineEndingBefore(h)):(s.consume(h),cdata)}function cdataClose(h){return 93===h?(s.consume(h),cdataEnd):cdata(h)}function cdataEnd(h){return 62===h?end(h):93===h?(s.consume(h),cdataEnd):cdata(h)}function declaration(h){return null===h||62===h?end(h):markdownLineEnding(h)?(A=declaration,lineEndingBefore(h)):(s.consume(h),declaration)}function instruction(h){return null===h?g(h):63===h?(s.consume(h),instructionClose):markdownLineEnding(h)?(A=instruction,lineEndingBefore(h)):(s.consume(h),instruction)}function instructionClose(s){return 62===s?end(s):instruction(s)}function tagCloseStart(h){return iy(h)?(s.consume(h),tagClose):g(h)}function tagClose(h){return 45===h||iA(h)?(s.consume(h),tagClose):function tagCloseBetween(h){return markdownLineEnding(h)?(A=tagCloseBetween,lineEndingBefore(h)):markdownSpace(h)?(s.consume(h),tagCloseBetween):end(h)}(h)}function tagOpen(h){return 45===h||iA(h)?(s.consume(h),tagOpen):47===h||62===h||markdownLineEndingOrSpace(h)?tagOpenBetween(h):g(h)}function tagOpenBetween(h){return 47===h?(s.consume(h),end):58===h||95===h||iy(h)?(s.consume(h),tagOpenAttributeName):markdownLineEnding(h)?(A=tagOpenBetween,lineEndingBefore(h)):markdownSpace(h)?(s.consume(h),tagOpenBetween):end(h)}function tagOpenAttributeName(h){return 45===h||46===h||58===h||95===h||iA(h)?(s.consume(h),tagOpenAttributeName):function tagOpenAttributeNameAfter(h){return 61===h?(s.consume(h),tagOpenAttributeValueBefore):markdownLineEnding(h)?(A=tagOpenAttributeNameAfter,lineEndingBefore(h)):markdownSpace(h)?(s.consume(h),tagOpenAttributeNameAfter):tagOpenBetween(h)}(h)}function tagOpenAttributeValueBefore(h){return null===h||60===h||61===h||62===h||96===h?g(h):34===h||39===h?(s.consume(h),_=h,tagOpenAttributeValueQuoted):markdownLineEnding(h)?(A=tagOpenAttributeValueBefore,lineEndingBefore(h)):markdownSpace(h)?(s.consume(h),tagOpenAttributeValueBefore):(s.consume(h),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted(h){return h===_?(s.consume(h),_=void 0,tagOpenAttributeValueQuotedAfter):null===h?g(h):markdownLineEnding(h)?(A=tagOpenAttributeValueQuoted,lineEndingBefore(h)):(s.consume(h),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted(h){return null===h||34===h||39===h||60===h||61===h||96===h?g(h):47===h||62===h||markdownLineEndingOrSpace(h)?tagOpenBetween(h):(s.consume(h),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(s){return 47===s||62===s||markdownLineEndingOrSpace(s)?tagOpenBetween(s):g(s)}function end(_){return 62===_?(s.consume(_),s.exit("htmlTextData"),s.exit("htmlText"),h):g(_)}function lineEndingBefore(h){return s.exit("htmlTextData"),s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),lineEndingAfter}function lineEndingAfter(h){return markdownSpace(h)?factorySpace(s,lineEndingAfterPrefix,"linePrefix",b.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):lineEndingAfterPrefix(h)}function lineEndingAfterPrefix(h){return s.enter("htmlTextData"),A(h)}}}],91:ak,92:[{name:"hardBreakEscape",tokenize:function(s,h,g){return function(h){return s.enter("hardBreakEscape"),s.consume(h),after};function after(_){return markdownLineEnding(_)?(s.exit("hardBreakEscape"),h(_)):g(_)}}},aE],93:aT,95:aS,96:{name:"codeText",previous:function(s){return 96!==s||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(s){let h,g,_=s.length-4,y=3;if(("lineEnding"===s[3][1].type||"space"===s[y][1].type)&&("lineEnding"===s[_][1].type||"space"===s[_][1].type)){for(h=y;++h<_;)if("codeTextData"===s[h][1].type){s[y][1].type="codeTextPadding",s[_][1].type="codeTextPadding",y+=2,_-=2;break}}for(h=y-1,_++;++h<=_;)void 0===g?h!==_&&"lineEnding"!==s[h][1].type&&(g=h):(h===_||"lineEnding"===s[h][1].type)&&(s[g][1].type="codeTextData",h!==g+2&&(s[g][1].end=s[h-1][1].end,s.splice(g+2,h-g-2),_-=h-g-2,h=g+2),g=void 0);return s},tokenize:function(s,h,g){let _,y,A=0;return function(h){return s.enter("codeText"),s.enter("codeTextSequence"),function sequenceOpen(h){return 96===h?(s.consume(h),A++,sequenceOpen):(s.exit("codeTextSequence"),between(h))}(h)};function between(b){return null===b?g(b):32===b?(s.enter("space"),s.consume(b),s.exit("space"),between):96===b?(y=s.enter("codeTextSequence"),_=0,function sequenceClose(g){return 96===g?(s.consume(g),_++,sequenceClose):_===A?(s.exit("codeTextSequence"),s.exit("codeText"),h(g)):(y.type="codeTextData",data(g))}(b)):markdownLineEnding(b)?(s.enter("lineEnding"),s.consume(b),s.exit("lineEnding"),between):(s.enter("codeTextData"),data(b))}function data(h){return null===h||32===h||96===h||markdownLineEnding(h)?(s.exit("codeTextData"),between(h)):(s.consume(h),data)}}}},aR={null:[aS,i3]},aD={null:[42,95]},aL={null:[]},aM=/[\0\t\n\r]/g;function decodeNumericCharacterReference(s,h){let g=Number.parseInt(s,h);return g<9||11===g||g>13&&g<32||g>126&&g<160||g>55295&&g<57344||g>64975&&g<65008||(65535&g)==65535||(65535&g)==65534||g>1114111?"�":String.fromCodePoint(g)}let aP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decode(s,h,g){if(h)return h;let _=g.charCodeAt(0);if(35===_){let s=g.charCodeAt(1),h=120===s||88===s;return decodeNumericCharacterReference(g.slice(h?2:1),h?16:10)}return decodeNamedCharacterReference(g)||s}function stringifyPosition(s){return s&&"object"==typeof s?"position"in s||"type"in s?unist_util_stringify_position_lib_position(s.position):"start"in s||"end"in s?unist_util_stringify_position_lib_position(s):"line"in s||"column"in s?unist_util_stringify_position_lib_point(s):"":""}function unist_util_stringify_position_lib_point(s){return index(s&&s.line)+":"+index(s&&s.column)}function unist_util_stringify_position_lib_position(s){return unist_util_stringify_position_lib_point(s&&s.start)+"-"+unist_util_stringify_position_lib_point(s&&s.end)}function index(s){return s&&"number"==typeof s?s:1}let aF={}.hasOwnProperty;function mdast_util_from_markdown_lib_point(s){return{line:s.line,column:s.column,offset:s.offset}}function defaultOnError(s,h){if(s)throw Error("Cannot close `"+s.type+"` ("+stringifyPosition({start:s.start,end:s.end})+"): a different token (`"+h.type+"`, "+stringifyPosition({start:h.start,end:h.end})+") is open");throw Error("Cannot close document, a token (`"+h.type+"`, "+stringifyPosition({start:h.start,end:h.end})+") is still open")}function remarkParse(s){let h=this;h.parser=function(g){var _,y;let A,b,k,w;return"string"!=typeof(_={...h.data("settings"),...s,extensions:h.data("micromarkExtensions")||[],mdastExtensions:h.data("fromMarkdownExtensions")||[]})&&(y=_,_=void 0),(function(s){let h={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(function(){return{type:"blockquote",children:[]}}),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(function(){return{type:"inlineCode",value:""}},buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(function(){return{type:"image",title:null,url:"",alt:null}}),label:buffer,link:opener(link),listItem:opener(function(s){return{type:"listItem",spread:s._spread,checked:null,children:[]}}),listItemValue:function(s){if(this.data.expectingFirstListItemValue){let h=this.stack[this.stack.length-2];h.start=Number.parseInt(this.sliceSerialize(s),10),this.data.expectingFirstListItemValue=void 0}},listOrdered:opener(list,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:opener(list),paragraph:opener(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(function(){return{type:"strong",children:[]}}),thematicBreak:opener(function(){return{type:"thematicBreak"}})},exit:{atxHeading:closer(),atxHeadingSequence:function(s){let h=this.stack[this.stack.length-1];if(!h.depth){let g=this.sliceSerialize(s).length;h.depth=g}},autolink:closer(),autolinkEmail:function(s){onexitdata.call(this,s);let h=this.stack[this.stack.length-1];h.url="mailto:"+this.sliceSerialize(s)},autolinkProtocol:function(s){onexitdata.call(this,s);let h=this.stack[this.stack.length-1];h.url=this.sliceSerialize(s)},blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:function(s){let h;let g=this.sliceSerialize(s),_=this.data.characterReferenceType;if(_)h=decodeNumericCharacterReference(g,"characterReferenceMarkerNumeric"===_?10:16),this.data.characterReferenceType=void 0;else{let s=decodeNamedCharacterReference(g);h=s}let y=this.stack[this.stack.length-1];y.value+=h},characterReference:function(s){let h=this.stack.pop();h.position.end=mdast_util_from_markdown_lib_point(s.end)},codeFenced:closer(function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.value=s.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.lang=s},codeFencedFenceMeta:function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.meta=s},codeFlowValue:onexitdata,codeIndented:closer(function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.value=s.replace(/(\r?\n|\r)$/g,"")}),codeText:closer(function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.value=s}),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.url=s},definitionLabelString:function(s){let h=this.resume(),g=this.stack[this.stack.length-1];g.label=h,g.identifier=normalizeIdentifier(this.sliceSerialize(s)).toLowerCase()},definitionTitleString:function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.title=s},emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.value=s}),htmlFlowData:onexitdata,htmlText:closer(function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.value=s}),htmlTextData:onexitdata,image:closer(function(){let s=this.stack[this.stack.length-1];if(this.data.inReference){let h=this.data.referenceType||"shortcut";s.type+="Reference",s.referenceType=h,delete s.url,delete s.title}else delete s.identifier,delete s.label;this.data.referenceType=void 0}),label:function(){let s=this.stack[this.stack.length-1],h=this.resume(),g=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===g.type){let h=s.children;g.children=h}else g.alt=h},labelText:function(s){let h=this.sliceSerialize(s),g=this.stack[this.stack.length-2];g.label=h.replace(aP,decode),g.identifier=normalizeIdentifier(h).toLowerCase()},lineEnding:function(s){let g=this.stack[this.stack.length-1];if(this.data.atHardBreak){let h=g.children[g.children.length-1];h.position.end=mdast_util_from_markdown_lib_point(s.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&h.canContainEols.includes(g.type)&&(onenterdata.call(this,s),onexitdata.call(this,s))},link:closer(function(){let s=this.stack[this.stack.length-1];if(this.data.inReference){let h=this.data.referenceType||"shortcut";s.type+="Reference",s.referenceType=h,delete s.url,delete s.title}else delete s.identifier,delete s.label;this.data.referenceType=void 0}),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:function(s){let h=this.resume(),g=this.stack[this.stack.length-1];g.label=h,g.identifier=normalizeIdentifier(this.sliceSerialize(s)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.url=s},resourceTitleString:function(){let s=this.resume(),h=this.stack[this.stack.length-1];h.title=s},resource:function(){this.data.inReference=void 0},setextHeading:closer(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(s){let h=this.stack[this.stack.length-1];h.depth=61===this.sliceSerialize(s).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:closer(),thematicBreak:closer()}};(function configure(s,h){let g=-1;for(;++g<h.length;){let _=h[g];Array.isArray(_)?configure(s,_):function(s,h){let g;for(g in h)if(aF.call(h,g))switch(g){case"canContainEols":{let _=h[g];_&&s[g].push(..._);break}case"transforms":{let _=h[g];_&&s[g].push(..._);break}case"enter":case"exit":{let _=h[g];_&&Object.assign(s[g],_)}}}(s,_)}})(h,(s||{}).mdastExtensions||[]);let g={};return function(s){let _={type:"root",children:[]},y={stack:[_],tokenStack:[],config:h,enter,exit,buffer,resume,data:g},A=[],b=-1;for(;++b<s.length;)if("listOrdered"===s[b][1].type||"listUnordered"===s[b][1].type){if("enter"===s[b][0])A.push(b);else{let h=A.pop();b=function(s,h,g){let _,y,A,b,k=h-1,w=-1,R=!1;for(;++k<=g;){let h=s[k];switch(h[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===h[0]?w++:w--,b=void 0;break;case"lineEndingBlank":"enter"===h[0]&&(!_||b||w||A||(A=k),b=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:b=void 0}if(!w&&"enter"===h[0]&&"listItemPrefix"===h[1].type||-1===w&&"exit"===h[0]&&("listUnordered"===h[1].type||"listOrdered"===h[1].type)){if(_){let b=k;for(y=void 0;b--;){let h=s[b];if("lineEnding"===h[1].type||"lineEndingBlank"===h[1].type){if("exit"===h[0])continue;y&&(s[y][1].type="lineEndingBlank",R=!0),h[1].type="lineEnding",y=b}else if("linePrefix"===h[1].type||"blockQuotePrefix"===h[1].type||"blockQuotePrefixWhitespace"===h[1].type||"blockQuoteMarker"===h[1].type||"listItemIndent"===h[1].type);else break}A&&(!y||A<y)&&(_._spread=!0),_.end=Object.assign({},y?s[y][1].start:h[1].end),s.splice(y||k,0,["exit",_,h[2]]),k++,g++}if("listItemPrefix"===h[1].type){let y={type:"listItem",_spread:!1,start:Object.assign({},h[1].start),end:void 0};_=y,s.splice(k,0,["enter",y,h[2]]),k++,g++,A=void 0,b=!0}}}return s[h][1]._spread=R,g}(s,h,b)}}for(b=-1;++b<s.length;){let g=h[s[b][0]];aF.call(g,s[b][1].type)&&g[s[b][1].type].call(Object.assign({sliceSerialize:s[b][2].sliceSerialize},y),s[b][1])}if(y.tokenStack.length>0){let s=y.tokenStack[y.tokenStack.length-1],h=s[1]||defaultOnError;h.call(y,void 0,s[0])}for(_.position={start:mdast_util_from_markdown_lib_point(s.length>0?s[0][1].start:{line:1,column:1,offset:0}),end:mdast_util_from_markdown_lib_point(s.length>0?s[s.length-2][1].end:{line:1,column:1,offset:0})},b=-1;++b<h.transforms.length;)_=h.transforms[b](_)||_;return _};function opener(s,h){return function(g){enter.call(this,s(g),g),h&&h.call(this,g)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(s,h,g){let _=this.stack[this.stack.length-1],y=_.children;y.push(s),this.stack.push(s),this.tokenStack.push([h,g||void 0]),s.position={start:mdast_util_from_markdown_lib_point(h.start),end:void 0}}function closer(s){return function(h){s&&s.call(this,h),exit.call(this,h)}}function exit(s,h){let g=this.stack.pop(),_=this.tokenStack.pop();if(_){if(_[0].type!==s.type){if(h)h.call(this,s,_[0]);else{let h=_[1]||defaultOnError;h.call(this,s,_[0])}}}else throw Error("Cannot close `"+s.type+"` ("+stringifyPosition({start:s.start,end:s.end})+"): it’s not open");g.position.end=mdast_util_from_markdown_lib_point(s.end)}function resume(){return lib_toString(this.stack.pop())}function onenterdata(s){let h=this.stack[this.stack.length-1],g=h.children,_=g[g.length-1];_&&"text"===_.type||((_={type:"text",value:""}).position={start:mdast_util_from_markdown_lib_point(s.start),end:void 0},g.push(_)),this.stack.push(_)}function onexitdata(s){let h=this.stack.pop();h.value+=this.sliceSerialize(s),h.position.end=mdast_util_from_markdown_lib_point(s.end)}function onexithardbreak(){this.data.atHardBreak=!0}function onexitcharacterreferencemarker(s){this.data.characterReferenceType=s.type}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function heading(){return{type:"heading",depth:0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(s){return{type:"list",ordered:"listOrdered"===s.type,start:null,spread:s._spread,children:[]}}})(y)(function(s){for(;!subtokenize(s););return s}((function(s){let h=combineExtensions([eU,...(s||{}).extensions||[]]),g={constructs:h,content:create(iK),defined:[],document:create(iJ),flow:create(i2),lazy:{},string:create(i4),text:create(i5)};return g;function create(s){return function(h){return function(s,h,g){let _={_bufferIndex:-1,_index:0,line:g&&g.line||1,column:g&&g.column||1,offset:g&&g.offset||0},y={},A=[],b=[],k=[],w={attempt:constructFactory(function(s,h){addResult(s,h.from)}),check:constructFactory(onsuccessfulcheck),consume:function(s){markdownLineEnding(s)?(_.line++,_.column=1,_.offset+=-3===s?2:1,accountForPotentialSkip()):-1!==s&&(_.column++,_.offset++),_._bufferIndex<0?_._index++:(_._bufferIndex++,_._bufferIndex===b[_._index].length&&(_._bufferIndex=-1,_._index++)),R.previous=s},enter:function(s,h){let g=h||{};return g.type=s,g.start=now(),R.events.push(["enter",g,R]),k.push(g),g},exit:function(s){let h=k.pop();return h.end=now(),R.events.push(["exit",h,R]),h},interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},R={code:null,containerState:{},defineSkip:function(s){y[s.line]=s.column,accountForPotentialSkip()},events:[],now,parser:s,previous:null,sliceSerialize:function(s,h){return function(s,h){let g,_=-1,y=[];for(;++_<s.length;){let A;let b=s[_];if("string"==typeof b)A=b;else switch(b){case -5:A="\r";break;case -4:A="\n";break;case -3:A="\r\n";break;case -2:A=h?" ":"	";break;case -1:if(!h&&g)continue;A=" ";break;default:A=String.fromCharCode(b)}g=-2===b,y.push(A)}return y.join("")}(sliceStream(s),h)},sliceStream,write:function(s){return(b=push(b,s),function(){let s;for(;_._index<b.length;){var h;let g=b[_._index];if("string"==typeof g)for(s=_._index,_._bufferIndex<0&&(_._bufferIndex=0);_._index===s&&_._bufferIndex<g.length;)h=g.charCodeAt(_._bufferIndex),B=B(h);else B=B(g)}}(),null!==b[b.length-1])?[]:(addResult(h,0),R.events=resolveAll(A,R.events,R),R.events)}},B=h.tokenize.call(R,w);return h.resolveAll&&A.push(h),R;function sliceStream(s){return function(s,h){let g;let _=h.start._index,y=h.start._bufferIndex,A=h.end._index,b=h.end._bufferIndex;if(_===A)g=[s[_].slice(y,b)];else{if(g=s.slice(_,A),y>-1){let s=g[0];"string"==typeof s?g[0]=s.slice(y):g.shift()}b>0&&g.push(s[A].slice(0,b))}return g}(b,s)}function now(){let{_bufferIndex:s,_index:h,line:g,column:y,offset:A}=_;return{_bufferIndex:s,_index:h,line:g,column:y,offset:A}}function onsuccessfulcheck(s,h){h.restore()}function constructFactory(s,h){return function(g,y,A){let b,B,H,z;return Array.isArray(g)?handleListOfConstructs(g):"tokenize"in g?handleListOfConstructs([g]):function(s){let h=null!==s&&g[s],_=null!==s&&g.null,y=[...Array.isArray(h)?h:h?[h]:[],...Array.isArray(_)?_:_?[_]:[]];return handleListOfConstructs(y)(s)};function handleListOfConstructs(s){return(b=s,B=0,0===s.length)?A:handleConstruct(s[B])}function handleConstruct(s){return function(g){return(z=function(){let s=now(),h=R.previous,g=R.currentConstruct,y=R.events.length,A=Array.from(k);return{from:y,restore:function(){_=s,R.previous=h,R.currentConstruct=g,R.events.length=y,k=A,accountForPotentialSkip()}}}(),H=s,s.partial||(R.currentConstruct=s),s.name&&R.parser.constructs.disable.null.includes(s.name))?nok(g):s.tokenize.call(h?Object.assign(Object.create(R),h):R,w,ok,nok)(g)}}function ok(h){return s(H,z),y}function nok(s){return(z.restore(),++B<b.length)?handleConstruct(b[B]):A}}}function addResult(s,h){s.resolveAll&&!A.includes(s)&&A.push(s),s.resolve&&splice(R.events,h,R.events.length-h,s.resolve(R.events.slice(h),R)),s.resolveTo&&(R.events=s.resolveTo(R.events,R))}function accountForPotentialSkip(){_.line in y&&_.column<2&&(_.column=y[_.line],_.offset+=y[_.line]-1)}}(g,s,h)}}})(y).document().write((b=1,k="",w=!0,function(s,h,g){let _,y,R,B,H;let z=[];for(s=k+("string"==typeof s?s.toString():new TextDecoder(h||void 0).decode(s)),R=0,k="",w&&(65279===s.charCodeAt(0)&&R++,w=void 0);R<s.length;){if(aM.lastIndex=R,B=(_=aM.exec(s))&&void 0!==_.index?_.index:s.length,H=s.charCodeAt(B),!_){k=s.slice(R);break}if(10===H&&R===B&&A)z.push(-3),A=void 0;else switch(A&&(z.push(-5),A=void 0),R<B&&(z.push(s.slice(R,B)),b+=B-R),H){case 0:z.push(65533),b++;break;case 9:for(y=4*Math.ceil(b/4),z.push(-2);b++<y;)z.push(-1);break;case 10:z.push(-4),b=1;break;default:A=!0,b=1}R=B+1}return g&&(A&&z.push(-5),k&&z.push(k),z.push(null)),z})(g,_,!0))))}}function normalizeUri(s){let h=[],g=-1,_=0,y=0;for(;++g<s.length;){let A=s.charCodeAt(g),b="";if(37===A&&iA(s.charCodeAt(g+1))&&iA(s.charCodeAt(g+2)))y=2;else if(A<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(A))||(b=String.fromCharCode(A));else if(A>55295&&A<57344){let h=s.charCodeAt(g+1);A<56320&&h>56319&&h<57344?(b=String.fromCharCode(A,h),y=1):b="�"}else b=String.fromCharCode(A);b&&(h.push(s.slice(_,g),encodeURIComponent(b)),_=g+y+1,b=""),y&&(g+=y,y=0)}return h.join("")+s.slice(_)}function defaultFootnoteBackContent(s,h){let g=[{type:"text",value:"↩"}];return h>1&&g.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(h)}]}),g}function defaultFootnoteBackLabel(s,h){return"Back to reference "+(s+1)+(h>1?"-"+h:"")}let aB=unist_util_position_lib_point("end"),aU=unist_util_position_lib_point("start");function unist_util_position_lib_point(s){return function(h){let g=h&&h.position&&h.position[s]||{};if("number"==typeof g.line&&g.line>0&&"number"==typeof g.column&&g.column>0)return{line:g.line,column:g.column,offset:"number"==typeof g.offset&&g.offset>-1?g.offset:void 0}}}function revert(s,h){let g=h.referenceType,_="]";if("collapsed"===g?_+="[]":"full"===g&&(_+="["+(h.label||h.identifier)+"]"),"imageReference"===h.type)return[{type:"text",value:"!["+h.alt+_}];let y=s.all(h),A=y[0];A&&"text"===A.type?A.value="["+A.value:y.unshift({type:"text",value:"["});let b=y[y.length-1];return b&&"text"===b.type?b.value+=_:y.push({type:"text",value:_}),y}function listItemLoose(s){let h=s.spread;return null==h?s.children.length>1:h}function trimLine(s,h,g){let _=0,y=s.length;if(h){let h=s.codePointAt(_);for(;9===h||32===h;)_++,h=s.codePointAt(_)}if(g){let h=s.codePointAt(y-1);for(;9===h||32===h;)y--,h=s.codePointAt(y-1)}return y>_?s.slice(_,y):""}let aH={blockquote:function(s,h){let g={type:"element",tagName:"blockquote",properties:{},children:s.wrap(s.all(h),!0)};return s.patch(h,g),s.applyData(h,g)},break:function(s,h){let g={type:"element",tagName:"br",properties:{},children:[]};return s.patch(h,g),[s.applyData(h,g),{type:"text",value:"\n"}]},code:function(s,h){let g=h.value?h.value+"\n":"",_={};h.lang&&(_.className=["language-"+h.lang]);let y={type:"element",tagName:"code",properties:_,children:[{type:"text",value:g}]};return h.meta&&(y.data={meta:h.meta}),s.patch(h,y),y={type:"element",tagName:"pre",properties:{},children:[y=s.applyData(h,y)]},s.patch(h,y),y},delete:function(s,h){let g={type:"element",tagName:"del",properties:{},children:s.all(h)};return s.patch(h,g),s.applyData(h,g)},emphasis:function(s,h){let g={type:"element",tagName:"em",properties:{},children:s.all(h)};return s.patch(h,g),s.applyData(h,g)},footnoteReference:function(s,h){let g;let _="string"==typeof s.options.clobberPrefix?s.options.clobberPrefix:"user-content-",y=String(h.identifier).toUpperCase(),A=normalizeUri(y.toLowerCase()),b=s.footnoteOrder.indexOf(y),k=s.footnoteCounts.get(y);void 0===k?(k=0,s.footnoteOrder.push(y),g=s.footnoteOrder.length):g=b+1,k+=1,s.footnoteCounts.set(y,k);let w={type:"element",tagName:"a",properties:{href:"#"+_+"fn-"+A,id:_+"fnref-"+A+(k>1?"-"+k:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(g)}]};s.patch(h,w);let R={type:"element",tagName:"sup",properties:{},children:[w]};return s.patch(h,R),s.applyData(h,R)},heading:function(s,h){let g={type:"element",tagName:"h"+h.depth,properties:{},children:s.all(h)};return s.patch(h,g),s.applyData(h,g)},html:function(s,h){if(s.options.allowDangerousHtml){let g={type:"raw",value:h.value};return s.patch(h,g),s.applyData(h,g)}},imageReference:function(s,h){let g=String(h.identifier).toUpperCase(),_=s.definitionById.get(g);if(!_)return revert(s,h);let y={src:normalizeUri(_.url||""),alt:h.alt};null!==_.title&&void 0!==_.title&&(y.title=_.title);let A={type:"element",tagName:"img",properties:y,children:[]};return s.patch(h,A),s.applyData(h,A)},image:function(s,h){let g={src:normalizeUri(h.url)};null!==h.alt&&void 0!==h.alt&&(g.alt=h.alt),null!==h.title&&void 0!==h.title&&(g.title=h.title);let _={type:"element",tagName:"img",properties:g,children:[]};return s.patch(h,_),s.applyData(h,_)},inlineCode:function(s,h){let g={type:"text",value:h.value.replace(/\r?\n|\r/g," ")};s.patch(h,g);let _={type:"element",tagName:"code",properties:{},children:[g]};return s.patch(h,_),s.applyData(h,_)},linkReference:function(s,h){let g=String(h.identifier).toUpperCase(),_=s.definitionById.get(g);if(!_)return revert(s,h);let y={href:normalizeUri(_.url||"")};null!==_.title&&void 0!==_.title&&(y.title=_.title);let A={type:"element",tagName:"a",properties:y,children:s.all(h)};return s.patch(h,A),s.applyData(h,A)},link:function(s,h){let g={href:normalizeUri(h.url)};null!==h.title&&void 0!==h.title&&(g.title=h.title);let _={type:"element",tagName:"a",properties:g,children:s.all(h)};return s.patch(h,_),s.applyData(h,_)},listItem:function(s,h,g){let _=s.all(h),y=g?function(s){let h=!1;if("list"===s.type){h=s.spread||!1;let g=s.children,_=-1;for(;!h&&++_<g.length;)h=listItemLoose(g[_])}return h}(g):listItemLoose(h),A={},b=[];if("boolean"==typeof h.checked){let s;let g=_[0];g&&"element"===g.type&&"p"===g.tagName?s=g:(s={type:"element",tagName:"p",properties:{},children:[]},_.unshift(s)),s.children.length>0&&s.children.unshift({type:"text",value:" "}),s.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:h.checked,disabled:!0},children:[]}),A.className=["task-list-item"]}let k=-1;for(;++k<_.length;){let s=_[k];(y||0!==k||"element"!==s.type||"p"!==s.tagName)&&b.push({type:"text",value:"\n"}),"element"!==s.type||"p"!==s.tagName||y?b.push(s):b.push(...s.children)}let w=_[_.length-1];w&&(y||"element"!==w.type||"p"!==w.tagName)&&b.push({type:"text",value:"\n"});let R={type:"element",tagName:"li",properties:A,children:b};return s.patch(h,R),s.applyData(h,R)},list:function(s,h){let g={},_=s.all(h),y=-1;for("number"==typeof h.start&&1!==h.start&&(g.start=h.start);++y<_.length;){let s=_[y];if("element"===s.type&&"li"===s.tagName&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){g.className=["contains-task-list"];break}}let A={type:"element",tagName:h.ordered?"ol":"ul",properties:g,children:s.wrap(_,!0)};return s.patch(h,A),s.applyData(h,A)},paragraph:function(s,h){let g={type:"element",tagName:"p",properties:{},children:s.all(h)};return s.patch(h,g),s.applyData(h,g)},root:function(s,h){let g={type:"root",children:s.wrap(s.all(h))};return s.patch(h,g),s.applyData(h,g)},strong:function(s,h){let g={type:"element",tagName:"strong",properties:{},children:s.all(h)};return s.patch(h,g),s.applyData(h,g)},table:function(s,h){let g=s.all(h),_=g.shift(),y=[];if(_){let g={type:"element",tagName:"thead",properties:{},children:s.wrap([_],!0)};s.patch(h.children[0],g),y.push(g)}if(g.length>0){let _={type:"element",tagName:"tbody",properties:{},children:s.wrap(g,!0)},A=aU(h.children[1]),b=aB(h.children[h.children.length-1]);A&&b&&(_.position={start:A,end:b}),y.push(_)}let A={type:"element",tagName:"table",properties:{},children:s.wrap(y,!0)};return s.patch(h,A),s.applyData(h,A)},tableCell:function(s,h){let g={type:"element",tagName:"td",properties:{},children:s.all(h)};return s.patch(h,g),s.applyData(h,g)},tableRow:function(s,h,g){let _=g?g.children:void 0,y=_?_.indexOf(h):1,A=0===y?"th":"td",b=g&&"table"===g.type?g.align:void 0,k=b?b.length:h.children.length,w=-1,R=[];for(;++w<k;){let g=h.children[w],_={},y=b?b[w]:void 0;y&&(_.align=y);let k={type:"element",tagName:A,properties:_,children:[]};g&&(k.children=s.all(g),s.patch(g,k),k=s.applyData(g,k)),R.push(k)}let B={type:"element",tagName:"tr",properties:{},children:s.wrap(R,!0)};return s.patch(h,B),s.applyData(h,B)},text:function(s,h){let g={type:"text",value:function(s){let h=String(s),g=/\r?\n|\r/g,_=g.exec(h),y=0,A=[];for(;_;)A.push(trimLine(h.slice(y,_.index),y>0,!0),_[0]),y=_.index+_[0].length,_=g.exec(h);return A.push(trimLine(h.slice(y),y>0,!1)),A.join("")}(String(h.value))};return s.patch(h,g),s.applyData(h,g)},thematicBreak:function(s,h){let g={type:"element",tagName:"hr",properties:{},children:[]};return s.patch(h,g),s.applyData(h,g)},toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}let aG={}.hasOwnProperty,az={};function state_patch(s,h){s.position&&(h.position=function(s){let h=aU(s),g=aB(s);if(h&&g)return{start:h,end:g}}(s))}function applyData(s,h){let g=h;if(s&&s.data){let h=s.data.hName,_=s.data.hChildren,y=s.data.hProperties;if("string"==typeof h){if("element"===g.type)g.tagName=h;else{let s="children"in g?g.children:[g];g={type:"element",tagName:h,properties:{},children:s}}}"element"===g.type&&y&&Object.assign(g.properties,nV(y)),"children"in g&&g.children&&null!=_&&(g.children=_)}return g}function defaultUnknownHandler(s,h){let g=h.data||{},_="value"in h&&!(aG.call(g,"hProperties")||aG.call(g,"hChildren"))?{type:"text",value:h.value}:{type:"element",tagName:"div",properties:{},children:s.all(h)};return s.patch(h,_),s.applyData(h,_)}function wrap(s,h){let g=[],_=-1;for(h&&g.push({type:"text",value:"\n"});++_<s.length;)_&&g.push({type:"text",value:"\n"}),g.push(s[_]);return h&&s.length>0&&g.push({type:"text",value:"\n"}),g}function trimMarkdownSpaceStart(s){let h=0,g=s.charCodeAt(h);for(;9===g||32===g;)h++,g=s.charCodeAt(h);return s.slice(h)}function toHast(s,h){let g=function(s,h){let g=h||az,_=new Map,y=new Map,A=new Map,b={...aH,...g.handlers},k={all:function(s){let h=[];if("children"in s){let g=s.children,_=-1;for(;++_<g.length;){let y=k.one(g[_],s);if(y){if(_&&"break"===g[_-1].type&&(Array.isArray(y)||"text"!==y.type||(y.value=trimMarkdownSpaceStart(y.value)),!Array.isArray(y)&&"element"===y.type)){let s=y.children[0];s&&"text"===s.type&&(s.value=trimMarkdownSpaceStart(s.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h},applyData,definitionById:_,footnoteById:y,footnoteCounts:A,footnoteOrder:[],handlers:b,one:function(s,h){let g=s.type,_=k.handlers[g];if(aG.call(k.handlers,g)&&_)return _(k,s,h);if(k.options.passThrough&&k.options.passThrough.includes(g)){if("children"in s){let{children:h,...g}=s,_=nV(g);return _.children=k.all(s),_}return nV(s)}let y=k.options.unknownHandler||defaultUnknownHandler;return y(k,s,h)},options:g,patch:state_patch,wrap};return lib_visit(s,function(s){if("definition"===s.type||"footnoteDefinition"===s.type){let h="definition"===s.type?_:y,g=String(s.identifier).toUpperCase();h.has(g)||h.set(g,s)}}),k}(s,h),_=g.one(s,void 0),y=function(s){let h="string"==typeof s.options.clobberPrefix?s.options.clobberPrefix:"user-content-",g=s.options.footnoteBackContent||defaultFootnoteBackContent,_=s.options.footnoteBackLabel||defaultFootnoteBackLabel,y=s.options.footnoteLabel||"Footnotes",A=s.options.footnoteLabelTagName||"h2",b=s.options.footnoteLabelProperties||{className:["sr-only"]},k=[],w=-1;for(;++w<s.footnoteOrder.length;){let y=s.footnoteById.get(s.footnoteOrder[w]);if(!y)continue;let A=s.all(y),b=String(y.identifier).toUpperCase(),R=normalizeUri(b.toLowerCase()),B=0,H=[],z=s.footnoteCounts.get(b);for(;void 0!==z&&++B<=z;){H.length>0&&H.push({type:"text",value:" "});let s="string"==typeof g?g:g(w,B);"string"==typeof s&&(s={type:"text",value:s}),H.push({type:"element",tagName:"a",properties:{href:"#"+h+"fnref-"+R+(B>1?"-"+B:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof _?_:_(w,B),className:["data-footnote-backref"]},children:Array.isArray(s)?s:[s]})}let $=A[A.length-1];if($&&"element"===$.type&&"p"===$.tagName){let s=$.children[$.children.length-1];s&&"text"===s.type?s.value+=" ":$.children.push({type:"text",value:" "}),$.children.push(...H)}else A.push(...H);let j={type:"element",tagName:"li",properties:{id:h+"fn-"+R},children:s.wrap(A,!0)};s.patch(y,j),k.push(j)}if(0!==k.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:A,properties:{...nV(b),id:"footnote-label"},children:[{type:"text",value:y}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:s.wrap(k,!0)},{type:"text",value:"\n"}]}}(g),A=Array.isArray(_)?{type:"root",children:_}:_||{type:"root",children:[]};return y&&A.children.push({type:"text",value:"\n"},y),A}function remarkRehype(s,h){return s&&"run"in s?async function(g,_){let y=toHast(g,{file:_,...h});await s.run(y,_)}:function(g,_){return toHast(g,{file:_,...s||h})}}function bail(s){if(s)throw s}var aV=g(4470);function isPlainObject(s){if("object"!=typeof s||null===s)return!1;let h=Object.getPrototypeOf(s);return(null===h||h===Object.prototype||null===Object.getPrototypeOf(h))&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)}let VFileMessage=class VFileMessage extends Error{constructor(s,h,g){super(),"string"==typeof h&&(g=h,h=void 0);let _="",y={},A=!1;if(h&&(y="line"in h&&"column"in h?{place:h}:"start"in h&&"end"in h?{place:h}:"type"in h?{ancestors:[h],place:h.position}:{...h}),"string"==typeof s?_=s:!y.cause&&s&&(A=!0,_=s.message,y.cause=s),!y.ruleId&&!y.source&&"string"==typeof g){let s=g.indexOf(":");-1===s?y.ruleId=g:(y.source=g.slice(0,s),y.ruleId=g.slice(s+1))}if(!y.place&&y.ancestors&&y.ancestors){let s=y.ancestors[y.ancestors.length-1];s&&(y.place=s.position)}let b=y.place&&"start"in y.place?y.place.start:y.place;this.ancestors=y.ancestors||void 0,this.cause=y.cause||void 0,this.column=b?b.column:void 0,this.fatal=void 0,this.file,this.message=_,this.line=b?b.line:void 0,this.name=stringifyPosition(y.place)||"1:1",this.place=y.place||void 0,this.reason=this.message,this.ruleId=y.ruleId||void 0,this.source=y.source||void 0,this.stack=A&&y.cause&&"string"==typeof y.cause.stack?y.cause.stack:"",this.actual,this.expected,this.note,this.url}};VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.column=void 0,VFileMessage.prototype.line=void 0,VFileMessage.prototype.ancestors=void 0,VFileMessage.prototype.cause=void 0,VFileMessage.prototype.fatal=void 0,VFileMessage.prototype.place=void 0,VFileMessage.prototype.ruleId=void 0,VFileMessage.prototype.source=void 0;let a$={basename:function(s,h){let g;if(void 0!==h&&"string"!=typeof h)throw TypeError('"ext" argument must be a string');assertPath(s);let _=0,y=-1,A=s.length;if(void 0===h||0===h.length||h.length>s.length){for(;A--;)if(47===s.codePointAt(A)){if(g){_=A+1;break}}else y<0&&(g=!0,y=A+1);return y<0?"":s.slice(_,y)}if(h===s)return"";let b=-1,k=h.length-1;for(;A--;)if(47===s.codePointAt(A)){if(g){_=A+1;break}}else b<0&&(g=!0,b=A+1),k>-1&&(s.codePointAt(A)===h.codePointAt(k--)?k<0&&(y=A):(k=-1,y=b));return _===y?y=b:y<0&&(y=s.length),s.slice(_,y)},dirname:function(s){let h;if(assertPath(s),0===s.length)return".";let g=-1,_=s.length;for(;--_;)if(47===s.codePointAt(_)){if(h){g=_;break}}else h||(h=!0);return g<0?47===s.codePointAt(0)?"/":".":1===g&&47===s.codePointAt(0)?"//":s.slice(0,g)},extname:function(s){let h;assertPath(s);let g=s.length,_=-1,y=0,A=-1,b=0;for(;g--;){let k=s.codePointAt(g);if(47===k){if(h){y=g+1;break}continue}_<0&&(h=!0,_=g+1),46===k?A<0?A=g:1!==b&&(b=1):A>-1&&(b=-1)}return A<0||_<0||0===b||1===b&&A===_-1&&A===y+1?"":s.slice(A,_)},join:function(...s){let h,g=-1;for(;++g<s.length;)assertPath(s[g]),s[g]&&(h=void 0===h?s[g]:h+"/"+s[g]);return void 0===h?".":function(s){assertPath(s);let h=47===s.codePointAt(0),g=function(s,h){let g,_,y="",A=0,b=-1,k=0,w=-1;for(;++w<=s.length;){if(w<s.length)g=s.codePointAt(w);else if(47===g)break;else g=47;if(47===g){if(b===w-1||1===k);else if(b!==w-1&&2===k){if(y.length<2||2!==A||46!==y.codePointAt(y.length-1)||46!==y.codePointAt(y.length-2)){if(y.length>2){if((_=y.lastIndexOf("/"))!==y.length-1){_<0?(y="",A=0):A=(y=y.slice(0,_)).length-1-y.lastIndexOf("/"),b=w,k=0;continue}}else if(y.length>0){y="",A=0,b=w,k=0;continue}}h&&(y=y.length>0?y+"/..":"..",A=2)}else y.length>0?y+="/"+s.slice(b+1,w):y=s.slice(b+1,w),A=w-b-1;b=w,k=0}else 46===g&&k>-1?k++:k=-1}return y}(s,!h);return 0!==g.length||h||(g="."),g.length>0&&47===s.codePointAt(s.length-1)&&(g+="/"),h?"/"+g:g}(h)},sep:"/"};function assertPath(s){if("string"!=typeof s)throw TypeError("Path must be a string. Received "+JSON.stringify(s))}let aQ={cwd:function(){return"/"}};function isUrl(s){return!!(null!==s&&"object"==typeof s&&"href"in s&&s.href&&"protocol"in s&&s.protocol&&void 0===s.auth)}let aj=["history","path","basename","stem","extname","dirname"];let VFile=class VFile{constructor(s){let h,g;h=s?isUrl(s)?{path:s}:"string"==typeof s||s&&"object"==typeof s&&"byteLength"in s&&"byteOffset"in s?{value:s}:s:{},this.cwd="cwd"in h?"":aQ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let _=-1;for(;++_<aj.length;){let s=aj[_];s in h&&void 0!==h[s]&&null!==h[s]&&(this[s]="history"===s?[...h[s]]:h[s])}for(g in h)aj.includes(g)||(this[g]=h[g])}get basename(){return"string"==typeof this.path?a$.basename(this.path):void 0}set basename(s){assertNonEmpty(s,"basename"),assertPart(s,"basename"),this.path=a$.join(this.dirname||"",s)}get dirname(){return"string"==typeof this.path?a$.dirname(this.path):void 0}set dirname(s){lib_assertPath(this.basename,"dirname"),this.path=a$.join(s||"",this.basename)}get extname(){return"string"==typeof this.path?a$.extname(this.path):void 0}set extname(s){if(assertPart(s,"extname"),lib_assertPath(this.dirname,"extname"),s){if(46!==s.codePointAt(0))throw Error("`extname` must start with `.`");if(s.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=a$.join(this.dirname,this.stem+(s||""))}get path(){return this.history[this.history.length-1]}set path(s){isUrl(s)&&(s=function(s){if("string"==typeof s)s=new URL(s);else if(!isUrl(s)){let h=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+s+"`");throw h.code="ERR_INVALID_ARG_TYPE",h}if("file:"!==s.protocol){let s=TypeError("The URL must be of scheme file");throw s.code="ERR_INVALID_URL_SCHEME",s}return function(s){if(""!==s.hostname){let s=TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}let h=s.pathname,g=-1;for(;++g<h.length;)if(37===h.codePointAt(g)&&50===h.codePointAt(g+1)){let s=h.codePointAt(g+2);if(70===s||102===s){let s=TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(h)}(s)}(s)),assertNonEmpty(s,"path"),this.path!==s&&this.history.push(s)}get stem(){return"string"==typeof this.path?a$.basename(this.path,this.extname):void 0}set stem(s){assertNonEmpty(s,"stem"),assertPart(s,"stem"),this.path=a$.join(this.dirname||"",s+(this.extname||""))}fail(s,h,g){let _=this.message(s,h,g);throw _.fatal=!0,_}info(s,h,g){let _=this.message(s,h,g);return _.fatal=void 0,_}message(s,h,g){let _=new VFileMessage(s,h,g);return this.path&&(_.name=this.path+":"+_.name,_.file=this.path),_.fatal=!1,this.messages.push(_),_}toString(s){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;let h=new TextDecoder(s||void 0);return h.decode(this.value)}};function assertPart(s,h){if(s&&s.includes(a$.sep))throw Error("`"+h+"` cannot be a path: did not expect `"+a$.sep+"`")}function assertNonEmpty(s,h){if(!s)throw Error("`"+h+"` cannot be empty")}function lib_assertPath(s,h){if(!s)throw Error("Setting `"+h+"` requires `path` to be set too")}let CallableInstance=function(s){let h=this.constructor,g=h.prototype,_=g[s],apply=function(){return _.apply(apply,arguments)};return Object.setPrototypeOf(apply,g),apply},aY={}.hasOwnProperty;let Processor=class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){let s=[],h={run:function(...h){let g=-1,_=h.pop();if("function"!=typeof _)throw TypeError("Expected function as last argument, not "+_);(function next(y,...A){let b=s[++g],k=-1;if(y){_(y);return}for(;++k<h.length;)(null===A[k]||void 0===A[k])&&(A[k]=h[k]);h=A,b?(function(s,h){let g;return function(...h){let _;let y=s.length>h.length;y&&h.push(done);try{_=s.apply(this,h)}catch(s){if(y&&g)throw s;return done(s)}y||(_ instanceof Promise?_.then(then,done):_ instanceof Error?done(_):then(_))};function done(s,..._){g||(g=!0,h(s,..._))}function then(s){done(null,s)}})(b,next)(...A):_(null,...A)})(null,...h)},use:function(g){if("function"!=typeof g)throw TypeError("Expected `middelware` to be a function, not "+g);return s.push(g),h}};return h}()}copy(){let s=new Processor,h=-1;for(;++h<this.attachers.length;){let g=this.attachers[h];s.use(...g)}return s.data(aV(!0,{},this.namespace)),s}data(s,h){return"string"==typeof s?2==arguments.length?(assertUnfrozen("data",this.frozen),this.namespace[s]=h,this):aY.call(this.namespace,s)&&this.namespace[s]||void 0:s?(assertUnfrozen("data",this.frozen),this.namespace=s,this):this.namespace}freeze(){if(this.frozen)return this;for(;++this.freezeIndex<this.attachers.length;){let[s,...h]=this.attachers[this.freezeIndex];if(!1===h[0])continue;!0===h[0]&&(h[0]=void 0);let g=s.call(this,...h);"function"==typeof g&&this.transformers.use(g)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(s){this.freeze();let h=vfile(s),g=this.parser||this.Parser;return assertParser("parse",g),g(String(h),h)}process(s,h){let g=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),h?executor(void 0,h):new Promise(executor);function executor(_,y){let A=vfile(s),b=g.parse(A);function realDone(s,g){s||!g?y(s):_?_(g):h(void 0,g)}g.run(b,A,function(s,h,_){if(s||!h||!_)return realDone(s);let y=g.stringify(h,_);"string"==typeof y||y&&"object"==typeof y&&"byteLength"in y&&"byteOffset"in y?_.value=y:_.result=y,realDone(s,_)})}}processSync(s){let h,g=!1;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(s,function(s,_){g=!0,bail(s),h=_}),assertDone("processSync","process",g),h}run(s,h,g){assertNode(s),this.freeze();let _=this.transformers;return g||"function"!=typeof h||(g=h,h=void 0),g?executor(void 0,g):new Promise(executor);function executor(y,A){let b=vfile(h);_.run(s,b,function(h,_,b){let k=_||s;h?A(h):y?y(k):g(void 0,k,b)})}}runSync(s,h){let g,_=!1;return this.run(s,h,function(s,h){bail(s),g=h,_=!0}),assertDone("runSync","run",_),g}stringify(s,h){this.freeze();let g=vfile(h),_=this.compiler||this.Compiler;return assertCompiler("stringify",_),assertNode(s),_(s,g)}use(s,...h){let g=this.attachers,_=this.namespace;if(assertUnfrozen("use",this.frozen),null==s);else if("function"==typeof s)addPlugin(s,h);else if("object"==typeof s)Array.isArray(s)?addList(s):addPreset(s);else throw TypeError("Expected usable value, not `"+s+"`");return this;function addPreset(s){if(!("plugins"in s)&&!("settings"in s))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");addList(s.plugins),s.settings&&(_.settings=aV(!0,_.settings,s.settings))}function addList(s){let h=-1;if(null==s);else if(Array.isArray(s))for(;++h<s.length;){let g=s[h];!function(s){if("function"==typeof s)addPlugin(s,[]);else if("object"==typeof s){if(Array.isArray(s)){let[h,...g]=s;addPlugin(h,g)}else addPreset(s)}else throw TypeError("Expected usable value, not `"+s+"`")}(g)}else throw TypeError("Expected a list of plugins, not `"+s+"`")}function addPlugin(s,h){let _=-1,y=-1;for(;++_<g.length;)if(g[_][0]===s){y=_;break}if(-1===y)g.push([s,...h]);else if(h.length>0){let[_,...A]=h,b=g[y][1];isPlainObject(b)&&isPlainObject(_)&&(_=aV(!0,b,_)),g[y]=[s,_,...A]}}}};let aq=new Processor().freeze();function assertParser(s,h){if("function"!=typeof h)throw TypeError("Cannot `"+s+"` without `parser`")}function assertCompiler(s,h){if("function"!=typeof h)throw TypeError("Cannot `"+s+"` without `compiler`")}function assertUnfrozen(s,h){if(h)throw Error("Cannot call `"+s+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(s){if(!isPlainObject(s)||"string"!=typeof s.type)throw TypeError("Expected node, got `"+s+"`")}function assertDone(s,h,g){if(!g)throw Error("`"+s+"` finished async. Use `"+h+"` instead")}function vfile(s){return s&&"object"==typeof s&&"message"in s&&"messages"in s?s:new VFile(s)}var aW={exports:{}},aX={};aW.exports=function(){if(eN)return aX;eN=1;var s=Symbol.for("react.element"),h=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,_=eV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function x(h,A,b){var k,w={},R=null,B=null;for(k in void 0!==b&&(R=""+b),void 0!==A.key&&(R=""+A.key),void 0!==A.ref&&(B=A.ref),A)g.call(A,k)&&!y.hasOwnProperty(k)&&(w[k]=A[k]);if(h&&h.defaultProps)for(k in A=h.defaultProps)void 0===w[k]&&(w[k]=A[k]);return{$$typeof:s,type:h,key:R,ref:B,props:w,_owner:_.current}}return aX.Fragment=h,aX.jsx=x,aX.jsxs=x,aX}();var aK=aW.exports;async function use_markdown_mr(s){let h=await aq().use(remarkParse).use(remarkGfm).use(remarkRehype,{allowDangerousHtml:!0}).use(rehypeRaw).use(rehypeStringify).processSync(s);return String(h)}var scroll_b=function(s){return function(){let h={type:s,getType:()=>s,toString:()=>s};return(s,g)=>({...h,...void 0!==s&&{payload:s},...void 0!==g&&{meta:g}})}},aJ="@iiif/IMPORT_ENTITIES",aZ="@iiif/MODIFY_ENTITY_FIELD",a0="@iiif/REORDER_ENTITY_FIELD",a1="@iiif/ADD_REFERENCE",a2="@iiif/UPDATE_REFERENCE",a3="@iiif/REMOVE_REFERENCE",a4="@iiif/ADD_METADATA",a5="@iiif/REMOVE_METADATA",a6="@iiif/UPDATE_METADATA",a8="@iiif/REORDER_METADATA",a9=scroll_b(aJ)(),a7=scroll_b(aZ)(),oe=scroll_b(a0)(),ot=scroll_b(a1)(),or=scroll_b(a3)(),oi=scroll_b(a2)(),oo=scroll_b(a4)(),ol=scroll_b(a6)(),oc={importEntities:a9,modifyEntityField:a7,reorderEntityField:oe,addReference:ot,removeReference:or,updateReference:oi,addMetadata:oo,removeMetadata:scroll_b(a5)(),updateMetadata:ol,reorderMetadata:scroll_b(a8)()},ou="@iiif/ADD_MAPPING",od="@iiif/ADD_MAPPINGS",oh=scroll_b(ou)(),op=scroll_b(od)(),of="RESOURCE_ERROR",om="RESOURCE_LOADING",og="RESOURCE_READY",oE="@iiif/REQUEST_RESOURCE",o_="@iiif/REQUEST_ERROR",oT="@iiif/REQUEST_MISMATCH",ov="@iiif/REQUEST_COMPLETE",oy=scroll_b(oE)(),oA=scroll_b(o_)(),ob=scroll_b(oT)(),oS=scroll_b(ov)(),oC="@iiif/BATCH",ox=scroll_b(oC)(),scroll_Vt=(s,h)=>{let{entities:g,resource:_,mapping:y}=Fe(h);if(void 0===_.id)return[oA({id:s,message:"ID is not defined in resource."})];let A=[a9({entities:g}),op({mapping:y})];return _.id!==s&&(A.push(oh({id:s,type:_.type})),A.push(ob({requestId:s,actualId:_.id}))),A.push(oS({id:s})),A},oI=Number.isNaN||function(s){return"number"==typeof s&&s!=s};function scroll_ve(s,h){if(!Array.isArray(s)||!Array.isArray(h))return s===h;if(s.length!==h.length)return!1;for(let y=0;y<s.length;y++){var g,_;if(!((g=s[y])===(_=h[y])||oI(g)&&oI(_)))return!1}return!0}function scroll_W(s,h,g){let _=s.iiif.requests[h],y=s.iiif.mapping[h];if(!y||!s.iiif.entities[y][_.resourceUri])return;let A=s.iiif.entities[y][_.resourceUri];if(A&&A[tl]){let s=A[tl].find(s=>s[tc]===A.id);return chunk_AXOUQGO3_oe(A,s)}return A}function scroll_Ee(s,h,{waitTimeout:g=30}={}){return(_,y)=>{let A=s.getStore(),b=A.getState(),k=b.iiif.requests[_];if(k){if(k.loadingState===og){let s=scroll_W(b,_);if(s)return s}switch(k.loadingState){case of:break;case om:return(async()=>{let s,h=!1;try{let y=await Promise.race([new Promise((g,y)=>{h||(s=A.subscribe(()=>{let s=A.getState();if(s.iiif.requests[_].loadingState===of){y();return}if(s.iiif.requests[_].loadingState===og){let h=scroll_W(s,_);h?g(h):y()}}))}),new Promise((s,_)=>setTimeout(()=>{h=!0,_()},6e4*g))]);if(s&&s(),y)return y}catch{s&&s()}})()}}s.dispatch(oy({id:_}));let l=h=>{if(!h)return;h.id||h["@id"]||(h["@type"]&&(h["@id"]=_),h.id=_);let g=scroll_Vt(_,h);return s.dispatch(ox({actions:g})),scroll_W(A.getState(),_)};try{let g=h(_,y);return g&&"function"==typeof g.then?(async()=>{try{return l(await g)}catch(h){throw s.dispatch(oA({id:_,message:h.toString()})),h}})():l(g)}catch(h){throw s.dispatch(oA({id:_,message:h.toString()})),h}}}function scroll_Ke(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let ow={};var scroll_Se=s=>{let h;let g=new Set,i=(s,_)=>{let y="function"==typeof s?s(h):s;if(!Object.is(y,h)){let s=h;h=_??("object"!=typeof y||null===y)?y:Object.assign({},h,y),g.forEach(g=>g(h,s))}},n=()=>h,_={setState:i,getState:n,getInitialState:()=>y,subscribe:s=>(g.add(s),()=>g.delete(s)),destroy:()=>{(ow?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),g.clear()}},y=h=s(i,n,_);return _},scroll_Wt=s=>s?scroll_Se(s):scroll_Se,oO="@iiif/SET_META_VALUE",oN="@iiif/SET_META_VALUE_DYNAMIC",oR="@iiif/UNSET_META_VALUE",oD={setMetaValue:scroll_b(oO)(),setMetaValueDynamic:scroll_b(oN)(),unsetMetaValue:scroll_b(oR)()};let oL={};var scroll_Zt=(s,h)=>(g,_,y)=>(y.dispatch=h=>(g(g=>s(g,h),!1,h),h),y.dispatchFromDevtools=!0,{dispatch:(...s)=>y.dispatch(...s),...h}),oM=new Map,scroll_H=s=>{let h=oM.get(s);return h?Object.fromEntries(Object.entries(h.stores).map(([s,h])=>[s,h.getState()])):{}},scroll_Jt=(s,h,g)=>{if(void 0===s)return{type:"untracked",connection:h.connect(g)};let _=oM.get(g.name);if(_)return{type:"tracked",store:s,..._};let y={connection:h.connect(g),stores:{}};return oM.set(g.name,y),{type:"tracked",store:s,...y}},scroll_er=(s,h={})=>(g,_,y)=>{let A;let{enabled:b,anonymousActionType:k,store:w,...R}=h;try{A=(b??(oL?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!A)return(oL?"production":void 0)!=="production"&&b&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),s(g,_,y);let{connection:B,...H}=scroll_Jt(w,A,R),z=!0;y.setState=(s,h,A)=>{let b=g(s,h);if(!z)return b;let H=void 0===A?{type:k||"anonymous"}:"string"==typeof A?{type:A}:A;return void 0===w?null==B||B.send(H,_()):null==B||B.send({...H,type:`${w}/${H.type}`},{...scroll_H(R.name),[w]:y.getState()}),b};let m=(...s)=>{let h=z;z=!1,g(...s),z=h},$=s(y.setState,_,y);if("untracked"===H.type?null==B||B.init($):(H.stores[H.store]=y,null==B||B.init(Object.fromEntries(Object.entries(H.stores).map(([s,h])=>[s,s===H.store?$:h.getState()])))),y.dispatchFromDevtools&&"function"==typeof y.dispatch){let s=!1,h=y.dispatch;y.dispatch=(...g)=>{(oL?"production":void 0)==="production"||"__setState"!==g[0].type||s||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),s=!0),h(...g)}}return B.subscribe(s=>{var h;switch(s.type){case"ACTION":if("string"!=typeof s.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return scroll_G(s.payload,s=>{if("__setState"===s.type){if(void 0===w){m(s.state);return}1!==Object.keys(s.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let h=s.state[w];if(null==h)return;JSON.stringify(y.getState())!==JSON.stringify(h)&&m(h);return}y.dispatchFromDevtools&&"function"==typeof y.dispatch&&y.dispatch(s)});case"DISPATCH":switch(s.payload.type){case"RESET":return m($),void 0===w?null==B?void 0:B.init(y.getState()):null==B?void 0:B.init(scroll_H(R.name));case"COMMIT":if(void 0===w){null==B||B.init(y.getState());break}return null==B?void 0:B.init(scroll_H(R.name));case"ROLLBACK":return scroll_G(s.state,s=>{if(void 0===w){m(s),null==B||B.init(y.getState());return}m(s[w]),null==B||B.init(scroll_H(R.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return scroll_G(s.state,s=>{if(void 0===w){m(s);return}JSON.stringify(y.getState())!==JSON.stringify(s[w])&&m(s[w])});case"IMPORT_STATE":{let{nextLiftedState:g}=s.payload,_=null==(h=g.computedStates.slice(-1)[0])?void 0:h.state;if(!_)return;m(void 0===w?_:_[w]),null==B||B.send(null,g);break}case"PAUSE_RECORDING":return z=!z}return}}),$},scroll_G=(s,h)=>{let g;try{g=JSON.parse(s)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}void 0!==g&&h(g)},scroll_rr=s=>(h,g,_)=>{let y=_.subscribe;return _.subscribe=(s,h,g)=>{let A=s;if(h){let y=(null==g?void 0:g.equalityFn)||Object.is,b=s(_.getState());A=g=>{let _=s(g);if(!y(b,_)){let s=b;h(b=_,s)}},null!=g&&g.fireImmediately&&h(b,b)}return y(A)},s(h,g,_)};function scroll_Y(s,h,g,_){return!(!s[g]||!s[g][h]||!s[g][h][_]||!Array.isArray(s[g][h][_]))}function scroll_g(s){return s.payload}function scroll_X(s,h){return typeof s>"u"?h:s}function scroll_nt(s={}){let h=Object.keys(s);return function(g={},_){let y=!1,A={};for(let b=0;b<h.length;b++){let k=h[b];A[k]=s[k](g[k],_),y=y||A[k]!==g[k]}return y?A:g}}var oP=scroll_nt({mapping:(s={},h)=>{switch(h.type){case ou:return{...s,[h.payload.id]:h.payload.type};case od:return{...s,...h.payload.mapping};default:return s}},entities:(s=scroll_Ke(),h)=>{var g;let r=(g,_)=>({...s,[scroll_g(h).type]:{...s[scroll_g(h).type],[scroll_g(h).id]:{...g,..._}}});switch(h.type){case aZ:{if(!s[scroll_g(h).type]||!s[scroll_g(h).type][scroll_g(h).id])return s;let g=s[scroll_g(h).type][scroll_g(h).id];return"string"==typeof g?s:r(g,{[scroll_g(h).key]:scroll_g(h).value})}case a0:{if(!scroll_Y(s,scroll_g(h).id,scroll_g(h).type,scroll_g(h).key))return s;let g=s[scroll_g(h).type][scroll_g(h).id];if("string"==typeof g)return s;let _=Array.from(g[scroll_g(h).key]),[y]=_.splice(scroll_g(h).startIndex,1);return _.splice(scroll_g(h).endIndex,0,y),r(g,{[scroll_g(h).key]:_})}case aJ:{let g=Object.keys(scroll_g(h).entities),_={...s};for(let y of g){let g=scroll_g(h).entities[y],A={...s[y]||{}},b=!1,k=Object.keys(g||{})||[];if(g&&k){for(let h of k)b=!0,A[h]=s[y][h]?function(s,h){let g={},_=[];for(let[y,A]of Object.entries(s||{})){_.push(y);let s=(h||{})[y];if(!s||0===s.length){g[y]=A;continue}g[y]=s}for(let[s,y]of Object.entries(h||{}))-1===_.indexOf(s)&&(g[s]=y);return g}(s[y][h],g[h]):g[h];b&&(_[y]=A)}}return _}case a1:{if(!scroll_Y(s,scroll_g(h).id,scroll_g(h).type,scroll_g(h).key))return s;let g=s[scroll_g(h).type][scroll_g(h).id],_=Array.from(g[scroll_g(h).key]);return _.splice(scroll_X(scroll_g(h).index,_.length+1),0,scroll_g(h).reference),r(g,{[scroll_g(h).key]:_})}case a2:case a3:{if(!scroll_Y(s,scroll_g(h).id,scroll_g(h).type,scroll_g(h).key))return s;let _=s[scroll_g(h).type][scroll_g(h).id],y=Array.from(_[scroll_g(h).key]),A=scroll_X(scroll_g(h).index,y.findIndex(s=>s&&s.id===scroll_g(h).reference.id));return -1===A||(null==(g=y[A])?void 0:g.id)!==scroll_g(h).reference.id?s:(h.type===a2?y.splice(A,1,scroll_g(h).reference):y.splice(A,1),r(_,{[scroll_g(h).key]:y}))}case a4:{let g=s[scroll_g(h).type][scroll_g(h).id];if(!g)return s;let _=Array.from(g.metadata||[]),y=scroll_g(h);return _.splice(scroll_X(h.payload.beforeIndex,_.length+1),0,{label:y.label,value:y.label}),r(g,{metadata:_})}case a8:{let g=s[scroll_g(h).type][scroll_g(h).id];if("string"==typeof g||!g)return s;let _=Array.from(g.metadata||[]),[y]=_.splice(scroll_g(h).startIndex,1);return _.splice(scroll_g(h).endIndex,0,y),r(g,{metadata:_})}case a6:case a5:{let g=s[scroll_g(h).type][scroll_g(h).id],_=Array.from(g.metadata||[]),y=scroll_g(h).atIndex;return typeof y>"u"||-1===y||!_[y]?s:(h.type===a6?_.splice(y,1,{label:scroll_g(h).label,value:scroll_g(h).value}):_.splice(y,1),r(g,{metadata:_}))}default:return s}},requests:(s={},h)=>{switch(h.type){case oE:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...s,[h.payload.id]:{requestUri:h.payload.id,loadingState:om,uriMismatch:!1,resourceUri:h.payload.id}};case oT:return{...s,[h.payload.requestId]:{...s[h.payload.requestId]||{},uriMismatch:!0,resourceUri:h.payload.actualId},[h.payload.actualId]:{requestUri:h.payload.requestId,loadingState:s[h.payload.requestId].loadingState,uriMismatch:!0,resourceUri:h.payload.actualId}};case o_:return{...s,[h.payload.id]:{...s[h.payload.id]||{},loadingState:of,error:h.payload.message}};case ov:return{...s,[h.payload.id]:{...s[h.payload.id]||{},loadingState:og,error:void 0}}}return s},meta:(s={},h)=>{let{id:g,updateValue:_,value:y,meta:A,key:b}=h&&h.payload||{};switch(h.type){case oO:return{...s,[g]:{...s[g]||{},[A]:{...s[g]&&s[g][A]||{},[b]:y}}};case oN:return{...s,[g]:{...s[g]||{},[A]:{...s[g]&&s[g][A]||{},[b]:_(s[g]&&s[g][A]?s[g][A][b]:void 0)}}};case oR:return s[g]&&s[g][A]&&s[g][A][b]?{...s,[g]:{...s[g]||{},[A]:{...s[g]&&s[g][A]||{},[b]:void 0}}}:s;default:return s}}}),oF=Object.defineProperty,scroll_pr=(s,h,g)=>h in s?oF(s,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[h]=g,scroll_I=(s,h,g)=>(scroll_pr(s,"symbol"!=typeof h?h+"":h,g),g);function scroll_R(s,h,g,_=!0){h[oH]=h[oH]||[],h[oH].push(s);let y=new Map;Object.defineProperty(h,s,{enumerable:_,get(){if(typeof h[oB][s]>"u")return;let _=h[oB][s];if(!_)return _;let A=g.get(h[oB][s],{parent:this.id?{id:this.id,type:this.type}:void 0});return y.has(A)||(y.clear(),y.set(A,scroll_k(A,g))),y.get(A)},set(_){h[oB][s]!==_&&(this[oU]?g.modifyEntityField({id:this.id,type:this.type},s,function scroll_it(s){return Array.isArray(s)?s.map(s=>scroll_it(s)):s&&s.type?{id:s.id,type:s.type}:s}(_)):this[oB][s]=_)}})}var oB=Symbol.for("_refs_"),oU=Symbol.for("_reactive_"),oH=Symbol.for("_defined_"),oG=Symbol.for("_parent_");function scroll_k(s,h,g=!1,_){if(Array.isArray(s))return s.map(s=>scroll_k(s,h,g));if(!s||!s.type||!s.id)return s;let y=function(s,h=!1,g){let _={id:"",type:"unknown",[oH]:[],[oB]:{},[oG]:null,[oU]:null,is(s){return"string"==typeof s?this.id===s:!!s.id&&s.id===this.id},reactive(){if(!this[oU])return this[oU]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let s=this.unwrap();for(let h of Object.keys(s||{}))this[oH].includes(h)?this[oB][h]=s[h]:this[h]=s[h]}},unreactive(){this[oU]&&(this[oU](),this[oU]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let h=this[oG];return s.get(this.id,{parent:h?{id:h,type:"unknown"}:void 0})},toPresentation3(){return s.toPresentation3(this.unwrap())},toPresentation2(){return s.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(h,g=!0){return s.subscribe(()=>this.id?s.get(this.id):null,h,g)}};return scroll_R("items",_,s),scroll_R("annotations",_,s),scroll_R("structures",_,s),scroll_R("seeAlso",_,s),scroll_R("rendering",_,s),scroll_R("partOf",_,s),scroll_R("start",_,s,!1),scroll_R("supplementary",_,s),scroll_R("homepage",_,s),scroll_R("thumbnail",_,s),scroll_R("placeholderCanvas",_,s,!1),scroll_R("accompanyingCanvas",_,s,!1),scroll_R("provider",_,s),scroll_R("body",_,s),scroll_R("logo",_,s),_}(h,g),A=Object.create(y),b=Object.assign(A,s);return g&&b.reactive(),b}function scroll_we(s){switch(s){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return s}var oz=class{constructor(s,h){var g;scroll_I(this,"options"),scroll_I(this,"store"),scroll_I(this,"emitter"),scroll_I(this,"isBatching",!1),scroll_I(this,"batchQueue",[]),scroll_I(this,"remoteFetcher"),scroll_I(this,"staticFetcher"),scroll_I(this,"defaultFetcher",s=>fetch(s).then(s=>s.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},s||{}),this.store=h||function(s={}){var h;let{enableDevtools:g=!1,iiifStoreName:_="iiif",defaultState:y={iiif:{entities:scroll_Ke(),meta:{},mapping:{},requests:{}}},customReducers:A={}}=s,b=(h=scroll_nt({[_]:oP,...A}),(s,g)=>g&&g.type===oC?g.payload.actions.reduce(h,s):g&&"@iiif/BATCH_IMPORT"===g.type?{...s,iiif:{...s.iiif,...g.payload.state}}:h(s,g)),k="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?scroll_er:(s,h)=>s;return scroll_Wt(scroll_rr(k(scroll_Zt(b,y),{enabled:g})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:g=g||new Map,on:function(s,h){var _=g.get(s);_?_.push(h):g.set(s,[h])},off:function(s,h){var _=g.get(s);_&&(h?_.splice(_.indexOf(h)>>>0,1):g.set(s,[]))},emit:function(s,h){var _=g.get(s);_&&_.slice().map(function(s){s(h)}),(_=g.get("*"))&&_.slice().map(function(g){g(s,h)})}},this.remoteFetcher=scroll_Ee(this,this.options.customFetcher),this.staticFetcher=scroll_Ee(this,(s,h)=>h)}batch(s){this.isBatching=!0;try{s(this),this.isBatching=!1,this.dispatch(ox({actions:this.batchQueue}))}catch(s){throw this.batchQueue=[],this.isBatching=!1,s}this.batchQueue=[]}async asyncBatch(s){this.isBatching=!0;try{await s(this),this.isBatching=!1,this.dispatch(ox({actions:this.batchQueue}))}catch(s){throw this.batchQueue=[],this.isBatching=!1,s}this.batchQueue=[]}modifyEntityField(s,h,g){this.dispatch(oc.modifyEntityField({id:s.id,type:s.type,key:h,value:g}))}dispatch(s){if(this.isBatching)this.batchQueue.push(s);else{if(s.type===oC){for(let h of s.payload.actions)this.emitter.emit(h.type,{action:h,state:this.store.getState()});this.store.dispatch(s);let h=this.getState();for(let g of s.payload.actions)this.emitter.emit(`after:${g.type}`,{action:g,state:h});return}this.emitter.emit(s.type,{action:s,state:this.store.getState()}),this.store.dispatch(s);let h=this.store.getState();this.emitter.emit(`after:${s.type}`,{action:s,state:h});return}}on(s,h){return this.emitter.on(s,h),()=>{this.emitter.off(s,h)}}serialize(s,h){return $e(this.getState().iiif,s,h)}toPresentation2(s){return this.serialize(s,ty)}toPresentation3(s){return this.serialize(s,tA)}hydrate(s,h,g={}){return this.get(s,h,{...g,skipSelfReturn:!1})}get(s,h,g={}){"string"!=typeof h&&(g=h||{},h=void 0);let{skipSelfReturn:_=!0}=g||{},y=g.parent?"string"==typeof g.parent?g.parent:g.parent.id:void 0;if(Array.isArray(s))return s.map(s=>this.get(s,g));let A=this.getState();if(chunk_W3DWL6UZ_v(s)&&!g.preserveSpecificResources&&(s=s.source),"string"==typeof s){let g=scroll_we(h||A.iiif.mapping[s]);if(!g)return _?null:{id:s,type:"unknown"};s={id:s,type:g}}if(s&&s.partOf&&!y&&!g.skipPartOfCheck){let h=Array.isArray(s.partOf)?s.partOf[0]:s.partOf;h&&("string"==typeof h&&(y=h),"string"==typeof h.id&&(y=h.id))}let b=scroll_we(h||(null==s?void 0:s.type)),k=null==s?void 0:s.id,w=A.iiif.entities[b];if(!w){let h=A.iiif.requests[k];return h&&h.resourceUri!==k?this.get(h.resourceUri,g):_?null:s}let R=w[s.id];if(R&&R[tl]){let s=R[tl].find(s=>y?s[tc]===y:s[tc]===R.id);return chunk_AXOUQGO3_oe(R,s)}return w[s.id]||(_?null:s)}select(s){return s(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(s,h){if(typeof s>"u")return this.get(h,{skipSelfReturn:!1});if("function"==typeof s)try{let g=s(this.get(h,{skipSelfReturn:!1})),n=s=>this.deep(s,g);return n.size=Array.isArray(g)?g.length:1,n}catch{let n=s=>this.deep(s,void 0);return n.size=0,n}let r=h=>this.deep(h,s);return r.size=Array.isArray(s)?s.length:1,r}loadManifest(s,h){let g="string"==typeof s?s:s.id;return this.load(g,h)}loadCollection(s,h){let g="string"==typeof s?s:s.id;return this.load(g,h)}load(s,h){let g="string"==typeof s?s:s.id;return h?Promise.resolve(this.staticFetcher(g,h)):Promise.resolve(this.remoteFetcher(g))}loadSync(s,h){let g="string"==typeof s?s:s.id;return this.staticFetcher(g,h)}loadManifestSync(s,h){let g="string"==typeof s?s:s.id;return this.loadSync(g,h)}loadCollectionSync(s,h){let g="string"==typeof s?s:s.id;return this.loadSync(g,h)}areInputsEqual(s,h){return scroll_ve(s,h)}subscribe(s,h,g){return typeof g>"u"&&(typeof h>"u"||!1===h||!0===h)&&(g=h,h=s,s=s=>s),this.store.subscribe(s,s=>h(s,this),{equalityFn:scroll_ve,fireImmediately:!g})}async ensureLoaded(s){let h="string"==typeof s?s:s.id;this.requestStatus(h)||await this.load(h)}requestStatus(s){return this.select(h=>h.iiif.requests[s])}getResourceMeta(s,h){let g=this.getState().iiif.meta[s];if(g)return h?g[h]:g}getObject(s,h,g={}){let{reactive:_,...y}=g;return scroll_k(this.get(s,h,y),this,_)}async loadObject(s,h){return scroll_k(await this.load(s,h),this)}async loadManifestObject(s,h){return scroll_k(await this.loadManifest(s,h),this)}async loadCollectionObject(s,h){return scroll_k(await this.loadCollection(s,h),this)}wrapObject(s){return scroll_k(this.get(s,{skipSelfReturn:!1}),this)}isWrapped(s){return!!s[oH]}setMetaValue([s,h,g],_){this.dispatch("function"==typeof _?oD.setMetaValueDynamic({id:s,meta:h,key:g,updateValue:_}):oD.setMetaValue({id:s,meta:h,key:g,value:_}))}};let oV={annotations:[],manifest:void 0,options:{offset:0,figure:{display:"image-viewer",aspectRatio:100/61.8,width:"38.2%"}},searchActiveMatch:void 0,searchMatches:void 0,searchString:void 0,vault:new oz};function yr(s,h){switch(h.type){case"updateAnnotations":return{...s,annotations:h.payload};case"updateSearchActiveMatch":return{...s,searchActiveMatch:h.payload};case"updateSearchMatches":return{...s,searchMatches:h.payload};case"updateSearchString":return{...s,searchString:h.payload};default:return s}}let o$=(0,eV.createContext)({dispatch:()=>null,state:oV}),scroll_vr=s=>{let{children:h,manifest:g}=s,_={...oV.options,...s.options},[y,A]=(0,eV.useReducer)(yr,oV);return eV.createElement(o$.Provider,{value:{state:{...y,manifest:g,options:_},dispatch:A}},h)},Er=(s,h="none")=>{if(!s)return null;if("string"==typeof s)return[s];if(!s[h]){let h=Object.getOwnPropertyNames(s);if(h.length>0)return s[h[0]]}return s[h]&&Array.isArray(s[h])?s[h]:null},scroll_q=(s,h="none",g=", ")=>{let _=Er(s,h);return Array.isArray(_)?_.join(`${g}`):_};function scroll_U(s,h){let g=Object.keys(s).filter(s=>h.includes(s)?null:s),_={};return g.forEach(h=>{_[h]=s[h]}),_}let{styled:oQ,css:oj,keyframes:oY,createTheme:oq}=(0,ez.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),oW=oQ("span",{}),scroll_ot=s=>{let{as:h,label:g}=s,_=scroll_U(s,["as","label"]);return eV.createElement(oW,{as:h,..._},scroll_q(g,_.lang))},scroll_Ar=(s,h="200,",g="full")=>{let _;Array.isArray(s)&&(s=s[0]);let{id:y,service:A}=s;if(!A)return y;if(Array.isArray(s.service)&&s.service.length>0&&(_=A[0]),_){if(_["@id"])return`${_["@id"]}/${g}/${h}/0/default.jpg`;if(_.id)return`${_.id}/${g}/${h}/0/default.jpg`}},oX=oQ("img",{objectFit:"cover"}),_r=s=>{let h;let g=(0,eV.useRef)(null),{contentResource:_,altAsLabel:y,region:A="full"}=s;y&&(h=scroll_q(y));let b=scroll_U(s,["contentResource","altAsLabel"]),{type:k,id:w,width:R=200,height:B=200,duration:H}=_;(0,eV.useEffect)(()=>{if(!w&&!g.current||["Image"].includes(k)||!w.includes("m3u8"))return;let s=new nF.ZP;return g.current&&(s.attachMedia(g.current),s.on(nF.ZP.Events.MEDIA_ATTACHED,function(){s.loadSource(w)})),s.on(nF.ZP.Events.ERROR,function(h,g){if(g.fatal)switch(g.type){case nF.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${h} network error encountered, try to recover`),s.startLoad();break;case nF.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${h} media error encountered, try to recover`),s.recoverMediaError();break;default:s.destroy()}}),()=>{s&&(s.detachMedia(),s.destroy())}},[w,k]);let z=(0,eV.useCallback)(()=>{if(!g.current)return;let s=0,h=30;if(H&&(h=H),!w.split("#t=")&&H&&(s=.1*H),w.split("#t=").pop()){let h=w.split("#t=").pop();h&&(s=parseInt(h.split(",")[0]))}let _=g.current;_.autoplay=!0,_.currentTime=s,setTimeout(()=>z(),1e3*h)},[H,w]);(0,eV.useEffect)(()=>z(),[z]);let $=scroll_Ar(_,`${R},${B}`,A);switch(k){case"Image":return eV.createElement(oX,{as:"img",alt:h,css:{width:R,height:B},key:w,src:$,...b});case"Video":return eV.createElement(oX,{as:"video",css:{width:R,height:B},disablePictureInPicture:!0,key:w,loop:!0,muted:!0,onPause:z,ref:g,src:w});default:return console.warn(`Resource type: ${k} is not valid or not yet supported in Primitives.`),eV.createElement(eV.Fragment,null)}};oQ("a",{});let oK={delimiter:", "},oJ=(0,eV.createContext)(void 0),Cr=()=>{let s=(0,eV.useContext)(oJ);if(void 0===s)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return s},scroll_Tr=({children:s,initialState:h=oK})=>{let g=Or(h,"delimiter");return eV.createElement(oJ.Provider,{value:{delimiter:g}},s)},Or=(s,h)=>Object.hasOwn(s,h)?s[h].toString():void 0,oZ=oQ("span",{}),scroll_Ae=s=>{let{as:h,markup:g}=s,{delimiter:_}=Cr();if(!g)return eV.createElement(eV.Fragment,null);let y=scroll_U(s,["as","markup"]),A={__html:nP(scroll_q(g,y.lang,_),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return eV.createElement(oZ,{as:h,...y,dangerouslySetInnerHTML:A})},kr=s=>eV.useContext(oJ)?eV.createElement(scroll_Ae,{...s}):eV.createElement(scroll_Tr,null,eV.createElement(scroll_Ae,{...s}));oQ("span",{}),oQ("dl",{}),oQ("li",{}),oQ("ul",{}),oQ("li",{}),oQ("ul",{}),oQ("dl",{}),oQ("li",{}),oQ("ul",{});let Pr=s=>{let{as:h,summary:g}=s,_=scroll_U(s,["as","customValueDelimiter","summary"]);return eV.createElement(kr,{as:h,markup:g,..._})},Dr=s=>{let{thumbnail:h,region:g}=s,_=scroll_U(s,["thumbnail"]);return eV.createElement(eV.Fragment,null,h&&h.map(s=>eV.createElement(_r,{contentResource:s,key:s.id,region:g,..._})))},o0=oQ("div",{display:"flex",flexDirection:"row",alignItems:"center"}),o1=oQ("div",{position:"absolute",zIndex:10,background:"$primary",filter:"drop-shadow(2px 2px 5px #0002)",borderRadius:"2rem",overflow:"hidden",height:"2rem"}),o2=oQ("header",{fontSize:"1",paddingBottom:"1.618rem",position:"relative",display:"flex",justifyContent:"space-between",zIndex:2,".clover-scroll-header-label":{fontWeight:"400",fontSize:"1.25rem"}}),o3=oQ("section",{margin:"0",gap:"1rem",position:"relative",zIndex:0}),o4="255, 197, 32";oQ("span",{fontWeight:"700"}),oQ("div",{display:"flex",gap:"0.25rem"});let o5=oQ("div",{fontSize:"0.9rem !important",color:"$secondaryAlt",margin:"0 0.5em"});oQ("div",{display:"flex",flexDirection:"column",button:{backgroundColor:"#6660",opacity:"0.7",transition:"$all",padding:"0.5rem 0.618rem",fontSize:"0.9rem",lineHeight:"1.1rem",textAlign:"left",borderRadius:"6px",border:"1px solid #6662",display:"flex",flexDirection:"column",gap:"0.25rem","&:hover":{opacity:"1",boxShadow:"5px 5px 13px #6662"},"&[data-result=true]":{backgroundColor:`rgba(${o4}, 0.2)`,borderColor:`rgba(${o4}, 0.2)`,opacity:"1","&:hover":{backgroundColor:`rgba(${o4}, 0.2)`}}}});let o6=oQ("input",{margin:"0",background:"none",zIndex:"2",height:"2rem",justifyContent:"center",display:"flex",alignItems:"center",fontSize:"1rem",fontFamily:"inherit",outline:"none !important",border:"none !important",color:"$secondary",cursor:"pointer",boxSizing:"content-box !important",flexGrow:"0",width:"2rem"}),o8=oQ("span",{position:"absolute",zIndex:"3",width:"2rem",height:"2rem",padding:"8px",color:"$secondary !important",fill:"$secondary !important",stroke:"$secondary !important",transition:"$all",cursor:"pointer",svg:{color:"inherit",fill:"inherit",stroke:"inherit"}}),o9=oQ("button",{opacity:"1",display:"flex",alignItems:"center",width:"1.25em",height:"1.25em",alignSelf:"center",margin:"0 0.25rem",fill:"$secondary",flexShrink:"0",svg:{color:"inherit",fill:"inherit"},'&[aria-disabled="true"]':{opacity:"0",display:"none"}}),o7=oQ("form",{display:"flex",justifyContent:"space-between",transition:"$all",flexGrow:"1",variants:{isPanelExpanded:{true:{[`${o8}`]:{marginLeft:"0",cursor:"text"},[`${o6}`]:{width:"100%",padding:"0 1rem 0 2rem",cursor:"text"}},false:{"&:hover":{backgroundColor:"$accent !important"},[`${o8}`]:{cursor:"pointer"},[`${o6}`]:{cursor:"pointer","&::placeholder":{color:"transparent !important"}}}}}}),se=oQ("div",{display:"flex",alignItems:"center",gap:"0.25rem","&[data-active=true]":{paddingRight:"0.5rem"},button:{fontSize:"0.9em",fill:"$secondary",color:"$secondary",stroke:"$secondary",svg:{fill:"inherit",color:"inherit",stroke:"inherit",width:"1.25em"}}}),Hr=({activeIndex:s,searchString:h,total:g})=>{let _=0===g?React.createElement(React.Fragment,null,"No results for ",React.createElement("strong",null,h)):React.createElement(React.Fragment,null,s+1," of ",g," results for ",React.createElement("strong",null,h));return React.createElement(o5,null,_)},scroll_e=({title:s,style:h={}})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:h},eV.createElement("title",null,s),eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M244 400L100 256l144-144M120 256h292"})),sr={charset:"latin:extra, arabic:extra, cyrillic:extra, cjk:extra",optimize:!0,tokenize:"full",resolution:9,document:{id:"id",index:"content"}},qr=()=>{let[s,h]=(0,eV.useState)(0),{dispatch:g,state:_}=(0,eV.useContext)(o$),{annotations:y,searchString:A=""}=_,b=new nB.Z.Document(sr),k=[];null==y||y.forEach(s=>{var h;null==(h=null==s?void 0:s.body)||h.forEach(s=>{var h;let g=null==(h=null==s?void 0:s.value)?void 0:h.replace(/\n/g,"");k.push(null==s?void 0:s.id),b.add({id:null==s?void 0:s.id,content:g})})});let w=null==b?void 0:b.search(A).reduce((s,h)=>[...new Set([...s,...h.result])],[]),R=function(s,h){let g=RegExp(h,"gi"),_={total:0,matches:[]};return s.forEach(s=>{let h=s.body.id,y=s.body.value,A=[],b=0,k;for(console.log(k);null!==(k=g.exec(y));)b++,A.push(`${h}/${b}`);b>0&&(_.total+=b,_.matches.push({[h]:A}))}),_}(w.map(s=>null==y?void 0:y.filter(h=>h.body.find(h=>h.id===s)).map(h=>{let g=h.body.findIndex(h=>h.id===s);return{...h,body:h.body[g]}}).shift()),A),B=R.matches.flatMap(s=>Object.values(s).flat());return(0,eV.useEffect)(()=>{h(0),g({type:"updateSearchMatches",payload:R}),g({type:"updateSearchActiveMatch",payload:void 0})},[A]),(0,eV.useEffect)(()=>{g({type:"updateSearchActiveMatch",payload:B[s]})},[s,A]),eV.createElement(se,{"data-active":!!A},A&&eV.createElement(Hr,{activeIndex:s,searchString:A,total:R.total}),(null==R?void 0:R.total)!==0&&eV.createElement(eV.Fragment,null,eV.createElement("button",{onClick:()=>h(s=>s>0?s-1:B.length-1)},eV.createElement(scroll_e,{title:"previous",style:{transform:"rotate(90deg)"}})),eV.createElement("button",{onClick:()=>h(s=>s<B.length-1?s+1:0)},eV.createElement(scroll_e,{title:"next",style:{transform:"rotate(270deg)"}}))))},Wr=()=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,"Search"),eV.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),Qr=()=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,"Close"),eV.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),Gr=({togglePanel:s,isPanelExpanded:h})=>{let{dispatch:g,state:_}=(0,eV.useContext)(o$),{searchString:y}=_,A=(0,eV.useRef)(null),a=()=>A.current===document.activeElement&&s(!0),l=()=>{var h;null==(h=A.current)||h.blur(),d(),s(!1),g({payload:"",type:"updateSearchString"}),g({payload:void 0,type:"updateSearchActiveMatch"})},d=()=>{A.current&&(A.current.value="")},p=s=>{"Escape"===s.key&&(s.preventDefault(),l())};return(0,eV.useEffect)(()=>(null==document||document.addEventListener("keydown",p),()=>{null==document||document.removeEventListener("keydown",p)}),[]),(0,eV.useEffect)(()=>{if(null!=A&&A.current)return A.current.addEventListener("focus",a),A.current.addEventListener("blur",a),()=>{A.current&&(A.current.removeEventListener("focus",a),A.current.removeEventListener("blur",a))}},[]),eV.createElement(o7,{id:"scroll-search",autoComplete:"off",isPanelExpanded:h,"data-testid":"scroll-panel-search-form"},eV.createElement(o8,{onClick:()=>{var s;return null==(s=null==A?void 0:A.current)?void 0:s.focus()}},eV.createElement(Wr,null)),eV.createElement(o6,{ref:A,name:"clover-search",type:"text",placeholder:"Search...",defaultValue:y,onChange:s=>{var h;g({payload:null==(h=null==s?void 0:s.target)?void 0:h.value,type:"updateSearchString"})}}),eV.createElement(o9,{"aria-disabled":!h,"aria-label":"Close search panel",onClick:s=>{s.preventDefault(),l()},disabled:!h},eV.createElement(Qr,null)))},si=oQ("div",{display:"flex",position:"relative",zIndex:"1",maxWidth:"100%",transition:"$all",variants:{isPanelExpanded:{true:{zIndex:1,opacity:1,transform:"translateX(0)"},false:{zIndex:-1,opacity:0,transform:"translateX(-2.618rem)",transitionDelay:"0",transition:"none"}}}}),Xr=({width:s,isFixed:h})=>{let g=(0,eV.useRef)(null),[_,y]=eV.useState(!1),{state:A}=(0,eV.useContext)(o$),{options:b}=A,{offset:k}=b;return eV.createElement(o1,{ref:g,"data-testid":"scroll-panel",style:{left:_||h?"unset":`calc(${s}px - 2rem)`,marginLeft:_?`-${s}px`:h?"-2rem":"unset",width:_?s:"2rem",...h?{position:"fixed",top:h?k:0}:{}}},eV.createElement(o0,null,eV.createElement(Gr,{togglePanel:function(s){y(s)},isPanelExpanded:_}),eV.createElement(si,{"data-testid":"scroll-panel-results","data-panel-expanded":_,isPanelExpanded:_},_&&eV.createElement(qr,null))))},Zr=({label:s})=>{let{state:h}=(0,eV.useContext)(o$),{options:g}=h,{offset:_}=g,y=(0,eV.useRef)(null),[A,b]=(0,eV.useState)(0),[k,w]=(0,eV.useState)(!1);return(0,eV.useEffect)(()=>{let s=y.current;if(!s)return;let h=new ResizeObserver(s=>{for(let h of s)h.contentRect&&b(h.contentRect.width)});return h.observe(s),()=>{h.disconnect()}},[]),(0,eV.useEffect)(()=>{let d=()=>{let s=y.current;s&&(s.getBoundingClientRect().top<=_?w(!0):w(!1))};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),eV.createElement(o2,{ref:y},eV.createElement(scroll_ot,{label:s,className:"clover-scroll-header-label"}),eV.createElement("div",null,eV.createElement(Xr,{width:A,isFixed:k})))},so=oQ("article",{transition:"all 0.382s ease-in-out",display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:"2.618rem"}),sl=oQ("div",{transition:"$all",flexShrink:0}),sc=oQ("div",{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"flex-start","> div":{display:"flex",flexDirection:"row",gap:"2.618rem","> div":{width:"calc(100% / var(--num-items))",boxSizing:"border-box"}}}),su=oQ("hr",{margin:"0",borderColor:"transparent",height:"1.618rem",position:"relative",width:"61.8%",zIndex:0,marginLeft:"38.2%",display:"flex",justifyContent:"flex-end","&::before":{content:"attr(aria-label)",position:"absolute",right:"1.618rem",bottom:"0",zIndex:1,display:"flex",fontSize:"0.7222rem",fontWeight:"400",lineHeight:"1rem",background:"inherit",opacity:.7},"&::after":{content:"",width:"calc(100% -  2.618em)",position:"absolute",zIndex:0,height:"1px",background:"#6662"}}),sd=oQ("div",{display:"flex",flexDirection:"column",gap:"2.618rem","&[data-figures-visible='true']":{[`& ${sl}`]:{opacity:1,zIndex:0,transform:"translateX(0)"}}}),sh=oQ(nU.o,{}),sp=oQ("figure",{figcaption:{display:"flex",flexDirection:"column",margin:"1.618rem 0 0",opacity:.9,gap:"0.382rem",em:{fontSize:"0.9em",fontStyle:"normal",opacity:.7}}}),on=({canvas:s,canvasInfo:{current:h,total:g}})=>eV.createElement("figcaption",null,eV.createElement("em",null,h," / ",g),(null==s?void 0:s.label)&&eV.createElement(scroll_ot,{label:null==s?void 0:s.label}),(null==s?void 0:s.summary)&&eV.createElement(Pr,{summary:null==s?void 0:s.summary,as:"p"})),sf=window.OpenSeadragon;if(!sf&&!(sf=eH))throw Error("OpenSeadragon is missing.");let sm="http://www.w3.org/2000/svg";sf.Viewer&&(sf.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new scroll_at(this)),this._svgOverlayInfo});let scroll_at=function(s){let h=this;this._viewer=s,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(sm,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(sm,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){h.resize()}),this._viewer.addHandler("open",function(){h.resize()}),this._viewer.addHandler("rotate",function(){h.resize()}),this._viewer.addHandler("flip",function(){h.resize()}),this._viewer.addHandler("resize",function(){h.resize()}),this.resize()};scroll_at.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let s=this._viewer.viewport.pixelFromPoint(new sf.Point(0,0),!0),h=this._viewer.viewport.getZoom(!0),g=this._viewer.viewport.getRotation(),_=this._viewer.viewport.getFlip(),y=this._viewer.viewport._containerInnerSize.x,A=y*h,b=A;_&&(A=-A,s.x=-s.x+y),this._node.setAttribute("transform","translate("+s.x+","+s.y+") scale("+A+","+b+") rotate("+g+")")},onClick:function(s,h){new sf.MouseTracker({element:s,clickHandler:h}).setTracking(!0)}};let sn=s=>fetch(`${s.replace(/\/$/,"")}/info.json`).then(s=>s.json()).then(s=>s).catch(h=>{console.error(`The IIIF tilesource ${s.replace(/\/$/,"")}/info.json failed to load: ${h}`)}),an=s=>{let h,g;return Array.isArray(s)&&(h=s[0])&&(g="@id"in h?h["@id"]:h.id),g};var sg=((ec=sg||{}).TiledImage="tiledImage",ec.SimpleImage="simpleImage",ec);let ln=s=>{let h=Array.isArray(null==s?void 0:s.service)&&(null==s?void 0:s.service.length)>0,g=h?an(null==s?void 0:s.service):null==s?void 0:s.id,_=h?sg.TiledImage:sg.SimpleImage;return{uri:g,imageType:_}},cn=(s,h)=>{let g=h?sg.TiledImage:sg.SimpleImage;return{uri:s,imageType:g}},sE=oQ("div",{display:"flex",flexDirection:"column",alignItems:"center"}),s_=oQ("p",{fontWeight:"bold",fontSize:"x-large"}),sT=oQ("span",{fontSize:"medium"}),pn=({error:s})=>{let{message:h}=s;return eV.createElement(sE,{role:"alert"},eV.createElement(s_,{"data-testid":"headline"},"Something went wrong"),h&&eV.createElement(sT,null,`Error message: ${h}`," "))},sv=oQ("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),sy=oQ("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),sA=oQ("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${sv}`]:{display:"block"}},false:{[`${sv}`]:{display:"none"}}}}}),sb={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}},sS=(eu=null==(eD=null==(eR=null==sb?void 0:sb.informationPanel)?void 0:eR.vtt)?void 0:eD.autoScroll,b={...sb.informationPanel.vtt.autoScroll},"object"==typeof eu&&(b="enabled"in eu?eu:{enabled:!0,settings:eu}),!1===eu&&(b.enabled=!1),function({behavior:s,block:h}){let g=["auto","instant","smooth"],_=["center","end","nearest","start"];if(!g.includes(s))throw TypeError(`'${s}' not in ${g.join(" | ")}`);if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`)}(b.settings),b),sk={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:sb,customDisplays:[],plugins:[],isAutoScrollEnabled:sS.enabled,isAutoScrolling:!1,isInformationOpen:null==(eL=null==sb?void 0:sb.informationPanel)?void 0:eL.open,isLoaded:!1,isUserScrolling:void 0,vault:new oz,contentSearchVault:new oz,openSeadragonViewer:null,viewerId:esm_browser_v4()},sC=eV.createContext(sk),sx=eV.createContext(sk);function scroll_Ce(){let s=eV.useContext(sC);if(void 0===s)throw Error("useViewerState must be used within a ViewerProvider");return s}function scroll_ct(){let s=eV.useContext(sx);if(void 0===s)throw Error("useViewerDispatch must be used within a ViewerProvider");return s}let sI=oQ("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),scroll_$=({className:s,id:h,label:g,children:_})=>{let y=g.toLowerCase().replace(/\s/g,"-");return eV.createElement(sI,{id:h,className:s,"data-testid":"openseadragon-button","data-button":y},eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${h}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",{id:`${h}-svg-title`},g),_))},sw=oQ("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),Rn=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),An=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),_n=()=>eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),In=()=>eV.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),scroll_Te=()=>eV.createElement(eV.Fragment,null,eV.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eV.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),Cn=({_cloverViewerHasPlaceholder:s,config:h})=>{let g=scroll_Ce(),{activeCanvas:_,plugins:y,vault:A}=g,b=A.get({id:_,type:"Canvas"});return eV.createElement(sw,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:s},h.showZoomControl&&eV.createElement(eV.Fragment,null,eV.createElement(scroll_$,{id:h.zoomInButton,label:"zoom in"},eV.createElement(Rn,null)),eV.createElement(scroll_$,{id:h.zoomOutButton,label:"zoom out"},eV.createElement(An,null))),h.showFullPageControl&&eV.createElement(scroll_$,{id:h.fullPageButton,label:"full page"},eV.createElement(_n,null)),h.showRotationControl&&eV.createElement(eV.Fragment,null,eV.createElement(scroll_$,{id:h.rotateRightButton,label:"rotate right"},eV.createElement(scroll_Te,null)),eV.createElement(scroll_$,{id:h.rotateLeftButton,label:"rotate left"},eV.createElement(scroll_Te,null))),h.showHomeControl&&eV.createElement(scroll_$,{id:h.homeButton,label:"reset"},eV.createElement(In,null)),y.filter(s=>{var h;return null==(h=s.imageViewer)?void 0:h.controls}).map((s,h)=>{var g,_,y,A;let k=null==(_=null==(g=s.imageViewer)?void 0:g.controls)?void 0:_.component;return eV.createElement(k,{key:h,...null==(A=null==(y=null==s?void 0:s.imageViewer)?void 0:y.controls)?void 0:A.componentProps,canvas:b,useViewerDispatch:scroll_ct,useViewerState:scroll_Ce})}))},Tn=({ariaLabel:s,config:h,uri:g,_cloverViewerHasPlaceholder:_,imageType:y,openSeadragonCallback:A})=>{let[b,k]=(0,eV.useState)(),[w,R]=(0,eV.useState)(),B=scroll_ct(),H=(0,eV.useRef)(!1);return(0,eV.useEffect)(()=>(H.current||(H.current=!0,w||R(eH(h))),()=>null==w?void 0:w.destroy()),[]),(0,eV.useEffect)(()=>{w&&A&&A(w)},[w,A]),(0,eV.useEffect)(()=>{w&&g!==b&&(null==w||w.forceRedraw(),k(g))},[w,b,g]),(0,eV.useEffect)(()=>{if(b&&w)switch(y){case"simpleImage":null==w||w.addSimpleImage({url:b});break;case"tiledImage":sn(b).then(s=>{try{if(!s)throw Error(`No tile source found for ${b}`);null==w||w.addTiledImage({tileSource:s,success:()=>{"function"==typeof B&&B({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(s){console.error(s)}});break;default:null==w||w.close(),console.warn(`Unable to render ${b} in OpenSeadragon as type: "${y}"`)}},[y,b]),eV.createElement(sA,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":h.id,hasNavigator:h.showNavigator},eV.createElement(Cn,{_cloverViewerHasPlaceholder:_,config:h}),h.showNavigator&&eV.createElement(sv,{id:h.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eV.createElement(sy,{id:h.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...s&&{"aria-label":s}}))},Mn=({_cloverViewerHasPlaceholder:s=!1,body:h,instanceId:g,isTiledImage:_=!1,label:y,src:A="",openSeadragonCallback:b,openSeadragonConfig:k={}})=>{let w=g||esm_browser_v4(),R="string"==typeof y?y:scroll_q(y),B={id:`openseadragon-${w}`,navigatorId:`openseadragon-navigator-${w}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${w}`,homeButton:`reset-${w}`,rotateLeftButton:`rotateLeft-${w}`,rotateRightButton:`rotateRight-${w}`,zoomInButton:`zoomIn-${w}`,zoomOutButton:`zoomOut-${w}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...k},{imageType:H,uri:z}=h?ln(h):cn(A,_);return z?eV.createElement(eG.SV,{FallbackComponent:pn},eV.createElement(Tn,{_cloverViewerHasPlaceholder:s,ariaLabel:R,config:B,imageType:H,key:w,uri:z,openSeadragonCallback:b})):null},sO=oQ("div",{width:"100%",height:"100%",background:"#6662",backgroundSize:"contain",color:"white",position:"relative",zIndex:"1",overflow:"hidden"}),sN=eV.memo(({body:s,label:h})=>eV.createElement(sO,{"data-testid":"scroll-figure-image"},eV.createElement(Mn,{body:s,openSeadragonConfig:{showNavigator:!1,showHomeControl:!1},...h&&{label:h}}))),sR=eV.memo(({body:s,label:h})=>eV.createElement(sO,{"data-testid":"scroll-figure-thumbnail"},eV.createElement(Dr,{thumbnail:[s],style:{width:"100%",height:"100%",objectFit:"contain",objectPosition:"center"},altAsLabel:h}))),Fn=(s,h,g,_)=>{var y,A;let b={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(b.canvas=s.get(h),b.canvas&&(b.annotationPage=s.get(b.canvas.items[0]),b.accompanyingCanvas=null!=(y=b.canvas)&&y.accompanyingCanvas?s.get(null==(A=b.canvas)?void 0:A.accompanyingCanvas):void 0),b.annotationPage){let y=s.get(b.annotationPage.items).map(h=>({body:s.get(h.body[0].id),motivation:h.motivation,type:"Annotation"})),A=[];y.forEach(h=>{"Choice"===h.body.type?h.body.items.forEach(g=>A.push({...h,id:g.id,body:s.get(g.id)})):A.push(h)}),b.annotations=A.filter(y=>{if(y){if(!y.body||!y.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",y);return}let A=y.body;Array.isArray(A)&&(A=A[0]);let b=s.get(A.id);if(b)switch(g){case"painting":return y.target===h.id&&y.motivation&&"painting"===y.motivation[0]&&_.includes(b.type)&&(y.body=b),!!y;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return b},zn=(s,h)=>{let g=Fn(s,{id:h,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==g.annotations.length&&g.annotations&&g.annotations)return g.annotations.map(s=>null==s?void 0:s.body)},Ln=({canvas:s,canvasInfo:h})=>{let{state:g}=(0,eV.useContext)(o$),{vault:_,options:y}=g,{figure:A}=y,b=A.display?A.display:oV.options.figure.display,k=A.aspectRatio?A.aspectRatio:oV.options.figure.aspectRatio,w=zn(_,s.id);return w?eV.createElement(sp,null,null==w?void 0:w.map(h=>eV.createElement(sh,{ratio:k,key:null==h?void 0:h.id},"thumbnail"===b&&eV.createElement(sR,{body:h,label:null==s?void 0:s.label}),"image-viewer"===b&&eV.createElement(sN,{label:null==s?void 0:s.label,body:h}))),eV.createElement(on,{canvas:s,canvasInfo:h})):null},sD="255, 197, 32",sL=oQ("div",{"&[dir=rtl]":{textAlign:"right"},ul:{padding:"1rem"},li:{listStyleType:"disc",li:{listStyleType:"circle"}},"span.clover-scroll-highlight":{position:"relative",fontWeight:"bold","&.active":{"&::before":{top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",borderRadius:"3px",border:`1px solid rgba(${sD}, 0.2)`,borderBottom:`1px solid rgba(${sD}, 0.618)`,boxShadow:"1px 1px 1px #6661"},"&::after":{left:"0",top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",marginTop:"-1px",borderRadius:"3px",backgroundColor:`rgba(${sD}, 0.2)`,zIndex:-1}},"&::before":{top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",borderRadius:"3px",border:"1px solid #6663",borderBottom:"1px solid #6664",boxShadow:"1px 1px 1px #6661"},"&::after":{left:"0",top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",marginTop:"-1px",borderRadius:"3px",backgroundColor:"#6661",zIndex:-1}}}),Bn=({searchString:s="",content:h,stringLength:g=150})=>{let _=h.toLowerCase().indexOf(s.toLowerCase());if(-1!==_){let y=Math.max(0,_-g/2),A=Math.min(h.length,_+s.length+g/2);if(y>0){let s=h.lastIndexOf(" ",y+1);y=s>0?s+1:y}if(A<h.length){let s=h.indexOf(" ",A-1);A=s>-1?s:A}h=(y>0?"... ":"")+h.substring(y,A)+(A<h.length?" ...":"")}else h=h.substring(0,g)+"...";return h},Un=({body:s,numItems:h=1,stringLength:g,type:_="content"})=>{let y;let{state:A}=(0,eV.useContext)(o$),{searchActiveMatch:b,searchString:k}=A,w=String(s.value);"snippet"==_&&(w=Bn({searchString:k,content:w,stringLength:g}));let R=function(s){let[h,g]=eV.useState("");return eV.useEffect(()=>{(async()=>{let h=await use_markdown_mr(s);g(h)})()},[s]),{html:h,jsx:aK.jsx("div",{dangerouslySetInnerHTML:{__html:h}})}}(w);if("text/plain"===s.format&&(y=null==w?void 0:w.replace(/\n/g,"<br />")),"text/markdown"===s.format&&(y=null==R?void 0:R.html),"text/html"===s.format&&(y=w),String(k)&&y){let h=1,g=RegExp(`(${k})`,"gi");y=null==y?void 0:y.replace(g,g=>{let _=`${s.id}/${h}`,y=b===_;return h+=1,`<span class="clover-scroll-highlight${y?" active":""}" data-index="${_}">${g}</span>`})}let B=[s.id,_].join("-"),H=["ar"].includes(String(s.language));return(0,eV.useEffect)(()=>{if(b){let s=document.querySelector(`[data-index="${b}"]`);s&&s.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},[b]),y?eV.createElement(eV.Fragment,null,eV.createElement(sL,{dangerouslySetInnerHTML:{__html:y},"data-body-id":B,"data-testid":"scroll-item-body",style:{"--num-items":h},id:B,dir:H?"rtl":"ltr",css:{fontSize:H?"1.3em":"1em"}})):null},sM=eV.memo(({hasItemBreak:s,isLastItem:h,item:g,itemCount:_,itemNumber:y})=>{var A;let{state:b}=eV.useContext(o$),{annotations:k,vault:w,options:R}=b,{figure:B}=R,H=null==w?void 0:w.get(g),z=null==k?void 0:k.filter(s=>{var h,_;return(null==(_=null==(h=s.target)?void 0:h.source)?void 0:_.id)===g.id}).length,$=null==(A=null==k?void 0:k.filter(s=>{var h,_;return(null==(_=null==(h=s.target)?void 0:h.source)?void 0:_.id)===g.id}))?void 0:A.map(s=>{var h;return null==(h=null==s?void 0:s.body)?void 0:h.map((s,h)=>eV.createElement(Un,{body:s,key:h,numItems:z}))});return eV.createElement(eV.Fragment,null,eV.createElement(so,{"data-page-break":s,"data-page-number":y,"data-last-item":h},eV.createElement(sl,{css:{width:B.width?B.width:oV.options.figure.width},"data-width":B.width},H&&eV.createElement(Ln,{canvas:H,canvasInfo:{current:y,total:_}})),eV.createElement(sc,null,eV.createElement("div",null,null!=$&&$.length?$:eV.createElement("p",null,"[Blank]")))),s&&eV.createElement(su,{"aria-label":"Page Break"}))}),jn=({items:s})=>eV.createElement(sd,null,s.map((h,g)=>{let _=g+1,y=_===s.length;return eV.createElement(sM,{item:h,hasItemBreak:_<s.length,isLastItem:y,key:h.id,itemCount:s.length,itemNumber:_})})),qn=(s,h)=>{let[g,_]=(0,eV.useState)([]);return(0,eV.useEffect)(()=>{if(!h)return;let g=[];null==s||s.forEach(s=>{var _;let y=h.get(s);null==(_=null==y?void 0:y.annotations)||_.forEach(s=>{var _;let y=h.get(s);null==(_=null==y?void 0:y.items)||_.forEach(s=>{var _;let y=h.get(s);y&&g.push({...y,body:null==(_=null==y?void 0:y.body)?void 0:_.map(s=>h.get(s))})})})});let y=g.reduce((s,h)=>(s.some(s=>s.id===h.id)||s.push(h),s),[]);_(y)},[s,h]),g},Wn=({iiifContent:s})=>{let[h,g]=(0,eV.useState)(),{state:_,dispatch:y}=(0,eV.useContext)(o$),{vault:A}=_,b=qn(null==h?void 0:h.items,A);return(0,eV.useEffect)(()=>{A&&A.load(s).then(s=>s&&g(s)).catch(h=>console.error(`Manifest ${s} failed to load: ${h}`))},[s]),(0,eV.useEffect)(()=>{y({type:"updateAnnotations",payload:b})},[b]),h?eV.createElement(o3,null,h&&eV.createElement(eV.Fragment,null,eV.createElement(Zr,{label:null==h?void 0:h.label}),eV.createElement(jn,{items:h.items}))):null},scroll_li=({iiifContent:s,options:h})=>eV.createElement(scroll_vr,{options:h},eV.createElement(Wn,{iiifContent:s}));var sP=g(9897),sF=g(5059),sB=g(6609),sU=g(2849),sH=g(5893);function useCallbackRef(s){let h=eV.useRef(s);return eV.useEffect(()=>{h.current=s}),eV.useMemo(()=>(...s)=>h.current?.(...s),[])}var sG=globalThis?.document?eV.useLayoutEffect:()=>{};function composeRefs(...s){return h=>s.forEach(s=>{"function"==typeof s?s(h):null!=s&&(s.current=h)})}function useComposedRefs(...s){return eV.useCallback(composeRefs(...s),s)}g(3935);var sz=eV.forwardRef((s,h)=>{let{children:g,..._}=s,y=eV.Children.toArray(g),A=y.find(isSlottable);if(A){let s=A.props.children,g=y.map(h=>h!==A?h:eV.Children.count(s)>1?eV.Children.only(null):eV.isValidElement(s)?s.props.children:null);return(0,sH.jsx)(sV,{..._,ref:h,children:eV.isValidElement(s)?eV.cloneElement(s,void 0,g):null})}return(0,sH.jsx)(sV,{..._,ref:h,children:g})});sz.displayName="Slot";var sV=eV.forwardRef((s,h)=>{let{children:g,..._}=s;if(eV.isValidElement(g)){let s,y;let A=(s=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning?g.ref:(s=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning?g.props.ref:g.props.ref||g.ref;return eV.cloneElement(g,{...function(s,h){let g={...h};for(let _ in h){let y=s[_],A=h[_],b=/^on[A-Z]/.test(_);b?y&&A?g[_]=(...s)=>{A(...s),y(...s)}:y&&(g[_]=y):"style"===_?g[_]={...y,...A}:"className"===_&&(g[_]=[y,A].filter(Boolean).join(" "))}return{...s,...g}}(_,g.props),ref:h?composeRefs(h,A):A})}return eV.Children.count(g)>1?eV.Children.only(null):null});sV.displayName="SlotClone";var Slottable=({children:s})=>(0,sH.jsx)(sH.Fragment,{children:s});function isSlottable(s){return eV.isValidElement(s)&&s.type===Slottable}var s$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((s,h)=>{let g=eV.forwardRef((s,g)=>{let{asChild:_,...y}=s,A=_?sz:h;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,sH.jsx)(A,{...y,ref:g})});return g.displayName=`Primitive.${h}`,{...s,[h]:g}},{}),Presence=s=>{let h,g;let{present:_,children:y}=s,A=function(s){var h;let[g,_]=eV.useState(),y=eV.useRef({}),A=eV.useRef(s),b=eV.useRef("none"),k=s?"mounted":"unmounted",[w,R]=(h={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},eV.useReducer((s,g)=>{let _=h[s][g];return _??s},k));return eV.useEffect(()=>{let s=getAnimationName(y.current);b.current="mounted"===w?s:"none"},[w]),sG(()=>{let h=y.current,g=A.current,_=g!==s;if(_){let _=b.current,y=getAnimationName(h);s?R("MOUNT"):"none"===y||h?.display==="none"?R("UNMOUNT"):g&&_!==y?R("ANIMATION_OUT"):R("UNMOUNT"),A.current=s}},[s,R]),sG(()=>{if(g){let s;let h=g.ownerDocument.defaultView??window,handleAnimationEnd=_=>{let b=getAnimationName(y.current),k=b.includes(_.animationName);if(_.target===g&&k&&(R("ANIMATION_END"),!A.current)){let _=g.style.animationFillMode;g.style.animationFillMode="forwards",s=h.setTimeout(()=>{"forwards"===g.style.animationFillMode&&(g.style.animationFillMode=_)})}},handleAnimationStart=s=>{s.target===g&&(b.current=getAnimationName(y.current))};return g.addEventListener("animationstart",handleAnimationStart),g.addEventListener("animationcancel",handleAnimationEnd),g.addEventListener("animationend",handleAnimationEnd),()=>{h.clearTimeout(s),g.removeEventListener("animationstart",handleAnimationStart),g.removeEventListener("animationcancel",handleAnimationEnd),g.removeEventListener("animationend",handleAnimationEnd)}}R("ANIMATION_END")},[g,R]),{isPresent:["mounted","unmountSuspended"].includes(w),ref:eV.useCallback(s=>{s&&(y.current=getComputedStyle(s)),_(s)},[])}}(_),b="function"==typeof y?y({present:A.isPresent}):eV.Children.only(y),k=useComposedRefs(A.ref,(h=Object.getOwnPropertyDescriptor(b.props,"ref")?.get)&&"isReactWarning"in h&&h.isReactWarning?b.ref:(h=Object.getOwnPropertyDescriptor(b,"ref")?.get)&&"isReactWarning"in h&&h.isReactWarning?b.props.ref:b.props.ref||b.ref),w="function"==typeof y;return w||A.isPresent?eV.cloneElement(b,{ref:k}):null};function getAnimationName(s){return s?.animationName||"none"}Presence.displayName="Presence";var sQ=e$["useId".toString()]||(()=>void 0),sj=0,sY="Collapsible",[sq,sW]=function(s,h=[]){let g=[],createScope=()=>{let h=g.map(s=>eV.createContext(s));return function(g){let _=g?.[s]||h;return eV.useMemo(()=>({[`__scope${s}`]:{...g,[s]:_}}),[g,_])}};return createScope.scopeName=s,[function(h,_){let y=eV.createContext(_),A=g.length;g=[...g,_];let Provider=h=>{let{scope:g,children:_,...b}=h,k=g?.[s]?.[A]||y,w=eV.useMemo(()=>b,Object.values(b));return(0,sH.jsx)(k.Provider,{value:w,children:_})};return Provider.displayName=h+"Provider",[Provider,function(g,b){let k=b?.[s]?.[A]||y,w=eV.useContext(k);if(w)return w;if(void 0!==_)return _;throw Error(`\`${g}\` must be used within \`${h}\``)}]},function(...s){let h=s[0];if(1===s.length)return h;let createScope=()=>{let g=s.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){let _=g.reduce((h,{useScope:g,scopeName:_})=>{let y=g(s),A=y[`__scope${_}`];return{...h,...A}},{});return eV.useMemo(()=>({[`__scope${h.scopeName}`]:_}),[_])}};return createScope.scopeName=h.scopeName,createScope}(createScope,...h)]}(sY),[sX,sK]=sq(sY),sJ=eV.forwardRef((s,h)=>{let{__scopeCollapsible:g,open:_,defaultOpen:y,disabled:A,onOpenChange:b,...k}=s,[w=!1,R]=function({prop:s,defaultProp:h,onChange:g=()=>{}}){let[_,y]=function({defaultProp:s,onChange:h}){let g=eV.useState(s),[_]=g,y=eV.useRef(_),A=useCallbackRef(h);return eV.useEffect(()=>{y.current!==_&&(A(_),y.current=_)},[_,y,A]),g}({defaultProp:h,onChange:g}),A=void 0!==s,b=A?s:_,k=useCallbackRef(g),w=eV.useCallback(h=>{if(A){let g="function"==typeof h?h(s):h;g!==s&&k(g)}else y(h)},[A,s,y,k]);return[b,w]}({prop:_,defaultProp:y,onChange:b});return(0,sH.jsx)(sX,{scope:g,disabled:A,contentId:function(s){let[h,g]=eV.useState(sQ());return sG(()=>{s||g(s=>s??String(sj++))},[s]),s||(h?`radix-${h}`:"")}(),open:w,onOpenToggle:eV.useCallback(()=>R(s=>!s),[R]),children:(0,sH.jsx)(s$.div,{"data-state":getState(w),"data-disabled":A?"":void 0,...k,ref:h})})});sJ.displayName=sY;var sZ="CollapsibleTrigger",s0=eV.forwardRef((s,h)=>{let{__scopeCollapsible:g,..._}=s,y=sK(sZ,g);return(0,sH.jsx)(s$.button,{type:"button","aria-controls":y.contentId,"aria-expanded":y.open||!1,"data-state":getState(y.open),"data-disabled":y.disabled?"":void 0,disabled:y.disabled,..._,ref:h,onClick:function(s,h,{checkForDefaultPrevented:g=!0}={}){return function(_){if(s?.(_),!1===g||!_.defaultPrevented)return h?.(_)}}(s.onClick,y.onOpenToggle)})});s0.displayName=sZ;var s1="CollapsibleContent",s2=eV.forwardRef((s,h)=>{let{forceMount:g,..._}=s,y=sK(s1,s.__scopeCollapsible);return(0,sH.jsx)(Presence,{present:g||y.open,children:({present:s})=>(0,sH.jsx)(s3,{..._,ref:h,present:s})})});s2.displayName=s1;var s3=eV.forwardRef((s,h)=>{let{__scopeCollapsible:g,present:_,children:y,...A}=s,b=sK(s1,g),[k,w]=eV.useState(_),R=eV.useRef(null),B=useComposedRefs(h,R),H=eV.useRef(0),z=H.current,$=eV.useRef(0),j=$.current,q=b.open||k,W=eV.useRef(q),K=eV.useRef();return eV.useEffect(()=>{let s=requestAnimationFrame(()=>W.current=!1);return()=>cancelAnimationFrame(s)},[]),sG(()=>{let s=R.current;if(s){K.current=K.current||{transitionDuration:s.style.transitionDuration,animationName:s.style.animationName},s.style.transitionDuration="0s",s.style.animationName="none";let h=s.getBoundingClientRect();H.current=h.height,$.current=h.width,W.current||(s.style.transitionDuration=K.current.transitionDuration,s.style.animationName=K.current.animationName),w(_)}},[b.open,_]),(0,sH.jsx)(s$.div,{"data-state":getState(b.open),"data-disabled":b.disabled?"":void 0,id:b.contentId,hidden:!q,...A,ref:B,style:{"--radix-collapsible-content-height":z?`${z}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...s.style},children:q&&y})});function getState(s){return s?"open":"closed"}var s4=g(1876).Buffer,s5=g(4782),s6=g(1073),s8=g(9821),s9=g(7462),s7=g(6206),le=g(8771),lt=g(5360),li=g(1276),lo=g(5320);(s,h)=>(0,eV.createElement)(lo.WV.label,(0,s9.Z)({},s,{ref:h,onMouseDown:h=>{var g;null===(g=s.onMouseDown)||void 0===g||g.call(s,h),!h.defaultPrevented&&h.detail>1&&h.preventDefault()}}));let[ll,lc]=(0,lt.b)("Form"),lu="Form",[ld,lh]=ll(lu),[lp,lf]=ll(lu),lm=(0,eV.forwardRef)((s,h)=>{let{__scopeForm:g,onClearServerErrors:_=()=>{},...y}=s,A=(0,eV.useRef)(null),b=(0,le.e)(h,A),[k,w]=(0,eV.useState)({}),R=(0,eV.useCallback)(s=>k[s],[k]),B=(0,eV.useCallback)((s,h)=>w(g=>{var _;return{...g,[s]:{...null!==(_=g[s])&&void 0!==_?_:{},...h}}}),[]),H=(0,eV.useCallback)(s=>{w(h=>({...h,[s]:void 0})),ee(h=>({...h,[s]:{}}))},[]),[z,$]=(0,eV.useState)({}),j=(0,eV.useCallback)(s=>{var h;return null!==(h=z[s])&&void 0!==h?h:[]},[z]),q=(0,eV.useCallback)((s,h)=>{$(g=>{var _;return{...g,[s]:[...null!==(_=g[s])&&void 0!==_?_:[],h]}})},[]),W=(0,eV.useCallback)((s,h)=>{$(g=>{var _;return{...g,[s]:(null!==(_=g[s])&&void 0!==_?_:[]).filter(s=>s.id!==h)}})},[]),[K,ee]=(0,eV.useState)({}),et=(0,eV.useCallback)(s=>{var h;return null!==(h=K[s])&&void 0!==h?h:{}},[K]),en=(0,eV.useCallback)((s,h)=>{ee(g=>{var _;return{...g,[s]:{...null!==(_=g[s])&&void 0!==_?_:{},...h}}})},[]),[er,es]=(0,eV.useState)({}),el=(0,eV.useCallback)((s,h)=>{es(g=>{let _=new Set(g[s]).add(h);return{...g,[s]:_}})},[]),ec=(0,eV.useCallback)((s,h)=>{es(g=>{let _=new Set(g[s]);return _.delete(h),{...g,[s]:_}})},[]),eu=(0,eV.useCallback)(s=>{var h;return Array.from(null!==(h=er[s])&&void 0!==h?h:[]).join(" ")||void 0},[er]);return(0,eV.createElement)(ld,{scope:g,getFieldValidity:R,onFieldValidityChange:B,getFieldCustomMatcherEntries:j,onFieldCustomMatcherEntryAdd:q,onFieldCustomMatcherEntryRemove:W,getFieldCustomErrors:et,onFieldCustomErrorsChange:en,onFieldValiditionClear:H},(0,eV.createElement)(lp,{scope:g,onFieldMessageIdAdd:el,onFieldMessageIdRemove:ec,getFieldDescription:eu},(0,eV.createElement)(lo.WV.form,(0,s9.Z)({},y,{ref:b,onInvalid:(0,s7.M)(s.onInvalid,s=>{let h=$d94698215c4408a7$var$getFirstInvalidControl(s.currentTarget);h===s.target&&h.focus(),s.preventDefault()}),onSubmit:(0,s7.M)(s.onSubmit,_,{checkForDefaultPrevented:!1}),onReset:(0,s7.M)(s.onReset,_)}))))}),lg="FormField",[lE,l_]=ll(lg),lT=(0,eV.forwardRef)((s,h)=>{let{__scopeForm:g,name:_,serverInvalid:y=!1,...A}=s,b=lh(lg,g),k=b.getFieldValidity(_),w=(0,li.M)();return(0,eV.createElement)(lE,{scope:g,id:w,name:_,serverInvalid:y},(0,eV.createElement)(lo.WV.div,(0,s9.Z)({"data-valid":$d94698215c4408a7$var$getValidAttribute(k,y),"data-invalid":$d94698215c4408a7$var$getInvalidAttribute(k,y)},A,{ref:h})))}),lv="FormControl",ly=(0,eV.forwardRef)((s,h)=>{let{__scopeForm:g,..._}=s,y=lh(lv,g),A=l_(lv,g),b=lf(lv,g),k=(0,eV.useRef)(null),w=(0,le.e)(h,k),R=_.name||A.name,B=_.id||A.id,H=y.getFieldCustomMatcherEntries(R),{onFieldValidityChange:z,onFieldCustomErrorsChange:$,onFieldValiditionClear:j}=y,q=(0,eV.useCallback)(async s=>{if($d94698215c4408a7$var$hasBuiltInError(s.validity)){let h=$d94698215c4408a7$var$validityStateToObject(s.validity);z(R,h);return}let h=s.form?new FormData(s.form):new FormData,g=[s.value,h],_=[],y=[];H.forEach(s=>{"AsyncFunction"===s.match.constructor.name||(0,s.match)(...g) instanceof Promise?y.push(s):"Function"===s.match.constructor.name&&_.push(s)});let A=_.map(({id:s,match:h})=>[s,h(...g)]),b=Object.fromEntries(A),k=Object.values(b).some(Boolean);s.setCustomValidity(k?lA:"");let w=$d94698215c4408a7$var$validityStateToObject(s.validity);if(z(R,w),$(R,b),!k&&y.length>0){let h=y.map(({id:s,match:h})=>h(...g).then(h=>[s,h])),_=await Promise.all(h),A=Object.fromEntries(_),b=Object.values(A).some(Boolean);s.setCustomValidity(b?lA:"");let k=$d94698215c4408a7$var$validityStateToObject(s.validity);z(R,k),$(R,A)}},[H,R,$,z]);(0,eV.useEffect)(()=>{let s=k.current;if(s){let handleChange=()=>q(s);return s.addEventListener("change",handleChange),()=>s.removeEventListener("change",handleChange)}},[q]);let W=(0,eV.useCallback)(()=>{let s=k.current;s&&(s.setCustomValidity(""),j(R))},[R,j]);(0,eV.useEffect)(()=>{var s;let h=null===(s=k.current)||void 0===s?void 0:s.form;if(h)return h.addEventListener("reset",W),()=>h.removeEventListener("reset",W)},[W]),(0,eV.useEffect)(()=>{let s=k.current,h=null==s?void 0:s.closest("form");if(h&&A.serverInvalid){let g=$d94698215c4408a7$var$getFirstInvalidControl(h);g===s&&g.focus()}},[A.serverInvalid]);let K=y.getFieldValidity(R);return(0,eV.createElement)(lo.WV.input,(0,s9.Z)({"data-valid":$d94698215c4408a7$var$getValidAttribute(K,A.serverInvalid),"data-invalid":$d94698215c4408a7$var$getInvalidAttribute(K,A.serverInvalid),"aria-invalid":!!A.serverInvalid||void 0,"aria-describedby":b.getFieldDescription(R),title:""},_,{ref:w,id:B,name:R,onInvalid:(0,s7.M)(s.onInvalid,s=>{let h=s.currentTarget;q(h)}),onChange:(0,s7.M)(s.onChange,s=>{W()})}))}),lA="This value is not valid",lb={badInput:lA,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},lS="FormMessage",lk=((s,h)=>{let{match:g,forceMatch:_=!1,name:y,children:A,...b}=s,k=lh(lS,b.__scopeForm),w=k.getFieldValidity(y),R=_||(null==w?void 0:w[g]);return R?(0,eV.createElement)(lk,(0,s9.Z)({ref:h},b,{name:y}),null!=A?A:lb[g]):null},(0,eV.forwardRef)((s,h)=>{let{__scopeForm:g,id:_,name:y,...A}=s,b=lf(lS,g),k=(0,li.M)(),w=null!=_?_:k,{onFieldMessageIdAdd:R,onFieldMessageIdRemove:B}=b;return(0,eV.useEffect)(()=>(R(y,w),()=>B(y,w)),[y,w,R,B]),(0,eV.createElement)(lo.WV.span,(0,s9.Z)({id:w},A,{ref:h}))})),lC=(0,eV.forwardRef)((s,h)=>{let{__scopeForm:g,..._}=s;return(0,eV.createElement)(lo.WV.button,(0,s9.Z)({type:"submit"},_,{ref:h}))});function $d94698215c4408a7$var$validityStateToObject(s){let h={};for(let g in s)h[g]=s[g];return h}function $d94698215c4408a7$var$isHTMLElement(s){return s instanceof HTMLElement}function $d94698215c4408a7$var$isInvalid(s){return"validity"in s&&(!1===s.validity.valid||"true"===s.getAttribute("aria-invalid"))}function $d94698215c4408a7$var$getFirstInvalidControl(s){let h=s.elements,[g]=Array.from(h).filter($d94698215c4408a7$var$isHTMLElement).filter($d94698215c4408a7$var$isInvalid);return g}function $d94698215c4408a7$var$hasBuiltInError(s){let h=!1;for(let g in s)if("valid"!==g&&"customError"!==g&&s[g]){h=!0;break}return h}function $d94698215c4408a7$var$getValidAttribute(s,h){if((null==s?void 0:s.valid)===!0&&!h)return!0}function $d94698215c4408a7$var$getInvalidAttribute(s,h){if((null==s?void 0:s.valid)===!1||h)return!0}var lx=g(3686),lI=g(1835),lw=g(2512);let lO="clover",lN=Object.fromEntries(Object.entries({en:{commonClose:"Close",commonNext:"Next",commonPrevious:"Previous",commonSearch:"Search",commonSearchPlaceholder:"Search...",commonShare:"Share",commonViewAll:"View All",copyFailure:"Failed",copySuccess:"Copied",informationPanelTabs:"Select",informationPanelTabsAbout:"About",informationPanelTabsAnnotations:"Annotations",informationPanelTabsSearch:"Search",informationPanelToggle:"More Information",shareCollectionJson:"View Collection",shareCollectionCopy:"Copy Collection URL",shareManifestJson:"View Manifest",shareManifestCopy:"Copy Manifest URL"},pt:{}}).map(([s,h])=>[s,{[`${lO}`]:h}]));sB.ZP.use(sF.Z).use(sU.Db).init({defaultNS:lO,fallbackLng:"en",ns:[lO],resources:{...lN}});var viewer_$=function(s){return function(){let h={type:s,getType:()=>s,toString:()=>s};return(s,g)=>({...h,...void 0!==s&&{payload:s},...void 0!==g&&{meta:g}})}},lR="@iiif/IMPORT_ENTITIES",lD="@iiif/MODIFY_ENTITY_FIELD",lL="@iiif/REORDER_ENTITY_FIELD",lM="@iiif/ADD_REFERENCE",lP="@iiif/UPDATE_REFERENCE",lF="@iiif/REMOVE_REFERENCE",lB="@iiif/ADD_METADATA",lU="@iiif/REMOVE_METADATA",lH="@iiif/UPDATE_METADATA",lG="@iiif/REORDER_METADATA",lz=viewer_$(lR)(),lV=viewer_$(lD)(),l$=viewer_$(lL)(),lQ=viewer_$(lM)(),lj=viewer_$(lF)(),lY=viewer_$(lP)(),lq=viewer_$(lB)(),lW=viewer_$(lH)(),lX={importEntities:lz,modifyEntityField:lV,reorderEntityField:l$,addReference:lQ,removeReference:lj,updateReference:lY,addMetadata:lq,removeMetadata:viewer_$(lU)(),updateMetadata:lW,reorderMetadata:viewer_$(lG)()},lK="@iiif/ADD_MAPPING",lJ="@iiif/ADD_MAPPINGS",lZ=viewer_$(lK)(),l0=viewer_$(lJ)(),l1="RESOURCE_ERROR",l2="RESOURCE_LOADING",l3="RESOURCE_READY",l4="@iiif/REQUEST_RESOURCE",l5="@iiif/REQUEST_ERROR",l6="@iiif/REQUEST_MISMATCH",l8="@iiif/REQUEST_COMPLETE",l9=viewer_$(l4)(),l7=viewer_$(l5)(),ce=viewer_$(l6)(),ct=viewer_$(l8)(),co="@iiif/BATCH",cs=viewer_$(co)(),viewer_qr=(s,h)=>{let{entities:g,resource:_,mapping:y}=Fe(h);if(void 0===_.id)return[l7({id:s,message:"ID is not defined in resource."})];let A=[lz({entities:g}),l0({mapping:y})];return _.id!==s&&(A.push(lZ({id:s,type:_.type})),A.push(ce({requestId:s,actualId:_.id}))),A.push(ct({id:s})),A},cl=Number.isNaN||function(s){return"number"==typeof s&&s!=s};function viewer_rt(s,h){if(!Array.isArray(s)||!Array.isArray(h))return s===h;if(s.length!==h.length)return!1;for(let y=0;y<s.length;y++){var g,_;if(!((g=s[y])===(_=h[y])||cl(g)&&cl(_)))return!1}return!0}function viewer_we(s,h,g){let _=s.iiif.requests[h],y=s.iiif.mapping[h];if(!y||!s.iiif.entities[y][_.resourceUri])return;let A=s.iiif.entities[y][_.resourceUri];if(A&&A[tl]){let s=A[tl].find(s=>s[tc]===A.id);return chunk_AXOUQGO3_oe(A,s)}return A}function viewer_ot(s,h,{waitTimeout:g=30}={}){return(_,y)=>{let A=s.getStore(),b=A.getState(),k=b.iiif.requests[_];if(k){if(k.loadingState===l3){let s=viewer_we(b,_);if(s)return s}switch(k.loadingState){case l1:break;case l2:return(async()=>{let s,h=!1;try{let y=await Promise.race([new Promise((g,y)=>{h||(s=A.subscribe(()=>{let s=A.getState();if(s.iiif.requests[_].loadingState===l1){y();return}if(s.iiif.requests[_].loadingState===l3){let h=viewer_we(s,_);h?g(h):y()}}))}),new Promise((s,_)=>setTimeout(()=>{h=!0,_()},6e4*g))]);if(s&&s(),y)return y}catch{s&&s()}})()}}s.dispatch(l9({id:_}));let c=h=>{if(!h)return;h.id||h["@id"]||(h["@type"]&&(h["@id"]=_),h.id=_);let g=viewer_qr(_,h);return s.dispatch(cs({actions:g})),viewer_we(A.getState(),_)};try{let g=h(_,y);return g&&"function"==typeof g.then?(async()=>{try{return c(await g)}catch(h){throw s.dispatch(l7({id:_,message:h.toString()})),h}})():c(g)}catch(h){throw s.dispatch(l7({id:_,message:h.toString()})),h}}}function viewer_Ht(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let cc={};var viewer_at=s=>{let h;let g=new Set,a=(s,_)=>{let y="function"==typeof s?s(h):s;if(!Object.is(y,h)){let s=h;h=_??("object"!=typeof y||null===y)?y:Object.assign({},h,y),g.forEach(g=>g(h,s))}},o=()=>h,_={setState:a,getState:o,getInitialState:()=>y,subscribe:s=>(g.add(s),()=>g.delete(s)),destroy:()=>{(cc?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),g.clear()}},y=h=s(a,o,_);return _},viewer_Qr=s=>s?viewer_at(s):viewer_at,cu="@iiif/SET_META_VALUE",cd="@iiif/SET_META_VALUE_DYNAMIC",ch="@iiif/UNSET_META_VALUE",cp={setMetaValue:viewer_$(cu)(),setMetaValueDynamic:viewer_$(cd)(),unsetMetaValue:viewer_$(ch)()};let cf={};var eo=(s,h)=>(g,_,y)=>(y.dispatch=h=>(g(g=>s(g,h),!1,h),h),y.dispatchFromDevtools=!0,{dispatch:(...s)=>y.dispatch(...s),...h}),cm=new Map,viewer_de=s=>{let h=cm.get(s);return h?Object.fromEntries(Object.entries(h.stores).map(([s,h])=>[s,h.getState()])):{}},to=(s,h,g)=>{if(void 0===s)return{type:"untracked",connection:h.connect(g)};let _=cm.get(g.name);if(_)return{type:"tracked",store:s,..._};let y={connection:h.connect(g),stores:{}};return cm.set(g.name,y),{type:"tracked",store:s,...y}},ro=(s,h={})=>(g,_,y)=>{let A;let{enabled:b,anonymousActionType:k,store:w,...R}=h;try{A=(b??(cf?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!A)return(cf?"production":void 0)!=="production"&&b&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),s(g,_,y);let{connection:B,...H}=to(w,A,R),z=!0;y.setState=(s,h,A)=>{let b=g(s,h);if(!z)return b;let H=void 0===A?{type:k||"anonymous"}:"string"==typeof A?{type:A}:A;return void 0===w?null==B||B.send(H,_()):null==B||B.send({...H,type:`${w}/${H.type}`},{...viewer_de(R.name),[w]:y.getState()}),b};let f=(...s)=>{let h=z;z=!1,g(...s),z=h},$=s(y.setState,_,y);if("untracked"===H.type?null==B||B.init($):(H.stores[H.store]=y,null==B||B.init(Object.fromEntries(Object.entries(H.stores).map(([s,h])=>[s,s===H.store?$:h.getState()])))),y.dispatchFromDevtools&&"function"==typeof y.dispatch){let s=!1,h=y.dispatch;y.dispatch=(...g)=>{(cf?"production":void 0)==="production"||"__setState"!==g[0].type||s||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),s=!0),h(...g)}}return B.subscribe(s=>{var h;switch(s.type){case"ACTION":if("string"!=typeof s.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return viewer_xe(s.payload,s=>{if("__setState"===s.type){if(void 0===w){f(s.state);return}1!==Object.keys(s.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let h=s.state[w];if(null==h)return;JSON.stringify(y.getState())!==JSON.stringify(h)&&f(h);return}y.dispatchFromDevtools&&"function"==typeof y.dispatch&&y.dispatch(s)});case"DISPATCH":switch(s.payload.type){case"RESET":return f($),void 0===w?null==B?void 0:B.init(y.getState()):null==B?void 0:B.init(viewer_de(R.name));case"COMMIT":if(void 0===w){null==B||B.init(y.getState());break}return null==B?void 0:B.init(viewer_de(R.name));case"ROLLBACK":return viewer_xe(s.state,s=>{if(void 0===w){f(s),null==B||B.init(y.getState());return}f(s[w]),null==B||B.init(viewer_de(R.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return viewer_xe(s.state,s=>{if(void 0===w){f(s);return}JSON.stringify(y.getState())!==JSON.stringify(s[w])&&f(s[w])});case"IMPORT_STATE":{let{nextLiftedState:g}=s.payload,_=null==(h=g.computedStates.slice(-1)[0])?void 0:h.state;if(!_)return;f(void 0===w?_:_[w]),null==B||B.send(null,g);break}case"PAUSE_RECORDING":return z=!z}return}}),$},viewer_xe=(s,h)=>{let g;try{g=JSON.parse(s)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}void 0!==g&&h(g)},ao=s=>(h,g,_)=>{let y=_.subscribe;return _.subscribe=(s,h,g)=>{let A=s;if(h){let y=(null==g?void 0:g.equalityFn)||Object.is,b=s(_.getState());A=g=>{let _=s(g);if(!y(b,_)){let s=b;h(b=_,s)}},null!=g&&g.fireImmediately&&h(b,b)}return y(A)},s(h,g,_)};function viewer_Ce(s,h,g,_){return!(!s[g]||!s[g][h]||!s[g][h][_]||!Array.isArray(s[g][h][_]))}function viewer_w(s){return s.payload}function viewer_Ae(s,h){return typeof s>"u"?h:s}function viewer_jt(s={}){let h=Object.keys(s);return function(g={},_){let y=!1,A={};for(let b=0;b<h.length;b++){let k=h[b];A[k]=s[k](g[k],_),y=y||A[k]!==g[k]}return y?A:g}}var cg=viewer_jt({mapping:(s={},h)=>{switch(h.type){case lK:return{...s,[h.payload.id]:h.payload.type};case lJ:return{...s,...h.payload.mapping};default:return s}},entities:(s=viewer_Ht(),h)=>{var g;let n=(g,_)=>({...s,[viewer_w(h).type]:{...s[viewer_w(h).type],[viewer_w(h).id]:{...g,..._}}});switch(h.type){case lD:{if(!s[viewer_w(h).type]||!s[viewer_w(h).type][viewer_w(h).id])return s;let g=s[viewer_w(h).type][viewer_w(h).id];return"string"==typeof g?s:n(g,{[viewer_w(h).key]:viewer_w(h).value})}case lL:{if(!viewer_Ce(s,viewer_w(h).id,viewer_w(h).type,viewer_w(h).key))return s;let g=s[viewer_w(h).type][viewer_w(h).id];if("string"==typeof g)return s;let _=Array.from(g[viewer_w(h).key]),[y]=_.splice(viewer_w(h).startIndex,1);return _.splice(viewer_w(h).endIndex,0,y),n(g,{[viewer_w(h).key]:_})}case lR:{let g=Object.keys(viewer_w(h).entities),_={...s};for(let y of g){let g=viewer_w(h).entities[y],A={...s[y]||{}},b=!1,k=Object.keys(g||{})||[];if(g&&k){for(let h of k)b=!0,A[h]=s[y][h]?function(s,h){let g={},_=[];for(let[y,A]of Object.entries(s||{})){_.push(y);let s=(h||{})[y];if(!s||0===s.length){g[y]=A;continue}g[y]=s}for(let[s,y]of Object.entries(h||{}))-1===_.indexOf(s)&&(g[s]=y);return g}(s[y][h],g[h]):g[h];b&&(_[y]=A)}}return _}case lM:{if(!viewer_Ce(s,viewer_w(h).id,viewer_w(h).type,viewer_w(h).key))return s;let g=s[viewer_w(h).type][viewer_w(h).id],_=Array.from(g[viewer_w(h).key]);return _.splice(viewer_Ae(viewer_w(h).index,_.length+1),0,viewer_w(h).reference),n(g,{[viewer_w(h).key]:_})}case lP:case lF:{if(!viewer_Ce(s,viewer_w(h).id,viewer_w(h).type,viewer_w(h).key))return s;let _=s[viewer_w(h).type][viewer_w(h).id],y=Array.from(_[viewer_w(h).key]),A=viewer_Ae(viewer_w(h).index,y.findIndex(s=>s&&s.id===viewer_w(h).reference.id));return -1===A||(null==(g=y[A])?void 0:g.id)!==viewer_w(h).reference.id?s:(h.type===lP?y.splice(A,1,viewer_w(h).reference):y.splice(A,1),n(_,{[viewer_w(h).key]:y}))}case lB:{let g=s[viewer_w(h).type][viewer_w(h).id];if(!g)return s;let _=Array.from(g.metadata||[]),y=viewer_w(h);return _.splice(viewer_Ae(h.payload.beforeIndex,_.length+1),0,{label:y.label,value:y.label}),n(g,{metadata:_})}case lG:{let g=s[viewer_w(h).type][viewer_w(h).id];if("string"==typeof g||!g)return s;let _=Array.from(g.metadata||[]),[y]=_.splice(viewer_w(h).startIndex,1);return _.splice(viewer_w(h).endIndex,0,y),n(g,{metadata:_})}case lH:case lU:{let g=s[viewer_w(h).type][viewer_w(h).id],_=Array.from(g.metadata||[]),y=viewer_w(h).atIndex;return typeof y>"u"||-1===y||!_[y]?s:(h.type===lH?_.splice(y,1,{label:viewer_w(h).label,value:viewer_w(h).value}):_.splice(y,1),n(g,{metadata:_}))}default:return s}},requests:(s={},h)=>{switch(h.type){case l4:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...s,[h.payload.id]:{requestUri:h.payload.id,loadingState:l2,uriMismatch:!1,resourceUri:h.payload.id}};case l6:return{...s,[h.payload.requestId]:{...s[h.payload.requestId]||{},uriMismatch:!0,resourceUri:h.payload.actualId},[h.payload.actualId]:{requestUri:h.payload.requestId,loadingState:s[h.payload.requestId].loadingState,uriMismatch:!0,resourceUri:h.payload.actualId}};case l5:return{...s,[h.payload.id]:{...s[h.payload.id]||{},loadingState:l1,error:h.payload.message}};case l8:return{...s,[h.payload.id]:{...s[h.payload.id]||{},loadingState:l3,error:void 0}}}return s},meta:(s={},h)=>{let{id:g,updateValue:_,value:y,meta:A,key:b}=h&&h.payload||{};switch(h.type){case cu:return{...s,[g]:{...s[g]||{},[A]:{...s[g]&&s[g][A]||{},[b]:y}}};case cd:return{...s,[g]:{...s[g]||{},[A]:{...s[g]&&s[g][A]||{},[b]:_(s[g]&&s[g][A]?s[g][A][b]:void 0)}}};case ch:return s[g]&&s[g][A]&&s[g][A][b]?{...s,[g]:{...s[g]||{},[A]:{...s[g]&&s[g][A]||{},[b]:void 0}}}:s;default:return s}}}),cE=Object.defineProperty,vo=(s,h,g)=>h in s?cE(s,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[h]=g,viewer_W=(s,h,g)=>(vo(s,"symbol"!=typeof h?h+"":h,g),g);function viewer_O(s,h,g,_=!0){h[cv]=h[cv]||[],h[cv].push(s);let y=new Map;Object.defineProperty(h,s,{enumerable:_,get(){if(typeof h[c_][s]>"u")return;let _=h[c_][s];if(!_)return _;let A=g.get(h[c_][s],{parent:this.id?{id:this.id,type:this.type}:void 0});return y.has(A)||(y.clear(),y.set(A,viewer_Y(A,g))),y.get(A)},set(_){h[c_][s]!==_&&(this[cT]?g.modifyEntityField({id:this.id,type:this.type},s,function viewer_Gt(s){return Array.isArray(s)?s.map(s=>viewer_Gt(s)):s&&s.type?{id:s.id,type:s.type}:s}(_)):this[c_][s]=_)}})}var c_=Symbol.for("_refs_"),cT=Symbol.for("_reactive_"),cv=Symbol.for("_defined_"),cy=Symbol.for("_parent_");function viewer_Y(s,h,g=!1,_){if(Array.isArray(s))return s.map(s=>viewer_Y(s,h,g));if(!s||!s.type||!s.id)return s;let y=function(s,h=!1,g){let _={id:"",type:"unknown",[cv]:[],[c_]:{},[cy]:null,[cT]:null,is(s){return"string"==typeof s?this.id===s:!!s.id&&s.id===this.id},reactive(){if(!this[cT])return this[cT]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let s=this.unwrap();for(let h of Object.keys(s||{}))this[cv].includes(h)?this[c_][h]=s[h]:this[h]=s[h]}},unreactive(){this[cT]&&(this[cT](),this[cT]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let h=this[cy];return s.get(this.id,{parent:h?{id:h,type:"unknown"}:void 0})},toPresentation3(){return s.toPresentation3(this.unwrap())},toPresentation2(){return s.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(h,g=!0){return s.subscribe(()=>this.id?s.get(this.id):null,h,g)}};return viewer_O("items",_,s),viewer_O("annotations",_,s),viewer_O("structures",_,s),viewer_O("seeAlso",_,s),viewer_O("rendering",_,s),viewer_O("partOf",_,s),viewer_O("start",_,s,!1),viewer_O("supplementary",_,s),viewer_O("homepage",_,s),viewer_O("thumbnail",_,s),viewer_O("placeholderCanvas",_,s,!1),viewer_O("accompanyingCanvas",_,s,!1),viewer_O("provider",_,s),viewer_O("body",_,s),viewer_O("logo",_,s),_}(h,g),A=Object.create(y),b=Object.assign(A,s);return g&&b.reactive(),b}function viewer_lt(s){switch(s){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return s}var cA=class{constructor(s,h){var g;viewer_W(this,"options"),viewer_W(this,"store"),viewer_W(this,"emitter"),viewer_W(this,"isBatching",!1),viewer_W(this,"batchQueue",[]),viewer_W(this,"remoteFetcher"),viewer_W(this,"staticFetcher"),viewer_W(this,"defaultFetcher",s=>fetch(s).then(s=>s.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},s||{}),this.store=h||function(s={}){var h;let{enableDevtools:g=!1,iiifStoreName:_="iiif",defaultState:y={iiif:{entities:viewer_Ht(),meta:{},mapping:{},requests:{}}},customReducers:A={}}=s,b=(h=viewer_jt({[_]:cg,...A}),(s,g)=>g&&g.type===co?g.payload.actions.reduce(h,s):g&&"@iiif/BATCH_IMPORT"===g.type?{...s,iiif:{...s.iiif,...g.payload.state}}:h(s,g)),k="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?ro:(s,h)=>s;return viewer_Qr(ao(k(eo(b,y),{enabled:g})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:g=g||new Map,on:function(s,h){var _=g.get(s);_?_.push(h):g.set(s,[h])},off:function(s,h){var _=g.get(s);_&&(h?_.splice(_.indexOf(h)>>>0,1):g.set(s,[]))},emit:function(s,h){var _=g.get(s);_&&_.slice().map(function(s){s(h)}),(_=g.get("*"))&&_.slice().map(function(g){g(s,h)})}},this.remoteFetcher=viewer_ot(this,this.options.customFetcher),this.staticFetcher=viewer_ot(this,(s,h)=>h)}batch(s){this.isBatching=!0;try{s(this),this.isBatching=!1,this.dispatch(cs({actions:this.batchQueue}))}catch(s){throw this.batchQueue=[],this.isBatching=!1,s}this.batchQueue=[]}async asyncBatch(s){this.isBatching=!0;try{await s(this),this.isBatching=!1,this.dispatch(cs({actions:this.batchQueue}))}catch(s){throw this.batchQueue=[],this.isBatching=!1,s}this.batchQueue=[]}modifyEntityField(s,h,g){this.dispatch(lX.modifyEntityField({id:s.id,type:s.type,key:h,value:g}))}dispatch(s){if(this.isBatching)this.batchQueue.push(s);else{if(s.type===co){for(let h of s.payload.actions)this.emitter.emit(h.type,{action:h,state:this.store.getState()});this.store.dispatch(s);let h=this.getState();for(let g of s.payload.actions)this.emitter.emit(`after:${g.type}`,{action:g,state:h});return}this.emitter.emit(s.type,{action:s,state:this.store.getState()}),this.store.dispatch(s);let h=this.store.getState();this.emitter.emit(`after:${s.type}`,{action:s,state:h});return}}on(s,h){return this.emitter.on(s,h),()=>{this.emitter.off(s,h)}}serialize(s,h){return $e(this.getState().iiif,s,h)}toPresentation2(s){return this.serialize(s,ty)}toPresentation3(s){return this.serialize(s,tA)}hydrate(s,h,g={}){return this.get(s,h,{...g,skipSelfReturn:!1})}get(s,h,g={}){"string"!=typeof h&&(g=h||{},h=void 0);let{skipSelfReturn:_=!0}=g||{},y=g.parent?"string"==typeof g.parent?g.parent:g.parent.id:void 0;if(Array.isArray(s))return s.map(s=>this.get(s,g));let A=this.getState();if(chunk_W3DWL6UZ_v(s)&&!g.preserveSpecificResources&&(s=s.source),"string"==typeof s){let g=viewer_lt(h||A.iiif.mapping[s]);if(!g)return _?null:{id:s,type:"unknown"};s={id:s,type:g}}if(s&&s.partOf&&!y&&!g.skipPartOfCheck){let h=Array.isArray(s.partOf)?s.partOf[0]:s.partOf;h&&("string"==typeof h&&(y=h),"string"==typeof h.id&&(y=h.id))}let b=viewer_lt(h||(null==s?void 0:s.type)),k=null==s?void 0:s.id,w=A.iiif.entities[b];if(!w){let h=A.iiif.requests[k];return h&&h.resourceUri!==k?this.get(h.resourceUri,g):_?null:s}let R=w[s.id];if(R&&R[tl]){let s=R[tl].find(s=>y?s[tc]===y:s[tc]===R.id);return chunk_AXOUQGO3_oe(R,s)}return w[s.id]||(_?null:s)}select(s){return s(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(s,h){if(typeof s>"u")return this.get(h,{skipSelfReturn:!1});if("function"==typeof s)try{let g=s(this.get(h,{skipSelfReturn:!1})),o=s=>this.deep(s,g);return o.size=Array.isArray(g)?g.length:1,o}catch{let o=s=>this.deep(s,void 0);return o.size=0,o}let n=h=>this.deep(h,s);return n.size=Array.isArray(s)?s.length:1,n}loadManifest(s,h){let g="string"==typeof s?s:s.id;return this.load(g,h)}loadCollection(s,h){let g="string"==typeof s?s:s.id;return this.load(g,h)}load(s,h){let g="string"==typeof s?s:s.id;return h?Promise.resolve(this.staticFetcher(g,h)):Promise.resolve(this.remoteFetcher(g))}loadSync(s,h){let g="string"==typeof s?s:s.id;return this.staticFetcher(g,h)}loadManifestSync(s,h){let g="string"==typeof s?s:s.id;return this.loadSync(g,h)}loadCollectionSync(s,h){let g="string"==typeof s?s:s.id;return this.loadSync(g,h)}areInputsEqual(s,h){return viewer_rt(s,h)}subscribe(s,h,g){return typeof g>"u"&&(typeof h>"u"||!1===h||!0===h)&&(g=h,h=s,s=s=>s),this.store.subscribe(s,s=>h(s,this),{equalityFn:viewer_rt,fireImmediately:!g})}async ensureLoaded(s){let h="string"==typeof s?s:s.id;this.requestStatus(h)||await this.load(h)}requestStatus(s){return this.select(h=>h.iiif.requests[s])}getResourceMeta(s,h){let g=this.getState().iiif.meta[s];if(g)return h?g[h]:g}getObject(s,h,g={}){let{reactive:_,...y}=g;return viewer_Y(this.get(s,h,y),this,_)}async loadObject(s,h){return viewer_Y(await this.load(s,h),this)}async loadManifestObject(s,h){return viewer_Y(await this.loadManifest(s,h),this)}async loadCollectionObject(s,h){return viewer_Y(await this.loadCollection(s,h),this)}wrapObject(s){return viewer_Y(this.get(s,{skipSelfReturn:!1}),this)}isWrapped(s){return!!s[cv]}setMetaValue([s,h,g],_){this.dispatch("function"==typeof _?cp.setMetaValueDynamic({id:s,meta:h,key:g,updateValue:_}):cp.setMetaValue({id:s,meta:h,key:g,value:_}))}};let wo=s=>{let h=s.toString().split(":"),g=Math.ceil(parseInt(h[0])),_=Math.ceil(parseInt(h[1])),y=xo(Math.ceil(parseInt(h[2])),2),A=`${0!==g&&_<10?(_+"").padStart(2,"0"):_}:${y}`;return 0!==g&&(A=`${g}:${A}`),A},viewer_Jt=s=>{let h=new Date(1e3*s).toISOString().substr(11,8);return wo(h)},viewer_Qt=(s,h)=>{if("object"!=typeof s||null===s)return h;for(let g in h)"object"!=typeof h[g]||null===h[g]||Array.isArray(h[g])?s[g]=h[g]:(s[g]||(s[g]={}),s[g]=viewer_Qt(s[g],h[g]));return s},So=s=>s.split("").reduce(function(s,h){return(s=(s<<5)-s+h.charCodeAt(0))&s},0),viewer_Yt=(s,h)=>Object.hasOwn(s,h)?s[h].toString():void 0,xo=(s,h)=>String(s).padStart(h,"0"),cb={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}};function viewer_Zt(s){let h={...cb.informationPanel.vtt.autoScroll};return"object"==typeof s&&(h="enabled"in s?s:{enabled:!0,settings:s}),!1===s&&(h.enabled=!1),function({behavior:s,block:h}){let g=["auto","instant","smooth"],_=["center","end","nearest","start"];if(!g.includes(s))throw TypeError(`'${s}' not in ${g.join(" | ")}`);if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`)}(h.settings),h}let cS=viewer_Zt(null==(eP=null==(eM=null==cb?void 0:cb.informationPanel)?void 0:eM.vtt)?void 0:eP.autoScroll),ck={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:cb,customDisplays:[],plugins:[],isAutoScrollEnabled:cS.enabled,isAutoScrolling:!1,isInformationOpen:null==(eF=null==cb?void 0:cb.informationPanel)?void 0:eF.open,isLoaded:!1,isUserScrolling:void 0,vault:new cA,contentSearchVault:new cA,openSeadragonViewer:null,viewerId:esm_browser_v4()},cC=eV.createContext(ck),cx=eV.createContext(ck);function ko(s,h){switch(h.type){case"updateActiveCanvas":return h.canvasId||(h.canvasId=""),{...s,activeCanvas:h.canvasId};case"updateActiveManifest":return{...s,activeManifest:h.manifestId};case"updateOSDImageLoaded":return{...s,OSDImageLoaded:h.OSDImageLoaded};case"updateAutoScrollAnnotationEnabled":return{...s,isAutoScrollEnabled:h.isAutoScrollEnabled};case"updateAutoScrolling":return{...s,isAutoScrolling:h.isAutoScrolling};case"updateCollection":return{...s,collection:h.collection};case"updateConfigOptions":return{...s,configOptions:viewer_Qt(s.configOptions,h.configOptions)};case"updateInformationOpen":return{...s,isInformationOpen:h.isInformationOpen};case"updateIsLoaded":return{...s,isLoaded:h.isLoaded};case"updateUserScrolling":return{...s,isUserScrolling:h.isUserScrolling};case"updateOpenSeadragonViewer":return{...s,openSeadragonViewer:h.openSeadragonViewer};case"updateViewerId":return{...s,viewerId:h.viewerId};default:throw Error(`Unhandled action type: ${h.type}`)}}let To=({initialState:s=ck,children:h})=>{let[g,_]=(0,eV.useReducer)(ko,s);return eV.createElement(cC.Provider,{value:g},eV.createElement(cx.Provider,{value:_},h))};function viewer_T(){let s=eV.useContext(cC);if(void 0===s)throw Error("useViewerState must be used within a ViewerProvider");return s}function viewer_F(){let s=eV.useContext(cx);if(void 0===s)throw Error("useViewerDispatch must be used within a ViewerProvider");return s}let cI=window.OpenSeadragon;if(!cI&&!(cI=eH))throw Error("OpenSeadragon is missing.");let cw="http://www.w3.org/2000/svg";cI.Viewer&&(cI.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new viewer_Ge(this)),this._svgOverlayInfo});let viewer_Ge=function(s){let h=this;this._viewer=s,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(cw,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(cw,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){h.resize()}),this._viewer.addHandler("open",function(){h.resize()}),this._viewer.addHandler("rotate",function(){h.resize()}),this._viewer.addHandler("flip",function(){h.resize()}),this._viewer.addHandler("resize",function(){h.resize()}),this.resize()};viewer_Ge.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let s=this._viewer.viewport.pixelFromPoint(new cI.Point(0,0),!0),h=this._viewer.viewport.getZoom(!0),g=this._viewer.viewport.getRotation(),_=this._viewer.viewport.getFlip(),y=this._viewer.viewport._containerInnerSize.x,A=y*h,b=A;_&&(A=-A,s.x=-s.x+y),this._node.setAttribute("transform","translate("+s.x+","+s.y+") scale("+A+","+b+") rotate("+g+")")},onClick:function(s,h){new cI.MouseTracker({element:s,clickHandler:h}).setTracking(!0)}};let Ro=s=>new viewer_Ge(s),viewer_en=s=>{var h,g,_,y,A;let b={id:"string"==typeof s?s:s.source};if("string"==typeof s){if(s.includes("#xywh=")){let h=s.split("#xywh=");if(h&&h[1]){let[s,g,_,y]=h[1].split(",").map(s=>Number(s));b={id:h[0],rect:{x:s,y:g,w:_,h:y}}}}else if(s.includes("#t=")){let h=s.split("#t=");h&&h[1]&&(b={id:h[0],t:h[1]})}}else if("object"==typeof s){if((null==(h=s.selector)?void 0:h.type)==="PointSelector")b={id:s.source,point:{x:s.selector.x,y:s.selector.y}};else if((null==(g=s.selector)?void 0:g.type)==="SvgSelector")b={id:s.source,svg:s.selector.value};else if((null==(_=s.selector)?void 0:_.type)==="FragmentSelector"&&null!=(y=s.selector)&&y.value.includes("xywh=")&&"Canvas"==s.source.type&&s.source.id){let h=null==(A=s.selector)?void 0:A.value.split("xywh=");if(h&&h[1]){let[g,_,y,A]=h[1].split(",").map(s=>Number(s));b={id:s.source.id,rect:{x:g,y:_,w:y,h:A}}}}}return b},$o=s=>fetch(`${s.replace(/\/$/,"")}/info.json`).then(s=>s.json()).then(s=>s).catch(h=>{console.error(`The IIIF tilesource ${s.replace(/\/$/,"")}/info.json failed to load: ${h}`)}),Mo=s=>{let h,g;return Array.isArray(s)&&(h=s[0])&&(g="@id"in h?h["@id"]:h.id),g},viewer_Je=s=>{var h;let g,_;if(Lo(s))g=s,_={};else{let y=JSON.parse(function(s){let h=function(s){let h=s.length%4;if(1===h)throw Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");return s+(h?"====".slice(0,4-h):"")}(s),g=h.replace(/-/g,"+").replace(/_/g,"/"),_="undefined"==typeof atob?s4.from(g,"base64").toString("utf-8"):atob(g);return decodeURIComponent(_).trim()}(s));switch(null==y?void 0:y.type){case"SpecificResource":case"Range":case"Annotation":_={manifest:g=null==y?void 0:y.target.partOf[0].id,canvas:null==y?void 0:y.target.id};break;case"Canvas":_={manifest:g=null==y?void 0:y.partOf[0].id,canvas:null==y?void 0:y.id};break;case"Manifest":g=null==y?void 0:y.id,_={collection:null==(h=null==y?void 0:y.partOf[0])?void 0:h.id,manifest:null==y?void 0:y.id};break;case"Collection":_={collection:g=null==y?void 0:y.id}}}return{resourceId:g,active:_}},_o=s=>{let{resourceId:h,active:g}=viewer_Je(s);return g.collection||g.manifest||h},Po=(s,h)=>{let g=h.items.map(s=>s.id),{active:_}=viewer_Je(s),y=_.canvas;return g.includes(y)?y:g[0]},Oo=(s,h)=>{let{active:g}=viewer_Je(s),_=g.manifest,y=h.items.filter(s=>"Manifest"===s.type).map(s=>s.id);return 0==y.length?null:y.includes(_)?_:y[0]},Lo=s=>{try{new URL(s)}catch{return!1}return!0};var cO=((ed=cO||{}).TiledImage="tiledImage",ed.SimpleImage="simpleImage",ed);function viewer_tn(s,h,g,_,y){if(!s)return;let A=1/h.width;_.forEach(h=>{if(!h.target)return;let _=viewer_en(h.target),{point:b,rect:k,svg:w}=_;if(k){let{x:h,y:_,w:b,h:w}=k;!function(s,h,g,_,y,A,b){let k=new eH.Rect(h,g,_,y),w=document.createElement("div");if(A){let{backgroundColor:s,opacity:h,borderType:g,borderColor:_,borderWidth:y}=A;w.style.backgroundColor=s,w.style.opacity=h,w.style.border=`${g} ${y} ${_}`,w.className=b}s.addOverlay(w,k)}(s,h*A,_*A,b*A,w*A,g,y)}if(b){let{x:h,y:_}=b,k=`
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg">
          <circle cx="${h}" cy="${_}" r="20" />
        </svg>
      `;viewer_dt(s,k,g,A,y)}w&&viewer_dt(s,w,g,A,y)})}function viewer_dt(s,h,g,_,y){let A=function(s){if(!s)return null;let h=document.createElement("template");return h.innerHTML=s.trim(),h.content.children[0]}(h);if(A)for(let h of A.children)!function viewer_nn(s,h,g,_,y){var A;if("#text"===h.nodeName)h.textContent&&(h.textContent.includes(`
`)||console.log("nodeName:",h.nodeName,", textContent:",h.textContent,", childNodes.length",h.childNodes.length));else{let b=function(s,h,g){let _=!1,y=!1,A=!1,b=!1,k=document.createElementNS("http://www.w3.org/2000/svg",s.nodeName);if(s.attributes.length>0)for(let h=0;h<s.attributes.length;h++){let g=s.attributes[h];switch(g.name){case"fill":A=!0;break;case"stroke":_=!0;break;case"stroke-width":y=!0;break;case"fill-opacity":b=!0}k.setAttribute(g.name,g.textContent)}return _||(k.style.stroke=null==h?void 0:h.borderColor),y||(k.style.strokeWidth=null==h?void 0:h.borderWidth),A||(k.style.fill=null==h?void 0:h.backgroundColor),b||(k.style.fillOpacity=null==h?void 0:h.opacity),k.setAttribute("transform",`scale(${g})`),k}(h,g,_),k=Ro(s);k.node().append(b),null==(A=k._svg)||A.setAttribute("class",y),h.childNodes.forEach(h=>{viewer_nn(s,h,g,_,y)})}}(s,h,g,_,y)}let Bo=s=>{let h=Array.isArray(null==s?void 0:s.service)&&(null==s?void 0:s.service.length)>0,g=h?Mo(null==s?void 0:s.service):null==s?void 0:s.id,_=h?cO.TiledImage:cO.SimpleImage;return{uri:g,imageType:_}},Ho=(s,h)=>{let g=h?cO.TiledImage:cO.SimpleImage;return{uri:s,imageType:g}};function viewer_rn(s,h){if(!s)return;h.startsWith(".")||(h="."+h);let g=document.querySelectorAll(h);g&&g.forEach(h=>s.removeOverlay(h))}function viewer_Ve(s,h,g,_){let y=viewer_en(g),{point:A,rect:b,svg:k}=y;if(A||b||k){let g=function(s,h,g){let _,y,A=40,b=40;h.rect&&(_=h.rect.x,y=h.rect.y,A=h.rect.w,b=h.rect.h),h.point&&(_=h.point.x,y=h.point.y);let k=1/s.width;return new eH.Rect(_*k-A*k/2*(g-1),y*k-b*k/2*(g-1),A*k*g,b*k*g)}(_,y,h);null==s||s.viewport.fitBounds(g)}}let Wo=async(s,h)=>{let g=s.get({id:h,type:"Canvas"});if(!(null!=g&&g.annotations)||!g.annotations[0])return[];let _=s.get(g.annotations).filter(s=>!!s.items&&s),y=[];for(let h of _)if(h.items.length>0){let s=h.label||{none:["Annotations"]};y.push({...h,label:s})}else{let g={};try{g=await s.load(h.id)}catch(s){console.log(s)}if(g.items&&g.items.length>0){let s=g.label||{none:["Annotations"]};y.push({...g,label:s})}}return y},viewer_on=async(s,h,g,_)=>{let y;if(null==_||null==_.q)return{label:{none:[g]}};let A=`${h}?q=${_.q.trim()}`;try{y=await s.load(A)}catch{return console.log("Could not load content search."),{}}return null==y.label&&(y.label={none:[g]}),y},viewer_an=(s,h,g,_)=>{var y,A;let b={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(b.canvas=s.get(h),b.canvas&&(b.annotationPage=s.get(b.canvas.items[0]),b.accompanyingCanvas=null!=(y=b.canvas)&&y.accompanyingCanvas?s.get(null==(A=b.canvas)?void 0:A.accompanyingCanvas):void 0),b.annotationPage){let y=s.get(b.annotationPage.items).map(h=>({body:s.get(h.body[0].id),motivation:h.motivation,type:"Annotation"})),A=[];y.forEach(h=>{"Choice"===h.body.type?h.body.items.forEach(g=>A.push({...h,id:g.id,body:s.get(g.id)})):A.push(h)}),b.annotations=A.filter(y=>{if(y){if(!y.body||!y.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",y);return}let A=y.body;Array.isArray(A)&&(A=A[0]);let b=s.get(A.id);if(b)switch(g){case"painting":return y.target===h.id&&y.motivation&&"painting"===y.motivation[0]&&_.includes(b.type)&&(y.body=b),!!y;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return b},viewer_ne=(s,h="en")=>{if(!s)return"";if(!s[h]){let h=Object.getOwnPropertyNames(s);if(h.length>0)return s[h[0]]}return s[h]},viewer_pe=(s,h)=>{let g=viewer_an(s,{id:h,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==g.annotations.length&&g.annotations&&g.annotations)return g.annotations.map(s=>null==s?void 0:s.body)},qo=(s,h,g,_)=>{let y=[];if(h.canvas&&h.canvas.thumbnail.length>0){let g=s.get(h.canvas.thumbnail[0]);y.push(g)}if(h.annotations[0]){if(h.annotations[0].thumbnail&&h.annotations[0].thumbnail.length>0){let g=s.get(h.annotations[0].thumbnail[0]);y.push(g)}if(!h.annotations[0].body)return;let g=h.annotations[0].body;"Image"===g.type&&y.push(g)}return 0===y.length?void 0:{id:y[0].id,format:y[0].format,type:y[0].type,width:g,height:_}},cN={xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"},{styled:cR,css:cD,keyframes:cL,createTheme:cM}=(0,ez.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:cN}),cP=cR("div",{display:"flex",flexDirection:"column",alignItems:"center"}),cF=cR("p",{fontWeight:"bold",fontSize:"x-large"}),cB=cR("span",{fontSize:"medium"}),viewer_Ze=({error:s})=>{let{message:h}=s;return eV.createElement(cP,{role:"alert"},eV.createElement(cF,{"data-testid":"headline"},"Something went wrong"),h&&eV.createElement(cB,null,`Error message: ${h}`," "))},cU=cR("div",{position:"relative",zIndex:"0"}),cH=cR("div",{display:"flex",flexDirection:"row",flexGrow:"1",overflow:"hidden","@sm":{flexDirection:"column"}}),cG=cR("div",{display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",width:"61.8%","@sm":{width:"100%"}}),cz=cR(s0,{display:"none",border:"none",padding:"0",transition:"$all",opacity:"1",background:"#6663",margin:"1rem 0",borderRadius:"6px","&[data-information-panel='false']":{opacity:"0",marginTop:"-59px"},"@sm":{display:"flex","> span":{display:"flex",flexGrow:"1",fontSize:"0.8333em",justifyContent:"center",padding:"0.5rem",fontFamily:"inherit"}}}),cV=cR(s2,{width:"100%",display:"flex"}),c$=cR("aside",{display:"flex",flexGrow:"1",flexShrink:"0",width:"38.2%",maxHeight:"100%","@sm":{width:"100%"}}),cQ=cR("div",{display:"flex",flexDirection:"column",fontSmooth:"auto",webkitFontSmoothing:"antialiased",'&[data-absolute-position="true"]':{position:"absolute",width:"100%",height:"100%",zIndex:"0"},"> div":{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"flex-start",height:"100%",maxHeight:"100%","@sm":{[`& ${cH}`]:{flexGrow:"1"},[`& ${cG}`]:{flexGrow:"0"}}},"@sm":{padding:"0"},"&[data-information-panel-open='true']":{"@sm":{position:"fixed",height:"100%",width:"100%",top:"0",left:"0",zIndex:"2500000000",[`& ${cU}`]:{display:"none"},[`& ${cz}`]:{margin:"1rem"},[`& ${cV}`]:{height:"100%"}}}}),cj=cR(s5.fC,{display:"flex",flexDirection:"column",width:"100%",height:"100%",flexGrow:"1",flexShrink:"0",position:"relative",zIndex:"1",maskImage:"linear-gradient(180deg, rgba(0, 0, 0, 1) calc(100% - 2rem), transparent 100%)","@sm":{marginTop:"0.5rem",boxShadow:"none"}}),cY=cR(s5.aV,{display:"flex",flexGrow:"0",margin:"0 1.618rem",borderBottom:"4px solid #6663","@sm":{margin:"0 1rem"}}),cq=cR(s5.xz,{display:"flex",position:"relative",padding:"0.5rem 1rem",background:"none",backgroundColor:"transparent",fontFamily:"inherit",border:"none",opacity:"0.7",fontSize:"1rem",marginRight:"1rem",lineHeight:"1rem",whiteSpace:"nowrap",cursor:"pointer",fontWeight:400,transition:"$all","&::after":{width:"0",height:"4px",content:"",position:"absolute",bottom:"-4px",left:"0",transition:"$all"},"&[data-state='active']":{opacity:"1",fontWeight:700,"&::after":{width:"100%",backgroundColor:"$accent"}}}),cW=cR(s5.VY,{display:"flex",flexGrow:"1",flexShrink:"0",position:"absolute",top:"0",left:"0","&[data-state='active']":{width:"100%",height:"calc(100% - 2rem)",padding:"1.618rem 0"}}),cX=cR(({handleScroll:s,children:h,className:g})=>eV.createElement("div",{className:g,onScroll:s},h),{position:"relative",height:"100%",width:"100%",overflowY:"scroll"}),cK={position:"relative",cursor:"pointer",display:"flex",width:"100%",justifyContent:"space-between",textAlign:"left",margin:"0",padding:"0.5rem 1.618rem",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",color:"inherit",border:"none",background:"none"},cJ=cR("button",{textAlign:"left","&:hover":{color:"$accent"}}),cZ=cR("div",{display:"flex",flexDirection:"column",width:"100%"}),c0=cR("div",{...cK}),c1=cR("div",{"&:hover":{color:"$accent"}}),viewer_ut=({value:s,handleClick:h})=>eV.createElement(cJ,{onClick:h},s),aa=({value:s,handleClick:h})=>eV.createElement(c1,{dangerouslySetInnerHTML:{__html:s},onClick:h}),ia=()=>{function e(s){return s.map(s=>{let h=s.identifier||esm_browser_v4();return{...s,identifier:h}})}return{addIdentifiersToParsedCues:e,createNestedCues:function(s){var h;let g=[],_=[],y=e(s);for(let s of y){for(;_.length>0&&_[_.length-1].end<=s.start;)_.pop();_.length>0?(_[_.length-1].children||(_[_.length-1].children=[]),null==(h=_[_.length-1].children)||h.push(s)):g.push(s),_.push(s)}return g},isChild:function(s,h=[]){return h.some(h=>s.start>=h.start&&s.end<=h.end)},orderCuesByTime:function(s=[]){return s.sort((s,h)=>s.start-h.start)}}},c2=cL({from:{transform:"rotate(360deg)"},to:{transform:"rotate(0deg)"}}),c3=cR(s6.fC,{display:"flex",flexDirection:"column",width:"100%"}),c4=cR(s6.ck,{...cK,"@sm":{padding:"0.5rem 1rem",fontSize:"0.8333rem"},"&::before":{content:"",width:"12px",height:"12px",borderRadius:"12px",position:"absolute",backgroundColor:"$primaryMuted",opacity:"0",left:"8px",marginTop:"3px",boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",opacity:"0",clipPath:"polygon(100% 50%, 0 100%, 0 0)",left:"13px",marginTop:"6px",boxSizing:"content-box","@sm":{content:"unset"}},strong:{marginLeft:"1rem"},"&:hover":{color:"$accent","&::before":{backgroundColor:"$accent",opacity:"1"},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",clipPath:"polygon(100% 50%, 0 100%, 0 0)",opacity:"1"}},"&[aria-checked='true']":{backgroundColor:"#6663","&::before":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accentMuted",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1s linear infinite",animationName:c2,boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accent",clipPath:"polygon(100% 0, 100% 100%, 0 0)",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1.5s linear infinite",animationName:c2,boxSizing:"content-box","@sm":{content:"unset"}}}}),ca=s=>{for(;s&&s!==document.body;){let h=window.getComputedStyle(s).overflowY;if("visible"!==h&&"hidden"!==h&&s.scrollHeight>s.clientHeight)return s;s=s.parentNode}return null},da=({label:s,start:h,end:g})=>{var _,y;let A=viewer_F(),{configOptions:b,isAutoScrollEnabled:k,isUserScrolling:w}=viewer_T(),R=null==(y=null==(_=null==b?void 0:b.informationPanel)?void 0:_.vtt)?void 0:y.autoScroll,[B,H]=(0,eV.useState)(!1),z=(0,eV.useRef)(null),$=document.getElementById("clover-iiif-video");return(0,eV.useEffect)(()=>(null==$||$.addEventListener("timeupdate",()=>{let{currentTime:s}=$;H(h<=s&&s<g)}),()=>document.removeEventListener("timeupdate",()=>{})),[g,h,$]),(0,eV.useEffect)(()=>{var s,h;if(k&&B&&z.current&&!w){let g=z.current;if(g&&g instanceof HTMLElement){let _=ca(g);if(_&&_ instanceof HTMLElement){let y;switch(null==(s=null==R?void 0:R.settings)?void 0:s.block){case"center":let b=_.getBoundingClientRect();y=g.offsetTop+g.offsetHeight-Math.floor((b.bottom-b.top)/2);break;case"end":y=g.offsetTop+g.offsetHeight-(_.clientHeight-g.clientHeight)+2;break;default:y=g.offsetTop-2}A({type:"updateAutoScrolling",isAutoScrolling:!0}),_.scrollTo({top:y,left:0,behavior:null==(h=null==R?void 0:R.settings)?void 0:h.behavior}),setTimeout(()=>A({type:"updateAutoScrolling",isAutoScrolling:!1}),750)}}}},[R,B,w,k,A]),eV.createElement(c4,{ref:z,"aria-checked":B,"data-testid":"information-panel-cue",onClick:()=>{$&&($.pause(),$.currentTime=h,$.play())},value:s},s,eV.createElement("strong",null,viewer_Jt(h)))},c5=cR("ul",{listStyle:"none",paddingLeft:"1rem",position:"relative","&&:first-child":{paddingLeft:"0"},"& li ul":{[`& ${c4}`]:{backgroundColor:"unset","&::before":{content:"none"},"&::after":{content:"none"}}},"&:first-child":{margin:"0 0 1.618rem"}}),viewer_hn=({items:s})=>eV.createElement(c5,null,s.map(s=>{let{text:h,start:g,end:_,children:y,identifier:A}=s;return eV.createElement("li",{key:A},eV.createElement(da,{label:h,start:g,end:_}),y&&eV.createElement(viewer_hn,{items:y}))})),ma=({label:s,vttUri:h})=>{let[g,_]=eV.useState([]),{createNestedCues:y,orderCuesByTime:A}=ia(),[b,k]=eV.useState();return(0,eV.useEffect)(()=>{h&&fetch(h,{headers:{"Content-Type":"text/plain",Accept:"application/json"}}).then(s=>s.text()).then(s=>{let h=(0,s8.parse)(s).cues,g=A(h),b=y(g);_(b)}).catch(s=>{console.error(h,s.toString()),k(s)})},[h]),eV.createElement(c3,{"data-testid":"annotation-item-vtt","aria-label":`${viewer_ne(s)}`},b&&eV.createElement("div",{"data-testid":"error-message"},"Network Error: ",b.toString()),eV.createElement(viewer_hn,{items:g}))},fa=({caption:s,handleClick:h,imageUri:g})=>eV.createElement(cJ,{onClick:h},eV.createElement("img",{src:g,alt:`A visual annotation for ${s}`}),eV.createElement("span",null,s)),pa=({annotation:s})=>{var h,g;let{target:_}=s,y=viewer_T(),{openSeadragonViewer:A,vault:b,activeCanvas:k,configOptions:w}=y,R=s.body.map(s=>b.get(s.id)),B=(null==(h=R.find(s=>s.format))?void 0:h.format)||"",H=(null==(g=R.find(s=>s.value))?void 0:g.value)||"",z=b.get({id:k,type:"Canvas"});function m(){var s;if(!_)return;let h=(null==(s=w.annotationOverlays)?void 0:s.zoomLevel)||1;viewer_Ve(A,h,_,z)}return eV.createElement(c0,null,function(){var s,h;switch(B){case"text/plain":return eV.createElement(viewer_ut,{value:H,handleClick:m});case"text/html":return eV.createElement(aa,{value:H,handleClick:m});case"text/vtt":return eV.createElement(ma,{label:R[0].label,vttUri:R[0].id||""});case null==(s=B.match(/^image\//))?void 0:s.input:let g=(null==(h=R.find(s=>{var h;return!(null!=(h=s.id)&&h.includes("vault://"))}))?void 0:h.id)||"";return eV.createElement(fa,{caption:H,handleClick:m,imageUri:g});default:return eV.createElement(viewer_ut,{value:H,handleClick:m})}}())},ha=({annotationPage:s})=>{var h;let g=viewer_T(),{vault:_}=g;if(!s||!s.items||(null==(h=s.items)?void 0:h.length)===0)return eV.createElement(eV.Fragment,null);let y=s.items.map(s=>_.get(s.id));return y?eV.createElement(cZ,{"data-testid":"annotation-page"},null==y?void 0:y.map(s=>eV.createElement(pa,{key:s.id,annotation:s}))):eV.createElement(eV.Fragment,null)},c6=cR("button",{textAlign:"left","&:hover":{color:"$accent"}}),c8=cR("li",{margin:"0.25rem 0"}),c9=cR("ol",{listStyleType:"auto",marginBottom:"1rem",listStylePosition:"inside"}),c7=cR("div",{margin:"0.5rem 1.618rem"}),ue=cR("div",{fontWeight:"bold"}),ut=cR("div",{marginBottom:"1rem"}),Sa=({value:s,handleClick:h,target:g,canvas:_})=>eV.createElement(c6,{onClick:h,"data-target":g,"data-canvas":_},s),xa=({annotation:s,activeContentSearchTarget:h,setActiveContentSearchTarget:g})=>{var _,y,A;let b,k;let w=viewer_F(),R=viewer_T(),{openSeadragonViewer:B,vault:H,contentSearchVault:z,activeCanvas:$,configOptions:j,OSDImageLoaded:q}=R,W=H.get({id:$,type:"Canvas"}),K=(null==(_=s.body.map(s=>z.get(s.id)).find(s=>s.value))?void 0:_.value)||"";if(s.target&&"string"==typeof s.target&&(b=s.target),b){let s=b.split("#xywh");s.length>1&&(k=s[0])}let ee=(null==(A=null==(y=j.contentSearch)?void 0:y.overlays)?void 0:A.zoomLevel)||1;(0,eV.useEffect)(()=>{q&&B&&s.target&&s.target==h&&viewer_Ve(B,ee,b,W)},[B,q]);let et=JSON.stringify(b);return eV.createElement(c8,null,eV.createElement(Sa,{target:et,canvas:k,value:K,handleClick:function(s){if(!B)return;let h=JSON.parse(s.target.dataset.target),_=s.target.dataset.canvas;$===_?viewer_Ve(B,ee,b,W):(w({type:"updateOSDImageLoaded",OSDImageLoaded:!1}),w({type:"updateActiveCanvas",canvasId:_}),g(h))}}))},Ca=({annotationPage:s})=>{var h,g,_;let y=viewer_T(),{contentSearchVault:A,configOptions:b}=y,[k,w]=(0,eV.useState)(),R=null==(h=b.contentSearch)?void 0:h.searchResultsLimit,B=null==(g=b.localeText)?void 0:g.contentSearch;return s&&s.items&&(null==(_=s.items)?void 0:_.length)!==0?eV.createElement(eV.Fragment,null,Object.entries(function(s){let h={};return s.items.forEach(s=>{let g=A.get(s.id),_="";if(g.label){let s=viewer_ne(g.label);s&&(_=s[0])}null==h[_]&&(h[_]=[]),h[_].push(g)}),h}(s)).map(([s,h],g)=>eV.createElement("div",{key:g},eV.createElement(ue,{className:"content-search-results-title"},s),eV.createElement(c9,{className:"content-search-results"},(R?h.slice(0,R):h).map((s,h)=>eV.createElement(xa,{key:h,annotation:s,activeContentSearchTarget:k,setActiveContentSearchTarget:w}))),function(s){if(R){let h=s.length-R;if(h>0)return eV.createElement(ut,null,h," ",null==B?void 0:B.moreResults)}}(h)))):eV.createElement("p",null,null==B?void 0:B.noSearchResults)},un=cR("div",{".content-search-form":{display:"flex",marginBottom:"1rem"},input:{padding:".25rem",marginRight:"1rem"}}),ua=cR("button",{display:"flex",background:"none",border:"none",width:"2rem",height:"2rem",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),ka=({searchServiceUrl:s,setContentSearchResource:h,setLoading:g})=>{var _;let[y,A]=(0,eV.useState)(),b=viewer_T(),{contentSearchVault:k,openSeadragonViewer:w,configOptions:R}=b,B=null==(_=R.localeText)?void 0:_.contentSearch;async function u(_){_.preventDefault();let A=null==B?void 0:B.tabLabel;if(w&&s){if(!y||""===y.trim()){h({label:{none:[A]}});return}g(!0),viewer_on(k,s,A,{q:y}).then(s=>{h(s),g(!1)})}}return eV.createElement(un,null,eV.createElement(lm,{onSubmit:u,className:"content-search-form"},eV.createElement(lT,{className:"FormField",name:"searchTerms",onChange:s=>{s.preventDefault(),A(s.target.value)}},eV.createElement(ly,{placeholder:null==B?void 0:B.formPlaceholder})),eV.createElement(lC,{asChild:!0},eV.createElement(ua,{type:"submit"},eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,"Search"),eV.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"}))))))},Ta=({searchServiceUrl:s,setContentSearchResource:h,activeCanvas:g,annotationPage:_})=>{let[y,A]=(0,eV.useState)(!1);return eV.createElement(c7,null,eV.createElement(ka,{searchServiceUrl:s,setContentSearchResource:h,activeCanvas:g,setLoading:A}),!y&&eV.createElement(Ca,{annotationPage:_}),y&&eV.createElement("span",null,"Loading..."))},uo=cR("div",{padding:" 0 1.618rem 2rem",display:"flex",flexDirection:"column",overflow:"scroll",position:"absolute",fontWeight:"400",fontSize:"1rem",zIndex:"0",img:{maxWidth:"100px",maxHeight:"100px",objectFit:"contain",color:"transparent",margin:"0 0 1rem",borderRadius:"3px",backgroundColor:"$secondaryMuted"},video:{display:"none"},"a, a:visited":{color:"$accent"},p:{fontSize:"1rem",lineHeight:"1.45em",margin:"0"},dl:{margin:"0",dt:{fontWeight:"700",margin:"1rem 0 0.25rem"},dd:{margin:"0"}},".manifest-property-title":{fontWeight:"700",margin:"1rem 0 0.25rem"},"ul, ol":{padding:"0",margin:"0",li:{fontSize:"1rem",lineHeight:"1.45em",listStyle:"none",margin:"0.25rem 0 0.25rem"}}}),uc=cR("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),viewer_gn=(s,h="none")=>{if(!s)return null;if("string"==typeof s)return[s];if(!s[h]){let h=Object.getOwnPropertyNames(s);if(h.length>0)return s[h[0]]}return s[h]&&Array.isArray(s[h])?s[h]:null},viewer_z=(s,h="none",g=", ")=>{let _=viewer_gn(s,h);return Array.isArray(_)?_.join(`${g}`):_};function viewer_B(s,h){let g=Object.keys(s).filter(s=>h.includes(s)?null:s),_={};return g.forEach(h=>{_[h]=s[h]}),_}let uu=cR("span",{}),viewer_j=s=>{let{as:h,label:g}=s,_=viewer_B(s,["as","label"]);return eV.createElement(uu,{as:h,..._},viewer_z(g,_.lang))},Oa=(s,h="200,",g="full")=>{let _;Array.isArray(s)&&(s=s[0]);let{id:y,service:A}=s;if(!A)return y;if(Array.isArray(s.service)&&s.service.length>0&&(_=A[0]),_){if(_["@id"])return`${_["@id"]}/${g}/${h}/0/default.jpg`;if(_.id)return`${_.id}/${g}/${h}/0/default.jpg`}},ud=cR("img",{objectFit:"cover"}),La=s=>{let h;let g=(0,eV.useRef)(null),{contentResource:_,altAsLabel:y,region:A="full"}=s;y&&(h=viewer_z(y));let b=viewer_B(s,["contentResource","altAsLabel"]),{type:k,id:w,width:R=200,height:B=200,duration:H}=_;(0,eV.useEffect)(()=>{if(!w&&!g.current||["Image"].includes(k)||!w.includes("m3u8"))return;let s=new nF.ZP;return g.current&&(s.attachMedia(g.current),s.on(nF.ZP.Events.MEDIA_ATTACHED,function(){s.loadSource(w)})),s.on(nF.ZP.Events.ERROR,function(h,g){if(g.fatal)switch(g.type){case nF.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${h} network error encountered, try to recover`),s.startLoad();break;case nF.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${h} media error encountered, try to recover`),s.recoverMediaError();break;default:s.destroy()}}),()=>{s&&(s.detachMedia(),s.destroy())}},[w,k]);let z=(0,eV.useCallback)(()=>{if(!g.current)return;let s=0,h=30;if(H&&(h=H),!w.split("#t=")&&H&&(s=.1*H),w.split("#t=").pop()){let h=w.split("#t=").pop();h&&(s=parseInt(h.split(",")[0]))}let _=g.current;_.autoplay=!0,_.currentTime=s,setTimeout(()=>z(),1e3*h)},[H,w]);(0,eV.useEffect)(()=>z(),[z]);let $=Oa(_,`${R},${B}`,A);switch(k){case"Image":return eV.createElement(ud,{as:"img",alt:h,css:{width:R,height:B},key:w,src:$,...b});case"Video":return eV.createElement(ud,{as:"video",css:{width:R,height:B},disablePictureInPicture:!0,key:w,loop:!0,muted:!0,onPause:z,ref:g,src:w});default:return console.warn(`Resource type: ${k} is not valid or not yet supported in Primitives.`),eV.createElement(eV.Fragment,null)}},uh=cR("a",{}),Da=s=>{let{children:h,homepage:g}=s,_=viewer_B(s,["children","homepage"]);return eV.createElement(eV.Fragment,null,g&&g.map(s=>{let g=viewer_z(s.label,_.lang);return eV.createElement(uh,{"aria-label":h?g:void 0,href:s.id,key:s.id,..._},h||g)}))},up={delimiter:", "},uf=(0,eV.createContext)(void 0),viewer_vn=()=>{let s=(0,eV.useContext)(uf);if(void 0===s)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return s},viewer_Ke=({children:s,initialState:h=up})=>{let g=Va(h,"delimiter");return eV.createElement(uf.Provider,{value:{delimiter:g}},s)},Va=(s,h)=>Object.hasOwn(s,h)?s[h].toString():void 0,um=cR("span",{}),viewer_pt=s=>{let{as:h,markup:g}=s,{delimiter:_}=viewer_vn();if(!g)return eV.createElement(eV.Fragment,null);let y=viewer_B(s,["as","markup"]),A={__html:nP(viewer_z(g,y.lang,_),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return eV.createElement(um,{as:h,...y,dangerouslySetInnerHTML:A})},viewer_yn=s=>eV.useContext(uf)?eV.createElement(viewer_pt,{...s}):eV.createElement(viewer_Ke,null,eV.createElement(viewer_pt,{...s})),Ba=({as:s="dd",lang:h,value:g})=>eV.createElement(viewer_yn,{markup:g,as:s,lang:h}),ug=cR("span",{}),Ua=({as:s="dd",customValueContent:h,lang:g,value:_})=>{var y;let{delimiter:A}=viewer_vn(),b=null==(y=viewer_gn(_,g))?void 0:y.map(s=>(0,eV.cloneElement)(h,{value:s}));return eV.createElement(ug,{as:s,lang:g},null==b?void 0:b.map((s,h)=>[h>0&&`${A}`,eV.createElement(eV.Fragment,{key:h},s)]))},viewer_En=s=>{var h;let{item:g,lang:_,customValueContent:y}=s,{label:A,value:b}=g,k=null==(h=viewer_z(A))?void 0:h.replace(" ","-").toLowerCase();return eV.createElement("div",{role:"group","data-label":k},eV.createElement(viewer_j,{as:"dt",label:A,lang:_}),y?eV.createElement(Ua,{as:"dd",customValueContent:y,value:b,lang:_}):eV.createElement(Ba,{as:"dd",value:b,lang:_}))},uE=cR("dl",{}),ja=s=>{let{as:h,customValueContent:g,metadata:_}=s;if(!Array.isArray(_))return eV.createElement(eV.Fragment,null);let y=viewer_Yt(s,"customValueDelimiter"),A=viewer_B(s,["as","customValueContent","customValueDelimiter","metadata"]);return eV.createElement(viewer_Ke,{..."string"==typeof y?{initialState:{delimiter:y}}:void 0},_.length>0&&eV.createElement(uE,{as:h,...A},_.map((s,h)=>{let _=g?function(s,h){let g=h.filter(h=>{let{matchingLabel:g}=h,_=Object.keys(h.matchingLabel)[0],y=viewer_z(g,_);if(viewer_z(s,_)===y)return!0}).map(s=>s.Content);if(Array.isArray(g))return g[0]}(s.label,g):void 0;return eV.createElement(viewer_En,{customValueContent:_,item:s,key:h,lang:null==A?void 0:A.lang})})))};cR("li",{}),cR("ul",{});let u_=cR("li",{}),uT=cR("ul",{}),Qa=s=>{let{as:h,rendering:g}=s,_=viewer_B(s,["as","rendering"]);return eV.createElement(uT,{as:h},g&&g.map(s=>{let h=viewer_z(s.label,_.lang);return eV.createElement(u_,{key:s.id},eV.createElement("a",{href:s.id,..._,target:"_blank"},h||s.id))}))},uv=cR("dl",{}),Za=s=>{let{as:h,requiredStatement:g}=s;if(!g)return eV.createElement(eV.Fragment,null);let _=viewer_Yt(s,"customValueDelimiter"),y=viewer_B(s,["as","customValueDelimiter","requiredStatement"]);return eV.createElement(viewer_Ke,{..."string"==typeof _?{initialState:{delimiter:_}}:void 0},eV.createElement(uv,{as:h,...y},eV.createElement(viewer_En,{item:g,lang:y.lang})))},uy=cR("li",{}),uA=cR("ul",{}),ei=s=>{let{as:h,seeAlso:g}=s,_=viewer_B(s,["as","seeAlso"]);return eV.createElement(uA,{as:h},g&&g.map(s=>{let h=viewer_z(s.label,_.lang);return eV.createElement(uy,{key:s.id},eV.createElement("a",{href:s.id,..._},h||s.id))}))},ti=s=>{let{as:h,summary:g}=s,_=viewer_B(s,["as","customValueDelimiter","summary"]);return eV.createElement(viewer_yn,{as:h,markup:g,..._})},viewer_bn=s=>{let{thumbnail:h,region:g}=s,_=viewer_B(s,["thumbnail"]);return eV.createElement(eV.Fragment,null,h&&h.map(s=>eV.createElement(La,{contentResource:s,key:s.id,region:g,..._})))},ni=({homepage:s})=>(null==s?void 0:s.length)===0?eV.createElement(eV.Fragment,null):eV.createElement(eV.Fragment,null,eV.createElement("span",{className:"manifest-property-title"},"Homepage"),eV.createElement(Da,{homepage:s})),ri=({id:s,htmlLabel:h,parent:g="manifest"})=>eV.createElement(eV.Fragment,null,eV.createElement("span",{className:"manifest-property-title"},h),eV.createElement("a",{href:s,target:"_blank",id:`iiif-${g}-id`},s)),viewer_oi=({metadata:s,parent:h="manifest"})=>s?eV.createElement(eV.Fragment,null,eV.createElement(ja,{metadata:s,id:`iiif-${h}-metadata`})):eV.createElement(eV.Fragment,null),viewer_ai=({rendering:s})=>(null==s?void 0:s.length)===0?eV.createElement(eV.Fragment,null):eV.createElement(eV.Fragment,null,eV.createElement("span",{className:"manifest-property-title"},"Alternate formats"),eV.createElement(Qa,{rendering:s})),ii=({requiredStatement:s,parent:h="manifest"})=>s?eV.createElement(eV.Fragment,null,eV.createElement(Za,{requiredStatement:s,id:`iiif-${h}-required-statement`})):eV.createElement(eV.Fragment,null),viewer_si=({rights:s})=>s?eV.createElement(eV.Fragment,null,eV.createElement("span",{className:"manifest-property-title"},"Rights"),eV.createElement("a",{href:s,target:"_blank"},s)):eV.createElement(eV.Fragment,null),viewer_li=({seeAlso:s})=>(null==s?void 0:s.length)===0?eV.createElement(eV.Fragment,null):eV.createElement(eV.Fragment,null,eV.createElement("span",{className:"manifest-property-title"},"See Also"),eV.createElement(ei,{seeAlso:s})),ci=({summary:s,parent:h="manifest"})=>s?eV.createElement(eV.Fragment,null,eV.createElement(ti,{summary:s,as:"p",id:`iiif-${h}-summary`})):eV.createElement(eV.Fragment,null),di=({label:s,thumbnail:h})=>(null==h?void 0:h.length)===0?eV.createElement(eV.Fragment,null):eV.createElement(eV.Fragment,null,eV.createElement(viewer_bn,{altAsLabel:s||{none:["resource"]},thumbnail:h,style:{backgroundColor:"#6663",objectFit:"cover"}})),ui=()=>{let s=viewer_T(),{activeManifest:h,vault:g}=s,[_,y]=(0,eV.useState)(),[A,b]=(0,eV.useState)([]),[k,w]=(0,eV.useState)([]),[R,B]=(0,eV.useState)([]),[H,z]=(0,eV.useState)([]);return(0,eV.useEffect)(()=>{var s,_,A,k;let R=g.get(h);y(R),(null==(s=R.homepage)?void 0:s.length)>0&&b(g.get(R.homepage)),(null==(_=R.seeAlso)?void 0:_.length)>0&&w(g.get(R.seeAlso)),(null==(A=R.rendering)?void 0:A.length)>0&&B(g.get(R.rendering)),(null==(k=R.thumbnail)?void 0:k.length)>0&&z(g.get(R.thumbnail))},[h,g]),_?eV.createElement(uc,null,eV.createElement(uo,null,eV.createElement(di,{thumbnail:H,label:_.label}),eV.createElement(ci,{summary:_.summary}),eV.createElement(viewer_oi,{metadata:_.metadata}),eV.createElement(ii,{requiredStatement:_.requiredStatement}),eV.createElement(viewer_si,{rights:_.rights}),eV.createElement(ni,{homepage:A}),eV.createElement(viewer_li,{seeAlso:k}),eV.createElement(viewer_ai,{rendering:R}),eV.createElement(ri,{id:_.id,htmlLabel:"IIIF Manifest"}))):eV.createElement(eV.Fragment,null)},pi=({activeCanvas:s,annotationResources:h,searchServiceUrl:g,setContentSearchResource:_,contentSearchResource:y})=>{let{t:A}=(0,sU.$G)(),b=viewer_F(),k=viewer_T(),{isAutoScrolling:w,isUserScrolling:R,vault:B,configOptions:H,plugins:z}=k,{informationPanel:$}=H,[j,q]=(0,eV.useState)(),W=null==$?void 0:$.renderAbout,K=null==$?void 0:$.renderAnnotation,ee=B.get({id:s,type:"Canvas"}),et=null==$?void 0:$.renderContentSearch,{pluginsWithInfoPanel:en}=function(s){let h=[];return s.forEach(s=>{var g;null!=(g=s.informationPanel)&&g.component&&h.push(s)}),{pluginsWithInfoPanel:h}}(z);return(0,eV.useEffect)(()=>{if(!j){if(null!=$&&$.defaultTab){let s=["manifest-about","manifest-content-search"];ee.annotations.length>0&&ee.annotations.forEach(h=>s.push(h.id)),s.includes(null==$?void 0:$.defaultTab)?q($.defaultTab):q("manifest-about")}else W?q("manifest-about"):et?q("manifest-content-search"):h&&(null==h?void 0:h.length)>0?q(h[0].id):z.length>0&&q(z[0].id)}},[null==$?void 0:$.defaultTab,s,j,W,et,h,y,null==ee?void 0:ee.annotations,z]),eV.createElement(cj,{"data-testid":"information-panel",defaultValue:j,onValueChange:s=>{q(s)},orientation:"horizontal",value:j,className:"clover-viewer-information-panel"},eV.createElement(cY,{"aria-label":A("informationPanelTabs"),"data-testid":"information-panel-list"},W&&eV.createElement(cq,{value:"manifest-about"},A("informationPanelTabsAbout")),et&&y&&eV.createElement(cq,{value:"manifest-content-search"},eV.createElement(viewer_j,{label:y.label})),K&&h&&h.map((s,h)=>eV.createElement(cq,{key:h,value:s.id},eV.createElement(viewer_j,{label:s.label}))),en&&en.map((s,h)=>{var g;return eV.createElement(cq,{key:h,value:s.id},eV.createElement(viewer_j,{label:null==(g=s.informationPanel)?void 0:g.label}))})),eV.createElement(cX,{handleScroll:function(){if(!w){clearTimeout(R);let s=setTimeout(()=>{b({type:"updateUserScrolling",isUserScrolling:void 0})},1500);b({type:"updateUserScrolling",isUserScrolling:s})}}},W&&eV.createElement(cW,{value:"manifest-about"},eV.createElement(ui,null)),et&&y&&eV.createElement(cW,{value:"manifest-content-search"},eV.createElement(Ta,{searchServiceUrl:g,setContentSearchResource:_,activeCanvas:s,annotationPage:y})),K&&h&&h.map(s=>eV.createElement(cW,{key:s.id,value:s.id},eV.createElement(ha,{annotationPage:s}))),en&&en.map((s,h)=>(function(s,h){var g,_;let y=null==(g=null==s?void 0:s.informationPanel)?void 0:g.component;return void 0===y?eV.createElement(eV.Fragment,null):eV.createElement(cW,{key:h,value:s.id},eV.createElement(eG.SV,{FallbackComponent:viewer_Ze},eV.createElement(y,{...null==(_=null==s?void 0:s.informationPanel)?void 0:_.componentProps,canvas:ee,useViewerDispatch:viewer_F,useViewerState:viewer_T})))})(s,h))))},ub=cR("div",{position:"absolute",right:"1rem",top:"1rem",display:"flex",justifyContent:"flex-end",zIndex:"1"}),uS=cR("input",{flexGrow:"1",border:"none",backgroundColor:"$secondaryMuted",color:"$primary",marginRight:"1rem",height:"2rem",padding:"0 1rem",borderRadius:"2rem",fontFamily:"inherit",fontSize:"1rem",lineHeight:"1rem",boxShadow:"inset 1px 1px 2px #0003","&::placeholder":{color:"$primaryMuted"}}),uk=cR("button",{display:"flex",background:"none",border:"none",width:"2rem !important",height:"2rem !important",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box !important",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),uC=cR("div",{display:"flex",marginRight:"0.618rem",backgroundColor:"$accentAlt",borderRadius:"2rem",boxShadow:"5px 5px 5px #0003",color:"$secondary",alignItems:"center","> span":{display:"flex",margin:"0 0.5rem",fontSize:"0.7222rem"}}),ux=cR("div",{display:"flex",position:"relative",zIndex:"1",width:"100%",padding:"0",transition:"$all",variants:{isToggle:{true:{paddingTop:"2.618rem",[`& ${ub}`]:{width:"calc(100% - 2rem)","@sm":{width:"calc(100% - 2rem)"}}}}}}),yi=(s,h)=>{(0,eV.useEffect)(()=>{function n(g){g.key===s&&h()}return window.addEventListener("keyup",n),()=>window.removeEventListener("keyup",n)},[])},Ei=({title:s})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,s),eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M244 400L100 256l144-144M120 256h292"})),bi=({title:s})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,s),eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M268 112l144 144-144 144M392 256H100"})),wi=({title:s})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,s),eV.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),Si=({title:s})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,s),eV.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),xi=({handleCanvasToggle:s,handleFilter:h,activeIndex:g,canvasLength:_})=>{let[y,A]=(0,eV.useState)(!1),[b,k]=(0,eV.useState)(!1),[w,R]=(0,eV.useState)(!1),{t:B}=(0,sU.$G)();return(0,eV.useEffect)(()=>{R(0===g),g===_-1?k(!0):k(!1)},[g,_]),yi("Escape",()=>{A(!1),h("")}),eV.createElement(ux,{isToggle:y},eV.createElement(ub,null,y&&eV.createElement(uS,{autoFocus:!0,onChange:s=>h(s.target.value),placeholder:B("commonSearchPlaceholder")}),!y&&eV.createElement(uC,null,eV.createElement(uk,{onClick:()=>s(-1),disabled:w,type:"button"},eV.createElement(Ei,{title:B("commonPrevious")})),eV.createElement("span",null,g+1," of ",_),eV.createElement(uk,{onClick:()=>s(1),disabled:b,type:"button"},eV.createElement(bi,{title:B("commonNext")}))),eV.createElement(uk,{onClick:()=>{A(s=>!s),h("")},type:"button"},y?eV.createElement(wi,{title:B("commonClose")}):eV.createElement(Si,{title:B("commonSearch")}))))},uI=cR(s6.fC,{display:"flex",flexDirection:"row",flexGrow:"1",padding:"1.618rem",overflowX:"scroll",position:"relative",zIndex:"0"}),uw=cR("svg",{display:"inline-flex",variants:{isLarge:{true:{height:"4rem",width:"4rem"}},isMedium:{true:{height:"2rem",width:"2rem"}},isSmall:{true:{height:"1rem",width:"1rem"}}}}),viewer_P=s=>eV.createElement(uw,{...s,"data-testid":"icon-svg",role:"img",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},s.children);viewer_P.Title=({children:s})=>eV.createElement("title",null,s),viewer_P.Add=()=>eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288M400 256H112"}),viewer_P.Audio=()=>eV.createElement(eV.Fragment,null,eV.createElement("path",{d:"M232 416a23.88 23.88 0 01-14.2-4.68 8.27 8.27 0 01-.66-.51L125.76 336H56a24 24 0 01-24-24V200a24 24 0 0124-24h69.75l91.37-74.81a8.27 8.27 0 01.66-.51A24 24 0 01256 120v272a24 24 0 01-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 01-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0128.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 01320 336z"}),eV.createElement("path",{d:"M368 384a16 16 0 01-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0127.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 01-13.87 8z"}),eV.createElement("path",{d:"M416 432a16 16 0 01-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1127-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 01416 432z"})),viewer_P.Close=()=>eV.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}),viewer_P.Download=()=>eV.createElement(eV.Fragment,null,eV.createElement("path",{d:"M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 272l80 80 80-80M256 48v288"})),viewer_P.Image=()=>eV.createElement("path",{d:"M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z"}),viewer_P.Video=()=>eV.createElement("path",{d:"M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z"});let uO=cL({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),uN=cL({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),uR=cR(lx.Eh,{fill:"$secondaryAlt"}),uD=cR(lx.x8,{position:"absolute",right:"0",top:"0",padding:"0.5rem",margin:"0",cursor:"pointer",border:"none",background:"none",fill:"inherit","&:hover":{opacity:"0.75"}}),uL=cR(lx.VY,{border:"none",backgroundColor:"white",fill:"inhrerit",padding:"1rem 2rem 1rem 1rem",width:"auto",minWidth:"200px",maxWidth:"350px",borderRadius:"3px",boxShadow:"5px 5px 13px #0002",animationDuration:"0.3s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",'&[data-side="top"]':{animationName:uN},'&[data-side="bottom"]':{animationName:uO},'&[data-align="end"]':{[`& ${uR}`]:{margin:"0 0.7rem"}}}),uM=cR(lx.xz,{display:"inline-flex",padding:"0.5rem 0",margin:"0 0.5rem 0 0",cursor:"pointer",border:"none",background:"none","> button, > span":{margin:"0"}}),uP=cR(lx.fC,{boxSizing:"content-box"}),viewer_K=({children:s})=>eV.createElement(uP,null,s);viewer_K.Trigger=s=>eV.createElement(uM,{...s},s.children),viewer_K.Content=s=>eV.createElement(uL,{...s},eV.createElement(uR,null),eV.createElement(uD,null,eV.createElement(viewer_P,{isSmall:!0},eV.createElement(viewer_P.Close,null))),s.children);let uF=cR("div",{boxSizing:"border-box",display:"inline-flex",alignItems:"center",borderRadius:"5px",padding:"$1",marginBottom:"$2",marginRight:"$2",backgroundColor:"$lightGrey",color:"$richBlack50",textTransform:"uppercase",fontSize:"$2",objectFit:"contain",lineHeight:"1em !important","&:last-child":{marginRight:"0"},[`${uw}`]:{position:"absolute",left:"$1",height:"$3",width:"$3"},variants:{isIcon:{true:{position:"relative",paddingLeft:"$5"}}}}),uB=cR("span",{display:"flex"}),uU=cR("span",{display:"flex",width:"1.2111rem",height:"0.7222rem"}),uH=cR("span",{display:"inline-flex",marginLeft:"5px",marginBottom:"-1px"}),uG=cR(s6.ck,{display:"flex",flexShrink:"0",margin:"0 1.618rem 0 0",padding:"0",cursor:"pointer",background:"none",border:"none",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",textAlign:"left","&:last-child":{marginRight:"1rem"},figure:{margin:"0",width:"161.8px","> div":{position:"relative",display:"flex",backgroundColor:"$secondaryAlt",width:"inherit",height:"100px",overflow:"hidden",borderRadius:"3px",transition:"$all",img:{width:"100%",height:"100%",objectFit:"cover",filter:"blur(0)",transform:"scale3d(1, 1, 1)",transition:"$all",color:"transparent"},[`& ${uB}`]:{position:"absolute",right:"0",bottom:"0",[`& ${uF}`]:{margin:"0",paddingLeft:"0",fontSize:"0.7222rem",backgroundColor:"#000d",color:"$secondary",fill:"$secondary",borderBottomLeftRadius:"0",borderTopRightRadius:"0"}}},figcaption:{marginTop:"0.5rem",fontWeight:"400",fontSize:"0.8333rem",display:"-webkit-box",overflow:"hidden",MozBoxOrient:"vertical",WebkitBoxOrient:"vertical",WebkitLineClamp:"5","@sm":{fontSize:"0.8333rem"}}},"&[aria-checked='true']":{figure:{"> div":{backgroundColor:"$primaryAlt","&::before":{position:"absolute",zIndex:"1",color:"$secondaryMuted",content:"Active Item",textTransform:"uppercase",fontWeight:"700",fontSize:"0.6111rem",letterSpacing:"0.03rem",display:"flex",width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",textAlign:"center",textShadow:"5px 5px 5px #0003"},img:{opacity:"0.3",transform:"scale3d(1.1, 1.1, 1.1)",filter:"blur(2px)"},[`& ${uB}`]:{[`& ${uF}`]:{backgroundColor:"$accent"}}}},figcaption:{fontWeight:"700"}}}),Ui=({type:s})=>{switch(s){case"Sound":return eV.createElement(viewer_P.Audio,null);case"Image":default:return eV.createElement(viewer_P.Image,null);case"Video":return eV.createElement(viewer_P.Video,null)}},Wi=({canvas:s,canvasIndex:h,isActive:g,thumbnail:_,type:y,handleChange:A})=>{let b=null!=s&&s.label?viewer_ne(s.label):(h+1).toString();return eV.createElement(uG,{"aria-checked":g,"data-testid":"media-thumbnail","data-canvas":h,onClick:()=>A(s.id),value:s.id},eV.createElement("figure",null,eV.createElement("div",null,(null==_?void 0:_.id)&&eV.createElement("img",{src:_.id,alt:b}),eV.createElement(uB,null,eV.createElement(uF,{isIcon:!0,"data-testid":"thumbnail-tag"},eV.createElement(uU,null),eV.createElement(viewer_P,{"aria-label":y},eV.createElement(Ui,{type:y})),["Video","Sound"].includes(y)&&eV.createElement(uH,null,viewer_Jt(s.duration))))),eV.createElement("figcaption",{"data-testid":"fig-caption"},s.label?eV.createElement(viewer_j,{label:s.label}):(h+1).toString())))},qi=s=>s.body?s.body.type:"Image",ji=({items:s})=>{let{t:h}=(0,sU.$G)(),g=viewer_F(),_=viewer_T(),{activeCanvas:y,vault:A}=_,[b,k]=(0,eV.useState)(""),[w,R]=(0,eV.useState)([]),[B,H]=(0,eV.useState)(0),z=eV.useRef(null),v=s=>{y!==s&&g({type:"updateActiveCanvas",canvasId:s})};return(0,eV.useEffect)(()=>{if(!w.length){let h=["Image","Sound","Video"],g=s.map(s=>viewer_an(A,s,"painting",h)).filter(s=>s.annotations.length>0);R(g)}},[s,w.length,A]),(0,eV.useEffect)(()=>{w.forEach((s,h)=>{null!=s&&s.canvas&&s.canvas.id===y&&H(h)})},[y,w]),(0,eV.useEffect)(()=>{let s=document.querySelector(`[data-canvas="${B}"]`);if(s instanceof HTMLElement&&z.current){let h=s.offsetLeft-z.current.offsetWidth/2+s.offsetWidth/2;z.current.scrollTo({left:h,behavior:"smooth"})}},[B]),eV.createElement(eV.Fragment,null,eV.createElement(xi,{handleFilter:s=>k(s),handleCanvasToggle:s=>{let h=w[B+s];null!=h&&h.canvas&&v(h.canvas.id)},activeIndex:B,canvasLength:s.length}),eV.createElement(uI,{"aria-label":h("media.selectItem"),"data-testid":"media","data-active-canvas":s[B].id,"data-canvas-length":s.length,"data-filter":b,ref:z},w.filter((s,h)=>{var g;if(!b)return!0;if(null==(g=s.canvas)||!g.label)return(h+1).toString().includes(b);{let h=viewer_ne(s.canvas.label);if(Array.isArray(h))return h[0].toLowerCase().includes(b.toLowerCase())}}).map(s=>{var h,g;return eV.createElement(Wi,{canvas:s.canvas,canvasIndex:w.findIndex(h=>h===s),handleChange:v,isActive:y===(null==(h=null==s?void 0:s.canvas)?void 0:h.id),key:null==(g=null==s?void 0:s.canvas)?void 0:g.id,thumbnail:qo(A,s,200,200),type:qi(s.annotations[0])})})))},uz=cR("button",{position:"absolute",background:"none",border:"none",cursor:"zoom-in",margin:"0",padding:"0",width:"100%",height:"100%",transition:"$all","& img":{width:"100%",height:"100%",objectFit:"contain",color:"transparent",transition:"$all"},variants:{isMedia:{true:{cursor:"pointer"}}}}),uV=cR("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),u$=cR(uV,{position:"absolute",width:"2rem",top:"1rem",right:"1rem",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",transition:"$all",borderRadius:"50%",backgroundColor:"$accent",cursor:"pointer","&:hover, &:focus":{backgroundColor:"$accent !important"},variants:{isInteractive:{true:{"&:hover":{opacity:"1"}},false:{}},isMedia:{true:{cursor:"pointer !important"}}},compoundVariants:[{isInteractive:!1,isMedia:!0,css:{top:"50%",right:"50%",width:"4rem",height:"4rem",transform:"translate(50%,-50%)"}}]}),uQ=cR("div",{position:"relative",display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",gap:"1rem",zIndex:"0",overflow:"hidden","&:hover":{[`${u$}`]:{backgroundColor:"$accent"},[`${uz}`]:{backgroundColor:"#6662"}}}),uj=cR("div",{width:"100%",height:"100%"}),uY=cR("svg",{height:"19px",color:"$accent",fill:"$accent",stroke:"$accent",display:"flex",margin:"0.25rem 0.85rem"}),uq=cR(lI.xz,{fontSize:"1.25rem",fontWeight:"400",fontFamily:"inherit",alignSelf:"flex-start",flexGrow:"1",cursor:"pointer",transition:"$all",border:"1px solid #6663",boxShadow:"2px 2px 5px #0001",borderRadius:"3px",display:"flex",alignItems:"center",paddingLeft:"0.5rem",width:"100%","@sm":{fontSize:"1rem"}}),uW=cR(lI.VY,{borderRadius:"3px",boxShadow:"3px 3px 8px #0003",backgroundColor:"$secondary",marginTop:"2.25rem",marginLeft:"6px",paddingBottom:"0.25rem",maxHeight:"calc(61.8vh - 2.5rem) !important",borderTopLeftRadius:"0",border:"1px solid $secondaryMuted",maxWidth:"90vw"}),uX=cR(lI.ck,{display:"flex",alignItems:"center",fontFamily:"inherit",padding:"0.25rem 0.5rem",color:"$primary",fontWeight:"400",fontSize:"0.8333rem",cursor:"pointer",backgroundColor:"$secondary",width:"calc(100% - 1rem)","> span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},'&[data-state="checked"]':{fontWeight:"700",color:"$primary !important"},"&:hover":{color:"$accent"},img:{width:"31px",height:"31px",marginRight:"0.5rem",borderRadius:"3px"}}),uK=cR(lI.__,{color:"$primaryMuted",fontFamily:"inherit",fontSize:"0.85rem",padding:"0.5rem 1rem 0.5rem 0.5rem",display:"flex",alignItems:"center",marginBottom:"0.25rem",borderRadius:"3px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",borderBottomRightRadius:"0",backgroundColor:"$secondaryMuted"}),uJ=cR(lI.fC,{position:"relative",zIndex:"5",width:"100%"}),viewer_Te=({direction:s,title:h})=>eV.createElement(uY,{xmlns:"http://www.w3.org/2000/svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",null,h),"up"===s&&eV.createElement(()=>eV.createElement("path",{d:"M414 321.94L274.22 158.82a24 24 0 00-36.44 0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5 0 31.56-24.05 18.18-39.62z"}),null),"down"===s&&eV.createElement(()=>eV.createElement("path",{d:"M98 190.06l139.78 163.12a24 24 0 0036.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z"}),null)),viewer_Tn=({children:s,label:h,maxHeight:g,onValueChange:_,value:y})=>eV.createElement(uJ,{onValueChange:_,value:y},eV.createElement(uq,{"data-testid":"select-button"},eV.createElement(lI.ki,{"data-testid":"select-button-value"}),eV.createElement(lI.GV,null,eV.createElement(viewer_Te,{direction:"down",title:"select"}))),eV.createElement(lI.ue,null,eV.createElement(uW,{css:{maxHeight:`${g} !important`},"data-testid":"select-content"},eV.createElement(lI.Pn,null,eV.createElement(viewer_Te,{direction:"up",title:"scroll up for more"})),eV.createElement(lI.Q_,null,eV.createElement(lI.DI,null,h&&eV.createElement(uK,null,eV.createElement(viewer_j,{"data-testid":"select-label",label:h})),s)),eV.createElement(lI.Jk,null,eV.createElement(viewer_Te,{direction:"down",title:"scroll down for more"}))))),viewer_Rn=s=>eV.createElement(uX,{...s},s.thumbnail&&eV.createElement(viewer_bn,{thumbnail:s.thumbnail}),eV.createElement(lI.S_,null,eV.createElement(viewer_j,{label:s.label})),eV.createElement(lI.o6,null)),uZ=cR("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),u0=cR("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),u1=cR("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${uZ}`]:{display:"block"}},false:{[`${uZ}`]:{display:"none"}}}}}),viewer_ee=({className:s,id:h,label:g,children:_})=>{let y=g.toLowerCase().replace(/\s/g,"-");return eV.createElement(uV,{id:h,className:s,"data-testid":"openseadragon-button","data-button":y},eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${h}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",{id:`${h}-svg-title`},g),_))},u2=cR("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),rs=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),os=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),as=()=>eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),viewer_is=()=>eV.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),viewer_ht=()=>eV.createElement(eV.Fragment,null,eV.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eV.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),ss=({_cloverViewerHasPlaceholder:s,config:h})=>{let g=viewer_T(),{activeCanvas:_,plugins:y,vault:A}=g,b=A.get({id:_,type:"Canvas"});return eV.createElement(u2,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:s},h.showZoomControl&&eV.createElement(eV.Fragment,null,eV.createElement(viewer_ee,{id:h.zoomInButton,label:"zoom in"},eV.createElement(rs,null)),eV.createElement(viewer_ee,{id:h.zoomOutButton,label:"zoom out"},eV.createElement(os,null))),h.showFullPageControl&&eV.createElement(viewer_ee,{id:h.fullPageButton,label:"full page"},eV.createElement(as,null)),h.showRotationControl&&eV.createElement(eV.Fragment,null,eV.createElement(viewer_ee,{id:h.rotateRightButton,label:"rotate right"},eV.createElement(viewer_ht,null)),eV.createElement(viewer_ee,{id:h.rotateLeftButton,label:"rotate left"},eV.createElement(viewer_ht,null))),h.showHomeControl&&eV.createElement(viewer_ee,{id:h.homeButton,label:"reset"},eV.createElement(viewer_is,null)),y.filter(s=>{var h;return null==(h=s.imageViewer)?void 0:h.controls}).map((s,h)=>{var g,_,y,A;let k=null==(_=null==(g=s.imageViewer)?void 0:g.controls)?void 0:_.component;return eV.createElement(k,{key:h,...null==(A=null==(y=null==s?void 0:s.imageViewer)?void 0:y.controls)?void 0:A.componentProps,canvas:b,useViewerDispatch:viewer_F,useViewerState:viewer_T})}))},ls=({ariaLabel:s,config:h,uri:g,_cloverViewerHasPlaceholder:_,imageType:y,openSeadragonCallback:A})=>{let[b,k]=(0,eV.useState)(),[w,R]=(0,eV.useState)(),B=viewer_F(),H=(0,eV.useRef)(!1);return(0,eV.useEffect)(()=>(H.current||(H.current=!0,w||R(eH(h))),()=>null==w?void 0:w.destroy()),[]),(0,eV.useEffect)(()=>{w&&A&&A(w)},[w,A]),(0,eV.useEffect)(()=>{w&&g!==b&&(null==w||w.forceRedraw(),k(g))},[w,b,g]),(0,eV.useEffect)(()=>{if(b&&w)switch(y){case"simpleImage":null==w||w.addSimpleImage({url:b});break;case"tiledImage":$o(b).then(s=>{try{if(!s)throw Error(`No tile source found for ${b}`);null==w||w.addTiledImage({tileSource:s,success:()=>{"function"==typeof B&&B({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(s){console.error(s)}});break;default:null==w||w.close(),console.warn(`Unable to render ${b} in OpenSeadragon as type: "${y}"`)}},[y,b]),eV.createElement(u1,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":h.id,hasNavigator:h.showNavigator},eV.createElement(ss,{_cloverViewerHasPlaceholder:_,config:h}),h.showNavigator&&eV.createElement(uZ,{id:h.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eV.createElement(u0,{id:h.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...s&&{"aria-label":s}}))},ds=({_cloverViewerHasPlaceholder:s=!1,body:h,instanceId:g,isTiledImage:_=!1,label:y,src:A="",openSeadragonCallback:b,openSeadragonConfig:k={}})=>{let w=g||esm_browser_v4(),R="string"==typeof y?y:viewer_z(y),B={id:`openseadragon-${w}`,navigatorId:`openseadragon-navigator-${w}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${w}`,homeButton:`reset-${w}`,rotateLeftButton:`rotateLeft-${w}`,rotateRightButton:`rotateRight-${w}`,zoomInButton:`zoomIn-${w}`,zoomOutButton:`zoomOut-${w}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...k},{imageType:H,uri:z}=h?Bo(h):Ho(A,_);return z?eV.createElement(eG.SV,{FallbackComponent:viewer_Ze},eV.createElement(ls,{_cloverViewerHasPlaceholder:s,ariaLabel:R,config:B,imageType:H,key:w,uri:z,openSeadragonCallback:b})):null},us=({isMedia:s,label:h,placeholderCanvas:g,setIsInteractive:_})=>{let{vault:y}=viewer_T(),A=viewer_pe(y,g),b=A?A[0]:void 0,k=h?viewer_ne(h):["placeholder image"];return eV.createElement(uz,{onClick:()=>_(!0),isMedia:s,className:"clover-viewer-placeholder"},eV.createElement("img",{src:(null==b?void 0:b.id)||"",alt:k.join(),height:null==b?void 0:b.height,width:null==b?void 0:b.width}))},u3=cR("canvas",{position:"absolute",width:"100%",height:"100%",zIndex:"0"}),u4=eV.forwardRef((s,h)=>{let g=eV.useRef(null),_=(0,eV.useCallback)(()=>{var s,_;if(null!=(s=h.current)&&s.currentTime&&(null==(_=h.current)?void 0:_.currentTime)>0)return;let y=h.current;if(!y)return;let A=new AudioContext,b=A.createMediaElementSource(y),k=A.createAnalyser(),w=g.current;if(!w)return;w.width=y.offsetWidth,w.height=y.offsetHeight;let R=w.getContext("2d");b.connect(k),k.connect(A.destination),k.fftSize=256;let B=k.frequencyBinCount,H=new Uint8Array(B);setInterval(function(){!function(s,h,g,_,y,A){let b=y/g*2.6,k,w=0;s.getByteFrequencyData(_),h.fillStyle="#000000",h.fillRect(0,0,y,A);for(let s=0;s<g;s++)k=2*_[s],h.fillStyle="rgba(78, 42, 132, 1)",h.fillRect(w,A-k,b,k),w+=b+6}(k,R,B,H,w.width,w.height)},20)},[h]);return eV.useEffect(()=>{h&&h.current&&(h.current.onplay=_)},[_,h]),eV.createElement(u3,{ref:g,role:"presentation"})}),u5=cR("div",{position:"relative",backgroundColor:"$primaryAlt",display:"flex",flexGrow:"0",flexShrink:"1",height:"100%",zIndex:"1",video:{backgroundColor:"transparent",objectFit:"contain",width:"100%",height:"100%",position:"relative",zIndex:"1"}}),hs=({resource:s,ignoreCaptionLabels:h})=>{let g=viewer_ne(s.label,"en");return Array.isArray(g)&&g.some(s=>h.includes(s))?null:eV.createElement("track",{key:s.id,src:s.id,label:Array.isArray(g)?g[0]:g,srcLang:"en","data-testid":"player-track"})},u6=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],vs=({allSources:s,annotationResources:h,painting:g})=>{let[_,y]=eV.useState(0),[A,b]=eV.useState(),k=eV.useRef(null),w=(null==g?void 0:g.type)==="Sound",R=viewer_T(),{activeCanvas:B,configOptions:H,vault:z}=R;return(0,eV.useEffect)(()=>{if(!g.id||!k.current)return;if(null!=k&&k.current){let s=k.current;s.src=g.id,s.load()}if("m3u8"!==g.id.split(".").pop()&&g.format&&!u6.includes(g.format))return;let s=new nF.ZP({xhrSetup:function(s,h){s.withCredentials=!!H.withCredentials}});return s.attachMedia(k.current),s.on(nF.ZP.Events.MEDIA_ATTACHED,function(){s.loadSource(g.id)}),s.on(nF.ZP.Events.ERROR,function(h,g){if(g.fatal)switch(g.type){case nF.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${h} network error encountered, try to recover`),s.startLoad();break;case nF.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${h} media error encountered, try to recover`),s.recoverMediaError();break;default:s.destroy()}}),()=>{if(s&&k.current){let h=k.current;s.detachMedia(),s.destroy(),h.currentTime=0}}},[H.withCredentials,g.id]),(0,eV.useEffect)(()=>{var s,h,g,y;let A=z.get(B),k=null!=(s=A.accompanyingCanvas)&&s.id?viewer_pe(z,null==(h=A.accompanyingCanvas)?void 0:h.id):null,w=null!=(g=A.placeholderCanvas)&&g.id?viewer_pe(z,null==(y=A.placeholderCanvas)?void 0:y.id):null;k&&w?b(0===_?w[0].id:k[0].id):(k&&b(k[0].id),w&&b(w[0].id))},[B,_,z]),(0,eV.useEffect)(()=>{if(null!=k&&k.current){let s=k.current;return null==s||s.addEventListener("timeupdate",()=>y(s.currentTime)),()=>document.removeEventListener("timeupdate",()=>{})}},[]),eV.createElement(u5,{css:{backgroundColor:H.canvasBackgroundColor,maxHeight:H.canvasHeight,position:"relative"},"data-testid":"player-wrapper",className:"clover-viewer-player-wrapper"},eV.createElement("video",{id:"clover-iiif-video",key:g.id,ref:k,controls:!0,height:g.height,width:g.width,crossOrigin:"anonymous",poster:A,style:{maxHeight:H.canvasHeight,position:"relative",zIndex:"1"}},s.map(s=>eV.createElement("source",{src:s.id,type:s.format,key:s.id})),(null==h?void 0:h.length)>0&&h.map(s=>{let h=[];return s.items.forEach(s=>{z.get(s.id).body.forEach(s=>{let g=z.get(s.id);h.push(g)})}),h.map(s=>eV.createElement(hs,{resource:s,ignoreCaptionLabels:H.ignoreCaptionLabels||[],key:s.id}))}),"Sorry, your browser doesn't support embedded videos."),w&&eV.createElement(u4,{ref:k}))},ys=()=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"close-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",{id:"close-svg-title"},"close"),eV.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),Es=({isMedia:s})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"open-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",{id:"open-svg-title"},"open"),s?eV.createElement("path",{d:"M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z"}):eV.createElement(eV.Fragment,null,eV.createElement("path",{d:"m456.69,421.39l-94.09-94.09c22.65-30.16,34.88-66.86,34.84-104.58,0-96.34-78.38-174.72-174.72-174.72S48,126.38,48,222.72s78.38,174.72,174.72,174.72c37.72.04,74.42-12.19,104.58-34.84l94.09,94.09c10.29,9.2,26.1,8.32,35.3-1.98,8.48-9.49,8.48-23.83,0-33.32Zm-233.97-73.87c-68.89-.08-124.72-55.91-124.8-124.8h0c0-68.93,55.87-124.8,124.8-124.8s124.8,55.87,124.8,124.8-55.87,124.8-124.8,124.8Z"}),eV.createElement("path",{d:"m279.5,197.76h-3.35s-28.47,0-28.47,0v-31.82c-.77-13.79-12.57-24.33-26.36-23.56-12.71.71-22.85,10.86-23.56,23.56v3.35h0v28.47h-31.82c-13.79.77-24.33,12.57-23.56,26.36.71,12.71,10.86,22.85,23.56,23.56h3.35s28.47,0,28.47,0v31.82c.77,13.79,12.57,24.33,26.36,23.56,12.71-.71,22.85-10.86,23.56-23.56v-3.35h0v-28.47h31.82c13.79-.77,24.33-12.57,23.56-26.36-.71-12.71-10.86-22.85-23.56-23.56Z"}))),bs=({handleToggle:s,isInteractive:h,isMedia:g})=>eV.createElement(u$,{onClick:s,isInteractive:h,isMedia:g,"data-testid":"placeholder-toggle"},h?eV.createElement(ys,null):eV.createElement(Es,{isMedia:g})),ws=({activeCanvas:s,annotationResources:h,isMedia:g,painting:_})=>{var y,A,b,k,w;let[R,B]=eV.useState(0),[H,z]=eV.useState(!1),{configOptions:$,customDisplays:j,openSeadragonViewer:q,vault:W,viewerId:K}=viewer_T(),ee=viewer_F(),et=W.get(s),en=null==(y=null==et?void 0:et.placeholderCanvas)?void 0:y.id,er=!!en,es=(null==_?void 0:_.length)>1,el=en&&!H&&!g,ec=`${K}-${So(s+R)}`,eu=j.find(h=>{var g;let y=!1,{canvasId:A,paintingFormat:b}=h.target;if(Array.isArray(A)&&A.length>0&&(y=A.includes(s)),Array.isArray(b)&&b.length>0){let s=(null==(g=_[R])?void 0:g.format)||"";y=!!(s&&b.includes(s))}return y}),ed=[];null==(b=null==(A=h[0])?void 0:A.items)||b.forEach(s=>{let h=W.get(s.id);ed.push(h)}),(0,eV.useEffect)(()=>{var s;ed&&q&&null!=(s=$.annotationOverlays)&&s.renderOverlays&&(viewer_rn(q,"annotation-overlay"),viewer_tn(q,et,$.annotationOverlays,ed,"annotation-overlay"))},[et,ed,q,$]);let eh=null==(k=null==eu?void 0:eu.display)?void 0:k.component;return eV.createElement(uQ,{className:"clover-viewer-painting"},eV.createElement(uj,{style:{backgroundColor:$.canvasBackgroundColor,height:"auto"===$.canvasHeight?"100%":$.canvasHeight}},en&&!g&&eV.createElement(bs,{handleToggle:()=>z(!H),isInteractive:H,isMedia:g}),el&&!g&&eV.createElement(us,{isMedia:g,label:null==et?void 0:et.label,placeholderCanvas:en,setIsInteractive:z}),!el&&!eu&&(g?eV.createElement(vs,{allSources:_,painting:_[R],annotationResources:h}):_&&eV.createElement(ds,{_cloverViewerHasPlaceholder:er,body:_[R],instanceId:ec,key:ec,openSeadragonCallback:s=>{s&&(null==q?void 0:q.id)!==`openseadragon-${ec}`&&ee({type:"updateOpenSeadragonViewer",openSeadragonViewer:s})},openSeadragonConfig:$.openSeadragon})),!el&&eh&&eV.createElement(eh,{id:s,annotationBody:_[R],...null==eu?void 0:eu.display.componentProps})),es&&eV.createElement(viewer_Tn,{value:null==(w=_[R])?void 0:w.id,onValueChange:s=>{let h=_.findIndex(h=>h.id===s);B(h)},maxHeight:"200px"},null==_?void 0:_.map(s=>eV.createElement(viewer_Rn,{value:null==s?void 0:s.id,key:null==s?void 0:s.id,label:null==s?void 0:s.label}))))},Ss=({activeCanvas:s,annotationResources:h,searchServiceUrl:g,setContentSearchResource:_,contentSearchResource:y,isAudioVideo:A,items:b,painting:k})=>{let{t:w}=(0,sU.$G)(),{isInformationOpen:R,configOptions:B}=viewer_T(),{informationPanel:H}=B,z=(null==H?void 0:H.renderAbout)&&R,$=(null==H?void 0:H.renderAnnotation)&&h.length>0&&!H.open;return eV.createElement(cH,{className:"clover-viewer-content","data-testid":"clover-viewer-content"},eV.createElement(cG,null,eV.createElement(ws,{activeCanvas:s,annotationResources:h,isMedia:A,painting:k}),z&&eV.createElement(cz,null,eV.createElement("span",null,w("informationPanelToggle"))),b.length>1&&eV.createElement(cU,{className:"clover-viewer-media-wrapper"},eV.createElement(ji,{items:b,activeItem:0}))),(z||$)&&eV.createElement(c$,null,eV.createElement(cV,null,eV.createElement(pi,{activeCanvas:s,annotationResources:h,searchServiceUrl:g,setContentSearchResource:_,contentSearchResource:y}))))},u8=cR(viewer_K.Trigger,{width:"30px",padding:"5px"}),u9=cR(viewer_K.Content,{display:"flex",flexDirection:"column",fontSize:"0.8333rem",border:"none",boxShadow:"2px 2px 5px #0003",zIndex:"2",button:{display:"flex",textDecoration:"none",marginBottom:"0.5em",color:"$accentAlt",cursor:"pointer",background:"$secondary",border:"none","&:last-child":{marginBottom:"0"}}}),u7=cR("span",{fontSize:"1.33rem",alignSelf:"flex-start",flexGrow:"0",flexShrink:"1",padding:"1rem","@sm":{fontSize:"1rem"},"&.visually-hidden":{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"}}),de=cR("header",{display:"flex",backgroundColor:"transparent !important",justifyContent:"space-between",alignItems:"flex-start",width:"100%",[`> ${uJ}`]:{flexGrow:"1",flexShrink:"0"},form:{flexGrow:"0",flexShrink:"1"}}),dt=cR("div",{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",padding:"1rem",flexShrink:"0",flexGrow:"1"}),ks=()=>{var s;let h=viewer_F(),g=viewer_T(),{activeManifest:_,collection:y,configOptions:A,vault:b}=g,k=null==A?void 0:A.canvasHeight;return eV.createElement("div",{style:{margin:"0.75rem"}},eV.createElement(viewer_Tn,{label:y.label,maxHeight:k,value:_,onValueChange:s=>{h({type:"updateActiveManifest",manifestId:s}),h({type:"updateViewerId",viewerId:esm_browser_v4()})}},null==(s=null==y?void 0:y.items)?void 0:s.map(s=>eV.createElement(viewer_Rn,{value:s.id,key:s.id,thumbnail:null!=s&&s.thumbnail?b.get(null==s?void 0:s.thumbnail):void 0,label:s.label}))))},Ts=(s,h=2500)=>{let{t:g}=(0,sU.$G)(),[_,y]=(0,eV.useState)(""),A=(0,eV.useCallback)(()=>{navigator.clipboard.writeText(s).then(()=>y(g("copySuccess")),()=>y(g("copyFailure")))},[s]);return(0,eV.useEffect)(()=>{if(!_)return;let s=setTimeout(()=>y(""),h);return()=>clearTimeout(s)},[_]),[_,A]},dn=cR("span",{display:"flex",alignContent:"center",alignItems:"center",padding:"0.125rem 0.25rem 0",marginTop:"-0.125rem",marginLeft:"0.5rem",backgroundColor:"$accent",color:"$secondary",borderRadius:"3px",lineHeight:"1em"}),$s=({status:s})=>s?eV.createElement(dn,{"data-copy-status":s},s):null,viewer_gt=({textPrompt:s,textToCopy:h})=>{let[g,_]=Ts(h);return eV.createElement("button",{onClick:_},s," ",eV.createElement($s,{status:g}))},Ms=({title:s})=>{let h="#ed1d33",g="#2873ab";return eV.createElement("svg",{viewBox:"0 0 493.35999 441.33334",id:"iiif-logo",version:"1.1"},eV.createElement("title",null,s),eV.createElement("g",{transform:"matrix(1.3333333,0,0,-1.3333333,0,441.33333)"},eV.createElement("g",{transform:"scale(0.1)"},eV.createElement("path",{style:{fill:g},d:"M 65.2422,2178.75 775.242,1915 773.992,15 65.2422,276.25 v 1902.5"}),eV.createElement("path",{style:{fill:g},d:"m 804.145,2640.09 c 81.441,-240.91 -26.473,-436.2 -241.04,-436.2 -214.558,0 -454.511,195.29 -535.9527,436.2 -81.4335,240.89 26.4805,436.18 241.0387,436.18 214.567,0 454.512,-195.29 535.954,-436.18"}),eV.createElement("path",{style:{fill:h},d:"M 1678.58,2178.75 968.578,1915 969.828,15 1678.58,276.25 v 1902.5"}),eV.createElement("path",{style:{fill:h},d:"m 935.082,2640.09 c -81.437,-240.91 26.477,-436.2 241.038,-436.2 214.56,0 454.51,195.29 535.96,436.2 81.43,240.89 -26.48,436.18 -241.04,436.18 -214.57,0 -454.52,-195.29 -535.958,-436.18"}),eV.createElement("path",{style:{fill:g},d:"m 1860.24,2178.75 710,-263.75 -1.25,-1900 -708.75,261.25 v 1902.5"}),eV.createElement("path",{style:{fill:g},d:"m 2603.74,2640.09 c 81.45,-240.91 -26.47,-436.2 -241.03,-436.2 -214.58,0 -454.52,195.29 -535.96,436.2 -81.44,240.89 26.48,436.18 241.03,436.18 214.57,0 454.51,-195.29 535.96,-436.18"}),eV.createElement("path",{style:{fill:h},d:"m 3700.24,3310 v -652.5 c 0,0 -230,90 -257.5,-142.5 -2.5,-247.5 0,-336.25 0,-336.25 l 257.5,83.75 V 1690 l -258.61,-92.5 V 262.5 L 2735.24,0 v 2360 c 0,0 -15,850 965,950"}))))},dl=cR(lw.fC,{all:"unset",height:"2rem",width:"3.236rem",backgroundColor:"#6663",borderRadius:"9999px",position:"relative",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:focus":{boxShadow:"0 0 0 2px $secondaryAlt"},'&[data-state="checked"]':{backgroundColor:"$accent",boxShadow:"inset 2px 2px 5px #0003"}}),dc=cR(lw.bU,{display:"block",height:"calc(2rem - 12px)",width:"calc(2rem - 12px)",backgroundColor:"$secondary",borderRadius:"100%",boxShadow:"2px 2px 5px #0001",transition:"$all",transform:"translateX(6px)",willChange:"transform",'&[data-state="checked"]':{transform:"translateX(calc(1.236rem + 6px))"}}),du=cR("label",{fontSize:"0.8333rem",fontWeight:"400",lineHeight:"1em",userSelect:"none",cursor:"pointer",paddingRight:"0.618rem"}),dd=cR("form",{display:"flex",flexShrink:"0",flexGrow:"1",alignItems:"center",marginLeft:"1.618rem"}),Fs=()=>{var s;let{configOptions:h}=viewer_T(),g=viewer_F(),{t:_}=(0,sU.$G)(),[y,A]=(0,eV.useState)(null==(s=null==h?void 0:h.informationPanel)?void 0:s.open);return(0,eV.useEffect)(()=>{g({type:"updateInformationOpen",isInformationOpen:y})},[y,g]),eV.createElement(dd,null,eV.createElement(du,{htmlFor:"information-toggle",css:y?{opacity:"1"}:{}},_("informationPanelToggle")),eV.createElement(dl,{checked:y,onCheckedChange:()=>A(!y),id:"information-toggle","aria-label":_("informationPanelToggle"),name:"toggled?"},eV.createElement(dc,null)))},dh=cR(viewer_K.Trigger,{width:"30px",padding:"5px",marginBottom:"auto"}),dp=cR(u9,{h3:{color:"$primaryAlt",fontSize:"$2",fontWeight:"700",margin:"$2 0"},button:{},"& ul li":{marginBottom:"$1"}});function viewer_vt(s,h){let g=[];if(!s)return g;for(let _ of s)if(_.id){let s=h.get(_.id);s&&g.push(s)}return g}function viewer_yt(s,h){return s.map(({format:s,id:g,label:_})=>{let y=function(s){let{vault:h}=viewer_T();try{let g=s&&h.get(s);if(!g)throw Error(`Vault entity ${s} not found.`);return(null==g?void 0:g["@id"])||(null==g?void 0:g.id)}catch(h){return console.error(h),s}}(g);return{format:s,id:y,label:viewer_z(_)||h}})}let Hs=()=>{let{allPages:s,individualPages:h}=function(){let s=function(){let{activeCanvas:s,activeManifest:h,vault:g}=viewer_T(),[_,y]=(0,eV.useState)({root:[],canvas:[]});return(0,eV.useEffect)(()=>{let _=g.get(h),A=g.get(s),b=null==_?void 0:_.rendering,k=null==A?void 0:A.rendering,w=viewer_vt(b,g),R=viewer_vt(k,g);y({root:w,canvas:R})},[s,h,g]),{..._}}(),h=viewer_yt((null==s?void 0:s.root)||[],"Root Rendering Label"),g=viewer_yt((null==s?void 0:s.canvas)||[],"Canvas Rendering Label");return{allPages:h,individualPages:g}}(),g=s.length>0||h.length>0,a=s=>{window.open(s,"_blank")};return g?eV.createElement(viewer_K,null,eV.createElement(dh,{"data-testid":"download-button"},eV.createElement(viewer_P,null,eV.createElement(viewer_P.Download,null))),eV.createElement(dp,{"data-testid":"download-content"},h.length>0&&eV.createElement(eV.Fragment,null,eV.createElement("h3",null,"Individual Pages"),eV.createElement("ul",null,h.map(({format:s,id:h,label:g})=>eV.createElement("li",{key:g},eV.createElement("button",{onClick:()=>a(h)},g," (",s,")"))))),s.length>0&&eV.createElement(eV.Fragment,null,eV.createElement("h3",null,"All Pages"),eV.createElement("ul",null,s.map(({format:s,id:h,label:g})=>eV.createElement("li",{key:g},eV.createElement("button",{onClick:()=>a(h)},g," (",s,")"))))))):null},viewer_Mn=s=>{let t=()=>!!window.matchMedia&&window.matchMedia(s).matches,[h,g]=(0,eV.useState)(t);return(0,eV.useEffect)(()=>{let o=()=>g(t);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)}),h},Us=({manifestId:s,manifestLabel:h})=>{let g=viewer_T(),{collection:_,configOptions:y}=g,{informationPanel:A,showDownload:b,showIIIFBadge:k,showTitle:w}=y,R=b||k||(null==A?void 0:A.renderToggle),B=viewer_Mn(cN.sm),{t:H}=(0,sU.$G)();return eV.createElement(de,{className:"clover-viewer-header"},null!=_&&_.items?eV.createElement(ks,null):eV.createElement(u7,{className:w?"":"visually-hidden"},w&&eV.createElement(viewer_j,{label:h,className:"label"})),R&&eV.createElement(dt,null,b&&eV.createElement(Hs,null),k&&eV.createElement(viewer_K,null,eV.createElement(u8,null,eV.createElement(Ms,{title:H("commonShare")})),eV.createElement(u9,null,(null==_?void 0:_.items)&&eV.createElement("button",{onClick:s=>{s.preventDefault(),window.open(_.id,"_blank")}},H("shareCollectionJson")),eV.createElement("button",{onClick:h=>{h.preventDefault(),window.open(s,"_blank")}},H("shareManifestJson"))," ",(null==_?void 0:_.items)&&eV.createElement(viewer_gt,{textPrompt:H("shareCollectionCopy"),textToCopy:_.id}),eV.createElement(viewer_gt,{textPrompt:H("shareManifestCopy"),textToCopy:s}))),(null==A?void 0:A.renderToggle)&&!B&&eV.createElement(Fs,null)))},Ws=(s=!1)=>{let[h,g]=(0,eV.useState)(s);return(0,eV.useLayoutEffect)(()=>{if(!h)return;let s=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=s}},[h]),(0,eV.useEffect)(()=>{h!==s&&g(s)},[s]),[h,g]},qs=({manifest:s,theme:h,iiifContentSearchQuery:g})=>{var _;let y=viewer_T(),A=viewer_F(),{activeCanvas:b,isInformationOpen:k,vault:w,contentSearchVault:R,configOptions:B,openSeadragonViewer:H}=y,z=(null==B?void 0:B.canvasHeight)&&["100%","auto"].includes(null==B?void 0:B.canvasHeight),[$,j]=(0,eV.useState)(!1),[q,W]=(0,eV.useState)(!1),[K,ee]=(0,eV.useState)([]),[et,en]=(0,eV.useState)([]),[er,es]=(0,eV.useState)(),[el,ec]=Ws(!1),eu=viewer_Mn(cN.sm),[ed,eh]=(0,eV.useState)(),ep=(0,eV.useCallback)(s=>{A({type:"updateInformationOpen",isInformationOpen:s})},[A]);(0,eV.useEffect)(()=>{var s;null!=(s=null==B?void 0:B.informationPanel)&&s.open&&ep(!eu)},[eu,null==(_=null==B?void 0:B.informationPanel)?void 0:_.open,ep]),(0,eV.useEffect)(()=>{if(!eu){ec(!1);return}ec(k)},[k,eu,ec]),(0,eV.useEffect)(()=>{let s=viewer_pe(w,b);s&&(W(["Sound","Video"].indexOf(s[0].type)>-1),ee(s)),Wo(w,b).then(s=>{s.length>0&&A({type:"updateInformationOpen",isInformationOpen:!0}),en(s),j(0!==s.length)})},[b,et.length,w,A]);let ef=s.service.some(s=>"SearchService2"===s.type);return(0,eV.useEffect)(()=>{if(ef){let h=s.service.find(s=>"SearchService2"===s.type);h&&eh(h.id)}},[s,ef]),(0,eV.useEffect)(()=>{var s,h,_;ed&&(null==(s=B.informationPanel)?void 0:s.renderContentSearch)!==!1&&viewer_on(R,ed,null==(_=null==(h=B.localeText)?void 0:h.contentSearch)?void 0:_.tabLabel,g).then(s=>{es(s)})},[ed]),(0,eV.useEffect)(()=>{if(!H||!er)return;let s=w.get({id:b,type:"Canvas"});viewer_rn(H,"content-search-overlay"),function(s,h,g,_,y){var A;if(!(null!=h&&h.items)||(null==h?void 0:h.items.length)===0)return;let b=[];h.items.forEach(h=>{let g=s.get(h.id);"string"==typeof g.target&&g.target.startsWith(_.id)&&b.push(g)}),g&&null!=(A=y.contentSearch)&&A.overlays&&viewer_tn(g,_,y.contentSearch.overlays,b,"content-search-overlay")}(R,er,H,s,B)},[H,er]),eV.createElement(eG.SV,{FallbackComponent:viewer_Ze},eV.createElement(cQ,{className:`${h} clover-viewer`,css:{background:null==B?void 0:B.background},"data-body-locked":el,"data-absolute-position":z,"data-information-panel":$,"data-information-panel-open":k},eV.createElement(sJ,{open:k,onOpenChange:ep},eV.createElement(Us,{manifestLabel:s.label,manifestId:s.id}),eV.createElement(Ss,{activeCanvas:b,painting:K,annotationResources:et,searchServiceUrl:ed,setContentSearchResource:es,contentSearchResource:er,items:s.items,isAudioVideo:q}))))},df={ignoreCache:!1,headers:{Accept:"application/json, text/javascript, text/plain"},timeout:5e3,withCredentials:!1};function viewer_bt(s,h=null){return{ok:!1,status:s.status,statusText:s.statusText,headers:s.getAllResponseHeaders(),data:h||s.statusText,json:()=>JSON.parse(h||s.statusText)}}let ul=({canvasIdCallback:s=()=>{},customDisplays:h=[],plugins:g=[],customTheme:_,iiifContent:y,id:A,manifestId:b,options:k,iiifContentSearchQuery:w})=>{var R,B,H;let z=y;A&&(z=A),b&&(z=b);let $=viewer_Zt(null==(B=null==(R=null==k?void 0:k.informationPanel)?void 0:R.vtt)?void 0:B.autoScroll);return eV.createElement(To,{initialState:{...ck,customDisplays:h,plugins:g,isAutoScrollEnabled:$.enabled,isInformationOpen:!!(null!=(H=null==k?void 0:k.informationPanel)&&H.open),vault:new cA({customFetcher:s=>(function(s,h=df){let g=h.headers||df.headers;return new Promise((_,y)=>{let A=new XMLHttpRequest;A.open("get",s),A.withCredentials=h.withCredentials,g&&Object.keys(g).forEach(s=>A.setRequestHeader(s,g[s])),A.onload=()=>{_({ok:A.status>=200&&A.status<300,status:A.status,statusText:A.statusText,headers:A.getAllResponseHeaders(),data:A.responseText,json:()=>JSON.parse(A.responseText)})},A.onerror=()=>{y(viewer_bt(A,"Failed to make request."))},A.ontimeout=()=>{y(viewer_bt(A,"Request took longer than expected."))},A.send()})})(s,{withCredentials:null==k?void 0:k.withCredentials,headers:null==k?void 0:k.requestHeaders}).then(s=>JSON.parse(s.data))})}},eV.createElement(Js,{iiifContent:z,canvasIdCallback:s,customTheme:_,options:k,iiifContentSearchQuery:w}))},Js=({canvasIdCallback:s,customTheme:h,iiifContent:g,options:_,iiifContentSearchQuery:y})=>{let A=viewer_F(),b=viewer_T(),{activeCanvas:k,activeManifest:w,isLoaded:R,vault:B}=b,[H,z]=(0,eV.useState)(),[$,j]=(0,eV.useState)(),q={};return h&&(q=(0,ez.jG)("custom",h)),(0,eV.useEffect)(()=>{s&&s(k)},[k,s]),(0,eV.useEffect)(()=>{w&&B.load(w).then(s=>{j(s),A({type:"updateActiveCanvas",canvasId:Po(g,s)})}).catch(s=>{console.error(`Manifest failed to load: ${s}`)}).finally(()=>{A({type:"updateIsLoaded",isLoaded:!0})})},[g,w,A,B]),(0,eV.useEffect)(()=>{A({type:"updateConfigOptions",configOptions:_});let s=_o(g);B.load(s).then(s=>{z(s)}).catch(s=>{console.error(`The IIIF resource ${g} failed to load: ${s}`)})},[A,g,_,B]),(0,eV.useEffect)(()=>{if((null==H?void 0:H.type)==="Collection"){A({type:"updateCollection",collection:H});let s=Oo(g,H);s&&A({type:"updateActiveManifest",manifestId:s})}else(null==H?void 0:H.type)==="Manifest"&&A({type:"updateActiveManifest",manifestId:H.id})},[A,g,H]),R?$&&$.items?0===$.items.length?(console.log(`The IIIF manifest ${g} does not contain canvases.`),eV.createElement(eV.Fragment,null)):eV.createElement(qs,{manifest:$,theme:q,key:$.id,iiifContentSearchQuery:y}):(console.log(`The IIIF manifest ${g} failed to load.`),eV.createElement(eV.Fragment,null)):eV.createElement(eV.Fragment,null,"Loading")},helpers_u=s=>{var h,g,_,y,A;let b={id:"string"==typeof s?s:s.source};if("string"==typeof s){if(s.includes("#xywh=")){let h=s.split("#xywh=");if(h&&h[1]){let[s,g,_,y]=h[1].split(",").map(s=>Number(s));b={id:h[0],rect:{x:s,y:g,w:_,h:y}}}}else if(s.includes("#t=")){let h=s.split("#t=");h&&h[1]&&(b={id:h[0],t:h[1]})}}else if("object"==typeof s){if((null==(h=s.selector)?void 0:h.type)==="PointSelector")b={id:s.source,point:{x:s.selector.x,y:s.selector.y}};else if((null==(g=s.selector)?void 0:g.type)==="SvgSelector")b={id:s.source,svg:s.selector.value};else if((null==(_=s.selector)?void 0:_.type)==="FragmentSelector"&&null!=(y=s.selector)&&y.value.includes("xywh=")&&"Canvas"==s.source.type&&s.source.id){let h=null==(A=s.selector)?void 0:A.value.split("xywh=");if(h&&h[1]){let[g,_,y,A]=h[1].split(",").map(s=>Number(s));b={id:s.source.id,rect:{x:g,y:_,w:y,h:A}}}}}return b},dm=window.OpenSeadragon;if(!dm&&!(dm=eH))throw Error("OpenSeadragon is missing.");let dg="http://www.w3.org/2000/svg";dm.Viewer&&(dm.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new helpers_a(this)),this._svgOverlayInfo});let helpers_a=function(s){let h=this;this._viewer=s,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(dg,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(dg,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){h.resize()}),this._viewer.addHandler("open",function(){h.resize()}),this._viewer.addHandler("rotate",function(){h.resize()}),this._viewer.addHandler("flip",function(){h.resize()}),this._viewer.addHandler("resize",function(){h.resize()}),this.resize()};helpers_a.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let s=this._viewer.viewport.pixelFromPoint(new dm.Point(0,0),!0),h=this._viewer.viewport.getZoom(!0),g=this._viewer.viewport.getRotation(),_=this._viewer.viewport.getFlip(),y=this._viewer.viewport._containerInnerSize.x,A=y*h,b=A;_&&(A=-A,s.x=-s.x+y),this._node.setAttribute("transform","translate("+s.x+","+s.y+") scale("+A+","+b+") rotate("+g+")")},onClick:function(s,h){new dm.MouseTracker({element:s,clickHandler:h}).setTracking(!0)}};let dE={parseAnnotationTarget:helpers_u,createOpenSeadragonRect:function(s,h,g){let _,y,A=40,b=40;h.rect&&(_=h.rect.x,y=h.rect.y,A=h.rect.w,b=h.rect.h),h.point&&(_=h.point.x,y=h.point.y),helpers_u.svg;let k=1/s.width;return new eH.Rect(_*k-A*k/2*(g-1),y*k-b*k/2*(g-1),A*k*g,b*k*g)}};var d_=ul}}]);