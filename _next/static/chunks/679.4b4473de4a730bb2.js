"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{4470:function(d){var h=Object.prototype.hasOwnProperty,g=Object.prototype.toString,_=Object.defineProperty,y=Object.getOwnPropertyDescriptor,isArray=function(d){return"function"==typeof Array.isArray?Array.isArray(d):"[object Array]"===g.call(d)},isPlainObject=function(d){if(!d||"[object Object]"!==g.call(d))return!1;var _,y=h.call(d,"constructor"),A=d.constructor&&d.constructor.prototype&&h.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!y&&!A)return!1;for(_ in d);return void 0===_||h.call(d,_)},setProperty=function(d,h){_&&"__proto__"===h.name?_(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},getProperty=function(d,g){if("__proto__"===g){if(!h.call(d,g))return;if(y)return y(d,g).value}return d[g]};d.exports=function extend(){var d,h,g,_,y,A,b=arguments[0],k=1,w=arguments.length,R=!1;for("boolean"==typeof b&&(R=b,b=arguments[1]||{},k=2),(null==b||"object"!=typeof b&&"function"!=typeof b)&&(b={});k<w;++k)if(d=arguments[k],null!=d)for(h in d)g=getProperty(b,h),b!==(_=getProperty(d,h))&&(R&&_&&(isPlainObject(_)||(y=isArray(_)))?(y?(y=!1,A=g&&isArray(g)?g:[]):A=g&&isPlainObject(g)?g:{},setProperty(b,{name:h,newValue:extend(R,A,_)})):void 0!==_&&setProperty(b,{name:h,newValue:_}));return b}},4921:function(d,h,g){var _;function u(d){return void 0===d||d}function v(d){let h=Array(d);for(let g=0;g<d;g++)h[g]=x();return h}function x(){return Object.create(null)}function aa(d,h){return h.length-d.length}function C(d){return"string"==typeof d}function D(d){return"object"==typeof d}function E(d){return"function"==typeof d}function F(d,h){var g=y;if(d&&(h&&(d=G(d,h)),this.H&&(d=G(d,this.H)),this.J&&1<d.length&&(d=G(d,this.J)),g||""===g)){if(h=d.split(g),this.filter){d=this.filter,g=h.length;let _=[];for(let y=0,A=0;y<g;y++){let g=h[y];g&&!d[g]&&(_[A++]=g)}d=_}else d=h}return d}let y=/[\p{Z}\p{S}\p{P}\p{C}]+/u,A=/[\u0300-\u036f]/g;function I(d,h){let g=Object.keys(d),_=g.length,y=[],A="",b=0;for(let k=0,w,R;k<_;k++)(R=d[w=g[k]])?(y[b++]=J(h?"(?!\\b)"+w+"(\\b|_)":w),y[b++]=R):A+=(A?"|":"")+w;return A&&(y[b++]=J(h?"(?!\\b)("+A+")(\\b|_)":"("+A+")"),y[b]=""),y}function G(d,h){for(let g=0,_=h.length;g<_&&(d=d.replace(h[g],h[g+1]));g+=2);return d}function J(d){return RegExp(d,"g")}function da(d){let h="",g="";for(let _=0,y=d.length,A;_<y;_++)(A=d[_])!==g&&(h+=g=A);return h}function ea(d){return F.call(this,(""+d).toLowerCase(),!1)}let b={},k={};function ia(d){L(d,"add"),L(d,"append"),L(d,"search"),L(d,"update"),L(d,"remove")}function L(d,h){d[h+"Async"]=function(){let d;let g=this,_=arguments;var y=_[_.length-1];return E(y)&&(d=y,delete _[_.length-1]),y=new Promise(function(d){setTimeout(function(){g.async=!0;let y=g[h].apply(g,_);g.async=!1,d(y)})}),d?(y.then(d),this):y}}function ja(d,h,g,_){let y=d.length,A=[],b,k,w=0;_&&(_=[]);for(let R=y-1;0<=R;R--){let B=d[R],H=B.length,z=x(),$=!b;for(let d=0;d<H;d++){let H=B[d],j=H.length;if(j)for(let d=0,B,q;d<j;d++)if(q=H[d],b){if(b[q]){if(!R){if(g)g--;else if(A[w++]=q,w===h)return A}(R||_)&&(z[q]=1),$=!0}if(_&&(B=(k[q]||0)+1,k[q]=B,B<y)){let d=_[B-2]||(_[B-2]=[]);d[d.length]=q}}else z[q]=1}if(_)b||(k=z);else if(!$)return[];b=z}if(_)for(let d=_.length-1,y,k;0<=d;d--){k=(y=_[d]).length;for(let d=0,_;d<k;d++)if(!b[_=y[d]]){if(g)g--;else if(A[w++]=_,w===h)return A;b[_]=1}}return A}function M(d){this.l=!0!==d&&d,this.cache=x(),this.h=[]}function la(d,h,g){D(d)&&(d=d.query);let _=this.cache.get(d);return _||(_=this.search(d,h,g),this.cache.set(d,_)),_}M.prototype.set=function(d,h){if(!this.cache[d]){var g=this.h.length;for(g===this.l?delete this.cache[this.h[g-1]]:g++,--g;0<g;g--)this.h[g]=this.h[g-1];this.h[0]=d}this.cache[d]=h},M.prototype.get=function(d){let h=this.cache[d];if(this.l&&h&&(d=this.h.indexOf(d))){let h=this.h[d-1];this.h[d-1]=this.h[d],this.h[d]=h}return h};let w={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function oa(d,h,g,_,y,A,b,k){setTimeout(function(){let w=d(g?g+"."+_:_,JSON.stringify(b));w&&w.then?w.then(function(){h.export(d,h,g,y,A+1,k)}):h.export(d,h,g,y,A+1,k)})}function N(d,h){if(!(this instanceof N))return new N(d);if(d){C(d)?d=w[d]:(g=d.preset)&&(d=Object.assign({},g[g],d)),g=d.charset;var g,_=d.lang;C(g)&&(-1===g.indexOf(":")&&(g+=":default"),g=k[g]),C(_)&&(_=b[_])}else d={};let y,A,R=d.context||{};if(this.encode=d.encode||g&&g.encode||ea,this.register=h||x(),this.D=y=d.resolution||9,this.G=h=g&&g.G||d.tokenize||"strict",this.depth="strict"===h&&R.depth,this.l=u(R.bidirectional),this.s=A=u(d.optimize),this.m=u(d.fastupdate),this.B=d.minlength||1,this.C=d.boost,this.map=A?v(y):x(),this.A=y=R.resolution||1,this.h=A?v(y):x(),this.F=g&&g.F||d.rtl,this.H=(h=d.matcher||_&&_.H)&&I(h,!1),this.J=(h=d.stemmer||_&&_.J)&&I(h,!0),g=h=d.filter||_&&_.filter){g=h,_=x();for(let d=0,h=g.length;d<h;d++)_[g[d]]=1;g=_}this.filter=g,this.cache=(h=d.cache)&&new M(h)}function O(d,h,g,_,y){return g&&1<d?h+(_||0)<=d?g+(y||0):(d-1)/(h+(_||0))*(g+(y||0))+1|0:0}function P(d,h,g,_,y,A,b){let k=b?d.h:d.map;(!h[g]||b&&!h[g][b])&&(d.s&&(k=k[_]),b?((h=h[g]||(h[g]=x()))[b]=1,k=k[b]||(k[b]=x())):h[g]=1,k=k[g]||(k[g]=[]),d.s||(k=k[_]||(k[_]=[])),A&&k.includes(y)||(k[k.length]=y,d.m&&((d=d.register[y]||(d.register[y]=[]))[d.length]=k)))}function pa(d,h,g,_,y,A,b,k){let w=[],R=k?d.h:d.map;if(d.s||(R=ra(R,b,k,d.l)),R){let g=0,B=Math.min(R.length,k?d.A:d.D);for(let h=0,H=0,z,$;h<B&&(!(z=R[h])||(d.s&&(z=ra(z,b,k,d.l)),y&&z&&A&&(($=z.length)<=y?(y-=$,z=null):(z=z.slice(y),y=0)),!z||(w[g++]=z,!A||!((H+=z.length)>=_))));h++);if(g)return A?qa(w,_,0):void(h[h.length]=w)}return!g&&w}function qa(d,h,g){return d=1===d.length?d[0]:[].concat.apply([],d),g||d.length>h?d.slice(g,g+h):d}function ra(d,h,g,_){return d=g?(d=d[(_=_&&h>g)?h:g])&&d[_?g:h]:d[h]}function Q(d,h,g,_,y){let A=0;if(d.constructor===Array){if(y)-1!==(h=d.indexOf(h))?1<d.length&&(d.splice(h,1),A++):A++;else{y=Math.min(d.length,g);for(let b=0,k;b<y;b++)(k=d[b])&&(A=Q(k,h,g,_,y),_||A||delete d[b])}}else for(let b in d)(A=Q(d[b],h,g,_,y))||delete d[b];return A}function sa(d){d=d.data;var h=self._index;let g=d.args;var _=d.task;"init"===_?(_=d.options||{},d=d.factory,h=_.encode,_.cache=!1,h&&0===h.indexOf("function")&&(_.encode=Function("return "+h)()),d?(Function("return "+d)()(self),self._index=new self.FlexSearch.Index(_),delete self.FlexSearch):self._index=new N(_)):(d=d.id,h=h[_].apply(h,g),postMessage("search"===_?{id:d,msg:h}:{id:d}))}(_=N.prototype).append=function(d,h){return this.add(d,h,!0)},_.add=function(d,h,g,_){if(h&&(d||0===d)){if(!_&&!g&&this.register[d])return this.update(d,h);if(_=(h=this.encode(h)).length){let R=x(),B=x(),H=this.depth,z=this.D;for(let $=0;$<_;$++){let j=h[this.F?_-1-$:$];var y=j.length;if(j&&y>=this.B&&(H||!B[j])){var A=O(z,_,$),b="";switch(this.G){case"full":if(2<y){for(A=0;A<y;A++)for(var k=y;k>A;k--)if(k-A>=this.B){var w=O(z,_,$,y,A);P(this,B,b=j.substring(A,k),w,d,g)}break}case"reverse":if(1<y){for(k=y-1;0<k;k--)(b=j[k]+b).length>=this.B&&P(this,B,b,O(z,_,$,y,k),d,g);b=""}case"forward":if(1<y){for(k=0;k<y;k++)(b+=j[k]).length>=this.B&&P(this,B,b,A,d,g);break}default:if(this.C&&(A=Math.min(A/this.C(h,j,$)|0,z-1)),P(this,B,j,A,d,g),H&&1<_&&$<_-1){for(y=x(),b=this.A,A=j,k=Math.min(H+1,_-$),y[A]=1,w=1;w<k;w++)if((j=h[this.F?_-1-$-w:$+w])&&j.length>=this.B&&!y[j]){y[j]=1;let h=this.l&&j>A;P(this,R,h?A:j,O(b+(_/2>b?0:1),_,$,k-1,w-1),d,g,h?j:A)}}}}}this.m||(this.register[d]=1)}}return this},_.search=function(d,h,g){let _,y,A;g||(!h&&D(d)?d=(g=d).query:D(h)&&(g=h));let b=[],k,w,R=0;if(g){d=g.query||d,h=g.limit,R=g.offset||0;var B=g.context;w=g.suggest}if(d&&1<(k=(d=this.encode(""+d)).length)){g=x();var H=[];for(let h=0,_=0,y;h<k;h++)if((y=d[h])&&y.length>=this.B&&!g[y]){if(!this.s&&!w&&!this.map[y])return b;H[_++]=y,g[y]=1}k=(d=H).length}if(!k)return b;for(h||(h=100),B=this.depth&&1<k&&!1!==B,g=0,B?(_=d[0],g=1):1<k&&d.sort(aa);g<k;g++){if(A=d[g],B?(y=pa(this,b,w,h,R,2===k,A,_),w&&!1===y&&b.length||(_=A)):y=pa(this,b,w,h,R,1===k,A),y)return y;if(w&&g===k-1){if(!(H=b.length)){if(B){B=0,g=-1;continue}return b}if(1===H)return qa(b[0],h,R)}}return ja(b,h,R,w)},_.contain=function(d){return!!this.register[d]},_.update=function(d,h){return this.remove(d).add(d,h)},_.remove=function(d,h){let g=this.register[d];if(g){if(this.m)for(let h=0,_;h<g.length;h++)(_=g[h]).splice(_.indexOf(d),1);else Q(this.map,d,this.D,this.s),this.depth&&Q(this.h,d,this.A,this.s);if(h||delete this.register[d],this.cache){h=this.cache;for(let g=0,_;g<h.h.length;g++)_=h.h[g],h.cache[_].includes(d)&&(h.h.splice(g--,1),delete h.cache[_])}}return this},_.searchCache=la,_.export=function(d,h,g,_,y,A){let b,k,w=!0;switch(void 0===A&&(w=new Promise(d=>{A=d})),y||(y=0)){case 0:if(b="reg",this.m)for(let d in k=x(),this.register)k[d]=1;else k=this.register;break;case 1:b="cfg",k={doc:0,opt:this.s?1:0};break;case 2:b="map",k=this.map;break;case 3:b="ctx",k=this.h;break;default:void 0===g&&A&&A();return}return oa(d,h||this,g,b,_,y,k,A),w},_.import=function(d,h){if(h)switch(C(h)&&(h=JSON.parse(h)),d){case"cfg":this.s=!!h.opt;break;case"reg":this.m=!1,this.register=h;break;case"map":this.map=h;break;case"ctx":this.h=h}},ia(N.prototype);let R=0;function S(d){var h;if(!(this instanceof S))return new S(d);d?E(h=d.encode)&&(d.encode=h.toString()):d={},(h=(self||window)._factory)&&(h=h.toString());let _="undefined"==typeof window&&self.exports,y=this;this.o=function(d,h,_){let y;try{y=h?new(g(5789)).Worker("//node/node.js"):d?new Worker(URL.createObjectURL(new Blob(["onmessage="+sa.toString()],{type:"text/javascript"}))):new Worker(C(_)?_:"worker/worker.js",{type:"module"})}catch(d){}return y}(h,_,d.worker),this.h=x(),this.o&&(_?this.o.on("message",function(d){y.h[d.id](d.msg),delete y.h[d.id]}):this.o.onmessage=function(d){d=d.data,y.h[d.id](d.msg),delete y.h[d.id]},this.o.postMessage({task:"init",factory:h,options:d}))}function T(d){S.prototype[d]=S.prototype[d+"Async"]=function(){let h;let g=this,_=[].slice.call(arguments);var y=_[_.length-1];return E(y)&&(h=y,_.splice(_.length-1,1)),y=new Promise(function(h){setTimeout(function(){g.h[++R]=h,g.o.postMessage({task:d,id:R,args:_})})}),h?(y.then(h),this):y}}function U(d){if(!(this instanceof U))return new U(d);var h,g=d.document||d.doc||d;this.K=[],this.h=[],this.A=[],this.register=x(),this.key=(h=g.key||g.id)&&V(h,this.A)||"id",this.m=u(d.fastupdate),this.C=(h=g.store)&&!0!==h&&[],this.store=h&&x(),this.I=(h=g.tag)&&V(h,this.A),this.l=h&&x(),this.cache=(h=d.cache)&&new M(h),d.cache=!1,this.o=d.worker,this.async=!1,h=x();let _=g.index||g.field||g;C(_)&&(_=[_]);for(let g=0,y,A;g<_.length;g++)C(y=_[g])||(A=y,y=y.field),A=D(A)?Object.assign({},d,A):d,this.o&&(h[y]=new S(A),h[y].o||(this.o=!1)),this.o||(h[y]=new N(A,this.register)),this.K[g]=V(y,this.A),this.h[g]=y;if(this.C)for(C(d=g.store)&&(d=[d]),g=0;g<d.length;g++)this.C[g]=V(d[g],this.A);this.index=h}function V(d,h){let g=d.split(":"),_=0;for(let y=0;y<g.length;y++)0<=(d=g[y]).indexOf("[]")&&(d=d.substring(0,d.length-2))&&(h[_]=!0),d&&(g[_++]=d);return _<g.length&&(g.length=_),1<_?g:g[0]}function X(d,h){if(C(h))d=d[h];else for(let g=0;d&&g<h.length;g++)d=d[h[g]];return d}function va(d,h,g,_){let y=this.l[d],A=y&&y.length-g;if(A&&0<A)return(A>h||g)&&(y=y.slice(g,g+h)),_&&(y=wa.call(this,y)),{tag:d,result:y}}function wa(d){let h=Array(d.length);for(let g=0,_;g<d.length;g++)_=d[g],h[g]={id:_,doc:this.store[_]};return h}T("add"),T("append"),T("search"),T("update"),T("remove"),(_=U.prototype).add=function(d,h,g){if(D(d)&&(d=X(h=d,this.key)),h&&(d||0===d)){if(!g&&this.register[d])return this.update(d,h);for(let _=0,y,A;_<this.h.length;_++)A=this.h[_],C(y=this.K[_])&&(y=[y]),function Z(d,h,g,_,y,A,b,k){if(d=d[b]){if(_===h.length-1){if(d.constructor===Array){if(g[_]){for(h=0;h<d.length;h++)y.add(A,d[h],!0,!0);return}d=d.join(" ")}y.add(A,d,k,!0)}else if(d.constructor===Array)for(b=0;b<d.length;b++)Z(d,h,g,_,y,A,b,k);else b=h[++_],Z(d,h,g,_,y,A,b,k)}}(h,y,this.A,0,this.index[A],d,y[0],g);if(this.I){let _=X(h,this.I),y=x();C(_)&&(_=[_]);for(let h=0,A,b;h<_.length;h++)if(!y[A=_[h]]&&(y[A]=1,b=this.l[A]||(this.l[A]=[]),!g||!b.includes(d))&&(b[b.length]=d,this.m)){let h=this.register[d]||(this.register[d]=[]);h[h.length]=b}}if(this.store&&(!g||!this.store[d])){let g;if(this.C){g=x();for(let d=0,_;d<this.C.length;d++)C(_=this.C[d])?g[_]=h[_]:function Y(d,h,g,_,y){if(d=d[y],_===g.length-1)h[y]=d;else if(d){if(d.constructor===Array)for(h=h[y]=Array(d.length),y=0;y<d.length;y++)Y(d,h,g,_,y);else h=h[y]||(h[y]=x()),y=g[++_],Y(d,h,g,_,y)}}(h,g,_,0,_[0])}this.store[d]=g||h}}return this},_.append=function(d,h){return this.add(d,h,!0)},_.update=function(d,h){return this.remove(d).add(d,h)},_.remove=function(d){if(D(d)&&(d=X(d,this.key)),this.register[d]){for(var h=0;h<this.h.length&&(this.index[this.h[h]].remove(d,!this.o),!this.m);h++);if(this.I&&!this.m)for(let g in this.l){h=this.l[g];let _=h.indexOf(d);-1!==_&&(1<h.length?h.splice(_,1):delete this.l[g])}this.store&&delete this.store[d],delete this.register[d]}return this},_.search=function(d,h,g,_){g||(!h&&D(d)?(g=d,d=""):D(h)&&(g=h,h=0));let y=[],A=[],b,k,w,R,B,H,z=0;if(g){if(g.constructor===Array)w=g,g=null;else{if(d=g.query||d,w=(b=g.pluck)||g.index||g.field,R=g.tag,k=this.store&&g.enrich,B="and"===g.bool,h=g.limit||h||100,H=g.offset||0,R&&(C(R)&&(R=[R]),!d)){for(let d=0,g;d<R.length;d++)(g=va.call(this,R[d],h,H,k))&&(y[y.length]=g,z++);return z?y:[]}C(w)&&(w=[w])}}w||(w=this.h),B=B&&(1<w.length||R&&1<R.length);let $=!_&&(this.o||this.async)&&[];for(let b=0,j,q,W;b<w.length;b++){let K;if(C(q=w[b])||(q=(K=q).field,d=K.query||d,h=K.limit||h,k=K.enrich||k),$)$[b]=this.index[q].searchAsync(d,h,K||g);else{if(W=(j=_?_[b]:this.index[q].search(d,h,K||g))&&j.length,R&&W){let d=[],g=0;B&&(d[0]=[j]);for(let h=0,_,y;h<R.length;h++)_=R[h],(W=(y=this.l[_])&&y.length)&&(g++,d[d.length]=B?[y]:y);g&&(W=(j=B?ja(d,h||100,H||0):function(d,h){let g=x(),_=x(),y=[];for(let h=0;h<d.length;h++)g[d[h]]=1;for(let d=0,A;d<h.length;d++){A=h[d];for(let d=0,h;d<A.length;d++)g[h=A[d]]&&!_[h]&&(_[h]=1,y[y.length]=h)}return y}(j,d)).length)}if(W)A[z]=q,y[z++]=j;else if(B)return[]}}if($){let _=this;return new Promise(function(y){Promise.all($).then(function(A){y(_.search(d,h,g,A))})})}if(!z)return[];if(b&&(!k||!this.store))return y[0];for(let d=0,h;d<A.length;d++){if((h=y[d]).length&&k&&(h=wa.call(this,h)),b)return h;y[d]={field:A[d],result:h}}return y},_.contain=function(d){return!!this.register[d]},_.get=function(d){return this.store[d]},_.set=function(d,h){return this.store[d]=h,this},_.searchCache=la,_.export=function(d,h,g,_,y,A){let b;if(void 0===A&&(b=new Promise(d=>{A=d})),y||(y=0),_||(_=0),_<this.h.length){let g=this.h[_],b=this.index[g];h=this,setTimeout(function(){b.export(d,h,y?g:"",_,y++,A)||(_++,y=1,h.export(d,h,g,_,y,A))})}else{let h,b;switch(y){case 1:h="tag",b=this.l,g=null;break;case 2:h="store",b=this.store,g=null;break;default:A();return}oa(d,this,g,h,_,y,b,A)}return b},_.import=function(d,h){if(h)switch(C(h)&&(h=JSON.parse(h)),d){case"tag":this.l=h;break;case"reg":this.m=!1,this.register=h;for(let d=0,g;d<this.h.length;d++)(g=this.index[this.h[d]]).register=h,g.m=!1;break;case"store":this.store=h;break;default:d=d.split(".");let g=d[0];d=d[1],g&&d&&this.index[g].import(d,h)}},ia(U.prototype);let B=[J("[\xe0\xe1\xe2\xe3\xe4\xe5]"),"a",J("[\xe8\xe9\xea\xeb]"),"e",J("[\xec\xed\xee\xef]"),"i",J("[\xf2\xf3\xf4\xf5\xf6ő]"),"o",J("[\xf9\xfa\xfb\xfcű]"),"u",J("[\xfdŷ\xff]"),"y",J("\xf1"),"n",J("[\xe7c]"),"k",J("\xdf"),"s",J(" & ")," and "];function xa(d){var h=d=""+d;return h.normalize&&(h=h.normalize("NFD").replace(A,"")),F.call(this,h.toLowerCase(),!d.normalize&&B)}let H=/[^a-z0-9]+/,z={b:"p",v:"f",w:"f",z:"s",x:"s",ß:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Aa(d){d=xa.call(this,d).join(" ");let h=[];if(d){let g=d.split(H),_=g.length;for(let y=0,A,b=0;y<_;y++)if((d=g[y])&&(!this.filter||!this.filter[d])){let g=z[A=d[0]]||A,_=g;for(let h=1;h<d.length;h++){A=d[h];let y=z[A]||A;y&&y!==_&&(g+=y,_=y)}h[b++]=g}}return h}let $=[J("ae"),"a",J("oe"),"o",J("sh"),"s",J("th"),"t",J("ph"),"f",J("pf"),"f",J("(?![aeo])h(?![aeo])"),"",J("(?!^[aeo])h(?!^[aeo])"),""];function Ea(d,h){return d&&(2<(d=Aa.call(this,d).join(" ")).length&&(d=G(d,$)),h||(1<d.length&&(d=da(d)),d&&(d=d.split(" ")))),d||[]}let j=J("(?!\\b)[aeo]");k["latin:default"]={encode:ea,F:!1,G:""},k["latin:simple"]={encode:xa,F:!1,G:""},k["latin:balance"]={encode:Aa,F:!1,G:"strict"},k["latin:advanced"]={encode:Ea,F:!1,G:""},k["latin:extra"]={encode:function(d){return d&&(1<(d=Ea.call(this,d,!0)).length&&(d=d.replace(j,"")),1<d.length&&(d=da(d)),d&&(d=d.split(" "))),d||[]},F:!1,G:""},h.Z={Index:N,Document:U,Worker:S,registerCharset:function(d,h){k[d]=h},registerLanguage:function(d,h){b[d]=h}}},9821:function(d,h,g){let _=g(4579).parse,y=g(7799).compile,A=g(7094).segment,b=g(1105);d.exports={parse:_,compile:y,segment:A,hls:b}},7799:function(d){function CompilerError(d,h){this.message=d,this.error=h}function convertTimestamp(d){let h=pad(Math.floor(d/60/60),2),g=pad(Math.floor(d/60)%60,2),_=pad(Math.floor(d%60),2),y=pad(Math.floor(1e3*(d%1).toFixed(4)),3);return`${h}:${g}:${_}.${y}`}function pad(d,h){let g=`${d}`;for(;g.length<h;)g=`0${g}`;return g}CompilerError.prototype=Object.create(Error.prototype),d.exports={CompilerError,compile:function(d){if(!d)throw new CompilerError("Input must be non-null");if("object"!=typeof d)throw new CompilerError("Input must be an object");if(Array.isArray(d))throw new CompilerError("Input cannot be array");if(!d.valid)throw new CompilerError("Input must be valid");let h="WEBVTT\n";if(d.meta){if("object"!=typeof d.meta||Array.isArray(d.meta))throw new CompilerError("Metadata must be an object");Object.entries(d.meta).forEach(d=>{if("string"!=typeof d[1])throw new CompilerError(`Metadata value for "${d[0]}" must be string`);h+=`${d[0]}: ${d[1]}
`})}let g=null;return d.cues.forEach((d,_)=>{if(g&&g>d.start)throw new CompilerError(`Cue number ${_} is not in chronological order`);g=d.start,h+="\n"+function(d){if("object"!=typeof d)throw new CompilerError("Cue malformed: not of type object");if("string"!=typeof d.identifier&&"number"!=typeof d.identifier&&null!==d.identifier)throw new CompilerError(`Cue malformed: identifier value is not a string.
    ${JSON.stringify(d)}`);if(isNaN(d.start))throw new CompilerError(`Cue malformed: null start value.
    ${JSON.stringify(d)}`);if(isNaN(d.end))throw new CompilerError(`Cue malformed: null end value.
    ${JSON.stringify(d)}`);if(d.start>=d.end)throw new CompilerError(`Cue malformed: start timestamp greater than end
    ${JSON.stringify(d)}`);if("string"!=typeof d.text)throw new CompilerError(`Cue malformed: null text value.
    ${JSON.stringify(d)}`);if("string"!=typeof d.styles)throw new CompilerError(`Cue malformed: null styles value.
    ${JSON.stringify(d)}`);let h="";d.identifier.length>0&&(h+=`${d.identifier}
`);let g=convertTimestamp(d.start),_=convertTimestamp(d.end);return h+(`${g} --> ${_}`+(d.styles?` ${d.styles}`:""))+`
${d.text}`}(d)+"\n"}),h}}},1105:function(d,h,g){let _=g(7094).segment;function pad(d,h){let g="0".repeat(Math.max(0,h-d.toString().length));return`${g}${d}`}function printableTimestamp(d){let h=(d%1).toFixed(3);d=Math.round(d-h);let g=Math.floor(d/3600),_=Math.floor((d-3600*g)/60),y=d-3600*g-60*_,A=`${pad(g,2)}:`;return`${A}${pad(_,2)}:${pad(y,2)}.${pad(1e3*h,3)}`}d.exports={hlsSegment:function(d,h,g){void 0===g&&(g="900000");let y=_(d,h),A=[];return y.forEach((d,h)=>{let _=`WEBVTT
X-TIMESTAMP-MAP=MPEGTS:${g},LOCAL:00:00:00.000

${function(d){let h=[];return d.forEach(d=>{h.push(function(d){let h=[];d.identifier&&h.push(d.identifier);let g=printableTimestamp(d.start),_=printableTimestamp(d.end),y=d.styles?`${d.styles}`:"";return h.push(`${g} --> ${_} ${y}`),h.push(d.text),h.join("\n")}(d))}),h.join("\n\n")}(d.cues)}
`,y=`${h}.vtt`;A.push({filename:y,content:_})}),A},hlsSegmentPlaylist:function(d,h){let g;let y=_(d,h),A=function(d){let h=[];return d.forEach((d,g)=>{h.push(`#EXTINF:${d.duration.toFixed(5)},
${g}.vtt`)}),h.join("\n")}(y),b=Math.round((g=0,y.forEach(d=>{d.duration>g&&(g=d.duration)}),g)),k=`#EXTM3U
#EXT-X-TARGETDURATION:${b}
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
${A}
#EXT-X-ENDLIST
`;return k}}},4579:function(d){function ParserError(d,h){this.message=d,this.error=h}ParserError.prototype=Object.create(Error.prototype);let h=/([0-9]+)?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;function parseTimestamp(d){let g=d.match(h);return 3600*parseFloat(g[1]||0)+(60*parseFloat(g[2])+parseFloat(g[3]))}d.exports={ParserError,parse:function(d,g){g||(g={});let{meta:_=!1,strict:y=!0}=g;if("string"!=typeof d)throw new ParserError("Input must be a string");d=(d=(d=d.trim()).replace(/\r\n/g,"\n")).replace(/\r/g,"\n");let A=d.split("\n\n"),b=A.shift();if(!b.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');let k=b.split("\n"),w=k[0].replace("WEBVTT","");if(w.length>0&&" "!==w[0]&&"	"!==w[0])throw new ParserError("Header comment must start with space or tab");if(0===A.length&&1===k.length)return{valid:!0,strict:y,cues:[],errors:[]};if(!_&&k.length>1&&""!==k[1])throw new ParserError("Missing blank line after signature");let{cues:R,errors:B}=function(d,g){let _=[],y=d.map((d,y)=>{try{return function(d,g,_){var y,A;let b="",k=0,w=.01,R="",B="",H=d.split("\n").filter(Boolean);if(H.length>0&&H[0].trim().startsWith("NOTE"))return null;if(1===H.length&&!H[0].includes("-->"))throw new ParserError(`Cue identifier cannot be standalone (cue #${g})`);if(H.length>1&&!(H[0].includes("-->")||H[1].includes("-->"))){let d=`Cue identifier needs to be followed by timestamp (cue #${g})`;throw new ParserError(d)}H.length>1&&H[1].includes("-->")&&(b=H.shift());let z="string"==typeof H[0]&&H[0].split(" --> ");if(2!==z.length||(y=z[0],!h.test(y))||(A=z[1],!h.test(A)))throw new ParserError(`Invalid cue timestamp (cue #${g})`);if(k=parseTimestamp(z[0]),w=parseTimestamp(z[1]),_){if(k>w)throw new ParserError(`Start timestamp greater than end (cue #${g})`);if(w<=k)throw new ParserError(`End must be greater than start (cue #${g})`)}if(!_&&w<k)throw new ParserError(`End must be greater or equal to start when not strict (cue #${g})`);return B=z[1].replace(h,"").trim(),H.shift(),!!(R=H.join("\n"))&&{identifier:b,start:k,end:w,text:R,styles:B}}(d,y,g)}catch(d){return _.push(d),null}}).filter(Boolean);return{cues:y,errors:_}}(A,y);if(y&&B.length>0)throw B[0];let H=_?function(d){let h={};return d.slice(1).forEach(d=>{let g=d.indexOf(":"),_=d.slice(0,g).trim(),y=d.slice(g+1).trim();h[_]=y}),Object.keys(h).length>0?h:null}(k):null,z={valid:0===B.length,strict:y,cues:R,errors:B};return _&&(z.meta=H),z}}},7094:function(d,h,g){let _=g(4579).parse;d.exports={segment:function(d,h){h=h||10;let g=_(d),y=[],A=[],b=null,k=0,w=0;return g.cues.forEach((d,_)=>{let R=0===_,B=_===g.cues.length-1,H=d.start,z=d.end,$=B?1/0:g.cues[_+1].start,j=R?z:z-H,q=R?0:H-g.cues[_-1].end;k=k+j+q,y.length,b&&(A.push(b),k+=b.end-w,b=null),A.push(d);let W=$-z<h&&q<h&&k>h;if(function(d,h,g,_){return(_<=h||_+(h-_%h)+d<g)&&g-d>=h}(w,h,$,q)){var K,ee,et,en;let d;let g=(K=h,ee=k,et=w,d=K,ee>K&&(d=(en=ee-K)+(K-en%K)),d=B?parseFloat((z-et).toFixed(2)):Math.round(d));y.push({duration:g,cues:A}),w+=g,k=0,A=[]}else W=!1;W&&(b=d)}),y}}},3679:function(d,h,g){let _,y,A,b;g.r(h),g.d(h,{Helpers:function(){return dh},Image:function(){return Tr},Primitives:function(){return nM.default},Scroll:function(){return Gn},Slider:function(){return sD.default},Viewer:function(){return ul},default:function(){return dp}});var k,w,R,B,H,z,$,j,q,W,K,ee,et,en,er,es,el,ec,eu,ed,eh,ep,ef,em,eg,eE,e_,eT,ev,ey,eA,eb,eS,ek,eC,ex,eI,ew,eO,eN,eR,eD,eL,eM,eP,eF,eB={};g.r(eB),g.d(eB,{boolean:function(){return n$},booleanish:function(){return nQ},commaOrSpaceSeparated:function(){return nX},commaSeparated:function(){return nW},number:function(){return nY},overloadedBoolean:function(){return nj},spaceSeparated:function(){return nq}});var eU={};g.r(eU),g.d(eU,{attentionMarkers:function(){return aD},contentInitial:function(){return ax},disable:function(){return aL},document:function(){return aC},flow:function(){return aw},flowInitial:function(){return aI},insideSpan:function(){return aR},string:function(){return aO},text:function(){return aN}});var eH=g(9203),eG=g(4511),ez=g(6744),eV=g(7294),e$=g.t(eV,2),eQ="http://library.stanford.edu/iiif/image-api/compliance.html#level2",ej="http://library.stanford.edu/iiif/image-api/conformance.html#level2",eY="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",eq="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",eW="http://iiif.io/api/image/1/level2.json",eX="http://iiif.io/api/image/1/profiles/level2.json",eK="http://iiif.io/api/image/2/level2.json",eJ="http://iiif.io/api/image/2/profiles/level2.json",eZ="level2",e0="http://iiif.io/api/image/2/level2",e1=[e0,eQ,ej,eY,eq,eW,eX,eK,eJ,eZ],e2=([...e1],["http://iiif.io/api/image/2/level0","http://iiif.io/api/image/2/level1",e0,"http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/compliance.html#level1",eQ,"http://library.stanford.edu/iiif/image-api/conformance.html#level0","http://library.stanford.edu/iiif/image-api/conformance.html#level1",ej,"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",eY,"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",eq,"http://iiif.io/api/image/1/level0.json","http://iiif.io/api/image/1/profiles/level0.json","http://iiif.io/api/image/1/level1.json","http://iiif.io/api/image/1/profiles/level1.json",eW,eX,"http://iiif.io/api/image/2/level0.json","http://iiif.io/api/image/2/profiles/level0.json","http://iiif.io/api/image/2/level1.json","http://iiif.io/api/image/2/profiles/level1.json",eK,eJ,"level0","level1",eZ]);function chunk_NJNTZ6QT_r(d){for(let h in d)(typeof d[h]>"u"||null===d[h])&&delete d[h];return d}function chunk_NJNTZ6QT_i(d){return Array.isArray(d)?d:d?[d]:[]}var e3=Object.defineProperty,chunk_D22QKJZO_e=(d,h,g)=>h in d?e3(d,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[h]=g,chunk_D22QKJZO_f=(d,h,g)=>(chunk_D22QKJZO_e(d,"symbol"!=typeof h?h+"":h,g),g),e4=["sc:Collection","sc:Manifest","sc:Canvas","sc:AnnotationList","oa:Annotation","sc:Range","sc:Layer","sc:Sequence","oa:Choice","Service","ContentResource"],e5=class t{constructor(d,h={}){chunk_D22QKJZO_f(this,"traversals"),chunk_D22QKJZO_f(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...d},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...h}}static all(d){return new t({collection:[d],manifest:[d],canvas:[d],annotationList:[d],sequence:[d],annotation:[d],contentResource:[d],choice:[d],range:[d],service:[d],layer:[d]})}traverseCollection(d){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(d))),this.traversals.collection)}traverseCollectionItems(d){if(this.options.mergeMemberProperties){let h=[...(d.manifests||[]).map(d=>"string"==typeof d?{"@id":d,"@type":"sc:Manifest"}:d),...(d.collections||[]).map(d=>"string"==typeof d?{"@id":d,"@type":"sc:Collection"}:d),...d.members||[]];delete d.collections,delete d.manifests,d.members=h}return d.manifests&&(d.manifests=d.manifests.map(d=>this.traverseManifest("string"==typeof d?{"@id":d,"@type":"sc:Manifest"}:d))),d.collections&&(d.collections=d.collections.map(d=>this.traverseCollection("string"==typeof d?{"@id":d,"@type":"sc:Collection"}:d))),d.members&&(d.members=d.members.map(d=>"string"==typeof d?d:this.traverseUnknown(d))),d}traverseManifest(d){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(d))),this.traversals.manifest)}traverseManifestItems(d){return d.sequences&&(d.sequences=d.sequences.map(d=>this.traverseSequence(d))),d.structures&&(d.structures=d.structures.map(d=>this.traverseRange(d))),d}traverseSequence(d){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(d))),this.traversals.sequence)}traverseSequenceItems(d){return d.canvases&&(d.canvases=d.canvases.map(d=>this.traverseCanvas(d))),d}traverseCanvas(d){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(d))),this.traversals.canvas)}traverseCanvasItems(d){return d.images&&(d.images=d.images.map(d=>this.traverseAnnotation(d))),d.otherContent&&(d.otherContent=d.otherContent.map(d=>this.traverseAnnotationList(d))),d}traverseRange(d){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(d))),this.traversals.range)}traverseRangeItems(d){if(this.options.mergeMemberProperties){let h=[...(d.ranges||[]).map(d=>"string"==typeof d?{"@id":d,"@type":"sc:Range"}:d),...(d.canvases||[]).map(d=>"string"==typeof d?{"@id":d,"@type":"sc:Canvas"}:d),...d.members||[]];delete d.ranges,delete d.canvases,d.members=h.length?h.map(d=>this.traverseUnknown(d)):void 0}return d}traverseAnnotationList(d){let h="string"==typeof d?{"@id":d,"@type":"sc:AnnotationList"}:d;return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems(h)),this.traversals.annotationList)}traverseAnnotationListItems(d){return d.resources&&(d.resources=d.resources.map(d=>this.traverseAnnotation(d))),d}traverseAnnotation(d){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(d))),this.traversals.annotation)}traverseAnnotationItems(d){return d.resource&&(Array.isArray(d.resource)?d.resource=d.resource.map(d=>this.traverseContentResource(d)):d.resource=this.traverseContentResource(d.resource)),d.on,d}traverseLayer(d){return this.traverseType(this.traverseLinking(this.traverseLayerItems(d)),this.traversals.layer)}traverseLayerItems(d){return d.otherContent&&(d.otherContent=d.otherContent.map(d=>this.traverseAnnotationList(d))),d}traverseChoice(d){return this.traverseType(this.traverseChoiceItems(d),this.traversals.choice)}traverseChoiceItems(d){return d.default&&"rdf:nil"!==d.default&&(d.default=this.traverseContentResource(d.default)),d.item&&"rdf:nil"!==d.item&&(d.item=d.item.map(d=>this.traverseContentResource(d))),d}traverseService(d){return this.traverseType(this.traverseLinking(d),this.traversals.service)}traverseContentResource(d){return"oa:Choice"===d["@type"]?this.traverseChoice(d):this.traverseType(this.traverseDescriptive(this.traverseLinking(d)),this.traversals.contentResource)}traverseUnknown(d){if(!d["@type"]||"string"==typeof d)return d;switch(function(d){if(typeof d>"u"||null===d)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(d))throw Error("Array is not a valid entity");if("object"!=typeof d)throw Error(`${typeof d} is not a valid entity`);if("string"==typeof d["@type"]){let h=e4.indexOf(d["@type"]);if(-1!==h)return e4[h]}if(d.profile)return"Service";if(d.format||d["@type"])return"ContentResource";throw Error("Resource type is not known")}(d)){case"sc:Collection":return this.traverseCollection(d);case"sc:Manifest":return this.traverseManifest(d);case"sc:Canvas":return this.traverseCanvas(d);case"sc:Sequence":return this.traverseSequence(d);case"sc:Range":return this.traverseRange(d);case"oa:Annotation":return this.traverseAnnotation(d);case"sc:AnnotationList":return this.traverseAnnotationList(d);case"sc:Layer":return this.traverseLayer(d);case"Service":return this.traverseService(d);case"oa:Choice":return this.traverseChoice(d);case"ContentResource":return this.traverseContentResource(d)}return d.profile?this.traverseService(d):d}traverseImageResource(d){let h=Array.isArray(d),g=Array.isArray(d)?d:[d],_=[];for(let d of g)"string"==typeof d?_.push(this.traverseContentResource({"@id":d,"@type":"dctypes:Image"})):_.push(this.traverseContentResource(d));return h||this.options.convertPropsToArray?_:_[0]}traverseDescriptive(d){return d.thumbnail&&(d.thumbnail=this.traverseImageResource(d.thumbnail)),d.logo&&(d.logo=this.traverseImageResource(d.logo)),d}traverseOneOrMoreServices(d){let h=Array.isArray(d),g=Array.isArray(d)?d:[d],_=[];for(let d of g)_.push(this.traverseService(d));return h||this.options.convertPropsToArray?_:_[0]}traverseLinking(d){return d.related&&(d.related=this.traverseOneOrManyType(d.related,this.traversals.contentResource)),d.rendering&&(d.rendering=this.traverseOneOrManyType(d.rendering,this.traversals.contentResource)),d.service&&(d.service=this.traverseOneOrMoreServices(d.service)),d.seeAlso&&(d.seeAlso=this.traverseOneOrManyType(d.seeAlso,this.traversals.contentResource)),d.within&&("string"==typeof d.within||(d.within=this.traverseOneOrManyType(d.within,this.traversals.contentResource))),d.startCanvas&&("string"==typeof d.startCanvas?d.startCanvas=this.traverseType({"@id":d.startCanvas,"@type":"sc:Canvas"},this.traversals.canvas):d.startCanvas&&this.traverseType(d.startCanvas,this.traversals.canvas)),d.contentLayer&&("string"==typeof d.contentLayer?d.contentLayer=this.traverseLayer({"@id":d.contentLayer,"@type":"sc:Layer"}):d.contentLayer=this.traverseLayer(d.contentLayer)),d}traverseOneOrManyType(d,h){if(!Array.isArray(d)){if(!this.options.convertPropsToArray)return this.traverseType(d,h);d=[d]}return d.map(d=>this.traverseType(d,h))}traverseType(d,h){return h.reduce((d,h)=>{let g=h(d);return typeof g>"u"&&!this.options.allowUndefinedReturn?d:g},d)}},e6=["http://iiif.io/api/image/2/level1","http://iiif.io/api/image/2/level2","http://library.stanford.edu/iiif/image-api/compliance.html#level1","http://library.stanford.edu/iiif/image-api/compliance.html#level2","http://library.stanford.edu/iiif/image-api/conformance.html#level1","http://library.stanford.edu/iiif/image-api/conformance.html#level2","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2","http://iiif.io/api/image/1/level1.json","http://iiif.io/api/image/1/profiles/level1.json","http://iiif.io/api/image/1/level2.json","http://iiif.io/api/image/1/profiles/level2.json","http://iiif.io/api/image/2/level1.json","http://iiif.io/api/image/2/profiles/level1.json","http://iiif.io/api/image/2/level2.json","http://iiif.io/api/image/2/profiles/level2.json","level1","level2"],e8={attributionLabel:"Attribution",providerId:"http://example.org/provider",providerName:"Unknown"};function chunk_BMMVY4QT_h(d,h="none"){if(!d)return{none:[""]};let g=function(d){if("string"==typeof d)return[d];if(!d)return[];let h=Array.isArray(d)?d:[d],g=[];for(let d of h){if("string"==typeof d){g.push(d);continue}g.push({"@language":d["@language"]||d.language,"@value":d["@value"]||d.value})}return g}(d),_={};for(let d of g){if("string"==typeof d){_[h]=_[h]?_[h]:[],_[h].push(d||"");continue}if(!d["@language"]){_[h]=_[h]?_[h]:[],_[h].push(d["@value"]||"");continue}let g=d["@language"];_[g]=_[g]?_[g]:[],_[g].push(d["@value"]||"")}return 0===Object.keys(_).length?{none:[""]}:_}function chunk_BMMVY4QT_(d){for(let h of["sc","oa","dcterms","dctypes","iiif"])if(d.startsWith(`${h}:`))return d.slice(h.length+1);return d}var e9=["Collection","Manifest","Annotation","AnnotationPage","Range","Service"];function chunk_BMMVY4QT_g(d){let h=d["@id"]||d.id,g=d["@type"]||d.type,_=d.profile||void 0,y=d["@context"]||void 0;if(_){let d=function(d){switch(d){case"http://iiif.io/api/image/2/level0.json":case"http://iiif.io/api/image/2/level1.json":case"http://iiif.io/api/image/2/level2.json":return"ImageService2";case"http://iiif.io/api/auth/1/kiosk":case"http://iiif.io/api/auth/1/login":case"http://iiif.io/api/auth/1/clickthrough":case"http://iiif.io/api/auth/1/external":case"http://iiif.io/api/auth/0/kiosk":case"http://iiif.io/api/auth/0/login":case"http://iiif.io/api/auth/0/clickthrough":case"http://iiif.io/api/auth/0/external":return"AuthCookieService1";case"http://iiif.io/api/auth/1/token":case"http://iiif.io/api/auth/0/token":return"AuthTokenService1";case"http://iiif.io/api/auth/1/logout":case"http://iiif.io/api/auth/0/logout":return"AuthLogoutService1";case"http://iiif.io/api/search/1/search":case"http://iiif.io/api/search/0/search":return"SearchService1";case"http://iiif.io/api/search/1/autocomplete":case"http://iiif.io/api/search/0/autocomplete":return"AutoCompleteService1"}}(_);if(d)return d}if(y){let d=function(d){for(let h of Array.isArray(d)?d:[d])switch(h){case"http://iiif.io/api/image/2/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2":return"ImageService2";case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":return"ImageService1";case"http://iiif.io/api/annex/openannotation/context.json":return"ImageApiSelector"}}(y);if(d)return d}if(g){if(Array.isArray(g)){if(-1!==g.indexOf("oa:CssStylesheet"))return"CssStylesheet";if(-1!==g.indexOf("cnt:ContentAsText"))return"TextualBody";g=g[0]}for(let d of["sc","oa","dcterms","dctypes","iiif"])if(g.startsWith(`${d}:`)){g=g.slice(d.length+1);break}switch(g){case"Layer":return"AnnotationCollection";case"AnnotationList":return"AnnotationPage";case"cnt:ContentAsText":return"TextualBody"}}if(g&&-1!==e9.indexOf(g))return g;if(d.format){if(d.format.startsWith("image/"))return"Image";if(d.format.startsWith("text/")||"application/pdf"===d.format)return"Text";if(d.format.startsWith("application/"))return"Dataset"}return h&&(h.endsWith(".jpg")||h.endsWith(".png")||h.endsWith(".jpeg"))?"Image":g||"unknown"}var e7=/http(s)?:\/\/(creativecommons.org|rightsstatements.org)[^"'\\<\n]+/gm,te=["http://iiif.io/api/presentation/2/context.json","http://iiif.io/api/image/2/context.json","http://iiif.io/api/image/1/context.json","http://library.stanford.edu/iiif/image-api/1.1/context.json","http://iiif.io/api/search/1/context.json","http://iiif.io/api/search/0/context.json","http://iiif.io/api/auth/1/context.json","http://iiif.io/api/auth/0/context.json","http://iiif.io/api/annex/openannotation/context.json"],tt=0;function chunk_BMMVY4QT_x(d,h){let g=encodeURI(d.id||d["@id"]||"").trim();return g&&h?`${g}/${h}`:g||(tt++,`http://example.org/${d["@type"]}${h?`/${h}`:""}/${tt}`)}function chunk_BMMVY4QT_p(d){let h,g=[...d.behavior||[]];return d.viewingHint&&g.push(d.viewingHint),Array.isArray(d.motivation)?h=d.motivation.map(chunk_BMMVY4QT_):d.motivation&&(h=chunk_BMMVY4QT_(d.motivation)),{"@context":d["@context"]?function(d){if(d){let h=Array.isArray(d)?d:[d],g=[];for(let d of h)"http://iiif.io/api/presentation/2/context.json"===d&&g.push("http://iiif.io/api/presentation/3/context.json"),-1===te.indexOf(d)&&g.push(d);if(h.length)return 1===g.length?g[0]:g}}(d["@context"]):void 0,id:(d["@id"]||chunk_BMMVY4QT_x(d)).trim(),type:chunk_BMMVY4QT_g(d),behavior:g.length?g:void 0,height:d.height?d.height:void 0,width:d.width?d.width:void 0,motivation:h,viewingDirection:d.viewingDirection,profile:d.profile,format:d.format?d.format:void 0,duration:void 0,timeMode:void 0}}function chunk_BMMVY4QT_f(d){var h,g;let[_,y]=function(d,h="Rights/License",g="none"){let _=null,y=[];for(let A of Array.isArray(d)?d:[d]){let d=A?function(d){let h=d.match(e7);return h?h[0]:d}(A):void 0;if(d&&(-1!==d.indexOf("creativecommons.org")||-1!==d.indexOf("rightsstatements.org"))){_=d.startsWith("https://")?`http://${d.slice(8)}`:d;continue}d&&y.push({label:{[g]:[h]},value:{[g]:[d]}})}return[_,y]}(d.license),A=[...d.metadata&&(h=d.metadata)?h.map(d=>({label:chunk_BMMVY4QT_h(d.label),value:chunk_BMMVY4QT_h(d.value)})):[],...y];return{rights:_,metadata:A.length?A:void 0,label:d.label?chunk_BMMVY4QT_h(d.label):void 0,requiredStatement:d.attribution?{label:chunk_BMMVY4QT_h(e8.attributionLabel),value:chunk_BMMVY4QT_h(d.attribution)}:void 0,navDate:d.navDate,summary:d.description?chunk_BMMVY4QT_h(d.description):void 0,thumbnail:(g=d.thumbnail)&&(Array.isArray(g)?g:[g]).map(d=>"string"==typeof d?{id:d,type:"Image"}:("unknown"===d.type&&(d.type="Image"),d))}}function chunk_BMMVY4QT_l(d){let h=d.related?Array.isArray(d.related)?d.related:[d.related]:[],g=d.contentLayer;return{provider:d.logo||h.length?[{id:e8.providerId,type:"Agent",homepage:h.length?[h[0]]:void 0,logo:d.logo?Array.isArray(d.logo)?d.logo:[d.logo]:void 0,label:chunk_BMMVY4QT_h(e8.providerName)}]:void 0,partOf:function(d){if(!d.within)return;let h=Array.isArray(d.within)?d.within:[d.within],g=[];for(let _ of h)"string"==typeof _?_&&"sc:Manifest"===d["@type"]&&g.push({id:_,type:"Collection"}):_["@id"]&&g.push({id:_["@id"],type:chunk_BMMVY4QT_g(_)});return g.length?g:void 0}(d),rendering:d.rendering,seeAlso:d.seeAlso,start:d.startCanvas,service:d.service?chunk_NJNTZ6QT_i(d.service):void 0,supplementary:g?[g]:void 0}}function T(d){return"Choice"===d.type?d:chunk_BMMVY4QT_E(d)}function chunk_BMMVY4QT_E(d){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(d),...chunk_BMMVY4QT_f(d),...chunk_BMMVY4QT_l(d),chars:d.chars,format:d.format?d.format:void 0,language:d.language})}var tn=new e5({collection:[function(d){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(d),...chunk_BMMVY4QT_f(d),...chunk_BMMVY4QT_l(d),items:d.members})}],manifest:[function(d){let h=[],g=[],_;for(let y of d.sequences||[])y.canvases.length&&h.push(...y.canvases),y.behavior&&g.push(...y.behavior),y.startCanvas&&(_=y.startCanvas);let y=chunk_BMMVY4QT_p(d);return g.length&&(y.behavior?y.behavior.push(...g):y.behavior=g),chunk_NJNTZ6QT_r({...y,...chunk_BMMVY4QT_f(d),...chunk_BMMVY4QT_l(d),start:_,items:h,structures:function(d){if(!d)return d;let h=new Map;for(let g of d)h.set(g.id,g);let g=[];for(let _ of d)if(_.items){let d=_.items.map(d=>"string"==typeof d?(g.push(d),h.get(d)||d):d&&d.id?(g.push(d.id),h.get(d.id)||d):d);_.items=d}return d.filter(d=>-1===g.indexOf(d.id))}(d.structures)})}],canvas:[function(d){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(d),...chunk_BMMVY4QT_f(d),...chunk_BMMVY4QT_l(d),annotations:d.otherContent&&d.otherContent.length?d.otherContent:void 0,items:d.images&&d.images.length?[{id:chunk_BMMVY4QT_x(d,"annotation-page"),type:"AnnotationPage",items:d.images}]:void 0})}],annotationList:[function(d){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(d),...chunk_BMMVY4QT_f(d),...chunk_BMMVY4QT_l(d),items:d.resources&&d.resources.length?d.resources:void 0})}],sequence:[function(d){return d.canvases&&0!==d.canvases.length?{canvases:d.canvases,behavior:d.viewingHint?[d.viewingHint]:[],startCanvas:d.startCanvas}:{canvases:[],behavior:[]}}],annotation:[function(d){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(d),...chunk_BMMVY4QT_f(d),...chunk_BMMVY4QT_l(d),target:function e(d){if(Array.isArray(d)){if(d.length>1)return{type:"List",items:d.map(e)};d=d[0]}if("string"==typeof d)return encodeURI(d).trim();if(!("@type"in d))return encodeURI(d["@id"]).trim();{let h;if("string"==typeof d.full)h=d.full;else if("dctypes:Image"===d.full["@type"])h={id:d.full["@id"],type:"Image"};else if("sc:Canvas"===d.full["@type"])h={id:d.full["@id"],type:"Canvas"};else throw Error(`Unsupported source type on annotation: ${d.full["@type"]}`);return{type:"SpecificResource",source:h,selector:function chunk_BMMVY4QT_y(d){if((Array.isArray(d["@type"])&&d["@type"].includes("oa:SvgSelector")||"oa:SvgSelector"==d["@type"])&&("chars"in d||"value"in d))return{type:"SvgSelector",value:"chars"in d?d.chars:d.value};if("oa:FragmentSelector"===d["@type"])return{type:"FragmentSelector",value:d.value};if("oa:Choice"===d["@type"])return[chunk_BMMVY4QT_y(d.default),...(Array.isArray(d.item)?d.item:[d.item]).map(chunk_BMMVY4QT_y)];if("iiif:ImageApiSelector"==d["@type"])return{type:"ImageApiSelector",region:"region"in d?d.region:void 0,rotation:"rotation"in d?d.rotation:void 0};throw Error(`Unsupported selector type: ${d["@type"]}`)}(d.selector)}}}(d.on),body:Array.isArray(d.resource)?d.resource.map(T):T(d.resource)})}],contentResource:[chunk_BMMVY4QT_E],choice:[function(d){let h=[];return d.default&&"rdf:nil"!==d.default&&h.push(d.default),d.item&&"rdf:nil"!==d.item&&h.push(...d.item),chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(d),...chunk_BMMVY4QT_f(d),items:h})}],range:[function(d){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(d),...chunk_BMMVY4QT_f(d),...chunk_BMMVY4QT_l(d),items:d.members})}],service:[function(d){let{"@id":h,"@type":g,"@context":_,profile:y,...A}=d,b={};return h&&(b["@id"]=h),b["@type"]=chunk_BMMVY4QT_g(d),"unknown"===b["@type"]&&(_&&_.length&&(b["@context"]=_),b["@type"]="Service"),y&&(b.profile=function chunk_BMMVY4QT_L(d){return Array.isArray(d)?chunk_BMMVY4QT_L(d.find(d=>"string"==typeof d)):-1!==e1.indexOf(d)?"level2":-1!==e6.indexOf(d)?"level1":-1!==e2.indexOf(d)?"level0":"string"==typeof d?d:void 0}(y)),chunk_NJNTZ6QT_r({...b,...A})}],layer:[function(d){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(d),...chunk_BMMVY4QT_f(d),...chunk_BMMVY4QT_l(d)})}]});function chunk_W3DWL6UZ_v(d){return"string"!=typeof d&&(d&&!d.type&&"source"in d?(d.type="SpecificResource",!0):!!d&&"SpecificResource"===d.type)}function chunk_W3DWL6UZ_o(...d){return h=>d.reduce((d,h)=>h(d),h)}var tr=["Collection","Manifest","Canvas","AnnotationPage","AnnotationCollection","Annotation","ContentResource","Range","Service","Selector","Agent"],ta=class a{constructor(d,h={}){chunk_D22QKJZO_f(this,"traversals"),chunk_D22QKJZO_f(this,"options"),chunk_D22QKJZO_f(this,"_traverseManifest",chunk_W3DWL6UZ_o(this.traverseManifestItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this),this.traverseManifestStructures.bind(this),this.traverseInlineAnnotationPages.bind(this))),chunk_D22QKJZO_f(this,"_traverseCanvas",chunk_W3DWL6UZ_o(this.traverseCanvasItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this),this.traverseInlineAnnotationPages.bind(this))),chunk_D22QKJZO_f(this,"_traverseAnnotationPage",chunk_W3DWL6UZ_o(this.traverseAnnotationPageItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this))),chunk_D22QKJZO_f(this,"_traverseRange",chunk_W3DWL6UZ_o(this.traverseRangeRanges.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this))),this.traversals={collection:[],manifest:[],canvas:[],annotationCollection:[],annotationPage:[],annotation:[],contentResource:[],choice:[],range:[],service:[],agent:[],specificResource:[],geoJson:[],...d},this.options={allowUndefinedReturn:!1,...h}}static all(d){return new a({collection:[d],manifest:[d],canvas:[d],annotationCollection:[d],annotationPage:[d],annotation:[d],contentResource:[d],choice:[d],range:[d],service:[d],geoJson:[d],specificResource:[d],agent:[d]})}traverseDescriptive(d){return d.thumbnail&&(d.thumbnail=chunk_NJNTZ6QT_i(d.thumbnail).map(h=>this.traverseType(h,{parent:d},this.traversals.contentResource))),d.provider&&(d.provider=d.provider.map(h=>this.traverseAgent(h,d))),d}traverseLinking(d){return d.seeAlso&&(d.seeAlso=d.seeAlso.map(h=>this.traverseType(h,{parent:d},this.traversals.contentResource))),d.service&&(d.service=chunk_NJNTZ6QT_i(d.service).map(d=>this.traverseService(d))),d.services&&(d.services=chunk_NJNTZ6QT_i(d.services).map(h=>this.traverseService(h,d))),d.logo&&(d.logo=d.logo.map(h=>this.traverseType(h,{parent:d},this.traversals.contentResource))),d.homepage&&(d.homepage=chunk_NJNTZ6QT_i(d.homepage).map(h=>this.traverseType(h,{parent:d},this.traversals.contentResource))),d.partOf&&(d.partOf=d.partOf.map(h=>"string"!=typeof h&&h.type?"Canvas"===h.type?this.traverseType(h,{parent:d},this.traversals.canvas):"AnnotationCollection"===h.type?this.traverseType(h,{parent:d},this.traversals.annotationCollection):"Collection"===h.type?this.traverseType(h,{parent:d},this.traversals.collection):this.traverseType(h,{parent:d},this.traversals.contentResource):this.traverseType(h,{parent:d},this.traversals.contentResource))),d.start&&(chunk_W3DWL6UZ_v(d.start)?d.start=this.traverseSpecificResource(d.start,"Canvas",d):d.start=this.traverseType(d.start,{parent:d},this.traversals.canvas)),d.rendering&&(d.rendering=d.rendering.map(h=>this.traverseType(h,{parent:d},this.traversals.contentResource))),d.supplementary&&(d.supplementary=d.supplementary.map(h=>this.traverseType(h,{parent:d},this.traversals.contentResource))),d}traverseCollectionItems(d){return d.items&&d.items.map(d=>"Collection"===d.type?this.traverseCollection(d):this.traverseManifest(d)),d}traverseCollection(d,h){return this.traverseType(this.traverseDescriptive(this.traverseInlineAnnotationPages(this.traverseLinking(this.traverseLinkedCanvases(this.traverseCollectionItems(d))))),{parent:h},this.traversals.collection)}traverseGeoJson(d,h){return this.traverseType(d,{parent:h},this.traversals.geoJson)}traverseNavPlace(d){return d.navPlace&&(d.navPlace=this.traverseGeoJson(d.navPlace,d)),d}traverseManifestItems(d){return d.items&&(d.items=d.items.map(d=>this.traverseCanvas(d))),d}traverseManifestStructures(d){return d.structures&&(d.structures=d.structures.map(d=>this.traverseRange(d))),d}traverseManifest(d,h){return this.traverseType(this._traverseManifest(d),{parent:h},this.traversals.manifest)}traverseCanvasItems(d){return d.items=(d.items||[]).map(h=>this.traverseAnnotationPage(h,d)),d}traverseInlineAnnotationPages(d){return"string"==typeof d||!d||d.annotations&&(d.annotations=d.annotations.map(h=>this.traverseAnnotationPage(h,d))),d}traverseCanvas(d,h){return this.traverseType(this._traverseCanvas(d),{parent:h},this.traversals.canvas)}traverseAnnotationPageItems(d){return d.items&&(d.items=d.items.map(h=>this.traverseAnnotation(h,d))),d}traverseAnnotationPage(d,h){return this.traverseType(this._traverseAnnotationPage(d),{parent:h},this.traversals.annotationPage)}traverseAnnotationBody(d){return Array.isArray(d.body)?d.body=d.body.map(h=>this.traverseContentResource(h,d)):d.body&&(d.body=this.traverseContentResource(d.body,d)),d}traverseLinkedCanvases(d){return d.placeholderCanvas&&(d.placeholderCanvas=this.traverseCanvas(d.placeholderCanvas)),d.accompanyingCanvas&&(d.accompanyingCanvas=this.traverseCanvas(d.accompanyingCanvas)),d}traverseAnnotation(d,h){return this.traverseType(this.traverseLinking(this.traverseAnnotationBody(this.traverseDescriptive(d))),{parent:h},this.traversals.annotation)}traverseContentResourceLinking(d){return"string"==typeof d||!d||d&&d.service&&(d.service=chunk_NJNTZ6QT_i(d.service||[]).map(h=>this.traverseService(h,d))),d}traverseContentResource(d,h){return"Choice"===d.type&&(d.items=d.items.map(h=>this.traverseContentResource(h,d))),chunk_W3DWL6UZ_v(d)?this.traverseSpecificResource(d,"ContentResource"):this.traverseType(this.traverseInlineAnnotationPages(this.traverseContentResourceLinking(d)),{parent:h},this.traversals.contentResource)}traverseSpecificResource(d,h,g){let _=d.source;return"string"==typeof d.source&&(_={id:d.source,type:h||"unknown"}),this.traverseType({...d,source:"Canvas"===h||"Canvas"===_.type?this.traverseType(_,{parent:g},this.traversals.canvas):"ContentResource"===h?this.traverseContentResource(_,{parent:g}):this.traverseUnknown(_,{parent:g,typeHint:h})},{parent:g},this.traversals.specificResource)}traverseRangeRanges(d){return d.items&&(d.items=d.items.map(h=>"string"==typeof h?this.traverseCanvas({id:h,type:"Canvas"},d):chunk_W3DWL6UZ_v(h)?this.traverseSpecificResource(h,"Canvas",d):"Manifest"===h.type?this.traverseManifest(h,d):this.traverseRange(h,d))),d}traverseRange(d,h){return this.traverseType(this._traverseRange(d),{parent:h},this.traversals.range)}traverseAgent(d,h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(d)),{parent:h},this.traversals.agent)}traverseType(d,h,g){return g.reduce((d,g)=>{let _=g(d,h);return typeof _>"u"&&!this.options.allowUndefinedReturn?d:_},d)}traverseService(d,h){let g=Object.assign({},d);return g&&g.service&&(g.service=chunk_NJNTZ6QT_i(g.service).map(d=>this.traverseService(d))),this.traverseType(g,{parent:h},this.traversals.service)}traverseUnknown(d,{parent:h,typeHint:g}={}){let _=function(d,h){if(typeof d>"u"||null===d)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(d))throw Error("Array is not a valid entity");if("object"!=typeof d){if(h)return h;throw Error(`${typeof d} is not a valid entity`)}if("string"==typeof d.type){let h=tr.indexOf(d.type);if(-1!==h)return tr[h]}if(d.profile)return"Service";throw Error("Resource type is not known")}(d,g);switch(_){case"Collection":return this.traverseCollection(d,h);case"Manifest":return this.traverseManifest(d,h);case"Canvas":return this.traverseCanvas(d,h);case"AnnotationPage":return this.traverseAnnotationPage(d,h);case"Annotation":return this.traverseAnnotation(d,h);case"ContentResource":return this.traverseContentResource(d,h);case"Range":return this.traverseRange(d,h);case"Service":return this.traverseService(d,h);case"Agent":return this.traverseAgent(d,h);default:throw Error(`Unknown or unsupported resource type of ${_}`)}}},ts={},tl="iiif-parser:hasPart",tc="iiif-parser:partOf",tu="iiif-parser:isExternal",td="__$UNSET$__",th="__$UNWRAP$__",tp=[];function chunk_AXOUQGO3_oe(d,h){if(h&&h["@explicit"]){let g={};for(let _ of Object.keys(h))_===tc||"@explicit"===_||(function(d){if(d===ts||0===Object.keys(d).length)return!0;for(let h in d)return!1;return!0}(h[_])?g[_]=d[_]:g[_]=h[_]);return g}return d}Object.freeze(tp),Object.freeze(ts);var tf={id:"https://iiif-parser/annotation-page",type:"AnnotationPage",behavior:tp,label:null,thumbnail:tp,summary:null,requiredStatement:null,metadata:tp,rights:null,provider:tp,items:tp,seeAlso:tp,homepage:tp,rendering:tp,service:tp},tm={id:"https://iiif-parser/empty-canvas",type:"Canvas",label:null,behavior:tp,thumbnail:tp,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tp,rights:null,navDate:null,provider:tp,items:tp,annotations:tp,seeAlso:tp,homepage:tp,partOf:tp,rendering:tp,service:tp,duration:0,height:0,width:0},tg={id:"https://iiif-parser/empty-collection",type:"Collection",label:null,viewingDirection:"left-to-right",behavior:tp,thumbnail:tp,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tp,rights:null,navDate:null,provider:tp,items:tp,annotations:tp,seeAlso:tp,homepage:tp,partOf:tp,rendering:tp,service:tp,services:tp},tE={id:"https://iiif-parser/empty-manifest",type:"Manifest",annotations:tp,behavior:tp,homepage:tp,items:tp,label:null,metadata:tp,navDate:null,provider:tp,partOf:tp,accompanyingCanvas:null,placeholderCanvas:null,rendering:tp,requiredStatement:null,rights:null,seeAlso:tp,service:tp,services:tp,start:null,structures:tp,summary:null,thumbnail:tp,viewingDirection:"left-to-right"},t_={id:"https://iiif-parser/empty-canvas",type:"Range",label:null,behavior:tp,thumbnail:tp,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tp,rights:null,navDate:null,provider:tp,items:tp,annotations:tp,seeAlso:tp,homepage:tp,partOf:tp,rendering:tp,service:tp,start:null,supplementary:null,viewingDirection:"left-to-right"},tT={id:"https://iiif-parser/empty-agent",type:"Agent",label:{},logo:tp,seeAlso:tp,homepage:tp},tv={id:"https://iiif-parser/empty-service",type:"UnknownService"};function chunk_AXOUQGO3_Z(d,h){if("string"==typeof d)return{id:d,type:h};if(!d.id)throw Error(`Invalid resource does not have an ID (${JSON.stringify(d)}, ${h})`);return d}function chunk_AXOUQGO3_W(d,h,g){if("string"==typeof d)return d;if(h.id!==d.id||h.type!==d.type){if("ImageService3"===h.type)return h;if("ImageService3"===d.type)return d;throw Error(`Can only merge entities with identical identifiers and type! ${h.type}(${h.id}) => ${d.type}(${d.id})`)}return function chunk_AXOUQGO3_$(d,h,g){if(!h)return d;if(Array.isArray(d)){if(!Array.isArray(h))throw Error("Cannot merge array with non-array");let g=[...d];for(let _ of h)if(_["@id"]&&!_.id&&(_.id=_["@id"]),_["@type"]&&!_.type&&(_.type=_["@type"]),null!=_){if(Array.isArray(_))g.push(_);else if("object"==typeof _&&_.id&&_.type){let d=g.findIndex(d=>d.id===_.id&&d.type===_.type);d>=0&&(g[d]=chunk_AXOUQGO3_$(g[d],_))}else -1===d.indexOf(_)&&g.push(_)}return g}if("object"==typeof d){if(Array.isArray(h)||"object"!=typeof h)throw Error("Cannot merge object with non-object");let _={...d},y=[],A=[],b=Object.keys(d).filter(d=>d!==tl&&"id"!==d&&"type"!==d),k={},w={};for(let[d,g]of Object.entries(h)){if(d===tl||"id"===d||"type"===d)continue;let h=_[d];h===g?A.push(d):h!==tp&&h?(h&&g&&(k[d]=h,w[d]=g),_[d]=chunk_AXOUQGO3_$(h,g),_[d]===k[d]&&(A.push(d),delete k[d])):(y.push(d),_[d]=g)}if(g&&(g.parent&&g.parent.id||g.isTopLevel)){let h=[],R={};if(g.parent?R[tc]=g.parent.id:g.isTopLevel&&(R[tc]=d.id),_[tl]&&_[tl].length){let d=!(_[tl]||[]).find(d=>d["@explicit"]),g=y.length>0||A.length!==b.length;if(d&&g)for(let d of _[tl]){let g={...d},_=Object.keys(k);if(g){for(let d of(g["@explicit"]=!0,b))d!==tl&&(g[d]=ts);for(let d of _)g[d]=k[d]}h.push(g)}else h.push(..._[tl]);if(g){let d=Object.keys(w);for(let d of(R["@explicit"]=!0,y))R[d]=ts;for(let d of A)R[d]=ts;for(let h of d)R[h]=w[h]}}R.id=_.id,R.type=_.type,h.push(R),_[tl]=h}return _}return d||h}({...d},h,g)}function chunk_AXOUQGO3_U(d){return h=>"string"==typeof h?{id:h,type:d}:h.id?h.type?h:{type:d,...h}:{id:`vault://${function(d){let h=JSON.stringify(d),g=5381,_=h.length;for(;_;)g=33*g^h.charCodeAt(--_);let y=(g>>>0).toString(16);return y.length%2?"0"+y:y}(h)}`,type:d,...h}}function chunk_AXOUQGO3_E(d){return h=>({...d,...h})}function chunk_AXOUQGO3_D(d){return Array.isArray(d)?d:[d]}function chunk_AXOUQGO3_fe(d){return d.body&&(d.body=chunk_AXOUQGO3_D(d.body)),d.seeAlso&&(d.seeAlso=chunk_AXOUQGO3_D(d.seeAlso)),d.audience&&(d.audience=chunk_AXOUQGO3_D(d.audience)),d.accessibility&&(d.accessibility=chunk_AXOUQGO3_D(d.accessibility)),d.motivation&&(d.motivation=chunk_AXOUQGO3_D(d.motivation)),d}function chunk_AXOUQGO3_ee(d,{typeHint:h,partOfTypeHint:g}={}){let _;if("string"==typeof d&&(d={id:d,type:h||"unknown"}),chunk_W3DWL6UZ_v(d))return"string"==typeof d.source&&(d.source={id:d.source,type:h||"unknown"}),"Canvas"===d.source.type&&d.source.partOf&&"string"==typeof d.source.partOf&&(d.source.partOf=[{id:d.source.partOf,type:g||"Manifest"}]),d;if(-1!==(d.id||"").indexOf("#")){let[h,g]=(d.id||"").split("#");d.id=h,g&&(_={type:"FragmentSelector",value:g})}return{type:"SpecificResource",source:d,selector:_}}function chunk_AXOUQGO3_pe(d){let h=Object.assign({},d);return d&&d.items&&(h.items=d.items.map(d=>"string"==typeof d||"Canvas"===d.type?chunk_AXOUQGO3_ee(d):d)),h}function chunk_AXOUQGO3_ye(d){let h=Object.assign({},d);return h.start?(h.start=chunk_AXOUQGO3_ee(h.start,{typeHint:"Canvas"}),h):d}function chunk_AXOUQGO3_me(d){let h=Object.assign({},d);return h.target?(h.target=function chunk_AXOUQGO3_(d,h={}){if(Array.isArray(d))return chunk_AXOUQGO3_(d[0]);if("string"==typeof d){let[g,_]=d.split("#");return _?{type:"SpecificResource",source:{id:g,type:h.typeHint||"Unknown"},selector:{type:"FragmentSelector",value:_}}:{type:"SpecificResource",source:{id:g,type:h.typeMap&&h.typeMap[g]||h.typeHint||"Unknown"}}}if("Choice"===d.type||"List"===d.type||"Composite"===d.type||"Independents"===d.type)return chunk_AXOUQGO3_(d.items[0]);if(!d.type&&"source"in d&&(d.type="SpecificResource"),"SpecificResource"===d.type)return"Canvas"===d.source.type&&d.source.partOf&&"string"==typeof d.source.partOf&&(d.source.partOf=[{id:d.source.partOf,type:"Manifest"}]),d.selector?{type:"SpecificResource",source:d.source,selector:d.selector}:{type:"SpecificResource",source:d.source};if(d.id){"Canvas"===d.type&&d.partOf&&"string"==typeof d.partOf&&(d.partOf=[{id:d.partOf,type:"Manifest"}]);let[h,g]=d.id.split("#");return g?{type:"SpecificResource",source:{...d,id:h},selector:{type:"FragmentSelector",value:g}}:{type:"SpecificResource",source:{...d,id:h}}}return{type:"SpecificResource",source:d}}(h.target,{typeHint:"Canvas"}),h):d}function chunk_AXOUQGO3_ve(d){return d}function chunk_AXOUQGO3_q(d){return typeof d.items>"u"&&(d[tu]=!0),d}function Fe(d){let h=d&&d["@context"]&&("http://iiif.io/api/presentation/2/context.json"===d["@context"]||-1!==d["@context"].indexOf("http://iiif.io/api/presentation/2/context.json")||"http://www.shared-canvas.org/ns/context.json"===d["@context"])||"http://iiif.io/api/image/2/context.json"===d["@context"]?tn.traverseUnknown(d):d,g={Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}},_={},t=(d,_)=>{let y=g[d]?g[d]:{};return(g,A)=>{let b=chunk_AXOUQGO3_Z(g,_||d);return b&&b.id&&d?(y[b.id]=y[b.id]?chunk_AXOUQGO3_W(y[b.id],b,{parent:A.parent,isTopLevel:h.id===b.id}):chunk_AXOUQGO3_W({id:b.id,type:b.type},b,{parent:A.parent,isTopLevel:h.id===b.id}),{id:b.id,type:"ContentResource"===d?d:b.type}):b}},a=(d,h)=>g=>{let{id:y,type:A}=chunk_AXOUQGO3_Z(g,h||d);if(typeof y>"u")throw Error("Found invalid entity without an ID.");return"ContentResource"===d||"Service"===d?_[y]=d:_[y]=A,g},y=new ta({collection:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_E(tg),a("Collection"),t("Collection")],manifest:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_E(tE),chunk_AXOUQGO3_ye,a("Manifest"),t("Manifest")],canvas:[chunk_AXOUQGO3_E(tm),a("Canvas"),t("Canvas")],annotationPage:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_U("AnnotationPage"),chunk_AXOUQGO3_E(tf),a("AnnotationPage"),t("AnnotationPage")],annotation:[chunk_AXOUQGO3_U("Annotation"),chunk_AXOUQGO3_fe,chunk_AXOUQGO3_me,a("Annotation"),t("Annotation")],contentResource:[chunk_AXOUQGO3_U("ContentResource"),a("ContentResource"),t("ContentResource")],range:[chunk_AXOUQGO3_E(t_),chunk_AXOUQGO3_pe,a("Range","Canvas"),t("Range","Canvas")],agent:[chunk_AXOUQGO3_E(tT),a("Agent"),t("Agent")],specificResource:[chunk_AXOUQGO3_ve],service:[d=>{g.Service=g.Service?g.Service:{};let h=d.id||d["@id"],_=function(d){let h=Object.assign({},d);if(h["@id"]&&(h.id=h["@id"]),h["@type"]&&(h.type=h["@type"]),h.service){let d=[];for(let g of(h.service=Array.isArray(h.service)?h.service:[h.service],h.service))d.push({id:g["@id"]||g.id,type:g["@type"]||g.type});h.service=d}return Object.assign({},tv,h)}(d);return _&&_.id&&(g.Service[_.id]?g.Service[h]=chunk_AXOUQGO3_W(g.Service[h],_):g.Service[h]=_),d}]}).traverseUnknown(h);return{entities:g,resource:y,mapping:_}}function $e(d,h,g){if(!h.type||!h.id)throw Error("Unknown entity");if(!g[h.type])throw Error(`Serializer not found for ${h.type}`);return function r(_,y,A=0){let b=g[_.type];if(!b)return td;if(A>20)throw Error("Circular reference: "+_.id+" "+_.type);let[k,w]=function chunk_AXOUQGO3_F(d,h,g){let _=function chunk_AXOUQGO3_L(d,h){let g=h||"unknown";if(!d)return;if("string"==typeof d)return{id:d,type:g};if(chunk_W3DWL6UZ_v(d))return chunk_AXOUQGO3_L(d.source,h);let _=g&&"unknown"!==g?g:d.type||d["@type"],y=d.id||d["@id"];if(_&&-1!==_.indexOf(":")&&(_=_.split(":").pop()),y&&_)return{id:y,type:_}}(h);if(!_)return[void 0,void 0];let y=d.requests[_.id],A=_.type||d.mapping[_.id];if(!A||y&&y.resourceUri&&(!d.entities[A]||!d.entities[A][y.resourceUri]))return[void 0,void 0];let b=d.entities[A][y?y.resourceUri:_.id];if(_.type&&!b)return chunk_AXOUQGO3_F(d,{id:_.id},g);if(b&&b[tl]){let d=b[tl].find(d=>g?d[tc]===g.id:d[tc]===b.id);return[chunk_AXOUQGO3_oe(b,d),b]}return[b,b]}(d,_.type?_:_.id,y)||(_.id&&_.type?_:null);if(!k)return td;let R=b(k,d,{parent:y,isTopLevel:h.id===_.id,fullResource:w}),B=R.next();for(;!B.done;){let d=B.value,h=td;if(d){if(Array.isArray(d)){let g=[];for(let h of d)g.push(r(h,_,A+1));h=g}else h=r(d,_,A+1)}B=R.next(h)}return B.value===td?td:function(d){let h={};for(let[g,_]of d){if(g===th&&_!==td)return _;_!==td&&"u">typeof _&&null!==_&&(h[g]=_)}return h}(B.value)}(h)}function chunk_AXOUQGO3_P(d,{allowSourceString:h=!0,allowString:g=!1,allowedStringType:_}={}){let t=d=>{if(h&&d&&d.source&&"string"!=typeof d.source){let h=Object.keys(d.source);if(d.source.id&&d.source.type&&2===h.length)return{...d,source:d.source.id}}return d};if(d){if(d.source&&d.source.partOf)return t(d);let h=Object.keys(d);if(2===h.length&&d.type&&d.source||3===h.length&&d.type&&d.source&&-1!==h.indexOf("selector")&&!d.selector)return g&&(!_||_===d.source.type)?d.source.id:"ContentResource"===d.source.type?{type:"SpecificResource",source:d.source.id}:d.source;if(d.selector&&!Array.isArray(d.selector)&&"string"!=typeof d.selector&&"FragmentSelector"===d.selector.type){let h=`${d.source.id}#${d.selector.value}`;return g?h:{id:h,type:d.source.type}}}return t(d)}function chunk_AXOUQGO3_O(d){if(!d)return;let h=Object.keys(d);if(0!==h.length){if(1===h.length){let g=h[0];if(!g)return"";let _=(d[g]||[]).join("");return"@none"===g||"none"===g||"en"===g?_:{"@language":g,"@value":_}}return h.map(h=>({"@language":h,"@value":(d[h]||[]).join("")}))}}function chunk_AXOUQGO3_h(d,h=!1){if(d)return d.length>1&&!h?d:d[0]||void 0}function chunk_AXOUQGO3_he(d){if(d){if("string"==typeof d)return{"@id":d};if("@id"in d){let h={...d};return delete h["@type"],h}return{"@context":"http://iiif.io/api/image/2/context.json","@id":d.id,profile:`http://iiif.io/api/image/2/profiles/${d.profile}.json`}}}function chunk_AXOUQGO3_N(d,h){return[["@id",d.id],["@type",h],["format",d.format],["height",d.height],["width",d.width],["viewingDirection","left-to-right"!==d.viewingDirection?d.viewingDirection:void 0],["license",d.license?d.license:void 0]]}function*chunk_AXOUQGO3_b(d){let h=d.provider?yield d.provider[0]:void 0;return[["label",chunk_AXOUQGO3_O(d.label)],["metadata",d.metadata&&d.metadata.length?d.metadata.map(d=>({label:chunk_AXOUQGO3_O(d.label)||"",value:chunk_AXOUQGO3_O(d.value)||""})):void 0],["description",chunk_AXOUQGO3_O(d.summary)],["thumbnail",chunk_AXOUQGO3_h((yield d.thumbnail))],["navDate",d.navDate],["logo",h?chunk_AXOUQGO3_h(h.logo):void 0],["homepage",h?h.homepage:void 0],["attribution",d.requiredStatement?chunk_AXOUQGO3_O(d.requiredStatement.value):void 0]]}function*chunk_AXOUQGO3_k(d){let h=d.start&&d.start.type&&"SpecificResource"===d.start.type?chunk_AXOUQGO3_P(d.start):d.start;return[["seeAlso",chunk_AXOUQGO3_h((yield d.seeAlso))],["service",chunk_AXOUQGO3_h((d.service||[]).map(chunk_AXOUQGO3_he))],["rendering",chunk_AXOUQGO3_h((yield d.rendering))],["startCanvas",h?h.id:void 0]]}var ty={Manifest:function*(d,h,{isTopLevel:g}){return[...g?[["@context","http://iiif.io/api/presentation/2/context.json"]]:[],...chunk_AXOUQGO3_N(d,"sc:Manifest"),...yield*chunk_AXOUQGO3_b(d),...yield*chunk_AXOUQGO3_k(d),["sequences",[{"@id":`${d.id}/sequence0`,"@type":"sc:Sequence",canvases:yield d.items}]],["structures",(yield d.structures)]]},Canvas:function*(d){let h=(yield d.items)[0];return[...chunk_AXOUQGO3_N(d,"sc:Canvas"),...yield*chunk_AXOUQGO3_b(d),...yield*chunk_AXOUQGO3_k(d),["images",h?[h.resources]:void 0],["annotations",d.annotations&&d.annotations.length?chunk_AXOUQGO3_h((yield d.annotations)):void 0]]},AnnotationPage:function*(d){return[...chunk_AXOUQGO3_N(d,"sc:AnnotationList"),...yield*chunk_AXOUQGO3_b(d),["resources",d.items&&d.items.length?chunk_AXOUQGO3_h((yield d.items)):void 0]]},Annotation:function*(d){return[["@id",d.id],["@type","oa:Annotation"],["motivation","sc:painting"],["on",function chunk_AXOUQGO3_ne(d){return Array.isArray(d)?d.map(d=>chunk_AXOUQGO3_ne(d)):"string"==typeof d?d:d.type&&"Canvas"===d.type?d.id:d}(d.target)],["resource",chunk_AXOUQGO3_h((yield d.body),!0)]]},ContentResource:function*(d){return"Image"===d.type?[...chunk_AXOUQGO3_N(d,"dctypes:Image"),...yield*chunk_AXOUQGO3_b(d),...yield*chunk_AXOUQGO3_k(d)]:[...chunk_AXOUQGO3_N(d,void 0),...yield*chunk_AXOUQGO3_b(d)]},AnnotationCollection:function*(d){return[["@id",d.id],["@type","sc:Layer"],["label",chunk_AXOUQGO3_O(d.label)]]},Collection:function*(d){return[...chunk_AXOUQGO3_N(d,"sc:Collection"),...yield*chunk_AXOUQGO3_b(d),...yield*chunk_AXOUQGO3_k(d),["members",(yield*d.items)]]},Range:function*(d){let h=[],g=[];if(d.items)for(let _ of d.items){let y="SpecificResource"===_.type?_.source:_;if(y){let A=yield y;h.push({"@id":function(d){if(d&&"SpecificResource"===d.type){let h=d.id,g=d.selector?Array.isArray(d.selector)?d.selector[0]:d.selector:void 0;return g&&"FragmentSelector"===g.type&&(h+="#"+g.value),h}return d?.id}(_),"@type":y.type,label:A?A.label:void 0,within:d.id}),"Canvas"===y.type&&g.push(y.id)}}return[...chunk_AXOUQGO3_N(d,"sc:Range"),...yield*chunk_AXOUQGO3_b(d),...yield*chunk_AXOUQGO3_k(d),["canvases",g.length===h.length?g:void 0],["members",g.length!==h.length?h:void 0]]}};function chunk_AXOUQGO3_x(d){return[["id",d.id?.startsWith("vault://")?void 0:d.id],["type",d.type],["format",d.format],["profile",d.profile],["height",d.height||void 0],["width",d.width||void 0],["duration",d.duration||void 0],["viewingDirection","left-to-right"!==d.viewingDirection?d.viewingDirection:void 0],["behavior",d.behavior&&d.behavior.length?d.behavior:void 0],["timeMode",d.timeMode],["motivation",Array.isArray(d.motivation)?d.motivation[0]:d.motivation],[tl,td]]}function chunk_AXOUQGO3_d(d){if(d===td||!d||0===d.length)return;let h=d.filter(d=>d!==td);if(0!==h.length)return h}function chunk_AXOUQGO3_re(d){if(d&&d.type&&"ImageService2"===d.type){let{id:h,type:g,profile:_,...y}=d,A="string"==typeof _?_:Array.isArray(_)?_.find(d=>"string"==typeof d):"";return{"@id":h,"@type":g,profile:A?A.startsWith("http")?A:`http://iiif.io/api/image/2/${A}.json`:"http://iiif.io/api/image/2/level0.json",...y}}return d}function chunk_AXOUQGO3_ie(d){if(Array.isArray(d)||(d=d?[d]:[]),!(!d||0===d.length))return d.map(chunk_AXOUQGO3_re)}function*chunk_AXOUQGO3_S(d){return[["label",d.label],["metadata",chunk_AXOUQGO3_d(d.metadata)],["summary",d.summary],["requiredStatement",d.requiredStatement],["rights",Array.isArray(d.rights)?d.rights[0]||void 0:d.rights||void 0],["navDate",d.navDate],["language",d.language],["thumbnail",chunk_AXOUQGO3_d((yield d.thumbnail))],["placeholderCanvas",(yield d.placeholderCanvas)],["accompanyingCanvas",(yield d.accompanyingCanvas)],["provider",chunk_AXOUQGO3_d((yield d.provider))]]}function*chunk_AXOUQGO3_R(d,h){let g=[];for(let _ of d.partOf||[])"Manifest"===_.type&&"Manifest"===h.type||g.push((yield _));return[["seeAlso",chunk_AXOUQGO3_d((yield d.seeAlso))],["service",chunk_AXOUQGO3_d(chunk_AXOUQGO3_ie(d.service))],["services",chunk_AXOUQGO3_d(chunk_AXOUQGO3_ie(d.services))],["rendering",chunk_AXOUQGO3_d((yield d.rendering))],["supplementary",chunk_AXOUQGO3_d((yield d.supplementary))],["homepage",chunk_AXOUQGO3_d((yield d.homepage))],["logo",chunk_AXOUQGO3_d((yield d.logo))],["partOf",chunk_AXOUQGO3_d(g)],["start",d.start?chunk_AXOUQGO3_P(d.start):d.start]]}var tA={Manifest:function*(d,h,{isTopLevel:g}){return g?[["@context",d["@context"]?d["@context"]:"http://iiif.io/api/presentation/3/context.json"],...chunk_AXOUQGO3_x(d),...yield*chunk_AXOUQGO3_S(d),...yield*chunk_AXOUQGO3_R(d),["items",(yield d.items)],["structures",chunk_AXOUQGO3_d((yield d.structures))],["annotations",chunk_AXOUQGO3_d((yield d.annotations))],["navPlace",d.navPlace]]:[...chunk_AXOUQGO3_x(d),...yield*chunk_AXOUQGO3_S(d)]},Canvas:function*(d,h,{parent:g}){return g&&"Manifest"!==g.type&&"Canvas"!==g.type?[["id",d.id]]:[...chunk_AXOUQGO3_x(d),...yield*chunk_AXOUQGO3_S(d),...yield*chunk_AXOUQGO3_R(d,g),["items",(yield d.items)],["annotations",chunk_AXOUQGO3_d((yield d.annotations))],["navPlace",d.navPlace]]},Agent:function*(d){return[["id",d.id],["type","Agent"],["label",d.label],...yield*chunk_AXOUQGO3_R(d)]},AnnotationPage:function*(d){let h=Object.entries(d).map(([d,h])=>[d,Array.isArray(h)?chunk_AXOUQGO3_d(h):h]).filter(([d,h])=>"items"!==d&&"id"!==d&&d!==tl&&d!==tc&&d!==tu),g=yield d.items;return[["id",d.id?.startsWith("vault://")?void 0:d.id],...h,...yield*chunk_AXOUQGO3_R(d),["items",g.length||!1===d[tu]?g:td]]},Service:function*(d){return[[th,chunk_AXOUQGO3_re(d)]]},Annotation:function*(d){let h=Object.entries(d).map(([d,h])=>"motivation"===d?[d,Array.isArray(h)?h[0]:h]:"target"===d?[d,chunk_AXOUQGO3_P(h,{allowString:!0,allowSourceString:!0,allowedStringType:"Canvas"})]:[d,Array.isArray(h)?chunk_AXOUQGO3_d(h):h]).filter(([d])=>"body"!==d&&d!==tl&&d!==tu),g;if(Array.isArray(d.body)){let h=[];for(let g of d.body)if(g&&chunk_W3DWL6UZ_v(g)){let d={...g};"Canvas"!==g.source.type?d.source=yield g.source:d.source=g.source,h.push(chunk_AXOUQGO3_P(d,{allowSourceString:!0}))}else h.push((yield g));g=h}else d.body&&chunk_W3DWL6UZ_v(d.body)?(g={...d.body}).source=yield d.body.source:g=yield d.body;return[...h,...yield*chunk_AXOUQGO3_S(d),...yield*chunk_AXOUQGO3_R(d),["body",1===g.length?g[0]:g]]},ContentResource:function*(d){return function(d,h){let g=Object.keys(h),_=d.map(([d])=>d);for(let y of g)y===tl||y===tu||-1===_.indexOf(y)&&"u">typeof h[y]&&d.push([y,h[y]]);return d}([...chunk_AXOUQGO3_x(d),...yield*chunk_AXOUQGO3_S(d),...yield*chunk_AXOUQGO3_R(d),["annotations",chunk_AXOUQGO3_d((yield d.annotations))],["items",chunk_AXOUQGO3_d((yield d.items))]],d)},AnnotationCollection:function*(d){return[["id",d.id],["type","AnnotationCollection"],["label",d.label]]},Collection:function*(d,h,{isTopLevel:g}){return g?[["@context","http://iiif.io/api/presentation/3/context.json"],...chunk_AXOUQGO3_x(d),...yield*chunk_AXOUQGO3_S(d),...yield*chunk_AXOUQGO3_R(d),["items",chunk_AXOUQGO3_d((yield d.items))],["navPlace",d.navPlace]]:[...chunk_AXOUQGO3_x(d),...yield*chunk_AXOUQGO3_S(d)]},Range:function*(d){let h=[];for(let g of d.items)"Range"===g.type?h.push((yield g)):g&&"SpecificResource"===g.type?h.push(chunk_AXOUQGO3_P(g)):h.push(g);return[...chunk_AXOUQGO3_x(d),...yield*chunk_AXOUQGO3_S(d),...yield*chunk_AXOUQGO3_R(d),["items",h],["annotations",chunk_AXOUQGO3_d((yield d.annotations))],["navPlace",d.navPlace]]}};let tb="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var tS={randomUUID:tb};let tk=new Uint8Array(16),tC=[];for(let d=0;d<256;++d)tC.push((d+256).toString(16).slice(1));var esm_browser_v4=function(d,h,g){if(tS.randomUUID&&!h&&!d)return tS.randomUUID();d=d||{};let y=d.random||(d.rng||function(){if(!_&&!(_="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _(tk)})();if(y[6]=15&y[6]|64,y[8]=63&y[8]|128,h){g=g||0;for(let d=0;d<16;++d)h[g+d]=y[d];return h}return function(d,h=0){return tC[d[h+0]]+tC[d[h+1]]+tC[d[h+2]]+tC[d[h+3]]+"-"+tC[d[h+4]]+tC[d[h+5]]+"-"+tC[d[h+6]]+tC[d[h+7]]+"-"+tC[d[h+8]]+tC[d[h+9]]+"-"+tC[d[h+10]]+tC[d[h+11]]+tC[d[h+12]]+tC[d[h+13]]+tC[d[h+14]]+tC[d[h+15]]}(y)};let tx=window.OpenSeadragon;if(!tx&&!(tx=eH))throw Error("OpenSeadragon is missing.");let tI="http://www.w3.org/2000/svg";tx.Viewer&&(tx.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new image_ve(this)),this._svgOverlayInfo});let image_ve=function(d){let h=this;this._viewer=d,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(tI,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(tI,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){h.resize()}),this._viewer.addHandler("open",function(){h.resize()}),this._viewer.addHandler("rotate",function(){h.resize()}),this._viewer.addHandler("flip",function(){h.resize()}),this._viewer.addHandler("resize",function(){h.resize()}),this.resize()};image_ve.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let d=this._viewer.viewport.pixelFromPoint(new tx.Point(0,0),!0),h=this._viewer.viewport.getZoom(!0),g=this._viewer.viewport.getRotation(),_=this._viewer.viewport.getFlip(),y=this._viewer.viewport._containerInnerSize.x,A=y*h,b=A;_&&(A=-A,d.x=-d.x+y),this._node.setAttribute("transform","translate("+d.x+","+d.y+") scale("+A+","+b+") rotate("+g+")")},onClick:function(d,h){new tx.MouseTracker({element:d,clickHandler:h}).setTracking(!0)}};let Je=d=>fetch(`${d.replace(/\/$/,"")}/info.json`).then(d=>d.json()).then(d=>d).catch(h=>{console.error(`The IIIF tilesource ${d.replace(/\/$/,"")}/info.json failed to load: ${h}`)}),Ge=d=>{let h,g;return Array.isArray(d)&&(h=d[0])&&(g="@id"in h?h["@id"]:h.id),g};var tw=((k=tw||{}).TiledImage="tiledImage",k.SimpleImage="simpleImage",k);let Xe=d=>{let h=Array.isArray(null==d?void 0:d.service)&&(null==d?void 0:d.service.length)>0,g=h?Ge(null==d?void 0:d.service):null==d?void 0:d.id,_=h?tw.TiledImage:tw.SimpleImage;return{uri:g,imageType:_}},image_Ke=(d,h)=>{let g=h?tw.TiledImage:tw.SimpleImage;return{uri:d,imageType:g}},{styled:tO,css:tN,keyframes:tR,createTheme:tD}=(0,ez.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),tL=tO("div",{display:"flex",flexDirection:"column",alignItems:"center"}),tM=tO("p",{fontWeight:"bold",fontSize:"x-large"}),tP=tO("span",{fontSize:"medium"}),st=({error:d})=>{let{message:h}=d;return eV.createElement(tL,{role:"alert"},eV.createElement(tM,{"data-testid":"headline"},"Something went wrong"),h&&eV.createElement(tP,null,`Error message: ${h}`," "))},tF=tO("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),tB=tO("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),tU=tO("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${tF}`]:{display:"block"}},false:{[`${tF}`]:{display:"none"}}}}});var image_y=function(d){return function(){let h={type:d,getType:()=>d,toString:()=>d};return(d,g)=>({...h,...void 0!==d&&{payload:d},...void 0!==g&&{meta:g}})}},tH="@iiif/IMPORT_ENTITIES",tG="@iiif/MODIFY_ENTITY_FIELD",tz="@iiif/REORDER_ENTITY_FIELD",tV="@iiif/ADD_REFERENCE",t$="@iiif/UPDATE_REFERENCE",tQ="@iiif/REMOVE_REFERENCE",tj="@iiif/ADD_METADATA",tY="@iiif/REMOVE_METADATA",tq="@iiif/UPDATE_METADATA",tW="@iiif/REORDER_METADATA",tX=image_y(tH)(),tK=image_y(tG)(),tJ=image_y(tz)(),tZ=image_y(tV)(),t0=image_y(tQ)(),t1=image_y(t$)(),t2=image_y(tj)(),t3=image_y(tq)(),t4={importEntities:tX,modifyEntityField:tK,reorderEntityField:tJ,addReference:tZ,removeReference:t0,updateReference:t1,addMetadata:t2,removeMetadata:image_y(tY)(),updateMetadata:t3,reorderMetadata:image_y(tW)()},t5="@iiif/ADD_MAPPING",t6="@iiif/ADD_MAPPINGS",t8=image_y(t5)(),t9=image_y(t6)(),t7="RESOURCE_ERROR",ne="RESOURCE_LOADING",nt="RESOURCE_READY",nn="@iiif/REQUEST_RESOURCE",nr="@iiif/REQUEST_ERROR",na="@iiif/REQUEST_MISMATCH",no="@iiif/REQUEST_COMPLETE",ns=image_y(nn)(),nl=image_y(nr)(),nc=image_y(na)(),nu=image_y(no)(),nd="@iiif/BATCH",nh=image_y(nd)(),At=(d,h)=>{let{entities:g,resource:_,mapping:y}=Fe(h);if(void 0===_.id)return[nl({id:d,message:"ID is not defined in resource."})];let A=[tX({entities:g}),t9({mapping:y})];return _.id!==d&&(A.push(t8({id:d,type:_.type})),A.push(nc({requestId:d,actualId:_.id}))),A.push(nu({id:d})),A},np=Number.isNaN||function(d){return"number"==typeof d&&d!=d};function image_re(d,h){if(!Array.isArray(d)||!Array.isArray(h))return d===h;if(d.length!==h.length)return!1;for(let y=0;y<d.length;y++){var g,_;if(!((g=d[y])===(_=h[y])||np(g)&&np(_)))return!1}return!0}function image_U(d,h,g){let _=d.iiif.requests[h],y=d.iiif.mapping[h];if(!y||!d.iiif.entities[y][_.resourceUri])return;let A=d.iiif.entities[y][_.resourceUri];if(A&&A[tl]){let d=A[tl].find(d=>d[tc]===A.id);return chunk_AXOUQGO3_oe(A,d)}return A}function image_ie(d,h,{waitTimeout:g=30}={}){return(_,y)=>{let A=d.getStore(),b=A.getState(),k=b.iiif.requests[_];if(k){if(k.loadingState===nt){let d=image_U(b,_);if(d)return d}switch(k.loadingState){case t7:break;case ne:return(async()=>{let d,h=!1;try{let y=await Promise.race([new Promise((g,y)=>{h||(d=A.subscribe(()=>{let d=A.getState();if(d.iiif.requests[_].loadingState===t7){y();return}if(d.iiif.requests[_].loadingState===nt){let h=image_U(d,_);h?g(h):y()}}))}),new Promise((d,_)=>setTimeout(()=>{h=!0,_()},6e4*g))]);if(d&&d(),y)return y}catch{d&&d()}})()}}d.dispatch(ns({id:_}));let c=h=>{if(!h)return;h.id||h["@id"]||(h["@type"]&&(h["@id"]=_),h.id=_);let g=At(_,h);return d.dispatch(nh({actions:g})),image_U(A.getState(),_)};try{let g=h(_,y);return g&&"function"==typeof g.then?(async()=>{try{return c(await g)}catch(h){throw d.dispatch(nl({id:_,message:h.toString()})),h}})():c(g)}catch(h){throw d.dispatch(nl({id:_,message:h.toString()})),h}}}function ke(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let nf={};var image_ne=d=>{let h;let g=new Set,n=(d,_)=>{let y="function"==typeof d?d(h):d;if(!Object.is(y,h)){let d=h;h=_??("object"!=typeof y||null===y)?y:Object.assign({},h,y),g.forEach(g=>g(h,d))}},i=()=>h,_={setState:n,getState:i,getInitialState:()=>y,subscribe:d=>(g.add(d),()=>g.delete(d)),destroy:()=>{(nf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),g.clear()}},y=h=d(n,i,_);return _},It=d=>d?image_ne(d):image_ne,nm="@iiif/SET_META_VALUE",ng="@iiif/SET_META_VALUE_DYNAMIC",nE="@iiif/UNSET_META_VALUE",n_={setMetaValue:image_y(nm)(),setMetaValueDynamic:image_y(ng)(),unsetMetaValue:image_y(nE)()};let nT={};var kt=(d,h)=>(g,_,y)=>(y.dispatch=h=>(g(g=>d(g,h),!1,h),h),y.dispatchFromDevtools=!0,{dispatch:(...d)=>y.dispatch(...d),...h}),nv=new Map,image_k=d=>{let h=nv.get(d);return h?Object.fromEntries(Object.entries(h.stores).map(([d,h])=>[d,h.getState()])):{}},Ft=(d,h,g)=>{if(void 0===d)return{type:"untracked",connection:h.connect(g)};let _=nv.get(g.name);if(_)return{type:"tracked",store:d,..._};let y={connection:h.connect(g),stores:{}};return nv.set(g.name,y),{type:"tracked",store:d,...y}},Lt=(d,h={})=>(g,_,y)=>{let A;let{enabled:b,anonymousActionType:k,store:w,...R}=h;try{A=(b??(nT?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!A)return(nT?"production":void 0)!=="production"&&b&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),d(g,_,y);let{connection:B,...H}=Ft(w,A,R),z=!0;y.setState=(d,h,A)=>{let b=g(d,h);if(!z)return b;let H=void 0===A?{type:k||"anonymous"}:"string"==typeof A?{type:A}:A;return void 0===w?null==B||B.send(H,_()):null==B||B.send({...H,type:`${w}/${H.type}`},{...image_k(R.name),[w]:y.getState()}),b};let m=(...d)=>{let h=z;z=!1,g(...d),z=h},$=d(y.setState,_,y);if("untracked"===H.type?null==B||B.init($):(H.stores[H.store]=y,null==B||B.init(Object.fromEntries(Object.entries(H.stores).map(([d,h])=>[d,d===H.store?$:h.getState()])))),y.dispatchFromDevtools&&"function"==typeof y.dispatch){let d=!1,h=y.dispatch;y.dispatch=(...g)=>{(nT?"production":void 0)==="production"||"__setState"!==g[0].type||d||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),d=!0),h(...g)}}return B.subscribe(d=>{var h;switch(d.type){case"ACTION":if("string"!=typeof d.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return image_V(d.payload,d=>{if("__setState"===d.type){if(void 0===w){m(d.state);return}1!==Object.keys(d.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let h=d.state[w];if(null==h)return;JSON.stringify(y.getState())!==JSON.stringify(h)&&m(h);return}y.dispatchFromDevtools&&"function"==typeof y.dispatch&&y.dispatch(d)});case"DISPATCH":switch(d.payload.type){case"RESET":return m($),void 0===w?null==B?void 0:B.init(y.getState()):null==B?void 0:B.init(image_k(R.name));case"COMMIT":if(void 0===w){null==B||B.init(y.getState());break}return null==B?void 0:B.init(image_k(R.name));case"ROLLBACK":return image_V(d.state,d=>{if(void 0===w){m(d),null==B||B.init(y.getState());return}m(d[w]),null==B||B.init(image_k(R.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return image_V(d.state,d=>{if(void 0===w){m(d);return}JSON.stringify(y.getState())!==JSON.stringify(d[w])&&m(d[w])});case"IMPORT_STATE":{let{nextLiftedState:g}=d.payload,_=null==(h=g.computedStates.slice(-1)[0])?void 0:h.state;if(!_)return;m(void 0===w?_:_[w]),null==B||B.send(null,g);break}case"PAUSE_RECORDING":return z=!z}return}}),$},image_V=(d,h)=>{let g;try{g=JSON.parse(d)}catch(d){console.error("[zustand devtools middleware] Could not parse the received json",d)}void 0!==g&&h(g)},zt=d=>(h,g,_)=>{let y=_.subscribe;return _.subscribe=(d,h,g)=>{let A=d;if(h){let y=(null==g?void 0:g.equalityFn)||Object.is,b=d(_.getState());A=g=>{let _=d(g);if(!y(b,_)){let d=b;h(b=_,d)}},null!=g&&g.fireImmediately&&h(b,b)}return y(A)},d(h,g,_)};function image_$(d,h,g,_){return!(!d[g]||!d[g][h]||!d[g][h][_]||!Array.isArray(d[g][h][_]))}function image_l(d){return d.payload}function image_B(d,h){return typeof d>"u"?h:d}function Ue(d={}){let h=Object.keys(d);return function(g={},_){let y=!1,A={};for(let b=0;b<h.length;b++){let k=h[b];A[k]=d[k](g[k],_),y=y||A[k]!==g[k]}return y?A:g}}var ny=Ue({mapping:(d={},h)=>{switch(h.type){case t5:return{...d,[h.payload.id]:h.payload.type};case t6:return{...d,...h.payload.mapping};default:return d}},entities:(d=ke(),h)=>{var g;let r=(g,_)=>({...d,[image_l(h).type]:{...d[image_l(h).type],[image_l(h).id]:{...g,..._}}});switch(h.type){case tG:{if(!d[image_l(h).type]||!d[image_l(h).type][image_l(h).id])return d;let g=d[image_l(h).type][image_l(h).id];return"string"==typeof g?d:r(g,{[image_l(h).key]:image_l(h).value})}case tz:{if(!image_$(d,image_l(h).id,image_l(h).type,image_l(h).key))return d;let g=d[image_l(h).type][image_l(h).id];if("string"==typeof g)return d;let _=Array.from(g[image_l(h).key]),[y]=_.splice(image_l(h).startIndex,1);return _.splice(image_l(h).endIndex,0,y),r(g,{[image_l(h).key]:_})}case tH:{let g=Object.keys(image_l(h).entities),_={...d};for(let y of g){let g=image_l(h).entities[y],A={...d[y]||{}},b=!1,k=Object.keys(g||{})||[];if(g&&k){for(let h of k)b=!0,A[h]=d[y][h]?function(d,h){let g={},_=[];for(let[y,A]of Object.entries(d||{})){_.push(y);let d=(h||{})[y];if(!d||0===d.length){g[y]=A;continue}g[y]=d}for(let[d,y]of Object.entries(h||{}))-1===_.indexOf(d)&&(g[d]=y);return g}(d[y][h],g[h]):g[h];b&&(_[y]=A)}}return _}case tV:{if(!image_$(d,image_l(h).id,image_l(h).type,image_l(h).key))return d;let g=d[image_l(h).type][image_l(h).id],_=Array.from(g[image_l(h).key]);return _.splice(image_B(image_l(h).index,_.length+1),0,image_l(h).reference),r(g,{[image_l(h).key]:_})}case t$:case tQ:{if(!image_$(d,image_l(h).id,image_l(h).type,image_l(h).key))return d;let _=d[image_l(h).type][image_l(h).id],y=Array.from(_[image_l(h).key]),A=image_B(image_l(h).index,y.findIndex(d=>d&&d.id===image_l(h).reference.id));return -1===A||(null==(g=y[A])?void 0:g.id)!==image_l(h).reference.id?d:(h.type===t$?y.splice(A,1,image_l(h).reference):y.splice(A,1),r(_,{[image_l(h).key]:y}))}case tj:{let g=d[image_l(h).type][image_l(h).id];if(!g)return d;let _=Array.from(g.metadata||[]),y=image_l(h);return _.splice(image_B(h.payload.beforeIndex,_.length+1),0,{label:y.label,value:y.label}),r(g,{metadata:_})}case tW:{let g=d[image_l(h).type][image_l(h).id];if("string"==typeof g||!g)return d;let _=Array.from(g.metadata||[]),[y]=_.splice(image_l(h).startIndex,1);return _.splice(image_l(h).endIndex,0,y),r(g,{metadata:_})}case tq:case tY:{let g=d[image_l(h).type][image_l(h).id],_=Array.from(g.metadata||[]),y=image_l(h).atIndex;return typeof y>"u"||-1===y||!_[y]?d:(h.type===tq?_.splice(y,1,{label:image_l(h).label,value:image_l(h).value}):_.splice(y,1),r(g,{metadata:_}))}default:return d}},requests:(d={},h)=>{switch(h.type){case nn:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...d,[h.payload.id]:{requestUri:h.payload.id,loadingState:ne,uriMismatch:!1,resourceUri:h.payload.id}};case na:return{...d,[h.payload.requestId]:{...d[h.payload.requestId]||{},uriMismatch:!0,resourceUri:h.payload.actualId},[h.payload.actualId]:{requestUri:h.payload.requestId,loadingState:d[h.payload.requestId].loadingState,uriMismatch:!0,resourceUri:h.payload.actualId}};case nr:return{...d,[h.payload.id]:{...d[h.payload.id]||{},loadingState:t7,error:h.payload.message}};case no:return{...d,[h.payload.id]:{...d[h.payload.id]||{},loadingState:nt,error:void 0}}}return d},meta:(d={},h)=>{let{id:g,updateValue:_,value:y,meta:A,key:b}=h&&h.payload||{};switch(h.type){case nm:return{...d,[g]:{...d[g]||{},[A]:{...d[g]&&d[g][A]||{},[b]:y}}};case ng:return{...d,[g]:{...d[g]||{},[A]:{...d[g]&&d[g][A]||{},[b]:_(d[g]&&d[g][A]?d[g][A][b]:void 0)}}};case nE:return d[g]&&d[g][A]&&d[g][A][b]?{...d,[g]:{...d[g]||{},[A]:{...d[g]&&d[g][A]||{},[b]:void 0}}}:d;default:return d}}}),nA=Object.defineProperty,Jt=(d,h,g)=>h in d?nA(d,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[h]=g,image_R=(d,h,g)=>(Jt(d,"symbol"!=typeof h?h+"":h,g),g);function image_S(d,h,g,_=!0){h[nk]=h[nk]||[],h[nk].push(d);let y=new Map;Object.defineProperty(h,d,{enumerable:_,get(){if(typeof h[nb][d]>"u")return;let _=h[nb][d];if(!_)return _;let A=g.get(h[nb][d],{parent:this.id?{id:this.id,type:this.type}:void 0});return y.has(A)||(y.clear(),y.set(A,image_O(A,g))),y.get(A)},set(_){h[nb][d]!==_&&(this[nS]?g.modifyEntityField({id:this.id,type:this.type},d,function ze(d){return Array.isArray(d)?d.map(d=>ze(d)):d&&d.type?{id:d.id,type:d.type}:d}(_)):this[nb][d]=_)}})}var nb=Symbol.for("_refs_"),nS=Symbol.for("_reactive_"),nk=Symbol.for("_defined_"),nC=Symbol.for("_parent_");function image_O(d,h,g=!1,_){if(Array.isArray(d))return d.map(d=>image_O(d,h,g));if(!d||!d.type||!d.id)return d;let y=function(d,h=!1,g){let _={id:"",type:"unknown",[nk]:[],[nb]:{},[nC]:null,[nS]:null,is(d){return"string"==typeof d?this.id===d:!!d.id&&d.id===this.id},reactive(){if(!this[nS])return this[nS]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let d=this.unwrap();for(let h of Object.keys(d||{}))this[nk].includes(h)?this[nb][h]=d[h]:this[h]=d[h]}},unreactive(){this[nS]&&(this[nS](),this[nS]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let h=this[nC];return d.get(this.id,{parent:h?{id:h,type:"unknown"}:void 0})},toPresentation3(){return d.toPresentation3(this.unwrap())},toPresentation2(){return d.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(h,g=!0){return d.subscribe(()=>this.id?d.get(this.id):null,h,g)}};return image_S("items",_,d),image_S("annotations",_,d),image_S("structures",_,d),image_S("seeAlso",_,d),image_S("rendering",_,d),image_S("partOf",_,d),image_S("start",_,d,!1),image_S("supplementary",_,d),image_S("homepage",_,d),image_S("thumbnail",_,d),image_S("placeholderCanvas",_,d,!1),image_S("accompanyingCanvas",_,d,!1),image_S("provider",_,d),image_S("body",_,d),image_S("logo",_,d),_}(h,g),A=Object.create(y),b=Object.assign(A,d);return g&&b.reactive(),b}function image_ae(d){switch(d){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return d}var nx=class{constructor(d,h){var g;image_R(this,"options"),image_R(this,"store"),image_R(this,"emitter"),image_R(this,"isBatching",!1),image_R(this,"batchQueue",[]),image_R(this,"remoteFetcher"),image_R(this,"staticFetcher"),image_R(this,"defaultFetcher",d=>fetch(d).then(d=>d.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},d||{}),this.store=h||function(d={}){var h;let{enableDevtools:g=!1,iiifStoreName:_="iiif",defaultState:y={iiif:{entities:ke(),meta:{},mapping:{},requests:{}}},customReducers:A={}}=d,b=(h=Ue({[_]:ny,...A}),(d,g)=>g&&g.type===nd?g.payload.actions.reduce(h,d):g&&"@iiif/BATCH_IMPORT"===g.type?{...d,iiif:{...d.iiif,...g.payload.state}}:h(d,g)),k="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?Lt:(d,h)=>d;return It(zt(k(kt(b,y),{enabled:g})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:g=g||new Map,on:function(d,h){var _=g.get(d);_?_.push(h):g.set(d,[h])},off:function(d,h){var _=g.get(d);_&&(h?_.splice(_.indexOf(h)>>>0,1):g.set(d,[]))},emit:function(d,h){var _=g.get(d);_&&_.slice().map(function(d){d(h)}),(_=g.get("*"))&&_.slice().map(function(g){g(d,h)})}},this.remoteFetcher=image_ie(this,this.options.customFetcher),this.staticFetcher=image_ie(this,(d,h)=>h)}batch(d){this.isBatching=!0;try{d(this),this.isBatching=!1,this.dispatch(nh({actions:this.batchQueue}))}catch(d){throw this.batchQueue=[],this.isBatching=!1,d}this.batchQueue=[]}async asyncBatch(d){this.isBatching=!0;try{await d(this),this.isBatching=!1,this.dispatch(nh({actions:this.batchQueue}))}catch(d){throw this.batchQueue=[],this.isBatching=!1,d}this.batchQueue=[]}modifyEntityField(d,h,g){this.dispatch(t4.modifyEntityField({id:d.id,type:d.type,key:h,value:g}))}dispatch(d){if(this.isBatching)this.batchQueue.push(d);else{if(d.type===nd){for(let h of d.payload.actions)this.emitter.emit(h.type,{action:h,state:this.store.getState()});this.store.dispatch(d);let h=this.getState();for(let g of d.payload.actions)this.emitter.emit(`after:${g.type}`,{action:g,state:h});return}this.emitter.emit(d.type,{action:d,state:this.store.getState()}),this.store.dispatch(d);let h=this.store.getState();this.emitter.emit(`after:${d.type}`,{action:d,state:h});return}}on(d,h){return this.emitter.on(d,h),()=>{this.emitter.off(d,h)}}serialize(d,h){return $e(this.getState().iiif,d,h)}toPresentation2(d){return this.serialize(d,ty)}toPresentation3(d){return this.serialize(d,tA)}hydrate(d,h,g={}){return this.get(d,h,{...g,skipSelfReturn:!1})}get(d,h,g={}){"string"!=typeof h&&(g=h||{},h=void 0);let{skipSelfReturn:_=!0}=g||{},y=g.parent?"string"==typeof g.parent?g.parent:g.parent.id:void 0;if(Array.isArray(d))return d.map(d=>this.get(d,g));let A=this.getState();if(chunk_W3DWL6UZ_v(d)&&!g.preserveSpecificResources&&(d=d.source),"string"==typeof d){let g=image_ae(h||A.iiif.mapping[d]);if(!g)return _?null:{id:d,type:"unknown"};d={id:d,type:g}}if(d&&d.partOf&&!y&&!g.skipPartOfCheck){let h=Array.isArray(d.partOf)?d.partOf[0]:d.partOf;h&&("string"==typeof h&&(y=h),"string"==typeof h.id&&(y=h.id))}let b=image_ae(h||(null==d?void 0:d.type)),k=null==d?void 0:d.id,w=A.iiif.entities[b];if(!w){let h=A.iiif.requests[k];return h&&h.resourceUri!==k?this.get(h.resourceUri,g):_?null:d}let R=w[d.id];if(R&&R[tl]){let d=R[tl].find(d=>y?d[tc]===y:d[tc]===R.id);return chunk_AXOUQGO3_oe(R,d)}return w[d.id]||(_?null:d)}select(d){return d(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(d,h){if(typeof d>"u")return this.get(h,{skipSelfReturn:!1});if("function"==typeof d)try{let g=d(this.get(h,{skipSelfReturn:!1})),i=d=>this.deep(d,g);return i.size=Array.isArray(g)?g.length:1,i}catch{let i=d=>this.deep(d,void 0);return i.size=0,i}let r=h=>this.deep(h,d);return r.size=Array.isArray(d)?d.length:1,r}loadManifest(d,h){let g="string"==typeof d?d:d.id;return this.load(g,h)}loadCollection(d,h){let g="string"==typeof d?d:d.id;return this.load(g,h)}load(d,h){let g="string"==typeof d?d:d.id;return h?Promise.resolve(this.staticFetcher(g,h)):Promise.resolve(this.remoteFetcher(g))}loadSync(d,h){let g="string"==typeof d?d:d.id;return this.staticFetcher(g,h)}loadManifestSync(d,h){let g="string"==typeof d?d:d.id;return this.loadSync(g,h)}loadCollectionSync(d,h){let g="string"==typeof d?d:d.id;return this.loadSync(g,h)}areInputsEqual(d,h){return image_re(d,h)}subscribe(d,h,g){return typeof g>"u"&&(typeof h>"u"||!1===h||!0===h)&&(g=h,h=d,d=d=>d),this.store.subscribe(d,d=>h(d,this),{equalityFn:image_re,fireImmediately:!g})}async ensureLoaded(d){let h="string"==typeof d?d:d.id;this.requestStatus(h)||await this.load(h)}requestStatus(d){return this.select(h=>h.iiif.requests[d])}getResourceMeta(d,h){let g=this.getState().iiif.meta[d];if(g)return h?g[h]:g}getObject(d,h,g={}){let{reactive:_,...y}=g;return image_O(this.get(d,h,y),this,_)}async loadObject(d,h){return image_O(await this.load(d,h),this)}async loadManifestObject(d,h){return image_O(await this.loadManifest(d,h),this)}async loadCollectionObject(d,h){return image_O(await this.loadCollection(d,h),this)}wrapObject(d){return image_O(this.get(d,{skipSelfReturn:!1}),this)}isWrapped(d){return!!d[nk]}setMetaValue([d,h,g],_){this.dispatch("function"==typeof _?n_.setMetaValueDynamic({id:d,meta:h,key:g,updateValue:_}):n_.setMetaValue({id:d,meta:h,key:g,value:_}))}};let nI={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}},nw=(w=null==(ep=null==(eh=null==nI?void 0:nI.informationPanel)?void 0:eh.vtt)?void 0:ep.autoScroll,A={...nI.informationPanel.vtt.autoScroll},"object"==typeof w&&(A="enabled"in w?w:{enabled:!0,settings:w}),!1===w&&(A.enabled=!1),function({behavior:d,block:h}){let g=["auto","instant","smooth"],_=["center","end","nearest","start"];if(!g.includes(d))throw TypeError(`'${d}' not in ${g.join(" | ")}`);if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`)}(A.settings),A),nO={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:nI,customDisplays:[],plugins:[],isAutoScrollEnabled:nw.enabled,isAutoScrolling:!1,isInformationOpen:null==(ef=null==nI?void 0:nI.informationPanel)?void 0:ef.open,isLoaded:!1,isUserScrolling:void 0,vault:new nx,contentSearchVault:new nx,openSeadragonViewer:null,viewerId:esm_browser_v4()},nN=eV.createContext(nO),nR=eV.createContext(nO);function image_le(){let d=eV.useContext(nN);if(void 0===d)throw Error("useViewerState must be used within a ViewerProvider");return d}function image_$e(){let d=eV.useContext(nR);if(void 0===d)throw Error("useViewerDispatch must be used within a ViewerProvider");return d}let nD=tO("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),image_C=({className:d,id:h,label:g,children:_})=>{let y=g.toLowerCase().replace(/\s/g,"-");return eV.createElement(nD,{id:h,className:d,"data-testid":"openseadragon-button","data-button":y},eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${h}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",{id:`${h}-svg-title`},g),_))},nL=tO("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),cr=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),lr=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),ur=()=>eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),dr=()=>eV.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),image_ue=()=>eV.createElement(eV.Fragment,null,eV.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eV.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),fr=({_cloverViewerHasPlaceholder:d,config:h})=>{let g=image_le(),{activeCanvas:_,plugins:y,vault:A}=g,b=A.get({id:_,type:"Canvas"});return eV.createElement(nL,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:d},h.showZoomControl&&eV.createElement(eV.Fragment,null,eV.createElement(image_C,{id:h.zoomInButton,label:"zoom in"},eV.createElement(cr,null)),eV.createElement(image_C,{id:h.zoomOutButton,label:"zoom out"},eV.createElement(lr,null))),h.showFullPageControl&&eV.createElement(image_C,{id:h.fullPageButton,label:"full page"},eV.createElement(ur,null)),h.showRotationControl&&eV.createElement(eV.Fragment,null,eV.createElement(image_C,{id:h.rotateRightButton,label:"rotate right"},eV.createElement(image_ue,null)),eV.createElement(image_C,{id:h.rotateLeftButton,label:"rotate left"},eV.createElement(image_ue,null))),h.showHomeControl&&eV.createElement(image_C,{id:h.homeButton,label:"reset"},eV.createElement(dr,null)),y.filter(d=>{var h;return null==(h=d.imageViewer)?void 0:h.controls}).map((d,h)=>{var g,_,y,A;let k=null==(_=null==(g=d.imageViewer)?void 0:g.controls)?void 0:_.component;return eV.createElement(k,{key:h,...null==(A=null==(y=null==d?void 0:d.imageViewer)?void 0:y.controls)?void 0:A.componentProps,canvas:b,useViewerDispatch:image_$e,useViewerState:image_le})}))},hr=({ariaLabel:d,config:h,uri:g,_cloverViewerHasPlaceholder:_,imageType:y,openSeadragonCallback:A})=>{let[b,k]=(0,eV.useState)(),[w,R]=(0,eV.useState)(),B=image_$e(),H=(0,eV.useRef)(!1);return(0,eV.useEffect)(()=>(H.current||(H.current=!0,w||R(eH(h))),()=>null==w?void 0:w.destroy()),[]),(0,eV.useEffect)(()=>{w&&A&&A(w)},[w,A]),(0,eV.useEffect)(()=>{w&&g!==b&&(null==w||w.forceRedraw(),k(g))},[w,b,g]),(0,eV.useEffect)(()=>{if(b&&w)switch(y){case"simpleImage":null==w||w.addSimpleImage({url:b});break;case"tiledImage":Je(b).then(d=>{try{if(!d)throw Error(`No tile source found for ${b}`);null==w||w.addTiledImage({tileSource:d,success:()=>{"function"==typeof B&&B({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(d){console.error(d)}});break;default:null==w||w.close(),console.warn(`Unable to render ${b} in OpenSeadragon as type: "${y}"`)}},[y,b]),eV.createElement(tU,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":h.id,hasNavigator:h.showNavigator},eV.createElement(fr,{_cloverViewerHasPlaceholder:_,config:h}),h.showNavigator&&eV.createElement(tF,{id:h.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eV.createElement(tB,{id:h.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...d&&{"aria-label":d}}))},mr=(d,h="none")=>{if(!d)return null;if("string"==typeof d)return[d];if(!d[h]){let h=Object.getOwnPropertyNames(d);if(h.length>0)return d[h[0]]}return d[h]&&Array.isArray(d[h])?d[h]:null},gr=(d,h="none",g=", ")=>{let _=mr(d,h);return Array.isArray(_)?_.join(`${g}`):_},Tr=({_cloverViewerHasPlaceholder:d=!1,body:h,instanceId:g,isTiledImage:_=!1,label:y,src:A="",openSeadragonCallback:b,openSeadragonConfig:k={}})=>{let w=g||esm_browser_v4(),R="string"==typeof y?y:gr(y),B={id:`openseadragon-${w}`,navigatorId:`openseadragon-navigator-${w}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${w}`,homeButton:`reset-${w}`,rotateLeftButton:`rotateLeft-${w}`,rotateRightButton:`rotateRight-${w}`,zoomInButton:`zoomIn-${w}`,zoomOutButton:`zoomOut-${w}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...k},{imageType:H,uri:z}=h?Xe(h):image_Ke(A,_);return z?eV.createElement(eG.SV,{FallbackComponent:st},eV.createElement(hr,{_cloverViewerHasPlaceholder:d,ariaLabel:R,config:B,imageType:H,key:w,uri:z,openSeadragonCallback:b})):null};var nM=g(1830),nP=g(1036),nF=g(3041),nB=g(4921);let nU="object"==typeof self?self:globalThis,deserializer=(d,h)=>{let as=(h,g)=>(d.set(g,h),h),unpair=g=>{if(d.has(g))return d.get(g);let[_,y]=h[g];switch(_){case 0:case -1:return as(y,g);case 1:{let d=as([],g);for(let h of y)d.push(unpair(h));return d}case 2:{let d=as({},g);for(let[h,g]of y)d[unpair(h)]=unpair(g);return d}case 3:return as(new Date(y),g);case 4:{let{source:d,flags:h}=y;return as(new RegExp(d,h),g)}case 5:{let d=as(new Map,g);for(let[h,g]of y)d.set(unpair(h),unpair(g));return d}case 6:{let d=as(new Set,g);for(let h of y)d.add(unpair(h));return d}case 7:{let{name:d,message:h}=y;return as(new nU[d](h),g)}case 8:return as(BigInt(y),g);case"BigInt":return as(Object(BigInt(y)),g)}return as(new nU[_](y),g)};return unpair},deserialize=d=>deserializer(new Map,d)(0),{toString:nH}={},{keys:nG}=Object,typeOf=d=>{let h=typeof d;if("object"!==h||!d)return[0,h];let g=nH.call(d).slice(8,-1);switch(g){case"Array":return[1,""];case"Object":return[2,""];case"Date":return[3,""];case"RegExp":return[4,""];case"Map":return[5,""];case"Set":return[6,""]}return g.includes("Array")?[1,g]:g.includes("Error")?[7,g]:[2,g]},shouldSkip=([d,h])=>0===d&&("function"===h||"symbol"===h),serializer=(d,h,g,_)=>{let as=(d,h)=>{let y=_.push(d)-1;return g.set(h,y),y},pair=_=>{if(g.has(_))return g.get(_);let[y,A]=typeOf(_);switch(y){case 0:{let h=_;switch(A){case"bigint":y=8,h=_.toString();break;case"function":case"symbol":if(d)throw TypeError("unable to serialize "+A);h=null;break;case"undefined":return as([-1],_)}return as([y,h],_)}case 1:{if(A)return as([A,[..._]],_);let d=[],h=as([y,d],_);for(let h of _)d.push(pair(h));return h}case 2:{if(A)switch(A){case"BigInt":return as([A,_.toString()],_);case"Boolean":case"Number":case"String":return as([A,_.valueOf()],_)}if(h&&"toJSON"in _)return pair(_.toJSON());let g=[],b=as([y,g],_);for(let h of nG(_))(d||!shouldSkip(typeOf(_[h])))&&g.push([pair(h),pair(_[h])]);return b}case 3:return as([y,_.toISOString()],_);case 4:{let{source:d,flags:h}=_;return as([y,{source:d,flags:h}],_)}case 5:{let h=[],g=as([y,h],_);for(let[g,y]of _)(d||!(shouldSkip(typeOf(g))||shouldSkip(typeOf(y))))&&h.push([pair(g),pair(y)]);return g}case 6:{let h=[],g=as([y,h],_);for(let g of _)(d||!shouldSkip(typeOf(g)))&&h.push(pair(g));return g}}let{message:b}=_;return as([y,{name:A,message:b}],_)};return pair},serialize=(d,{json:h,lossy:g}={})=>{let _=[];return serializer(!(h||g),!!h,new Map,_)(d),_};var nz="function"==typeof structuredClone?(d,h)=>h&&("json"in h||"lossy"in h)?deserialize(serialize(d,h)):structuredClone(d):(d,h)=>deserialize(serialize(d,h));let Schema=class Schema{constructor(d,h,g){this.property=d,this.normal=h,g&&(this.space=g)}};function merge(d,h){let g={},_={},y=-1;for(;++y<d.length;)Object.assign(g,d[y].property),Object.assign(_,d[y].normal);return new Schema(g,_,h)}function normalize(d){return d.toLowerCase()}Schema.prototype.property={},Schema.prototype.normal={},Schema.prototype.space=null;let Info=class Info{constructor(d,h){this.property=d,this.attribute=h}};Info.prototype.space=null,Info.prototype.boolean=!1,Info.prototype.booleanish=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.number=!1,Info.prototype.commaSeparated=!1,Info.prototype.spaceSeparated=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.mustUseProperty=!1,Info.prototype.defined=!1;let nV=0,n$=increment(),nQ=increment(),nj=increment(),nY=increment(),nq=increment(),nW=increment(),nX=increment();function increment(){return 2**++nV}let nK=Object.keys(eB);let DefinedInfo=class DefinedInfo extends Info{constructor(d,h,g,_){var y,A;let b=-1;if(super(d,h),_&&(this.space=_),"number"==typeof g)for(;++b<nK.length;){let d=nK[b];y=nK[b],(A=(g&eB[d])===eB[d])&&(this[y]=A)}}};DefinedInfo.prototype.defined=!0;let nJ={}.hasOwnProperty;function create(d){let h;let g={},_={};for(h in d.properties)if(nJ.call(d.properties,h)){let y=d.properties[h],A=new DefinedInfo(h,d.transform(d.attributes||{},h),y,d.space);d.mustUseProperty&&d.mustUseProperty.includes(h)&&(A.mustUseProperty=!0),g[h]=A,_[normalize(h)]=h,_[normalize(A.attribute)]=h}return new Schema(g,_,d.space)}let nZ=create({space:"xlink",transform:(d,h)=>"xlink:"+h.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),n0=create({space:"xml",transform:(d,h)=>"xml:"+h.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(d,h){return h in d?d[h]:h}function caseInsensitiveTransform(d,h){return caseSensitiveTransform(d,h.toLowerCase())}let n1=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),n2=create({transform:(d,h)=>"role"===h?h:"aria-"+h.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:nQ,ariaAutoComplete:null,ariaBusy:nQ,ariaChecked:nQ,ariaColCount:nY,ariaColIndex:nY,ariaColSpan:nY,ariaControls:nq,ariaCurrent:null,ariaDescribedBy:nq,ariaDetails:null,ariaDisabled:nQ,ariaDropEffect:nq,ariaErrorMessage:null,ariaExpanded:nQ,ariaFlowTo:nq,ariaGrabbed:nQ,ariaHasPopup:null,ariaHidden:nQ,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nq,ariaLevel:nY,ariaLive:null,ariaModal:nQ,ariaMultiLine:nQ,ariaMultiSelectable:nQ,ariaOrientation:null,ariaOwns:nq,ariaPlaceholder:null,ariaPosInSet:nY,ariaPressed:nQ,ariaReadOnly:nQ,ariaRelevant:null,ariaRequired:nQ,ariaRoleDescription:nq,ariaRowCount:nY,ariaRowIndex:nY,ariaRowSpan:nY,ariaSelected:nQ,ariaSetSize:nY,ariaSort:null,ariaValueMax:nY,ariaValueMin:nY,ariaValueNow:nY,ariaValueText:null,role:null}}),n3=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nW,acceptCharset:nq,accessKey:nq,action:null,allow:null,allowFullScreen:n$,allowPaymentRequest:n$,allowUserMedia:n$,alt:null,as:null,async:n$,autoCapitalize:null,autoComplete:nq,autoFocus:n$,autoPlay:n$,blocking:nq,capture:n$,charSet:null,checked:n$,cite:null,className:nq,cols:nY,colSpan:null,content:null,contentEditable:nQ,controls:n$,controlsList:nq,coords:nY|nW,crossOrigin:null,data:null,dateTime:null,decoding:null,default:n$,defer:n$,dir:null,dirName:null,disabled:n$,download:nj,draggable:nQ,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:n$,formTarget:null,headers:nq,height:nY,hidden:n$,high:nY,href:null,hrefLang:null,htmlFor:nq,httpEquiv:nq,id:null,imageSizes:null,imageSrcSet:null,inert:n$,inputMode:null,integrity:null,is:null,isMap:n$,itemId:null,itemProp:nq,itemRef:nq,itemScope:n$,itemType:nq,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:n$,low:nY,manifest:null,max:null,maxLength:nY,media:null,method:null,min:null,minLength:nY,multiple:n$,muted:n$,name:null,nonce:null,noModule:n$,noValidate:n$,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:n$,optimum:nY,pattern:null,ping:nq,placeholder:null,playsInline:n$,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:n$,referrerPolicy:null,rel:nq,required:n$,reversed:n$,rows:nY,rowSpan:nY,sandbox:nq,scope:null,scoped:n$,seamless:n$,selected:n$,shape:null,size:nY,sizes:null,slot:null,span:nY,spellCheck:nQ,src:null,srcDoc:null,srcLang:null,srcSet:null,start:nY,step:null,style:null,tabIndex:nY,target:null,title:null,translate:null,type:null,typeMustMatch:n$,useMap:null,value:nQ,width:nY,wrap:null,align:null,aLink:null,archive:nq,axis:null,background:null,bgColor:null,border:nY,borderColor:null,bottomMargin:nY,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:n$,declare:n$,event:null,face:null,frame:null,frameBorder:null,hSpace:nY,leftMargin:nY,link:null,longDesc:null,lowSrc:null,marginHeight:nY,marginWidth:nY,noResize:n$,noHref:n$,noShade:n$,noWrap:n$,object:null,profile:null,prompt:null,rev:null,rightMargin:nY,rules:null,scheme:null,scrolling:nQ,standby:null,summary:null,text:null,topMargin:nY,valueType:null,version:null,vAlign:null,vLink:null,vSpace:nY,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:n$,disableRemotePlayback:n$,prefix:null,property:null,results:nY,security:null,unselectable:null}}),n4=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:nX,accentHeight:nY,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:nY,amplitude:nY,arabicForm:null,ascent:nY,attributeName:null,attributeType:null,azimuth:nY,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:nY,by:null,calcMode:null,capHeight:nY,className:nq,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:nY,diffuseConstant:nY,direction:null,display:null,dur:null,divisor:nY,dominantBaseline:null,download:n$,dx:null,dy:null,edgeMode:null,editable:null,elevation:nY,enableBackground:null,end:null,event:null,exponent:nY,externalResourcesRequired:null,fill:null,fillOpacity:nY,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:nW,g2:nW,glyphName:nW,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:nY,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:nY,horizOriginX:nY,horizOriginY:nY,id:null,ideographic:nY,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:nY,k:nY,k1:nY,k2:nY,k3:nY,k4:nY,kernelMatrix:nX,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:nY,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:nY,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:nY,overlineThickness:nY,paintOrder:null,panose1:null,path:null,pathLength:nY,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nq,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:nY,pointsAtY:nY,pointsAtZ:nY,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nX,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nX,rev:nX,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nX,requiredFeatures:nX,requiredFonts:nX,requiredFormats:nX,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:nY,specularExponent:nY,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:nY,strikethroughThickness:nY,string:null,stroke:null,strokeDashArray:nX,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:nY,strokeOpacity:nY,strokeWidth:null,style:null,surfaceScale:nY,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nX,tabIndex:nY,tableValues:null,target:null,targetX:nY,targetY:nY,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nX,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:nY,underlineThickness:nY,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:nY,values:null,vAlphabetic:nY,vMathematical:nY,vectorEffect:null,vHanging:nY,vIdeographic:nY,version:null,vertAdvY:nY,vertOriginX:nY,vertOriginY:nY,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:nY,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),n5=merge([n0,nZ,n1,n2,n3],"html"),n6=merge([n0,nZ,n1,n2,n4],"svg");function parse(d){let h=[],g=String(d||""),_=g.indexOf(","),y=0,A=!1;for(;!A;){-1===_&&(_=g.length,A=!0);let d=g.slice(y,_).trim();(d||!A)&&h.push(d),y=_+1,_=g.indexOf(",",y)}return h}function comma_separated_tokens_stringify(d,h){let g=h||{},_=""===d[d.length-1]?[...d,""]:d;return _.join((g.padRight?" ":"")+","+(!1===g.padLeft?"":" ")).trim()}let n8=/[#.]/g,n9=/^data[-\w.:]+$/i,n7=/-[a-z]/g,re=/[A-Z]/g;function find(d,h){let g=normalize(h),_=h,y=Info;if(g in d.normal)return d.property[d.normal[g]];if(g.length>4&&"data"===g.slice(0,4)&&n9.test(h)){if("-"===h.charAt(4)){let d=h.slice(5).replace(n7,camelcase);_="data"+d.charAt(0).toUpperCase()+d.slice(1)}else{let d=h.slice(4);if(!n7.test(d)){let g=d.replace(re,kebab);"-"!==g.charAt(0)&&(g="-"+g),h="data"+g}}y=DefinedInfo}return new y(_,h)}function kebab(d){return"-"+d.toLowerCase()}function camelcase(d){return d.charAt(1).toUpperCase()}function space_separated_tokens_parse(d){let h=String(d||"").trim();return h?h.split(/[ \t\n\r\f]+/g):[]}function space_separated_tokens_stringify(d){return d.join(" ").trim()}let rt={}.hasOwnProperty;function createH(d,h,g){let _=g&&function(d){let h={},g=-1;for(;++g<d.length;)h[d[g].toLowerCase()]=d[g];return h}(g);return function(g,y,...A){let b,k=-1;if(null==g)b={type:"root",children:[]},A.unshift(y);else if((b=function(d,h){let g,_;let y=d||"",A={},b=0;for(;b<y.length;){n8.lastIndex=b;let d=n8.exec(y),h=y.slice(b,d?d.index:y.length);h&&(g?"#"===g?A.id=h:Array.isArray(A.className)?A.className.push(h):A.className=[h]:_=h,b+=h.length),d&&(g=d[0],b++)}return{type:"element",tagName:_||h||"div",properties:A,children:[]}}(g,h)).tagName=b.tagName.toLowerCase(),_&&rt.call(_,b.tagName)&&(b.tagName=_[b.tagName]),function(d){if(null===d||"object"!=typeof d||Array.isArray(d))return!0;if("string"!=typeof d.type)return!1;let h=Object.keys(d);for(let g of h){let h=d[g];if(h&&"object"==typeof h){if(!Array.isArray(h))return!0;for(let d of h)if("number"!=typeof d&&"string"!=typeof d)return!0}}return!!("children"in d&&Array.isArray(d.children))}(y))A.unshift(y);else{let h;for(h in y)rt.call(y,h)&&function(d,h,g,_){let y;let A=find(d,g),b=-1;if(null!=_){if("number"==typeof _){if(Number.isNaN(_))return;y=_}else y="boolean"==typeof _?_:"string"==typeof _?A.spaceSeparated?space_separated_tokens_parse(_):A.commaSeparated?parse(_):A.commaOrSpaceSeparated?space_separated_tokens_parse(parse(_).join(" ")):parsePrimitive(A,A.property,_):Array.isArray(_)?_.concat():"style"===A.property?function(d){let h;let g=[];for(h in d)rt.call(d,h)&&g.push([h,d[h]].join(": "));return g.join("; ")}(_):String(_);if(Array.isArray(y)){let d=[];for(;++b<y.length;){let h=parsePrimitive(A,A.property,y[b]);d[b]=h}y=d}if("className"===A.property&&Array.isArray(h.className)){let d=y;y=h.className.concat(d)}h[A.property]=y}}(d,b.properties,h,y[h])}for(;++k<A.length;)!function addChild(d,h){let g=-1;if(null==h);else if("string"==typeof h||"number"==typeof h)d.push({type:"text",value:String(h)});else if(Array.isArray(h))for(;++g<h.length;)addChild(d,h[g]);else if("object"==typeof h&&"type"in h)"root"===h.type?addChild(d,h.children):d.push(h);else throw Error("Expected node, nodes, or string, got `"+h+"`")}(b.children,A[k]);return"element"===b.type&&"template"===b.tagName&&(b.content={type:"root",children:b.children},b.children=[]),b}}function parsePrimitive(d,h,g){if("string"==typeof g){if(d.number&&g&&!Number.isNaN(Number(g)))return Number(g);if((d.boolean||d.overloadedBoolean)&&(""===g||normalize(g)===normalize(h)))return!0}return g}let rr=createH(n5,"div"),rl=createH(n6,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]);function next(d,h){let g=d.indexOf("\r",h),_=d.indexOf("\n",h);return -1===_?g:-1===g||g+1===_?_:g<_?g:_}let rc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ru={}.hasOwnProperty,rd=Object.prototype;function one(d,h){let g;switch(h.nodeName){case"#comment":return g={type:"comment",value:h.data},patch(d,h,g),g;case"#document":case"#document-fragment":{let _="mode"in h&&("quirks"===h.mode||"limited-quirks"===h.mode);if(g={type:"root",children:lib_all(d,h.childNodes),data:{quirksMode:_}},d.file&&d.location){let h=String(d.file),_=function(d){let h=String(d),g=[];return{toOffset:function(d){if(d&&"number"==typeof d.line&&"number"==typeof d.column&&!Number.isNaN(d.line)&&!Number.isNaN(d.column)){for(;g.length<d.line;){let d=g[g.length-1],_=next(h,d),y=-1===_?h.length+1:_+1;if(d===y)break;g.push(y)}let _=(d.line>1?g[d.line-2]:0)+d.column-1;if(_<g[d.line-1])return _}},toPoint:function(d){if("number"==typeof d&&d>-1&&d<=h.length){let _=0;for(;;){let y=g[_];if(void 0===y){let d=next(h,g[_-1]);y=-1===d?h.length+1:d+1,g[_]=y}if(y>d)return{line:_+1,column:d-(_>0?g[_-1]:0)+1,offset:d};_++}}}}}(h),y=_.toPoint(0),A=_.toPoint(h.length);g.position={start:y,end:A}}return g}case"#documentType":return patch(d,h,g={type:"doctype"}),g;case"#text":return g={type:"text",value:h.value},patch(d,h,g),g;default:return function(d,h){let g=d.schema;d.schema=h.namespaceURI===rc.svg?n6:n5;let _=-1,y={};for(;++_<h.attrs.length;){let d=h.attrs[_],g=(d.prefix?d.prefix+":":"")+d.name;ru.call(rd,g)||(y[g]=d.value)}let A="svg"===d.schema.space?rl:rr,b=A(h.tagName,y,lib_all(d,h.childNodes));if(patch(d,h,b),"template"===b.tagName){let g=h.sourceCodeLocation,_=g&&g.startTag&&position(g.startTag),y=g&&g.endTag&&position(g.endTag),A=one(d,h.content);_&&y&&d.file&&(A.position={start:_.end,end:y.start}),b.content=A}return d.schema=g,b}(d,h)}}function lib_all(d,h){let g=-1,_=[];for(;++g<h.length;){let y=one(d,h[g]);_.push(y)}return _}function patch(d,h,g){if("sourceCodeLocation"in h&&h.sourceCodeLocation&&d.file){let _=function(d,h,g){let _=position(g);if("element"===h.type){let y=h.children[h.children.length-1];if(_&&!g.endTag&&y&&y.position&&y.position.end&&(_.end=Object.assign({},y.position.end)),d.verbose){let _;let y={};if(g.attrs)for(_ in g.attrs)ru.call(g.attrs,_)&&(y[find(d.schema,_).property]=position(g.attrs[_]));g.startTag;let A=position(g.startTag),b=g.endTag?position(g.endTag):void 0,k={opening:A};b&&(k.closing=b),k.properties=y,h.data={position:k}}}return _}(d,g,h.sourceCodeLocation);_&&(d.location=!0,g.position=_)}}function position(d){let h=point({line:d.startLine,column:d.startCol,offset:d.startOffset}),g=point({line:d.endLine,column:d.endCol,offset:d.endOffset});return h||g?{start:h,end:g}:void 0}function point(d){return d.line&&d.column?d:void 0}let rh={}.hasOwnProperty;function zwitch(d,h){let g=h||{};function one(h,...g){let _=one.invalid,y=one.handlers;if(h&&rh.call(h,d)){let g=String(h[d]);_=rh.call(y,g)?y[g]:one.unknown}if(_)return _.call(this,h,...g)}return one.handlers=g.handlers||{},one.invalid=g.invalid,one.unknown=g.unknown,one}let rp={},rf={}.hasOwnProperty,rm=zwitch("type",{handlers:{root:function(d,h){let g={nodeName:"#document",mode:(d.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return g.childNodes=hast_util_to_parse5_lib_all(d.children,g,h),lib_patch(d,g),g},element:function(d,h){let g;let _=h;"element"===d.type&&"svg"===d.tagName.toLowerCase()&&"html"===h.space&&(_=n6);let y=[];if(d.properties){for(g in d.properties)if("children"!==g&&rf.call(d.properties,g)){let h=function(d,h,g){let _=find(d,h);if(!1===g||null==g||"number"==typeof g&&Number.isNaN(g)||!g&&_.boolean)return;Array.isArray(g)&&(g=_.commaSeparated?comma_separated_tokens_stringify(g):space_separated_tokens_stringify(g));let y={name:_.attribute,value:!0===g?"":String(g)};if(_.space&&"html"!==_.space&&"svg"!==_.space){let d=y.name.indexOf(":");d<0?y.prefix="":(y.name=y.name.slice(d+1),y.prefix=_.attribute.slice(0,d)),y.namespace=rc[_.space]}return y}(_,g,d.properties[g]);h&&y.push(h)}}let A=_.space,b={nodeName:d.tagName,tagName:d.tagName,attrs:y,namespaceURI:rc[A],childNodes:[],parentNode:null};return b.childNodes=hast_util_to_parse5_lib_all(d.children,b,_),lib_patch(d,b),"template"===d.tagName&&d.content&&(b.content=function(d,h){let g={nodeName:"#document-fragment",childNodes:[]};return g.childNodes=hast_util_to_parse5_lib_all(d.children,g,h),lib_patch(d,g),g}(d.content,_)),b},text:function(d){let h={nodeName:"#text",value:d.value,parentNode:null};return lib_patch(d,h),h},comment:function(d){let h={nodeName:"#comment",data:d.value,parentNode:null};return lib_patch(d,h),h},doctype:function(d){let h={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return lib_patch(d,h),h}}});function hast_util_to_parse5_lib_all(d,h,g){let _=-1,y=[];if(d)for(;++_<d.length;){let A=rm(d[_],g);A.parentNode=h,y.push(A)}return y}function lib_patch(d,h){let g=d.position;g&&g.start&&g.end&&(g.start.offset,g.end.offset,h.sourceCodeLocation={startLine:g.start.line,startCol:g.start.column,startOffset:g.start.offset,endLine:g.end.line,endCol:g.end.column,endOffset:g.end.offset})}let rg=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],rE=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);(R=em=em||(em={}))[R.EOF=-1]="EOF",R[R.NULL=0]="NULL",R[R.TABULATION=9]="TABULATION",R[R.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",R[R.LINE_FEED=10]="LINE_FEED",R[R.FORM_FEED=12]="FORM_FEED",R[R.SPACE=32]="SPACE",R[R.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",R[R.QUOTATION_MARK=34]="QUOTATION_MARK",R[R.NUMBER_SIGN=35]="NUMBER_SIGN",R[R.AMPERSAND=38]="AMPERSAND",R[R.APOSTROPHE=39]="APOSTROPHE",R[R.HYPHEN_MINUS=45]="HYPHEN_MINUS",R[R.SOLIDUS=47]="SOLIDUS",R[R.DIGIT_0=48]="DIGIT_0",R[R.DIGIT_9=57]="DIGIT_9",R[R.SEMICOLON=59]="SEMICOLON",R[R.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",R[R.EQUALS_SIGN=61]="EQUALS_SIGN",R[R.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",R[R.QUESTION_MARK=63]="QUESTION_MARK",R[R.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",R[R.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",R[R.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",R[R.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",R[R.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",R[R.GRAVE_ACCENT=96]="GRAVE_ACCENT",R[R.LATIN_SMALL_A=97]="LATIN_SMALL_A",R[R.LATIN_SMALL_F=102]="LATIN_SMALL_F",R[R.LATIN_SMALL_X=120]="LATIN_SMALL_X",R[R.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",R[R.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER";let r_={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(d){return d>=55296&&d<=57343}function isControlCodePoint(d){return 32!==d&&10!==d&&13!==d&&9!==d&&12!==d&&d>=1&&d<=31||d>=127&&d<=159}function isUndefinedCodePoint(d){return d>=64976&&d<=65007||rE.has(d)}(B=eg=eg||(eg={})).controlCharacterInInputStream="control-character-in-input-stream",B.noncharacterInInputStream="noncharacter-in-input-stream",B.surrogateInInputStream="surrogate-in-input-stream",B.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",B.endTagWithAttributes="end-tag-with-attributes",B.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",B.unexpectedSolidusInTag="unexpected-solidus-in-tag",B.unexpectedNullCharacter="unexpected-null-character",B.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",B.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",B.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",B.missingEndTagName="missing-end-tag-name",B.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",B.unknownNamedCharacterReference="unknown-named-character-reference",B.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",B.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",B.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",B.eofBeforeTagName="eof-before-tag-name",B.eofInTag="eof-in-tag",B.missingAttributeValue="missing-attribute-value",B.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",B.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",B.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",B.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",B.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",B.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",B.missingDoctypePublicIdentifier="missing-doctype-public-identifier",B.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",B.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",B.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",B.cdataInHtmlContent="cdata-in-html-content",B.incorrectlyOpenedComment="incorrectly-opened-comment",B.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",B.eofInDoctype="eof-in-doctype",B.nestedComment="nested-comment",B.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",B.eofInComment="eof-in-comment",B.incorrectlyClosedComment="incorrectly-closed-comment",B.eofInCdata="eof-in-cdata",B.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",B.nullCharacterReference="null-character-reference",B.surrogateCharacterReference="surrogate-character-reference",B.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",B.controlCharacterReference="control-character-reference",B.noncharacterCharacterReference="noncharacter-character-reference",B.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",B.missingDoctypeName="missing-doctype-name",B.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",B.duplicateAttribute="duplicate-attribute",B.nonConformingDoctype="non-conforming-doctype",B.missingDoctype="missing-doctype",B.misplacedDoctype="misplaced-doctype",B.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",B.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",B.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",B.openElementsLeftAfterEof="open-elements-left-after-eof",B.abandonedHeadElementChild="abandoned-head-element-child",B.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",B.nestedNoscriptInHead="nested-noscript-in-head",B.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";let Preprocessor=class Preprocessor{constructor(d){this.handler=d,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(d){let{line:h,col:g,offset:_}=this;return{code:d,startLine:h,endLine:h,startCol:g,endCol:g,startOffset:_,endOffset:_}}_err(d){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(d)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(d){if(this.pos!==this.html.length-1){let h=this.html.charCodeAt(this.pos+1);if(h>=56320&&h<=57343)return this.pos++,this._addGap(),(d-55296)*1024+9216+h}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,em.EOF;return this._err(eg.surrogateInInputStream),d}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(d,h){this.html.length>0?this.html+=d:this.html=d,this.endOfChunkHit=!1,this.lastChunkWritten=h}insertHtmlAtCurrentPos(d){this.html=this.html.substring(0,this.pos+1)+d+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(d,h){if(this.pos+d.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(h)return this.html.startsWith(d,this.pos);for(let h=0;h<d.length;h++){let g=32|this.html.charCodeAt(this.pos+h);if(g!==d.charCodeAt(h))return!1}return!0}peek(d){let h=this.pos+d;if(h>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,em.EOF;let g=this.html.charCodeAt(h);return g===em.CARRIAGE_RETURN?em.LINE_FEED:g}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,em.EOF;let d=this.html.charCodeAt(this.pos);if(d===em.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,em.LINE_FEED;if(d===em.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,isSurrogate(d)&&(d=this._processSurrogate(d));let h=null===this.handler.onParseError||d>31&&d<127||d===em.LINE_FEED||d===em.CARRIAGE_RETURN||d>159&&d<64976;return h||this._checkForProblematicCharacters(d),d}_checkForProblematicCharacters(d){isControlCodePoint(d)?this._err(eg.controlCharacterInInputStream):isUndefinedCodePoint(d)&&this._err(eg.noncharacterInInputStream)}retreat(d){for(this.pos-=d;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};function getTokenAttr(d,h){for(let g=d.attrs.length-1;g>=0;g--)if(d.attrs[g].name===h)return d.attrs[g].value;return null}(H=eE=eE||(eE={}))[H.CHARACTER=0]="CHARACTER",H[H.NULL_CHARACTER=1]="NULL_CHARACTER",H[H.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",H[H.START_TAG=3]="START_TAG",H[H.END_TAG=4]="END_TAG",H[H.COMMENT=5]="COMMENT",H[H.DOCTYPE=6]="DOCTYPE",H[H.EOF=7]="EOF",H[H.HIBERNATION=8]="HIBERNATION";var rT=new Uint16Array('ᵁ<\xd5ıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\x00\x00\x00\x00\x00\x00ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig耻\xc6䃆P耻&䀦cute耻\xc1䃁reve;䄂Āiyx}rc耻\xc2䃂;䐐r;쀀\ud835\udd04rave耻\xc0䃀pha;䎑acr;䄀d;橓Āgp\x9d\xa1on;䄄f;쀀\ud835\udd38plyFunction;恡ing耻\xc5䃅Ācs\xbe\xc3r;쀀\ud835\udc9cign;扔ilde耻\xc3䃃ml耻\xc4䃄Ѐaceforsu\xe5\xfb\xfeėĜĢħĪĀcr\xea\xf2kslash;或Ŷ\xf6\xf8;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀\ud835\udd05pf;쀀\ud835\udd39eve;䋘c\xf2ēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻\xa9䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻\xc7䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷\xf2ſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀\ud835\udc9epĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀\ud835\udd07Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\x00\x00\x00͔͂\x00Ѕf;쀀\ud835\udd3bƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegra\xecȹoɴ͹\x00\x00ͻ\xbb͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔e\xe5ˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\x00\x00ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\x00ц\x00ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\x00ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀\ud835\udc9frok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻\xd0䃐cute耻\xc9䃉ƀaiyӒӗӜron;䄚rc耻\xca䃊;䐭ot;䄖r;쀀\ud835\udd08rave耻\xc8䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\x00\x00ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀\ud835\udd3csilon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻\xcb䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀\ud835\udd09lledɓ֗\x00\x00֣mallSquare;旼erySmallSquare;斪Ͱֺ\x00ֿ\x00\x00ׄf;쀀\ud835\udd3dAll;戀riertrf;愱c\xf2׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀\ud835\udd0a;拙pf;쀀\ud835\udd3eeater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀\ud835\udca2;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\x00ڲf;愍izontalLine;攀Āctۃۅ\xf2کrok;䄦mpńېۘownHum\xf0įqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻\xcd䃍Āiyܓܘrc耻\xce䃎;䐘ot;䄰r;愑rave耻\xcc䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lie\xf3ϝǴ݉\x00ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀\ud835\udd40a;䎙cr;愐ilde;䄨ǫޚ\x00ޞcy;䐆l耻\xcf䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀\ud835\udd0dpf;쀀\ud835\udd41ǣ߇\x00ߌr;쀀\ud835\udca5rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀\ud835\udd0epf;쀀\ud835\udd42cr;쀀\ud835\udca6րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\x00ࣃbleBracket;柦nǔࣈ\x00࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ight\xe1Μs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀\ud835\udd0fĀ;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊight\xe1οight\xe1ϊf;쀀\ud835\udd43erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂ\xf2ࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀\ud835\udd10nusPlus;戓pf;쀀\ud835\udd44c\xf2੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘\xeb૙eryThi\xee૙tedĀGL૸ଆreaterGreate\xf2ٳessLes\xf3ੈLine;䀊r;쀀\ud835\udd11ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀\ud835\udca9ilde耻\xd1䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻\xd3䃓Āiy෎ීrc耻\xd4䃔;䐞blac;䅐r;쀀\ud835\udd12rave耻\xd2䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀\ud835\udd46enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀\ud835\udcaaash耻\xd8䃘iŬื฼de耻\xd5䃕es;樷ml耻\xd6䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀\ud835\udd13i;䎦;䎠usMinus;䂱Āipຢອncareplan\xe5ڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀\ud835\udcab;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀\ud835\udd14pf;愚cr;쀀\ud835\udcac؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻\xae䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r\xbbཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\x00စbleBracket;柧nǔည\x00နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀\ud835\udd16ortȀDLRUᄪᄴᄾᅉownArrow\xbbОeftArrow\xbb࢚ightArrow\xbb࿝pArrow;憑gma;䎣allCircle;战pf;쀀\ud835\udd4aɲᅭ\x00\x00ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀\ud835\udcaear;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Th\xe1ྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et\xbbሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻\xde䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀\ud835\udd17Āeiቻ኉ǲኀ\x00ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀\ud835\udd4bipleDot;惛Āctዖዛr;쀀\ud835\udcafrok;䅦ૡዷጎጚጦ\x00ጬጱ\x00\x00\x00\x00\x00ጸጽ፷ᎅ\x00᏿ᐄᐊᐐĀcrዻጁute耻\xda䃚rĀ;oጇገ憟cir;楉rǣጓ\x00጖y;䐎ve;䅬Āiyጞጣrc耻\xdb䃛;䐣blac;䅰r;쀀\ud835\udd18rave耻\xd9䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀\ud835\udd4cЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥own\xe1ϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀\ud835\udcb0ilde;䅨ml耻\xdc䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀\ud835\udd19pf;쀀\ud835\udd4dcr;쀀\ud835\udcb1dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀\ud835\udd1apf;쀀\ud835\udd4ecr;쀀\ud835\udcb2Ȁfiosᓋᓐᓒᓘr;쀀\ud835\udd1b;䎞pf;쀀\ud835\udd4fcr;쀀\ud835\udcb3ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻\xdd䃝Āiyᔉᔍrc;䅶;䐫r;쀀\ud835\udd1cpf;쀀\ud835\udd50cr;쀀\ud835\udcb4ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\x00ᕛoWidt\xe8૙a;䎖r;愨pf;愤cr;쀀\ud835\udcb5௡ᖃᖊᖐ\x00ᖰᖶᖿ\x00\x00\x00\x00ᗆᗛᗫᙟ᙭\x00ᚕ᚛ᚲᚹ\x00ᚾcute耻\xe1䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻\xe2䃢te肻\xb4̆;䐰lig耻\xe6䃦Ā;r\xb2ᖺ;쀀\ud835\udd1erave耻\xe0䃠ĀepᗊᗖĀfpᗏᗔsym;愵\xe8ᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\x00\x00ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e\xbbᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢\xbb\xb9arr;捼Āgpᙣᙧon;䄅f;쀀\ud835\udd52΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒ\xf1ᚃing耻\xe5䃥ƀctyᚡᚦᚨr;쀀\ud835\udcb6;䀪mpĀ;e዁ᚯ\xf1ʈilde耻\xe3䃣ml耻\xe4䃤Āciᛂᛈonin\xf4ɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e\xbbᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰s\xe9ᜌno\xf5ēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀\ud835\udd1fg΀costuvwឍឝឳេ៕៛៞ƀaiuបពរ\xf0ݠrc;旯p\xbb፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\x00\x00ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄e\xe5ᑄ\xe5ᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\x00ᠳƲᠯ\x00ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀\ud835\udd53Ā;tᏋᡣom\xbbᏌtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻\xa6䂦Ȁceioᥑᥖᥚᥠr;쀀\ud835\udcb7mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t\xbb᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\x00᧨ᨑᨕᨲ\x00ᨷᩐ\x00\x00᪴\x00\x00᫁\x00\x00ᬡᬮ᭍᭒\x00᯽\x00ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁\xeeړȀaeiu᧰᧻ᨁᨅǰ᧵\x00᧸s;橍on;䄍dil耻\xe7䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻\xb8ƭptyv;榲t脀\xa2;eᨭᨮ䂢r\xe4Ʋr;쀀\ud835\udd20ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark\xbbᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\x00\x00᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟\xbbཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it\xbb᪼ˬ᫇᫔᫺\x00ᬊonĀ;eᫍᫎ䀺Ā;q\xc7\xc6ɭ᫙\x00\x00᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁\xeeᅠeĀmx᫱᫶ent\xbb᫩e\xf3ɍǧ᫾\x00ᬇĀ;dኻᬂot;橭n\xf4Ɇƀfryᬐᬔᬗ;쀀\ud835\udd54o\xe4ɔ脀\xa9;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀\ud835\udcb8Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\x00\x00᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\x00\x00ᯒre\xe3᭳u\xe3᭵ee;拎edge;拏en耻\xa4䂤earrowĀlrᯮ᯳eft\xbbᮀight\xbbᮽe\xe4ᯝĀciᰁᰇonin\xf4Ƿnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍r\xf2΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸\xf2ᄳhĀ;vᱚᱛ怐\xbbऊūᱡᱧarow;椏a\xe3̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻\xb0䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀\ud835\udd21arĀlrᲳᲵ\xbbࣜ\xbbသʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀\xf7;o᳧ᳰntimes;拇n\xf8᳷cy;䑒cɯᴆ\x00\x00ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀\ud835\udd55ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedg\xe5\xfanƀadhᄮᵝᵧownarrow\xf3ᲃarpoonĀlrᵲᵶef\xf4Ჴigh\xf4ᲶŢᵿᶅkaro\xf7གɯᶊ\x00\x00ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀\ud835\udcb9;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃r\xf2Щa\xf2ྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴo\xf4ᲉĀcsḎḔute耻\xe9䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻\xea䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀\ud835\udd22ƀ;rsṐṑṗ檚ave耻\xe8䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et\xbbẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀\ud835\udd56ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on\xbbớ;䏵ȀcsuvỪỳἋἣĀioữḱrc\xbbḮɩỹ\x00\x00ỻ\xedՈantĀglἂἆtr\xbbṝess\xbbṺƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯o\xf4͒ĀahὉὋ;䎷耻\xf0䃰Āmrὓὗl耻\xeb䃫o;悬ƀcipὡὤὧl;䀡s\xf4ծĀeoὬὴctatio\xeeՙnential\xe5չৡᾒ\x00ᾞ\x00ᾡᾧ\x00\x00ῆῌ\x00ΐ\x00ῦῪ \x00 ⁚llingdotse\xf1Ṅy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\x00\x00᾽g;耀ﬀig;耀ﬄ;쀀\ud835\udd23lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\x00ῳf;쀀\ud835\udd57ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\x00⁐β•‥‧‪‬\x00‮耻\xbd䂽;慓耻\xbc䂼;慕;慙;慛Ƴ‴\x00‶;慔;慖ʴ‾⁁\x00\x00⁃耻\xbe䂾;慗;慜5;慘ƶ⁌\x00⁎;慚;慝8;慞l;恄wn;挢cr;쀀\ud835\udcbbࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lan\xf4٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀\ud835\udd24Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox\xbbℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀\ud835\udd58Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\x00↎pro\xf8₞r;楸qĀlqؿ↖les\xf3₈i\xed٫Āen↣↭rtneqq;쀀≩︀\xc5↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽r\xf2ΠȀilmr⇐⇔⇗⇛rs\xf0ᒄf\xbb․il\xf4کĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it\xbb∊lip;怦con;抹r;쀀\ud835\udd25sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀\ud835\udd59bar;怕ƀclt≯≴≸r;쀀\ud835\udcbdas\xe8⇴rok;䄧Ābp⊂⊇ull;恃hen\xbbᱛૡ⊣\x00⊪\x00⊸⋅⋎\x00⋕⋳\x00\x00⋸⌢⍧⍢⍿\x00⎆⎪⎴cute耻\xed䃭ƀ;iyݱ⊰⊵rc耻\xee䃮;䐸Ācx⊼⊿y;䐵cl耻\xa1䂡ĀfrΟ⋉;쀀\ud835\udd26rave耻\xec䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓in\xe5ގar\xf4ܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝do\xf4⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙er\xf3ᕣ\xe3⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀\ud835\udd5aa;䎹uest耻\xbf䂿Āci⎊⎏r;쀀\ud835\udcbenʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\x00⎼cy;䑖l耻\xef䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀\ud835\udd27ath;䈷pf;쀀\ud835\udd5bǣ⏬\x00⏱r;쀀\ud835\udcbfrcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀\ud835\udd28reen;䄸cy;䑅cy;䑜pf;쀀\ud835\udd5ccr;쀀\ud835\udcc0஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼r\xf2৆\xf2Εail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\x00⒪\x00⒱\x00\x00\x00\x00\x00⒵Ⓔ\x00ⓆⓈⓍ\x00⓹ute;䄺mptyv;榴ra\xeeࡌbda;䎻gƀ;dlࢎⓁⓃ;榑\xe5ࢎ;檅uo耻\xab䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝\xeb≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼\xecࢰ\xe2┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□a\xe9⓶arpoonĀdu▯▴own\xbbњp\xbb०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoon\xf3྘quigarro\xf7⇰hreetimes;拋ƀ;qs▋ও◺lan\xf4বʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋ppro\xf8Ⓠot;拖qĀgq♃♅\xf4উgt\xf2⒌\xf4ছi\xedলƀilr♕࣡♚sht;楼;쀀\ud835\udd29Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖r\xf2◁orne\xf2ᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che\xbb⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox\xbb⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽r\xebࣁgƀlmr⛿✍✔eftĀar০✇ight\xe1৲apsto;柼ight\xe1৽parrowĀlr✥✩ef\xf4⓭ight;憬ƀafl✶✹✽r;榅;쀀\ud835\udd5dus;樭imes;樴š❋❏st;戗\xe1ፎƀ;ef❗❘᠀旊nge\xbb❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇r\xf2ࢨorne\xf2ᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀\ud835\udcc1mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹re\xe5◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀\xc5⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻\xaf䂯Āet⡗⡙;時Ā;e⡞⡟朠se\xbb⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻ow\xeeҌef\xf4ए\xf0Ꮡker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle\xbbᘦr;쀀\ud835\udd2ao;愧ƀcdn⢯⢴⣉ro耻\xb5䂵Ȁ;acdᑤ⢽⣀⣄s\xf4ᚧir;櫰ot肻\xb7Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛\xf2−\xf0ઁĀdp⣩⣮els;抧f;쀀\ud835\udd5eĀct⣸⣽r;쀀\ud835\udcc2pos\xbbᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la\xbb˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉ro\xf8඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\x00⧣p肻\xa0ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\x00⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸ui\xf6ୣĀei⩊⩎ar;椨\xed஘istĀ;s஠டr;쀀\ud835\udd2bȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lan\xf4௢i\xed௪Ā;rஶ⪁\xbbஷƀAap⪊⪍⪑r\xf2⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹r\xf2⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro\xf7⫁ightarro\xf7⪐ƀ;qs఻⪺⫪lan\xf4ౕĀ;sౕ⫴\xbbశi\xedౝĀ;rవ⫾iĀ;eచథi\xe4ඐĀpt⬌⬑f;쀀\ud835\udd5f膀\xac;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lle\xec୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳u\xe5ಥĀ;cಘ⭸Ā;eಒ⭽\xf1ಘȀAait⮈⮋⮝⮧r\xf2⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow\xbb⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉u\xe5൅;쀀\ud835\udcc3ortɭ⬅\x00\x00⯖ar\xe1⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭\xe5೸\xe5ഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗ\xf1സȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇ\xecௗlde耻\xf1䃱\xe7ృiangleĀlrⱒⱜeftĀ;eచⱚ\xf1దightĀ;eೋⱥ\xf1೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00ⴭ\x00ⴸⵈⵠⵥ⵲ⶄᬇ\x00\x00ⶍⶫ\x00ⷈⷎ\x00ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻\xf3䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻\xf4䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀\ud835\udd2cͯ⵹\x00\x00⵼\x00ⶂn;䋛ave耻\xf2䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨr\xf2᪀Āir⶝ⶠr;榾oss;榻n\xe5๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀\ud835\udd60ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨r\xf2᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f\xbbⷿ耻\xaa䂪耻\xba䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧\xf2⸁ash耻\xf8䃸l;折iŬⸯ⸴de耻\xf5䃵esĀ;aǛ⸺s;樶ml耻\xf6䃶bar;挽ૡ⹞\x00⹽\x00⺀⺝\x00⺢⺹\x00\x00⻋ຜ\x00⼓\x00\x00⼫⾼\x00⿈rȀ;astЃ⹧⹲຅脀\xb6;l⹭⹮䂶le\xecЃɩ⹸\x00\x00⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀\ud835\udd2dƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕ma\xf4੶ne;明ƀ;tv⺿⻀⻈䏀chfork\xbb´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎\xf6⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻\xb1ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀\ud835\udd61nd耻\xa3䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷u\xe5໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾ppro\xf8⽃urlye\xf1໙\xf1໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨i\xedໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺\xf0⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴\xef໻rel;抰Āci⿀⿅r;쀀\ud835\udcc5;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀\ud835\udd2epf;쀀\ud835\udd62rime;恗cr;쀀\ud835\udcc6ƀaeo⿸〉〓tĀei⿾々rnion\xf3ڰnt;樖stĀ;e【】䀿\xf1Ἑ\xf4༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがr\xf2Ⴓ\xf2ϝail;検ar\xf2ᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕i\xe3ᅮmptyv;榳gȀ;del࿑らるろ;榒;榥\xe5࿑uo耻\xbb䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞\xeb≝\xf0✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶al\xf3༞ƀabrョリヮr\xf2៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗\xec࿲\xe2ヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜn\xe5Ⴛar\xf4ྩt;断ƀilrㅩဣㅮsht;楽;쀀\ud835\udd2fĀaoㅷㆆrĀduㅽㅿ\xbbѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭa\xe9トarpoonĀduㆻㆿow\xeeㅾp\xbb႒eftĀah㇊㇐rrow\xf3࿪arpoon\xf3Ցightarrows;應quigarro\xf7ニhreetimes;拌g;䋚ingdotse\xf1ἲƀahm㈍㈐㈓r\xf2࿪a\xf2Ց;怏oustĀ;a㈞㈟掱che\xbb㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾r\xebဃƀafl㉇㉊㉎r;榆;쀀\ud835\udd63us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒ar\xf2㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀\ud835\udcc7Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠re\xe5ㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\x00㍺㎤\x00\x00㏬㏰\x00㐨㑈㑚㒭㒱㓊㓱\x00㘖\x00\x00㘳cute;䅛qu\xef➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\x00㋼;檸on;䅡u\xe5ᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓i\xedሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒\xeb∨Ā;oਸ਼਴t耻\xa7䂧i;䀻war;椩mĀin㍩\xf0nu\xf3\xf1t;朶rĀ;o㍶⁕쀀\ud835\udd30Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\x00\x00㎜i\xe4ᑤara\xec⹯耻\xad䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲ar\xf2ᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetm\xe9㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀\ud835\udd64aĀdr㑍ЂesĀ;u㑔㑕晠it\xbb㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍\xf1ᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝\xf1ᆮƀ;afᅻ㒦ְrť㒫ֱ\xbbᅼar\xf2ᅈȀcemt㒹㒾㓂㓅r;쀀\ud835\udcc8tm\xee\xf1i\xec㐕ar\xe6ᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psilo\xeeỠh\xe9⺯s\xbb⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦ppro\xf8㋺urlye\xf1ᇾ\xf1ᇳƀaes㖂㖈㌛ppro\xf8㌚q\xf1㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻\xb9䂹耻\xb2䂲耻\xb3䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨\xeb∮Ā;oਫ਩war;椪lig耻\xdf䃟௡㙑㙝㙠ዎ㙳㙹\x00㙾㛂\x00\x00\x00\x00\x00㛛㜃\x00㜉㝬\x00\x00\x00㞇ɲ㙖\x00\x00㙛get;挖;䏄r\xeb๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀\ud835\udd31Ȁeiko㚆㚝㚵㚼ǲ㚋\x00㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮ppro\xf8዁im\xbbኬs\xf0ኞĀas㚺㚮\xf0዁rn耻\xfe䃾Ǭ̟㛆⋧es膀\xd7;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀\xe1⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀\ud835\udd65rk;櫚\xe1㍢rime;怴ƀaip㜏㜒㝤d\xe5ቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own\xbbᶻeftĀ;e⠀㜾\xf1म;扜ightĀ;e㊪㝋\xf1ၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀\ud835\udcc9;䑆cy;䑛rok;䅧Āio㞋㞎x\xf4᝷headĀlr㞗㞠eftarro\xf7ࡏightarrow\xbbཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶r\xf2ϭar;楣Ācr㟜㟢ute耻\xfa䃺\xf2ᅐrǣ㟪\x00㟭y;䑞ve;䅭Āiy㟵㟺rc耻\xfb䃻;䑃ƀabh㠃㠆㠋r\xf2Ꭽlac;䅱a\xf2ᏃĀir㠓㠘sht;楾;쀀\ud835\udd32rave耻\xf9䃹š㠧㠱rĀlr㠬㠮\xbbॗ\xbbႃlk;斀Āct㠹㡍ɯ㠿\x00\x00㡊rnĀ;e㡅㡆挜r\xbb㡆op;挏ri;旸Āal㡖㡚cr;䅫肻\xa8͉Āgp㡢㡦on;䅳f;쀀\ud835\udd66̀adhlsuᅋ㡸㡽፲㢑㢠own\xe1ᎳarpoonĀlr㢈㢌ef\xf4㠭igh\xf4㠯iƀ;hl㢙㢚㢜䏅\xbbᏺon\xbb㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\x00\x00㣁rnĀ;e㢼㢽挝r\xbb㢽op;挎ng;䅯ri;旹cr;쀀\ud835\udccaƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨\xbb᠓Āam㣯㣲r\xf2㢨l耻\xfc䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠r\xf2ϷarĀ;v㤦㤧櫨;櫩as\xe8ϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖app\xe1␕othin\xe7ẖƀhir㓫⻈㥙op\xf4⾵Ā;hᎷ㥢\xefㆍĀiu㥩㥭gm\xe1㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟et\xe1㚜iangleĀlr㦪㦯eft\xbbथight\xbbၑy;䐲ash\xbbံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨa\xf2ᑩr;쀀\ud835\udd33tr\xe9㦮suĀbp㧯㧱\xbbജ\xbb൙pf;쀀\ud835\udd67ro\xf0໻tr\xe9㦴Ācu㨆㨋r;쀀\ud835\udccbĀbp㨐㨘nĀEe㦀㨖\xbb㥾nĀEe㦒㨞\xbb㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀\ud835\udd34pf;쀀\ud835\udd68Ā;eᑹ㩦at\xe8ᑹcr;쀀\ud835\udcccૣណ㪇\x00㪋\x00㪐㪛\x00\x00㪝㪨㪫㪯\x00\x00㫃㫎\x00㫘ៜ៟tr\xe9៑r;쀀\ud835\udd35ĀAa㪔㪗r\xf2σr\xf2৶;䎾ĀAa㪡㪤r\xf2θr\xf2৫a\xf0✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀\ud835\udd69im\xe5ឲĀAa㫇㫊r\xf2ώr\xf2ਁĀcq㫒ីr;쀀\ud835\udccdĀpt៖㫜r\xe9។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻\xfd䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻\xa5䂥r;쀀\ud835\udd36cy;䑗pf;쀀\ud835\udd6acr;쀀\ud835\udcceĀcm㬦㬩y;䑎l耻\xff䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡tr\xe6ᕟa;䎶r;쀀\ud835\udd37cy;䐶grarr;懝pf;쀀\ud835\udd6bcr;쀀\ud835\udccfĀjn㮅㮇;怍j;怌'.split("").map(d=>d.charCodeAt(0))),rv=new Uint16Array("Ȁaglq	\x15\x18\x1bɭ\x0f\x00\x00\x12p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(d=>d.charCodeAt(0)));let ry=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),rA=null!==(e_=String.fromCodePoint)&&void 0!==e_?e_:function(d){let h="";return d>65535&&(d-=65536,h+=String.fromCharCode(d>>>10&1023|55296),d=56320|1023&d),h+=String.fromCharCode(d)};function isNumber(d){return d>=eT.ZERO&&d<=eT.NINE}(z=eT||(eT={}))[z.NUM=35]="NUM",z[z.SEMI=59]="SEMI",z[z.EQUALS=61]="EQUALS",z[z.ZERO=48]="ZERO",z[z.NINE=57]="NINE",z[z.LOWER_A=97]="LOWER_A",z[z.LOWER_F=102]="LOWER_F",z[z.LOWER_X=120]="LOWER_X",z[z.LOWER_Z=122]="LOWER_Z",z[z.UPPER_A=65]="UPPER_A",z[z.UPPER_F=70]="UPPER_F",z[z.UPPER_Z=90]="UPPER_Z",($=ev||(ev={}))[$.VALUE_LENGTH=49152]="VALUE_LENGTH",$[$.BRANCH_LENGTH=16256]="BRANCH_LENGTH",$[$.JUMP_TABLE=127]="JUMP_TABLE",(j=ey||(ey={}))[j.EntityStart=0]="EntityStart",j[j.NumericStart=1]="NumericStart",j[j.NumericDecimal=2]="NumericDecimal",j[j.NumericHex=3]="NumericHex",j[j.NamedEntity=4]="NamedEntity",(q=eA||(eA={}))[q.Legacy=0]="Legacy",q[q.Strict=1]="Strict",q[q.Attribute=2]="Attribute";let EntityDecoder=class EntityDecoder{constructor(d,h,g){this.decodeTree=d,this.emitCodePoint=h,this.errors=g,this.state=ey.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=eA.Strict}startEntity(d){this.decodeMode=d,this.state=ey.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(d,h){switch(this.state){case ey.EntityStart:if(d.charCodeAt(h)===eT.NUM)return this.state=ey.NumericStart,this.consumed+=1,this.stateNumericStart(d,h+1);return this.state=ey.NamedEntity,this.stateNamedEntity(d,h);case ey.NumericStart:return this.stateNumericStart(d,h);case ey.NumericDecimal:return this.stateNumericDecimal(d,h);case ey.NumericHex:return this.stateNumericHex(d,h);case ey.NamedEntity:return this.stateNamedEntity(d,h)}}stateNumericStart(d,h){return h>=d.length?-1:(32|d.charCodeAt(h))===eT.LOWER_X?(this.state=ey.NumericHex,this.consumed+=1,this.stateNumericHex(d,h+1)):(this.state=ey.NumericDecimal,this.stateNumericDecimal(d,h))}addToNumericResult(d,h,g,_){if(h!==g){let y=g-h;this.result=this.result*Math.pow(_,y)+parseInt(d.substr(h,y),_),this.consumed+=y}}stateNumericHex(d,h){let g=h;for(;h<d.length;){var _;let y=d.charCodeAt(h);if(!isNumber(y)&&(!((_=y)>=eT.UPPER_A)||!(_<=eT.UPPER_F))&&(!(_>=eT.LOWER_A)||!(_<=eT.LOWER_F)))return this.addToNumericResult(d,g,h,16),this.emitNumericEntity(y,3);h+=1}return this.addToNumericResult(d,g,h,16),-1}stateNumericDecimal(d,h){let g=h;for(;h<d.length;){let _=d.charCodeAt(h);if(!isNumber(_))return this.addToNumericResult(d,g,h,10),this.emitNumericEntity(_,2);h+=1}return this.addToNumericResult(d,g,h,10),-1}emitNumericEntity(d,h){var g,_,y;if(this.consumed<=h)return null===(g=this.errors)||void 0===g||g.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(d===eT.SEMI)this.consumed+=1;else if(this.decodeMode===eA.Strict)return 0;return this.emitCodePoint((_=this.result)>=55296&&_<=57343||_>1114111?65533:null!==(y=ry.get(_))&&void 0!==y?y:_,this.consumed),this.errors&&(d!==eT.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(d,h){let{decodeTree:g}=this,_=g[this.treeIndex],y=(_&ev.VALUE_LENGTH)>>14;for(;h<d.length;h++,this.excess++){let A=d.charCodeAt(h);if(this.treeIndex=determineBranch(g,_,this.treeIndex+Math.max(1,y),A),this.treeIndex<0)return 0===this.result||this.decodeMode===eA.Attribute&&(0===y||function(d){var h;return d===eT.EQUALS||(h=d)>=eT.UPPER_A&&h<=eT.UPPER_Z||h>=eT.LOWER_A&&h<=eT.LOWER_Z||isNumber(h)}(A))?0:this.emitNotTerminatedNamedEntity();if(0!=(y=((_=g[this.treeIndex])&ev.VALUE_LENGTH)>>14)){if(A===eT.SEMI)return this.emitNamedEntityData(this.treeIndex,y,this.consumed+this.excess);this.decodeMode!==eA.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var d;let{result:h,decodeTree:g}=this,_=(g[h]&ev.VALUE_LENGTH)>>14;return this.emitNamedEntityData(h,_,this.consumed),null===(d=this.errors)||void 0===d||d.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(d,h,g){let{decodeTree:_}=this;return this.emitCodePoint(1===h?_[d]&~ev.VALUE_LENGTH:_[d+1],g),3===h&&this.emitCodePoint(_[d+2],g),g}end(){var d;switch(this.state){case ey.NamedEntity:return 0!==this.result&&(this.decodeMode!==eA.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ey.NumericDecimal:return this.emitNumericEntity(0,2);case ey.NumericHex:return this.emitNumericEntity(0,3);case ey.NumericStart:return null===(d=this.errors)||void 0===d||d.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ey.EntityStart:return 0}}};function getDecoder(d){let h="",g=new EntityDecoder(d,d=>h+=rA(d));return function(d,_){let y=0,A=0;for(;(A=d.indexOf("&",A))>=0;){h+=d.slice(y,A),g.startEntity(_);let b=g.write(d,A+1);if(b<0){y=A+g.end();break}y=A+b,A=0===b?y+1:y}let b=h+d.slice(y);return h="",b}}function determineBranch(d,h,g,_){let y=(h&ev.BRANCH_LENGTH)>>7,A=h&ev.JUMP_TABLE;if(0===y)return 0!==A&&_===A?g:-1;if(A){let h=_-A;return h<0||h>=y?-1:d[g+h]-1}let b=g,k=b+y-1;for(;b<=k;){let h=b+k>>>1,g=d[h];if(g<_)b=h+1;else{if(!(g>_))return d[h+y];k=h-1}}return -1}getDecoder(rT),getDecoder(rv),(W=eb=eb||(eb={})).HTML="http://www.w3.org/1999/xhtml",W.MATHML="http://www.w3.org/1998/Math/MathML",W.SVG="http://www.w3.org/2000/svg",W.XLINK="http://www.w3.org/1999/xlink",W.XML="http://www.w3.org/XML/1998/namespace",W.XMLNS="http://www.w3.org/2000/xmlns/",(K=eS=eS||(eS={})).TYPE="type",K.ACTION="action",K.ENCODING="encoding",K.PROMPT="prompt",K.NAME="name",K.COLOR="color",K.FACE="face",K.SIZE="size",(ee=ek=ek||(ek={})).NO_QUIRKS="no-quirks",ee.QUIRKS="quirks",ee.LIMITED_QUIRKS="limited-quirks",(et=eC=eC||(eC={})).A="a",et.ADDRESS="address",et.ANNOTATION_XML="annotation-xml",et.APPLET="applet",et.AREA="area",et.ARTICLE="article",et.ASIDE="aside",et.B="b",et.BASE="base",et.BASEFONT="basefont",et.BGSOUND="bgsound",et.BIG="big",et.BLOCKQUOTE="blockquote",et.BODY="body",et.BR="br",et.BUTTON="button",et.CAPTION="caption",et.CENTER="center",et.CODE="code",et.COL="col",et.COLGROUP="colgroup",et.DD="dd",et.DESC="desc",et.DETAILS="details",et.DIALOG="dialog",et.DIR="dir",et.DIV="div",et.DL="dl",et.DT="dt",et.EM="em",et.EMBED="embed",et.FIELDSET="fieldset",et.FIGCAPTION="figcaption",et.FIGURE="figure",et.FONT="font",et.FOOTER="footer",et.FOREIGN_OBJECT="foreignObject",et.FORM="form",et.FRAME="frame",et.FRAMESET="frameset",et.H1="h1",et.H2="h2",et.H3="h3",et.H4="h4",et.H5="h5",et.H6="h6",et.HEAD="head",et.HEADER="header",et.HGROUP="hgroup",et.HR="hr",et.HTML="html",et.I="i",et.IMG="img",et.IMAGE="image",et.INPUT="input",et.IFRAME="iframe",et.KEYGEN="keygen",et.LABEL="label",et.LI="li",et.LINK="link",et.LISTING="listing",et.MAIN="main",et.MALIGNMARK="malignmark",et.MARQUEE="marquee",et.MATH="math",et.MENU="menu",et.META="meta",et.MGLYPH="mglyph",et.MI="mi",et.MO="mo",et.MN="mn",et.MS="ms",et.MTEXT="mtext",et.NAV="nav",et.NOBR="nobr",et.NOFRAMES="noframes",et.NOEMBED="noembed",et.NOSCRIPT="noscript",et.OBJECT="object",et.OL="ol",et.OPTGROUP="optgroup",et.OPTION="option",et.P="p",et.PARAM="param",et.PLAINTEXT="plaintext",et.PRE="pre",et.RB="rb",et.RP="rp",et.RT="rt",et.RTC="rtc",et.RUBY="ruby",et.S="s",et.SCRIPT="script",et.SECTION="section",et.SELECT="select",et.SOURCE="source",et.SMALL="small",et.SPAN="span",et.STRIKE="strike",et.STRONG="strong",et.STYLE="style",et.SUB="sub",et.SUMMARY="summary",et.SUP="sup",et.TABLE="table",et.TBODY="tbody",et.TEMPLATE="template",et.TEXTAREA="textarea",et.TFOOT="tfoot",et.TD="td",et.TH="th",et.THEAD="thead",et.TITLE="title",et.TR="tr",et.TRACK="track",et.TT="tt",et.U="u",et.UL="ul",et.SVG="svg",et.VAR="var",et.WBR="wbr",et.XMP="xmp",(en=ex=ex||(ex={}))[en.UNKNOWN=0]="UNKNOWN",en[en.A=1]="A",en[en.ADDRESS=2]="ADDRESS",en[en.ANNOTATION_XML=3]="ANNOTATION_XML",en[en.APPLET=4]="APPLET",en[en.AREA=5]="AREA",en[en.ARTICLE=6]="ARTICLE",en[en.ASIDE=7]="ASIDE",en[en.B=8]="B",en[en.BASE=9]="BASE",en[en.BASEFONT=10]="BASEFONT",en[en.BGSOUND=11]="BGSOUND",en[en.BIG=12]="BIG",en[en.BLOCKQUOTE=13]="BLOCKQUOTE",en[en.BODY=14]="BODY",en[en.BR=15]="BR",en[en.BUTTON=16]="BUTTON",en[en.CAPTION=17]="CAPTION",en[en.CENTER=18]="CENTER",en[en.CODE=19]="CODE",en[en.COL=20]="COL",en[en.COLGROUP=21]="COLGROUP",en[en.DD=22]="DD",en[en.DESC=23]="DESC",en[en.DETAILS=24]="DETAILS",en[en.DIALOG=25]="DIALOG",en[en.DIR=26]="DIR",en[en.DIV=27]="DIV",en[en.DL=28]="DL",en[en.DT=29]="DT",en[en.EM=30]="EM",en[en.EMBED=31]="EMBED",en[en.FIELDSET=32]="FIELDSET",en[en.FIGCAPTION=33]="FIGCAPTION",en[en.FIGURE=34]="FIGURE",en[en.FONT=35]="FONT",en[en.FOOTER=36]="FOOTER",en[en.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",en[en.FORM=38]="FORM",en[en.FRAME=39]="FRAME",en[en.FRAMESET=40]="FRAMESET",en[en.H1=41]="H1",en[en.H2=42]="H2",en[en.H3=43]="H3",en[en.H4=44]="H4",en[en.H5=45]="H5",en[en.H6=46]="H6",en[en.HEAD=47]="HEAD",en[en.HEADER=48]="HEADER",en[en.HGROUP=49]="HGROUP",en[en.HR=50]="HR",en[en.HTML=51]="HTML",en[en.I=52]="I",en[en.IMG=53]="IMG",en[en.IMAGE=54]="IMAGE",en[en.INPUT=55]="INPUT",en[en.IFRAME=56]="IFRAME",en[en.KEYGEN=57]="KEYGEN",en[en.LABEL=58]="LABEL",en[en.LI=59]="LI",en[en.LINK=60]="LINK",en[en.LISTING=61]="LISTING",en[en.MAIN=62]="MAIN",en[en.MALIGNMARK=63]="MALIGNMARK",en[en.MARQUEE=64]="MARQUEE",en[en.MATH=65]="MATH",en[en.MENU=66]="MENU",en[en.META=67]="META",en[en.MGLYPH=68]="MGLYPH",en[en.MI=69]="MI",en[en.MO=70]="MO",en[en.MN=71]="MN",en[en.MS=72]="MS",en[en.MTEXT=73]="MTEXT",en[en.NAV=74]="NAV",en[en.NOBR=75]="NOBR",en[en.NOFRAMES=76]="NOFRAMES",en[en.NOEMBED=77]="NOEMBED",en[en.NOSCRIPT=78]="NOSCRIPT",en[en.OBJECT=79]="OBJECT",en[en.OL=80]="OL",en[en.OPTGROUP=81]="OPTGROUP",en[en.OPTION=82]="OPTION",en[en.P=83]="P",en[en.PARAM=84]="PARAM",en[en.PLAINTEXT=85]="PLAINTEXT",en[en.PRE=86]="PRE",en[en.RB=87]="RB",en[en.RP=88]="RP",en[en.RT=89]="RT",en[en.RTC=90]="RTC",en[en.RUBY=91]="RUBY",en[en.S=92]="S",en[en.SCRIPT=93]="SCRIPT",en[en.SECTION=94]="SECTION",en[en.SELECT=95]="SELECT",en[en.SOURCE=96]="SOURCE",en[en.SMALL=97]="SMALL",en[en.SPAN=98]="SPAN",en[en.STRIKE=99]="STRIKE",en[en.STRONG=100]="STRONG",en[en.STYLE=101]="STYLE",en[en.SUB=102]="SUB",en[en.SUMMARY=103]="SUMMARY",en[en.SUP=104]="SUP",en[en.TABLE=105]="TABLE",en[en.TBODY=106]="TBODY",en[en.TEMPLATE=107]="TEMPLATE",en[en.TEXTAREA=108]="TEXTAREA",en[en.TFOOT=109]="TFOOT",en[en.TD=110]="TD",en[en.TH=111]="TH",en[en.THEAD=112]="THEAD",en[en.TITLE=113]="TITLE",en[en.TR=114]="TR",en[en.TRACK=115]="TRACK",en[en.TT=116]="TT",en[en.U=117]="U",en[en.UL=118]="UL",en[en.SVG=119]="SVG",en[en.VAR=120]="VAR",en[en.WBR=121]="WBR",en[en.XMP=122]="XMP";let rb=new Map([[eC.A,ex.A],[eC.ADDRESS,ex.ADDRESS],[eC.ANNOTATION_XML,ex.ANNOTATION_XML],[eC.APPLET,ex.APPLET],[eC.AREA,ex.AREA],[eC.ARTICLE,ex.ARTICLE],[eC.ASIDE,ex.ASIDE],[eC.B,ex.B],[eC.BASE,ex.BASE],[eC.BASEFONT,ex.BASEFONT],[eC.BGSOUND,ex.BGSOUND],[eC.BIG,ex.BIG],[eC.BLOCKQUOTE,ex.BLOCKQUOTE],[eC.BODY,ex.BODY],[eC.BR,ex.BR],[eC.BUTTON,ex.BUTTON],[eC.CAPTION,ex.CAPTION],[eC.CENTER,ex.CENTER],[eC.CODE,ex.CODE],[eC.COL,ex.COL],[eC.COLGROUP,ex.COLGROUP],[eC.DD,ex.DD],[eC.DESC,ex.DESC],[eC.DETAILS,ex.DETAILS],[eC.DIALOG,ex.DIALOG],[eC.DIR,ex.DIR],[eC.DIV,ex.DIV],[eC.DL,ex.DL],[eC.DT,ex.DT],[eC.EM,ex.EM],[eC.EMBED,ex.EMBED],[eC.FIELDSET,ex.FIELDSET],[eC.FIGCAPTION,ex.FIGCAPTION],[eC.FIGURE,ex.FIGURE],[eC.FONT,ex.FONT],[eC.FOOTER,ex.FOOTER],[eC.FOREIGN_OBJECT,ex.FOREIGN_OBJECT],[eC.FORM,ex.FORM],[eC.FRAME,ex.FRAME],[eC.FRAMESET,ex.FRAMESET],[eC.H1,ex.H1],[eC.H2,ex.H2],[eC.H3,ex.H3],[eC.H4,ex.H4],[eC.H5,ex.H5],[eC.H6,ex.H6],[eC.HEAD,ex.HEAD],[eC.HEADER,ex.HEADER],[eC.HGROUP,ex.HGROUP],[eC.HR,ex.HR],[eC.HTML,ex.HTML],[eC.I,ex.I],[eC.IMG,ex.IMG],[eC.IMAGE,ex.IMAGE],[eC.INPUT,ex.INPUT],[eC.IFRAME,ex.IFRAME],[eC.KEYGEN,ex.KEYGEN],[eC.LABEL,ex.LABEL],[eC.LI,ex.LI],[eC.LINK,ex.LINK],[eC.LISTING,ex.LISTING],[eC.MAIN,ex.MAIN],[eC.MALIGNMARK,ex.MALIGNMARK],[eC.MARQUEE,ex.MARQUEE],[eC.MATH,ex.MATH],[eC.MENU,ex.MENU],[eC.META,ex.META],[eC.MGLYPH,ex.MGLYPH],[eC.MI,ex.MI],[eC.MO,ex.MO],[eC.MN,ex.MN],[eC.MS,ex.MS],[eC.MTEXT,ex.MTEXT],[eC.NAV,ex.NAV],[eC.NOBR,ex.NOBR],[eC.NOFRAMES,ex.NOFRAMES],[eC.NOEMBED,ex.NOEMBED],[eC.NOSCRIPT,ex.NOSCRIPT],[eC.OBJECT,ex.OBJECT],[eC.OL,ex.OL],[eC.OPTGROUP,ex.OPTGROUP],[eC.OPTION,ex.OPTION],[eC.P,ex.P],[eC.PARAM,ex.PARAM],[eC.PLAINTEXT,ex.PLAINTEXT],[eC.PRE,ex.PRE],[eC.RB,ex.RB],[eC.RP,ex.RP],[eC.RT,ex.RT],[eC.RTC,ex.RTC],[eC.RUBY,ex.RUBY],[eC.S,ex.S],[eC.SCRIPT,ex.SCRIPT],[eC.SECTION,ex.SECTION],[eC.SELECT,ex.SELECT],[eC.SOURCE,ex.SOURCE],[eC.SMALL,ex.SMALL],[eC.SPAN,ex.SPAN],[eC.STRIKE,ex.STRIKE],[eC.STRONG,ex.STRONG],[eC.STYLE,ex.STYLE],[eC.SUB,ex.SUB],[eC.SUMMARY,ex.SUMMARY],[eC.SUP,ex.SUP],[eC.TABLE,ex.TABLE],[eC.TBODY,ex.TBODY],[eC.TEMPLATE,ex.TEMPLATE],[eC.TEXTAREA,ex.TEXTAREA],[eC.TFOOT,ex.TFOOT],[eC.TD,ex.TD],[eC.TH,ex.TH],[eC.THEAD,ex.THEAD],[eC.TITLE,ex.TITLE],[eC.TR,ex.TR],[eC.TRACK,ex.TRACK],[eC.TT,ex.TT],[eC.U,ex.U],[eC.UL,ex.UL],[eC.SVG,ex.SVG],[eC.VAR,ex.VAR],[eC.WBR,ex.WBR],[eC.XMP,ex.XMP]]);function getTagID(d){var h;return null!==(h=rb.get(d))&&void 0!==h?h:ex.UNKNOWN}let rS=ex,rk={[eb.HTML]:new Set([rS.ADDRESS,rS.APPLET,rS.AREA,rS.ARTICLE,rS.ASIDE,rS.BASE,rS.BASEFONT,rS.BGSOUND,rS.BLOCKQUOTE,rS.BODY,rS.BR,rS.BUTTON,rS.CAPTION,rS.CENTER,rS.COL,rS.COLGROUP,rS.DD,rS.DETAILS,rS.DIR,rS.DIV,rS.DL,rS.DT,rS.EMBED,rS.FIELDSET,rS.FIGCAPTION,rS.FIGURE,rS.FOOTER,rS.FORM,rS.FRAME,rS.FRAMESET,rS.H1,rS.H2,rS.H3,rS.H4,rS.H5,rS.H6,rS.HEAD,rS.HEADER,rS.HGROUP,rS.HR,rS.HTML,rS.IFRAME,rS.IMG,rS.INPUT,rS.LI,rS.LINK,rS.LISTING,rS.MAIN,rS.MARQUEE,rS.MENU,rS.META,rS.NAV,rS.NOEMBED,rS.NOFRAMES,rS.NOSCRIPT,rS.OBJECT,rS.OL,rS.P,rS.PARAM,rS.PLAINTEXT,rS.PRE,rS.SCRIPT,rS.SECTION,rS.SELECT,rS.SOURCE,rS.STYLE,rS.SUMMARY,rS.TABLE,rS.TBODY,rS.TD,rS.TEMPLATE,rS.TEXTAREA,rS.TFOOT,rS.TH,rS.THEAD,rS.TITLE,rS.TR,rS.TRACK,rS.UL,rS.WBR,rS.XMP]),[eb.MATHML]:new Set([rS.MI,rS.MO,rS.MN,rS.MS,rS.MTEXT,rS.ANNOTATION_XML]),[eb.SVG]:new Set([rS.TITLE,rS.FOREIGN_OBJECT,rS.DESC]),[eb.XLINK]:new Set,[eb.XML]:new Set,[eb.XMLNS]:new Set};function isNumberedHeader(d){return d===rS.H1||d===rS.H2||d===rS.H3||d===rS.H4||d===rS.H5||d===rS.H6}eC.STYLE,eC.SCRIPT,eC.XMP,eC.IFRAME,eC.NOEMBED,eC.NOFRAMES,eC.PLAINTEXT;let rC=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);(er=eI||(eI={}))[er.DATA=0]="DATA",er[er.RCDATA=1]="RCDATA",er[er.RAWTEXT=2]="RAWTEXT",er[er.SCRIPT_DATA=3]="SCRIPT_DATA",er[er.PLAINTEXT=4]="PLAINTEXT",er[er.TAG_OPEN=5]="TAG_OPEN",er[er.END_TAG_OPEN=6]="END_TAG_OPEN",er[er.TAG_NAME=7]="TAG_NAME",er[er.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",er[er.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",er[er.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",er[er.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",er[er.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",er[er.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",er[er.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",er[er.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",er[er.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",er[er.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",er[er.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",er[er.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",er[er.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",er[er.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",er[er.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",er[er.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",er[er.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",er[er.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",er[er.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",er[er.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",er[er.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",er[er.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",er[er.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",er[er.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",er[er.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",er[er.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",er[er.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",er[er.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",er[er.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",er[er.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",er[er.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",er[er.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",er[er.BOGUS_COMMENT=40]="BOGUS_COMMENT",er[er.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",er[er.COMMENT_START=42]="COMMENT_START",er[er.COMMENT_START_DASH=43]="COMMENT_START_DASH",er[er.COMMENT=44]="COMMENT",er[er.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",er[er.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",er[er.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",er[er.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",er[er.COMMENT_END_DASH=49]="COMMENT_END_DASH",er[er.COMMENT_END=50]="COMMENT_END",er[er.COMMENT_END_BANG=51]="COMMENT_END_BANG",er[er.DOCTYPE=52]="DOCTYPE",er[er.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",er[er.DOCTYPE_NAME=54]="DOCTYPE_NAME",er[er.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",er[er.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",er[er.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",er[er.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",er[er.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",er[er.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",er[er.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",er[er.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",er[er.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",er[er.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",er[er.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",er[er.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",er[er.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",er[er.CDATA_SECTION=68]="CDATA_SECTION",er[er.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",er[er.CDATA_SECTION_END=70]="CDATA_SECTION_END",er[er.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",er[er.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",er[er.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",er[er.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",er[er.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",er[er.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",er[er.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",er[er.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END";let rx={DATA:eI.DATA,RCDATA:eI.RCDATA,RAWTEXT:eI.RAWTEXT,SCRIPT_DATA:eI.SCRIPT_DATA,PLAINTEXT:eI.PLAINTEXT,CDATA_SECTION:eI.CDATA_SECTION};function isAsciiDigit(d){return d>=em.DIGIT_0&&d<=em.DIGIT_9}function isAsciiUpper(d){return d>=em.LATIN_CAPITAL_A&&d<=em.LATIN_CAPITAL_Z}function isAsciiLetter(d){return d>=em.LATIN_SMALL_A&&d<=em.LATIN_SMALL_Z||isAsciiUpper(d)}function tokenizer_isAsciiAlphaNumeric(d){return isAsciiLetter(d)||isAsciiDigit(d)}function isAsciiUpperHexDigit(d){return d>=em.LATIN_CAPITAL_A&&d<=em.LATIN_CAPITAL_F}function isAsciiLowerHexDigit(d){return d>=em.LATIN_SMALL_A&&d<=em.LATIN_SMALL_F}function isWhitespace(d){return d===em.SPACE||d===em.LINE_FEED||d===em.TABULATION||d===em.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(d){return isWhitespace(d)||d===em.SOLIDUS||d===em.GREATER_THAN_SIGN}let Tokenizer=class Tokenizer{constructor(d,h){this.options=d,this.handler=h,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=eI.DATA,this.returnState=eI.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(h),this.currentLocation=this.getCurrentLocation(-1)}_err(d){var h,g;null===(g=(h=this.handler).onParseError)||void 0===g||g.call(h,this.preprocessor.getError(d))}getCurrentLocation(d){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-d,startOffset:this.preprocessor.offset-d,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let d=this._consume();this._ensureHibernation()||this._callState(d)}this.inLoop=!1}}pause(){this.paused=!0}resume(d){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==d||d())}write(d,h,g){this.active=!0,this.preprocessor.write(d,h),this._runParsingLoop(),this.paused||null==g||g()}insertHtmlAtCurrentPos(d){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(d),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(d){this.consumedAfterSnapshot-=d,this.preprocessor.retreat(d)}_reconsumeInState(d,h){this.state=d,this._callState(h)}_advanceBy(d){this.consumedAfterSnapshot+=d;for(let h=0;h<d;h++)this.preprocessor.advance()}_consumeSequenceIfMatch(d,h){return!!this.preprocessor.startsWith(d,h)&&(this._advanceBy(d.length-1),!0)}_createStartTagToken(){this.currentToken={type:eE.START_TAG,tagName:"",tagID:ex.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:eE.END_TAG,tagName:"",tagID:ex.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(d){this.currentToken={type:eE.COMMENT,data:"",location:this.getCurrentLocation(d)}}_createDoctypeToken(d){this.currentToken={type:eE.DOCTYPE,name:d,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(d,h){this.currentCharacterToken={type:d,chars:h,location:this.currentLocation}}_createAttr(d){this.currentAttr={name:d,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var d,h;let g=this.currentToken;if(null===getTokenAttr(g,this.currentAttr.name)){if(g.attrs.push(this.currentAttr),g.location&&this.currentLocation){let _=null!==(d=(h=g.location).attrs)&&void 0!==d?d:h.attrs=Object.create(null);_[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(eg.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(d){this._emitCurrentCharacterToken(d.location),this.currentToken=null,d.location&&(d.location.endLine=this.preprocessor.line,d.location.endCol=this.preprocessor.col+1,d.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let d=this.currentToken;this.prepareToken(d),d.tagID=getTagID(d.tagName),d.type===eE.START_TAG?(this.lastStartTagName=d.tagName,this.handler.onStartTag(d)):(d.attrs.length>0&&this._err(eg.endTagWithAttributes),d.selfClosing&&this._err(eg.endTagWithTrailingSolidus),this.handler.onEndTag(d)),this.preprocessor.dropParsedChunk()}emitCurrentComment(d){this.prepareToken(d),this.handler.onComment(d),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(d){this.prepareToken(d),this.handler.onDoctype(d),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(d){if(this.currentCharacterToken){switch(d&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=d.startLine,this.currentCharacterToken.location.endCol=d.startCol,this.currentCharacterToken.location.endOffset=d.startOffset),this.currentCharacterToken.type){case eE.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case eE.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case eE.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){let d=this.getCurrentLocation(0);d&&(d.endLine=d.startLine,d.endCol=d.startCol,d.endOffset=d.startOffset),this._emitCurrentCharacterToken(d),this.handler.onEof({type:eE.EOF,location:d}),this.active=!1}_appendCharToCurrentCharacterToken(d,h){if(this.currentCharacterToken){if(this.currentCharacterToken.type!==d)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=h;return}}this._createCharacterToken(d,h)}_emitCodePoint(d){let h=isWhitespace(d)?eE.WHITESPACE_CHARACTER:d===em.NULL?eE.NULL_CHARACTER:eE.CHARACTER;this._appendCharToCurrentCharacterToken(h,String.fromCodePoint(d))}_emitChars(d){this._appendCharToCurrentCharacterToken(eE.CHARACTER,d)}_matchNamedCharacterReference(d){let h=null,g=0,_=!1;for(let A=0,b=rT[0];A>=0&&!((A=determineBranch(rT,b,A+1,d))<0);d=this._consume()){g+=1,b=rT[A];let k=b&ev.VALUE_LENGTH;if(k){var y;let b=(k>>14)-1;if(d!==em.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((y=this.preprocessor.peek(1))===em.EQUALS_SIGN||tokenizer_isAsciiAlphaNumeric(y))?(h=[em.AMPERSAND],A+=b):(h=0===b?[rT[A]&~ev.VALUE_LENGTH]:1===b?[rT[++A]]:[rT[++A],rT[++A]],g=0,_=d!==em.SEMICOLON),0===b){this._consume();break}}}return this._unconsume(g),_&&!this.preprocessor.endOfChunkHit&&this._err(eg.missingSemicolonAfterCharacterReference),this._unconsume(1),h}_isCharacterReferenceInAttribute(){return this.returnState===eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===eI.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===eI.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(d){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(d):this._emitCodePoint(d)}_callState(d){switch(this.state){case eI.DATA:this._stateData(d);break;case eI.RCDATA:this._stateRcdata(d);break;case eI.RAWTEXT:this._stateRawtext(d);break;case eI.SCRIPT_DATA:this._stateScriptData(d);break;case eI.PLAINTEXT:this._statePlaintext(d);break;case eI.TAG_OPEN:this._stateTagOpen(d);break;case eI.END_TAG_OPEN:this._stateEndTagOpen(d);break;case eI.TAG_NAME:this._stateTagName(d);break;case eI.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(d);break;case eI.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(d);break;case eI.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(d);break;case eI.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(d);break;case eI.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(d);break;case eI.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(d);break;case eI.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(d);break;case eI.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(d);break;case eI.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(d);break;case eI.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(d);break;case eI.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(d);break;case eI.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(d);break;case eI.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(d);break;case eI.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(d);break;case eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(d);break;case eI.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(d);break;case eI.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(d);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(d);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(d);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(d);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(d);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(d);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(d);break;case eI.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(d);break;case eI.ATTRIBUTE_NAME:this._stateAttributeName(d);break;case eI.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(d);break;case eI.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(d);break;case eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(d);break;case eI.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(d);break;case eI.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(d);break;case eI.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(d);break;case eI.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(d);break;case eI.BOGUS_COMMENT:this._stateBogusComment(d);break;case eI.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(d);break;case eI.COMMENT_START:this._stateCommentStart(d);break;case eI.COMMENT_START_DASH:this._stateCommentStartDash(d);break;case eI.COMMENT:this._stateComment(d);break;case eI.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(d);break;case eI.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(d);break;case eI.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(d);break;case eI.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(d);break;case eI.COMMENT_END_DASH:this._stateCommentEndDash(d);break;case eI.COMMENT_END:this._stateCommentEnd(d);break;case eI.COMMENT_END_BANG:this._stateCommentEndBang(d);break;case eI.DOCTYPE:this._stateDoctype(d);break;case eI.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(d);break;case eI.DOCTYPE_NAME:this._stateDoctypeName(d);break;case eI.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(d);break;case eI.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(d);break;case eI.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(d);break;case eI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(d);break;case eI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(d);break;case eI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(d);break;case eI.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(d);break;case eI.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(d);break;case eI.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(d);break;case eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(d);break;case eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(d);break;case eI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(d);break;case eI.BOGUS_DOCTYPE:this._stateBogusDoctype(d);break;case eI.CDATA_SECTION:this._stateCdataSection(d);break;case eI.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(d);break;case eI.CDATA_SECTION_END:this._stateCdataSectionEnd(d);break;case eI.CHARACTER_REFERENCE:this._stateCharacterReference(d);break;case eI.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(d);break;case eI.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(d);break;case eI.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(d);break;case eI.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(d);break;case eI.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(d);break;case eI.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(d);break;case eI.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(d);break;default:throw Error("Unknown state")}}_stateData(d){switch(d){case em.LESS_THAN_SIGN:this.state=eI.TAG_OPEN;break;case em.AMPERSAND:this.returnState=eI.DATA,this.state=eI.CHARACTER_REFERENCE;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitCodePoint(d);break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(d)}}_stateRcdata(d){switch(d){case em.AMPERSAND:this.returnState=eI.RCDATA,this.state=eI.CHARACTER_REFERENCE;break;case em.LESS_THAN_SIGN:this.state=eI.RCDATA_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(d)}}_stateRawtext(d){switch(d){case em.LESS_THAN_SIGN:this.state=eI.RAWTEXT_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(d)}}_stateScriptData(d){switch(d){case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(d)}}_statePlaintext(d){switch(d){case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(d)}}_stateTagOpen(d){if(isAsciiLetter(d))this._createStartTagToken(),this.state=eI.TAG_NAME,this._stateTagName(d);else switch(d){case em.EXCLAMATION_MARK:this.state=eI.MARKUP_DECLARATION_OPEN;break;case em.SOLIDUS:this.state=eI.END_TAG_OPEN;break;case em.QUESTION_MARK:this._err(eg.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=eI.BOGUS_COMMENT,this._stateBogusComment(d);break;case em.EOF:this._err(eg.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(eg.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=eI.DATA,this._stateData(d)}}_stateEndTagOpen(d){if(isAsciiLetter(d))this._createEndTagToken(),this.state=eI.TAG_NAME,this._stateTagName(d);else switch(d){case em.GREATER_THAN_SIGN:this._err(eg.missingEndTagName),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(eg.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=eI.BOGUS_COMMENT,this._stateBogusComment(d)}}_stateTagName(d){let h=this.currentToken;switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_ATTRIBUTE_NAME;break;case em.SOLIDUS:this.state=eI.SELF_CLOSING_START_TAG;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentTagToken();break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.tagName+="�";break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:h.tagName+=String.fromCodePoint(isAsciiUpper(d)?d+32:d)}}_stateRcdataLessThanSign(d){d===em.SOLIDUS?this.state=eI.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=eI.RCDATA,this._stateRcdata(d))}_stateRcdataEndTagOpen(d){isAsciiLetter(d)?(this.state=eI.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(d)):(this._emitChars("</"),this.state=eI.RCDATA,this._stateRcdata(d))}handleSpecialEndTag(d){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let h=this.currentToken;h.tagName=this.lastStartTagName;let g=this.preprocessor.peek(this.lastStartTagName.length);switch(g){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=eI.BEFORE_ATTRIBUTE_NAME,!1;case em.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=eI.SELF_CLOSING_START_TAG,!1;case em.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=eI.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(d){this.handleSpecialEndTag(d)&&(this._emitChars("</"),this.state=eI.RCDATA,this._stateRcdata(d))}_stateRawtextLessThanSign(d){d===em.SOLIDUS?this.state=eI.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=eI.RAWTEXT,this._stateRawtext(d))}_stateRawtextEndTagOpen(d){isAsciiLetter(d)?(this.state=eI.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(d)):(this._emitChars("</"),this.state=eI.RAWTEXT,this._stateRawtext(d))}_stateRawtextEndTagName(d){this.handleSpecialEndTag(d)&&(this._emitChars("</"),this.state=eI.RAWTEXT,this._stateRawtext(d))}_stateScriptDataLessThanSign(d){switch(d){case em.SOLIDUS:this.state=eI.SCRIPT_DATA_END_TAG_OPEN;break;case em.EXCLAMATION_MARK:this.state=eI.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=eI.SCRIPT_DATA,this._stateScriptData(d)}}_stateScriptDataEndTagOpen(d){isAsciiLetter(d)?(this.state=eI.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(d)):(this._emitChars("</"),this.state=eI.SCRIPT_DATA,this._stateScriptData(d))}_stateScriptDataEndTagName(d){this.handleSpecialEndTag(d)&&(this._emitChars("</"),this.state=eI.SCRIPT_DATA,this._stateScriptData(d))}_stateScriptDataEscapeStart(d){d===em.HYPHEN_MINUS?(this.state=eI.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=eI.SCRIPT_DATA,this._stateScriptData(d))}_stateScriptDataEscapeStartDash(d){d===em.HYPHEN_MINUS?(this.state=eI.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=eI.SCRIPT_DATA,this._stateScriptData(d))}_stateScriptDataEscaped(d){switch(d){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(d)}}_stateScriptDataEscapedDash(d){switch(d){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_ESCAPED,this._emitCodePoint(d)}}_stateScriptDataEscapedDashDash(d){switch(d){case em.HYPHEN_MINUS:this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case em.GREATER_THAN_SIGN:this.state=eI.SCRIPT_DATA,this._emitChars(">");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_ESCAPED,this._emitCodePoint(d)}}_stateScriptDataEscapedLessThanSign(d){d===em.SOLIDUS?this.state=eI.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(d)?(this._emitChars("<"),this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(d)):(this._emitChars("<"),this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(d))}_stateScriptDataEscapedEndTagOpen(d){isAsciiLetter(d)?(this.state=eI.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(d)):(this._emitChars("</"),this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(d))}_stateScriptDataEscapedEndTagName(d){this.handleSpecialEndTag(d)&&(this._emitChars("</"),this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(d))}_stateScriptDataDoubleEscapeStart(d){if(this.preprocessor.startsWith(r_.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(r_.SCRIPT.length))){this._emitCodePoint(d);for(let d=0;d<r_.SCRIPT.length;d++)this._emitCodePoint(this._consume());this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(d))}_stateScriptDataDoubleEscaped(d){switch(d){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(d)}}_stateScriptDataDoubleEscapedDash(d){switch(d){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(d)}}_stateScriptDataDoubleEscapedDashDash(d){switch(d){case em.HYPHEN_MINUS:this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case em.GREATER_THAN_SIGN:this.state=eI.SCRIPT_DATA,this._emitChars(">");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(d)}}_stateScriptDataDoubleEscapedLessThanSign(d){d===em.SOLIDUS?(this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(d))}_stateScriptDataDoubleEscapeEnd(d){if(this.preprocessor.startsWith(r_.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(r_.SCRIPT.length))){this._emitCodePoint(d);for(let d=0;d<r_.SCRIPT.length;d++)this._emitCodePoint(this._consume());this.state=eI.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(d))}_stateBeforeAttributeName(d){switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.SOLIDUS:case em.GREATER_THAN_SIGN:case em.EOF:this.state=eI.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(d);break;case em.EQUALS_SIGN:this._err(eg.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=eI.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=eI.ATTRIBUTE_NAME,this._stateAttributeName(d)}}_stateAttributeName(d){switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:case em.SOLIDUS:case em.GREATER_THAN_SIGN:case em.EOF:this._leaveAttrName(),this.state=eI.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(d);break;case em.EQUALS_SIGN:this._leaveAttrName(),this.state=eI.BEFORE_ATTRIBUTE_VALUE;break;case em.QUOTATION_MARK:case em.APOSTROPHE:case em.LESS_THAN_SIGN:this._err(eg.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(d);break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.name+="�";break;default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(d)?d+32:d)}}_stateAfterAttributeName(d){switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.SOLIDUS:this.state=eI.SELF_CLOSING_START_TAG;break;case em.EQUALS_SIGN:this.state=eI.BEFORE_ATTRIBUTE_VALUE;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentTagToken();break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=eI.ATTRIBUTE_NAME,this._stateAttributeName(d)}}_stateBeforeAttributeValue(d){switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.QUOTATION_MARK:this.state=eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case em.APOSTROPHE:this.state=eI.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingAttributeValue),this.state=eI.DATA,this.emitCurrentTagToken();break;default:this.state=eI.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(d)}}_stateAttributeValueDoubleQuoted(d){switch(d){case em.QUOTATION_MARK:this.state=eI.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case em.AMPERSAND:this.returnState=eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=eI.CHARACTER_REFERENCE;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.value+="�";break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(d)}}_stateAttributeValueSingleQuoted(d){switch(d){case em.APOSTROPHE:this.state=eI.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case em.AMPERSAND:this.returnState=eI.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=eI.CHARACTER_REFERENCE;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.value+="�";break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(d)}}_stateAttributeValueUnquoted(d){switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this._leaveAttrValue(),this.state=eI.BEFORE_ATTRIBUTE_NAME;break;case em.AMPERSAND:this.returnState=eI.ATTRIBUTE_VALUE_UNQUOTED,this.state=eI.CHARACTER_REFERENCE;break;case em.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=eI.DATA,this.emitCurrentTagToken();break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.value+="�";break;case em.QUOTATION_MARK:case em.APOSTROPHE:case em.LESS_THAN_SIGN:case em.EQUALS_SIGN:case em.GRAVE_ACCENT:this._err(eg.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(d);break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(d)}}_stateAfterAttributeValueQuoted(d){switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this._leaveAttrValue(),this.state=eI.BEFORE_ATTRIBUTE_NAME;break;case em.SOLIDUS:this._leaveAttrValue(),this.state=eI.SELF_CLOSING_START_TAG;break;case em.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=eI.DATA,this.emitCurrentTagToken();break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this._err(eg.missingWhitespaceBetweenAttributes),this.state=eI.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(d)}}_stateSelfClosingStartTag(d){switch(d){case em.GREATER_THAN_SIGN:{let d=this.currentToken;d.selfClosing=!0,this.state=eI.DATA,this.emitCurrentTagToken();break}case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this._err(eg.unexpectedSolidusInTag),this.state=eI.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(d)}}_stateBogusComment(d){let h=this.currentToken;switch(d){case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentComment(h);break;case em.EOF:this.emitCurrentComment(h),this._emitEOFToken();break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.data+="�";break;default:h.data+=String.fromCodePoint(d)}}_stateMarkupDeclarationOpen(d){this._consumeSequenceIfMatch(r_.DASH_DASH,!0)?(this._createCommentToken(r_.DASH_DASH.length+1),this.state=eI.COMMENT_START):this._consumeSequenceIfMatch(r_.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(r_.DOCTYPE.length+1),this.state=eI.DOCTYPE):this._consumeSequenceIfMatch(r_.CDATA_START,!0)?this.inForeignNode?this.state=eI.CDATA_SECTION:(this._err(eg.cdataInHtmlContent),this._createCommentToken(r_.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=eI.BOGUS_COMMENT):this._ensureHibernation()||(this._err(eg.incorrectlyOpenedComment),this._createCommentToken(2),this.state=eI.BOGUS_COMMENT,this._stateBogusComment(d))}_stateCommentStart(d){switch(d){case em.HYPHEN_MINUS:this.state=eI.COMMENT_START_DASH;break;case em.GREATER_THAN_SIGN:{this._err(eg.abruptClosingOfEmptyComment),this.state=eI.DATA;let d=this.currentToken;this.emitCurrentComment(d);break}default:this.state=eI.COMMENT,this._stateComment(d)}}_stateCommentStartDash(d){let h=this.currentToken;switch(d){case em.HYPHEN_MINUS:this.state=eI.COMMENT_END;break;case em.GREATER_THAN_SIGN:this._err(eg.abruptClosingOfEmptyComment),this.state=eI.DATA,this.emitCurrentComment(h);break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(h),this._emitEOFToken();break;default:h.data+="-",this.state=eI.COMMENT,this._stateComment(d)}}_stateComment(d){let h=this.currentToken;switch(d){case em.HYPHEN_MINUS:this.state=eI.COMMENT_END_DASH;break;case em.LESS_THAN_SIGN:h.data+="<",this.state=eI.COMMENT_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.data+="�";break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(h),this._emitEOFToken();break;default:h.data+=String.fromCodePoint(d)}}_stateCommentLessThanSign(d){let h=this.currentToken;switch(d){case em.EXCLAMATION_MARK:h.data+="!",this.state=eI.COMMENT_LESS_THAN_SIGN_BANG;break;case em.LESS_THAN_SIGN:h.data+="<";break;default:this.state=eI.COMMENT,this._stateComment(d)}}_stateCommentLessThanSignBang(d){d===em.HYPHEN_MINUS?this.state=eI.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=eI.COMMENT,this._stateComment(d))}_stateCommentLessThanSignBangDash(d){d===em.HYPHEN_MINUS?this.state=eI.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=eI.COMMENT_END_DASH,this._stateCommentEndDash(d))}_stateCommentLessThanSignBangDashDash(d){d!==em.GREATER_THAN_SIGN&&d!==em.EOF&&this._err(eg.nestedComment),this.state=eI.COMMENT_END,this._stateCommentEnd(d)}_stateCommentEndDash(d){let h=this.currentToken;switch(d){case em.HYPHEN_MINUS:this.state=eI.COMMENT_END;break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(h),this._emitEOFToken();break;default:h.data+="-",this.state=eI.COMMENT,this._stateComment(d)}}_stateCommentEnd(d){let h=this.currentToken;switch(d){case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentComment(h);break;case em.EXCLAMATION_MARK:this.state=eI.COMMENT_END_BANG;break;case em.HYPHEN_MINUS:h.data+="-";break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(h),this._emitEOFToken();break;default:h.data+="--",this.state=eI.COMMENT,this._stateComment(d)}}_stateCommentEndBang(d){let h=this.currentToken;switch(d){case em.HYPHEN_MINUS:h.data+="--!",this.state=eI.COMMENT_END_DASH;break;case em.GREATER_THAN_SIGN:this._err(eg.incorrectlyClosedComment),this.state=eI.DATA,this.emitCurrentComment(h);break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(h),this._emitEOFToken();break;default:h.data+="--!",this.state=eI.COMMENT,this._stateComment(d)}}_stateDoctype(d){switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_DOCTYPE_NAME;break;case em.GREATER_THAN_SIGN:this.state=eI.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(d);break;case em.EOF:{this._err(eg.eofInDoctype),this._createDoctypeToken(null);let d=this.currentToken;d.forceQuirks=!0,this.emitCurrentDoctype(d),this._emitEOFToken();break}default:this._err(eg.missingWhitespaceBeforeDoctypeName),this.state=eI.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(d)}}_stateBeforeDoctypeName(d){if(isAsciiUpper(d))this._createDoctypeToken(String.fromCharCode(d+32)),this.state=eI.DOCTYPE_NAME;else switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._createDoctypeToken("�"),this.state=eI.DOCTYPE_NAME;break;case em.GREATER_THAN_SIGN:{this._err(eg.missingDoctypeName),this._createDoctypeToken(null);let d=this.currentToken;d.forceQuirks=!0,this.emitCurrentDoctype(d),this.state=eI.DATA;break}case em.EOF:{this._err(eg.eofInDoctype),this._createDoctypeToken(null);let d=this.currentToken;d.forceQuirks=!0,this.emitCurrentDoctype(d),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(d)),this.state=eI.DOCTYPE_NAME}}_stateDoctypeName(d){let h=this.currentToken;switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.AFTER_DOCTYPE_NAME;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.name+="�";break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:h.name+=String.fromCodePoint(isAsciiUpper(d)?d+32:d)}}_stateAfterDoctypeName(d){let h=this.currentToken;switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(r_.PUBLIC,!1)?this.state=eI.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(r_.SYSTEM,!1)?this.state=eI.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(eg.invalidCharacterSequenceAfterDoctypeName),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(d))}}_stateAfterDoctypePublicKeyword(d){let h=this.currentToken;switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case em.QUOTATION_MARK:this._err(eg.missingWhitespaceAfterDoctypePublicKeyword),h.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:this._err(eg.missingWhitespaceAfterDoctypePublicKeyword),h.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypePublicIdentifier),h.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypePublicIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(d)}}_stateBeforeDoctypePublicIdentifier(d){let h=this.currentToken;switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.QUOTATION_MARK:h.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:h.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypePublicIdentifier),h.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypePublicIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(d)}}_stateDoctypePublicIdentifierDoubleQuoted(d){let h=this.currentToken;switch(d){case em.QUOTATION_MARK:this.state=eI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.publicId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypePublicIdentifier),h.forceQuirks=!0,this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:h.publicId+=String.fromCodePoint(d)}}_stateDoctypePublicIdentifierSingleQuoted(d){let h=this.currentToken;switch(d){case em.APOSTROPHE:this.state=eI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.publicId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypePublicIdentifier),h.forceQuirks=!0,this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:h.publicId+=String.fromCodePoint(d)}}_stateAfterDoctypePublicIdentifier(d){let h=this.currentToken;switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.QUOTATION_MARK:this._err(eg.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:this._err(eg.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(d)}}_stateBetweenDoctypePublicAndSystemIdentifiers(d){let h=this.currentToken;switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.GREATER_THAN_SIGN:this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.QUOTATION_MARK:h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(d)}}_stateAfterDoctypeSystemKeyword(d){let h=this.currentToken;switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case em.QUOTATION_MARK:this._err(eg.missingWhitespaceAfterDoctypeSystemKeyword),h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:this._err(eg.missingWhitespaceAfterDoctypeSystemKeyword),h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(d)}}_stateBeforeDoctypeSystemIdentifier(d){let h=this.currentToken;switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.QUOTATION_MARK:h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:h.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(h);break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),h.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(d)}}_stateDoctypeSystemIdentifierDoubleQuoted(d){let h=this.currentToken;switch(d){case em.QUOTATION_MARK:this.state=eI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.systemId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypeSystemIdentifier),h.forceQuirks=!0,this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:h.systemId+=String.fromCodePoint(d)}}_stateDoctypeSystemIdentifierSingleQuoted(d){let h=this.currentToken;switch(d){case em.APOSTROPHE:this.state=eI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),h.systemId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypeSystemIdentifier),h.forceQuirks=!0,this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:h.systemId+=String.fromCodePoint(d)}}_stateAfterDoctypeSystemIdentifier(d){let h=this.currentToken;switch(d){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.GREATER_THAN_SIGN:this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break;default:this._err(eg.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(d)}}_stateBogusDoctype(d){let h=this.currentToken;switch(d){case em.GREATER_THAN_SIGN:this.emitCurrentDoctype(h),this.state=eI.DATA;break;case em.NULL:this._err(eg.unexpectedNullCharacter);break;case em.EOF:this.emitCurrentDoctype(h),this._emitEOFToken()}}_stateCdataSection(d){switch(d){case em.RIGHT_SQUARE_BRACKET:this.state=eI.CDATA_SECTION_BRACKET;break;case em.EOF:this._err(eg.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(d)}}_stateCdataSectionBracket(d){d===em.RIGHT_SQUARE_BRACKET?this.state=eI.CDATA_SECTION_END:(this._emitChars("]"),this.state=eI.CDATA_SECTION,this._stateCdataSection(d))}_stateCdataSectionEnd(d){switch(d){case em.GREATER_THAN_SIGN:this.state=eI.DATA;break;case em.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=eI.CDATA_SECTION,this._stateCdataSection(d)}}_stateCharacterReference(d){d===em.NUMBER_SIGN?this.state=eI.NUMERIC_CHARACTER_REFERENCE:tokenizer_isAsciiAlphaNumeric(d)?(this.state=eI.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(d)):(this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this._reconsumeInState(this.returnState,d))}_stateNamedCharacterReference(d){let h=this._matchNamedCharacterReference(d);if(this._ensureHibernation());else if(h){for(let d=0;d<h.length;d++)this._flushCodePointConsumedAsCharacterReference(h[d]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this.state=eI.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(d){tokenizer_isAsciiAlphaNumeric(d)?this._flushCodePointConsumedAsCharacterReference(d):(d===em.SEMICOLON&&this._err(eg.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,d))}_stateNumericCharacterReference(d){this.charRefCode=0,d===em.LATIN_SMALL_X||d===em.LATIN_CAPITAL_X?this.state=eI.HEXADEMICAL_CHARACTER_REFERENCE_START:isAsciiDigit(d)?(this.state=eI.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(d)):(this._err(eg.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(em.NUMBER_SIGN),this._reconsumeInState(this.returnState,d))}_stateHexademicalCharacterReferenceStart(d){isAsciiDigit(d)||isAsciiUpperHexDigit(d)||isAsciiLowerHexDigit(d)?(this.state=eI.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(d)):(this._err(eg.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(em.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(d){isAsciiUpperHexDigit(d)?this.charRefCode=16*this.charRefCode+d-55:isAsciiLowerHexDigit(d)?this.charRefCode=16*this.charRefCode+d-87:isAsciiDigit(d)?this.charRefCode=16*this.charRefCode+d-48:d===em.SEMICOLON?this.state=eI.NUMERIC_CHARACTER_REFERENCE_END:(this._err(eg.missingSemicolonAfterCharacterReference),this.state=eI.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(d))}_stateDecimalCharacterReference(d){isAsciiDigit(d)?this.charRefCode=10*this.charRefCode+d-48:d===em.SEMICOLON?this.state=eI.NUMERIC_CHARACTER_REFERENCE_END:(this._err(eg.missingSemicolonAfterCharacterReference),this.state=eI.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(d))}_stateNumericCharacterReferenceEnd(d){if(this.charRefCode===em.NULL)this._err(eg.nullCharacterReference),this.charRefCode=em.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(eg.characterReferenceOutsideUnicodeRange),this.charRefCode=em.REPLACEMENT_CHARACTER;else if(isSurrogate(this.charRefCode))this._err(eg.surrogateCharacterReference),this.charRefCode=em.REPLACEMENT_CHARACTER;else if(isUndefinedCodePoint(this.charRefCode))this._err(eg.noncharacterCharacterReference);else if(isControlCodePoint(this.charRefCode)||this.charRefCode===em.CARRIAGE_RETURN){this._err(eg.controlCharacterReference);let d=rC.get(this.charRefCode);void 0!==d&&(this.charRefCode=d)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,d)}};let rI=new Set([ex.DD,ex.DT,ex.LI,ex.OPTGROUP,ex.OPTION,ex.P,ex.RB,ex.RP,ex.RT,ex.RTC]),rw=new Set([...rI,ex.CAPTION,ex.COLGROUP,ex.TBODY,ex.TD,ex.TFOOT,ex.TH,ex.THEAD,ex.TR]),rO=new Map([[ex.APPLET,eb.HTML],[ex.CAPTION,eb.HTML],[ex.HTML,eb.HTML],[ex.MARQUEE,eb.HTML],[ex.OBJECT,eb.HTML],[ex.TABLE,eb.HTML],[ex.TD,eb.HTML],[ex.TEMPLATE,eb.HTML],[ex.TH,eb.HTML],[ex.ANNOTATION_XML,eb.MATHML],[ex.MI,eb.MATHML],[ex.MN,eb.MATHML],[ex.MO,eb.MATHML],[ex.MS,eb.MATHML],[ex.MTEXT,eb.MATHML],[ex.DESC,eb.SVG],[ex.FOREIGN_OBJECT,eb.SVG],[ex.TITLE,eb.SVG]]),rN=[ex.H1,ex.H2,ex.H3,ex.H4,ex.H5,ex.H6],rR=[ex.TR,ex.TEMPLATE,ex.HTML],rD=[ex.TBODY,ex.TFOOT,ex.THEAD,ex.TEMPLATE,ex.HTML],rL=[ex.TABLE,ex.TEMPLATE,ex.HTML],rM=[ex.TD,ex.TH];let OpenElementStack=class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(d,h,g){this.treeAdapter=h,this.handler=g,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=ex.UNKNOWN,this.current=d}_indexOf(d){return this.items.lastIndexOf(d,this.stackTop)}_isInTemplate(){return this.currentTagId===ex.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===eb.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(d,h){this.stackTop++,this.items[this.stackTop]=d,this.current=d,this.tagIDs[this.stackTop]=h,this.currentTagId=h,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(d,h,!0)}pop(){let d=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(d,!0)}replace(d,h){let g=this._indexOf(d);this.items[g]=h,g===this.stackTop&&(this.current=h)}insertAfter(d,h,g){let _=this._indexOf(d)+1;this.items.splice(_,0,h),this.tagIDs.splice(_,0,g),this.stackTop++,_===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,_===this.stackTop)}popUntilTagNamePopped(d){let h=this.stackTop+1;do h=this.tagIDs.lastIndexOf(d,h-1);while(h>0&&this.treeAdapter.getNamespaceURI(this.items[h])!==eb.HTML);this.shortenToLength(h<0?0:h)}shortenToLength(d){for(;this.stackTop>=d;){let h=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(h,this.stackTop<d)}}popUntilElementPopped(d){let h=this._indexOf(d);this.shortenToLength(h<0?0:h)}popUntilPopped(d,h){let g=this._indexOfTagNames(d,h);this.shortenToLength(g<0?0:g)}popUntilNumberedHeaderPopped(){this.popUntilPopped(rN,eb.HTML)}popUntilTableCellPopped(){this.popUntilPopped(rM,eb.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(d,h){for(let g=this.stackTop;g>=0;g--)if(d.includes(this.tagIDs[g])&&this.treeAdapter.getNamespaceURI(this.items[g])===h)return g;return -1}clearBackTo(d,h){let g=this._indexOfTagNames(d,h);this.shortenToLength(g+1)}clearBackToTableContext(){this.clearBackTo(rL,eb.HTML)}clearBackToTableBodyContext(){this.clearBackTo(rD,eb.HTML)}clearBackToTableRowContext(){this.clearBackTo(rR,eb.HTML)}remove(d){let h=this._indexOf(d);h>=0&&(h===this.stackTop?this.pop():(this.items.splice(h,1),this.tagIDs.splice(h,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(d,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===ex.BODY?this.items[1]:null}contains(d){return this._indexOf(d)>-1}getCommonAncestor(d){let h=this._indexOf(d)-1;return h>=0?this.items[h]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===ex.HTML}hasInScope(d){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(g===d&&_===eb.HTML)break;if(rO.get(g)===_)return!1}return!0}hasNumberedHeaderInScope(){for(let d=this.stackTop;d>=0;d--){let h=this.tagIDs[d],g=this.treeAdapter.getNamespaceURI(this.items[d]);if(isNumberedHeader(h)&&g===eb.HTML)break;if(rO.get(h)===g)return!1}return!0}hasInListItemScope(d){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(g===d&&_===eb.HTML)break;if((g===ex.UL||g===ex.OL)&&_===eb.HTML||rO.get(g)===_)return!1}return!0}hasInButtonScope(d){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(g===d&&_===eb.HTML)break;if(g===ex.BUTTON&&_===eb.HTML||rO.get(g)===_)return!1}return!0}hasInTableScope(d){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(_===eb.HTML){if(g===d)break;if(g===ex.TABLE||g===ex.TEMPLATE||g===ex.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let d=this.stackTop;d>=0;d--){let h=this.tagIDs[d],g=this.treeAdapter.getNamespaceURI(this.items[d]);if(g===eb.HTML){if(h===ex.TBODY||h===ex.THEAD||h===ex.TFOOT)break;if(h===ex.TABLE||h===ex.HTML)return!1}}return!0}hasInSelectScope(d){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(_===eb.HTML){if(g===d)break;if(g!==ex.OPTION&&g!==ex.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;rI.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;rw.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(d){for(;this.currentTagId!==d&&rw.has(this.currentTagId);)this.pop()}};(es=ew=ew||(ew={}))[es.Marker=0]="Marker",es[es.Element=1]="Element";let rP={type:ew.Marker};let FormattingElementList=class FormattingElementList{constructor(d){this.treeAdapter=d,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(d,h){let g=[],_=h.length,y=this.treeAdapter.getTagName(d),A=this.treeAdapter.getNamespaceURI(d);for(let d=0;d<this.entries.length;d++){let h=this.entries[d];if(h.type===ew.Marker)break;let{element:b}=h;if(this.treeAdapter.getTagName(b)===y&&this.treeAdapter.getNamespaceURI(b)===A){let h=this.treeAdapter.getAttrList(b);h.length===_&&g.push({idx:d,attrs:h})}}return g}_ensureNoahArkCondition(d){if(this.entries.length<3)return;let h=this.treeAdapter.getAttrList(d),g=this._getNoahArkConditionCandidates(d,h);if(g.length<3)return;let _=new Map(h.map(d=>[d.name,d.value])),y=0;for(let d=0;d<g.length;d++){let h=g[d];h.attrs.every(d=>_.get(d.name)===d.value)&&(y+=1)>=3&&this.entries.splice(h.idx,1)}}insertMarker(){this.entries.unshift(rP)}pushElement(d,h){this._ensureNoahArkCondition(d),this.entries.unshift({type:ew.Element,element:d,token:h})}insertElementAfterBookmark(d,h){let g=this.entries.indexOf(this.bookmark);this.entries.splice(g,0,{type:ew.Element,element:d,token:h})}removeEntry(d){let h=this.entries.indexOf(d);h>=0&&this.entries.splice(h,1)}clearToLastMarker(){let d=this.entries.indexOf(rP);d>=0?this.entries.splice(0,d+1):this.entries.length=0}getElementEntryInScopeWithTagName(d){let h=this.entries.find(h=>h.type===ew.Marker||this.treeAdapter.getTagName(h.element)===d);return h&&h.type===ew.Element?h:null}getElementEntry(d){return this.entries.find(h=>h.type===ew.Element&&h.element===d)}};function createTextNode(d){return{nodeName:"#text",value:d,parentNode:null}}let rF={createDocument:()=>({nodeName:"#document",mode:ek.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(d,h,g)=>({nodeName:d,tagName:d,attrs:g,namespaceURI:h,childNodes:[],parentNode:null}),createCommentNode:d=>({nodeName:"#comment",data:d,parentNode:null}),appendChild(d,h){d.childNodes.push(h),h.parentNode=d},insertBefore(d,h,g){let _=d.childNodes.indexOf(g);d.childNodes.splice(_,0,h),h.parentNode=d},setTemplateContent(d,h){d.content=h},getTemplateContent:d=>d.content,setDocumentType(d,h,g,_){let y=d.childNodes.find(d=>"#documentType"===d.nodeName);y?(y.name=h,y.publicId=g,y.systemId=_):rF.appendChild(d,{nodeName:"#documentType",name:h,publicId:g,systemId:_,parentNode:null})},setDocumentMode(d,h){d.mode=h},getDocumentMode:d=>d.mode,detachNode(d){if(d.parentNode){let h=d.parentNode.childNodes.indexOf(d);d.parentNode.childNodes.splice(h,1),d.parentNode=null}},insertText(d,h){if(d.childNodes.length>0){let g=d.childNodes[d.childNodes.length-1];if(rF.isTextNode(g)){g.value+=h;return}}rF.appendChild(d,createTextNode(h))},insertTextBefore(d,h,g){let _=d.childNodes[d.childNodes.indexOf(g)-1];_&&rF.isTextNode(_)?_.value+=h:rF.insertBefore(d,createTextNode(h),g)},adoptAttributes(d,h){let g=new Set(d.attrs.map(d=>d.name));for(let _=0;_<h.length;_++)g.has(h[_].name)||d.attrs.push(h[_])},getFirstChild:d=>d.childNodes[0],getChildNodes:d=>d.childNodes,getParentNode:d=>d.parentNode,getAttrList:d=>d.attrs,getTagName:d=>d.tagName,getNamespaceURI:d=>d.namespaceURI,getTextNodeContent:d=>d.value,getCommentNodeContent:d=>d.data,getDocumentTypeNodeName:d=>d.name,getDocumentTypeNodePublicId:d=>d.publicId,getDocumentTypeNodeSystemId:d=>d.systemId,isTextNode:d=>"#text"===d.nodeName,isCommentNode:d=>"#comment"===d.nodeName,isDocumentTypeNode:d=>"#documentType"===d.nodeName,isElementNode:d=>Object.prototype.hasOwnProperty.call(d,"tagName"),setNodeSourceCodeLocation(d,h){d.sourceCodeLocation=h},getNodeSourceCodeLocation:d=>d.sourceCodeLocation,updateNodeSourceCodeLocation(d,h){d.sourceCodeLocation={...d.sourceCodeLocation,...h}}},rB="html",rU=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],rH=[...rU,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],rG=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),rz=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],rV=[...rz,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(d,h){return h.some(h=>d.startsWith(h))}let r$={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},rQ=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(d=>[d.toLowerCase(),d])),rj=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:eb.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:eb.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:eb.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:eb.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:eb.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:eb.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:eb.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:eb.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:eb.XML}],["xml:space",{prefix:"xml",name:"space",namespace:eb.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:eb.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:eb.XMLNS}]]),rY=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(d=>[d.toLowerCase(),d])),rq=new Set([ex.B,ex.BIG,ex.BLOCKQUOTE,ex.BODY,ex.BR,ex.CENTER,ex.CODE,ex.DD,ex.DIV,ex.DL,ex.DT,ex.EM,ex.EMBED,ex.H1,ex.H2,ex.H3,ex.H4,ex.H5,ex.H6,ex.HEAD,ex.HR,ex.I,ex.IMG,ex.LI,ex.LISTING,ex.MENU,ex.META,ex.NOBR,ex.OL,ex.P,ex.PRE,ex.RUBY,ex.S,ex.SMALL,ex.SPAN,ex.STRONG,ex.STRIKE,ex.SUB,ex.SUP,ex.TABLE,ex.TT,ex.U,ex.UL,ex.VAR]);function adjustTokenMathMLAttrs(d){for(let h=0;h<d.attrs.length;h++)if("definitionurl"===d.attrs[h].name){d.attrs[h].name="definitionURL";break}}function adjustTokenSVGAttrs(d){for(let h=0;h<d.attrs.length;h++){let g=rQ.get(d.attrs[h].name);null!=g&&(d.attrs[h].name=g)}}function adjustTokenXMLAttrs(d){for(let h=0;h<d.attrs.length;h++){let g=rj.get(d.attrs[h].name);g&&(d.attrs[h].prefix=g.prefix,d.attrs[h].name=g.name,d.attrs[h].namespace=g.namespace)}}(el=eO||(eO={}))[el.INITIAL=0]="INITIAL",el[el.BEFORE_HTML=1]="BEFORE_HTML",el[el.BEFORE_HEAD=2]="BEFORE_HEAD",el[el.IN_HEAD=3]="IN_HEAD",el[el.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",el[el.AFTER_HEAD=5]="AFTER_HEAD",el[el.IN_BODY=6]="IN_BODY",el[el.TEXT=7]="TEXT",el[el.IN_TABLE=8]="IN_TABLE",el[el.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",el[el.IN_CAPTION=10]="IN_CAPTION",el[el.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",el[el.IN_TABLE_BODY=12]="IN_TABLE_BODY",el[el.IN_ROW=13]="IN_ROW",el[el.IN_CELL=14]="IN_CELL",el[el.IN_SELECT=15]="IN_SELECT",el[el.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",el[el.IN_TEMPLATE=17]="IN_TEMPLATE",el[el.AFTER_BODY=18]="AFTER_BODY",el[el.IN_FRAMESET=19]="IN_FRAMESET",el[el.AFTER_FRAMESET=20]="AFTER_FRAMESET",el[el.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",el[el.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let rW={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},rX=new Set([ex.TABLE,ex.TBODY,ex.TFOOT,ex.THEAD,ex.TR]),rK={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:rF,onParseError:null};let parser_Parser=class parser_Parser{constructor(d,h,g=null,_=null){this.fragmentContext=g,this.scriptHandler=_,this.currentToken=null,this.stopped=!1,this.insertionMode=eO.INITIAL,this.originalInsertionMode=eO.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...rK,...d},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=h?h:this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=g?getTagID(this.treeAdapter.getTagName(g)):ex.UNKNOWN,this._setContextModes(null!=g?g:this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(d,h){let g=new this(h);return g.tokenizer.write(d,!0),g.document}static getFragmentParser(d,h){let g={...rK,...h};null!=d||(d=g.treeAdapter.createElement(eC.TEMPLATE,eb.HTML,[]));let _=g.treeAdapter.createElement("documentmock",eb.HTML,[]),y=new this(g,_,d);return y.fragmentContextID===ex.TEMPLATE&&y.tmplInsertionModeStack.unshift(eO.IN_TEMPLATE),y._initTokenizerForFragmentParsing(),y._insertFakeRootElement(),y._resetInsertionMode(),y._findFormInFragmentContext(),y}getFragment(){let d=this.treeAdapter.getFirstChild(this.document),h=this.treeAdapter.createDocumentFragment();return this._adoptNodes(d,h),h}_err(d,h,g){var _;if(!this.onParseError)return;let y=null!==(_=d.location)&&void 0!==_?_:rW,A={code:h,startLine:y.startLine,startCol:y.startCol,startOffset:y.startOffset,endLine:g?y.startLine:y.endLine,endCol:g?y.startCol:y.endCol,endOffset:g?y.startOffset:y.endOffset};this.onParseError(A)}onItemPush(d,h,g){var _,y;null===(y=(_=this.treeAdapter).onItemPush)||void 0===y||y.call(_,d),g&&this.openElements.stackTop>0&&this._setContextModes(d,h)}onItemPop(d,h){var g,_;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(d,this.currentToken),null===(_=(g=this.treeAdapter).onItemPop)||void 0===_||_.call(g,d,this.openElements.current),h){let d,h;0===this.openElements.stackTop&&this.fragmentContext?(d=this.fragmentContext,h=this.fragmentContextID):{current:d,currentTagId:h}=this.openElements,this._setContextModes(d,h)}}_setContextModes(d,h){let g=d===this.document||this.treeAdapter.getNamespaceURI(d)===eb.HTML;this.currentNotInHTML=!g,this.tokenizer.inForeignNode=!g&&!this._isIntegrationPoint(h,d)}_switchToTextParsing(d,h){this._insertElement(d,eb.HTML),this.tokenizer.state=h,this.originalInsertionMode=this.insertionMode,this.insertionMode=eO.TEXT}switchToPlaintextParsing(){this.insertionMode=eO.TEXT,this.originalInsertionMode=eO.IN_BODY,this.tokenizer.state=rx.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let d=this.fragmentContext;for(;d;){if(this.treeAdapter.getTagName(d)===eC.FORM){this.formElement=d;break}d=this.treeAdapter.getParentNode(d)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===eb.HTML)switch(this.fragmentContextID){case ex.TITLE:case ex.TEXTAREA:this.tokenizer.state=rx.RCDATA;break;case ex.STYLE:case ex.XMP:case ex.IFRAME:case ex.NOEMBED:case ex.NOFRAMES:case ex.NOSCRIPT:this.tokenizer.state=rx.RAWTEXT;break;case ex.SCRIPT:this.tokenizer.state=rx.SCRIPT_DATA;break;case ex.PLAINTEXT:this.tokenizer.state=rx.PLAINTEXT}}_setDocumentType(d){let h=d.name||"",g=d.publicId||"",_=d.systemId||"";if(this.treeAdapter.setDocumentType(this.document,h,g,_),d.location){let h=this.treeAdapter.getChildNodes(this.document),g=h.find(d=>this.treeAdapter.isDocumentTypeNode(d));g&&this.treeAdapter.setNodeSourceCodeLocation(g,d.location)}}_attachElementToTree(d,h){if(this.options.sourceCodeLocationInfo){let g=h&&{...h,startTag:h};this.treeAdapter.setNodeSourceCodeLocation(d,g)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(d);else{let h=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(h,d)}}_appendElement(d,h){let g=this.treeAdapter.createElement(d.tagName,h,d.attrs);this._attachElementToTree(g,d.location)}_insertElement(d,h){let g=this.treeAdapter.createElement(d.tagName,h,d.attrs);this._attachElementToTree(g,d.location),this.openElements.push(g,d.tagID)}_insertFakeElement(d,h){let g=this.treeAdapter.createElement(d,eb.HTML,[]);this._attachElementToTree(g,null),this.openElements.push(g,h)}_insertTemplate(d){let h=this.treeAdapter.createElement(d.tagName,eb.HTML,d.attrs),g=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(h,g),this._attachElementToTree(h,d.location),this.openElements.push(h,d.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(g,null)}_insertFakeRootElement(){let d=this.treeAdapter.createElement(eC.HTML,eb.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(d,null),this.treeAdapter.appendChild(this.openElements.current,d),this.openElements.push(d,ex.HTML)}_appendCommentNode(d,h){let g=this.treeAdapter.createCommentNode(d.data);this.treeAdapter.appendChild(h,g),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(g,d.location)}_insertCharacters(d){let h,g;if(this._shouldFosterParentOnInsertion()?({parent:h,beforeElement:g}=this._findFosterParentingLocation(),g?this.treeAdapter.insertTextBefore(h,d.chars,g):this.treeAdapter.insertText(h,d.chars)):(h=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(h,d.chars)),!d.location)return;let _=this.treeAdapter.getChildNodes(h),y=g?_.lastIndexOf(g):_.length,A=_[y-1],b=this.treeAdapter.getNodeSourceCodeLocation(A);if(b){let{endLine:h,endCol:g,endOffset:_}=d.location;this.treeAdapter.updateNodeSourceCodeLocation(A,{endLine:h,endCol:g,endOffset:_})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(A,d.location)}_adoptNodes(d,h){for(let g=this.treeAdapter.getFirstChild(d);g;g=this.treeAdapter.getFirstChild(d))this.treeAdapter.detachNode(g),this.treeAdapter.appendChild(h,g)}_setEndLocation(d,h){if(this.treeAdapter.getNodeSourceCodeLocation(d)&&h.location){let g=h.location,_=this.treeAdapter.getTagName(d),y=h.type===eE.END_TAG&&_===h.tagName?{endTag:{...g},endLine:g.endLine,endCol:g.endCol,endOffset:g.endOffset}:{endLine:g.startLine,endCol:g.startCol,endOffset:g.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(d,y)}}shouldProcessStartTagTokenInForeignContent(d){let h,g;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(h=this.fragmentContext,g=this.fragmentContextID):{current:h,currentTagId:g}=this.openElements,(d.tagID!==ex.SVG||this.treeAdapter.getTagName(h)!==eC.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(h)!==eb.MATHML)&&(this.tokenizer.inForeignNode||(d.tagID===ex.MGLYPH||d.tagID===ex.MALIGNMARK)&&!this._isIntegrationPoint(g,h,eb.HTML)))}_processToken(d){switch(d.type){case eE.CHARACTER:this.onCharacter(d);break;case eE.NULL_CHARACTER:this.onNullCharacter(d);break;case eE.COMMENT:this.onComment(d);break;case eE.DOCTYPE:this.onDoctype(d);break;case eE.START_TAG:this._processStartTag(d);break;case eE.END_TAG:this.onEndTag(d);break;case eE.EOF:this.onEof(d);break;case eE.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(d)}}_isIntegrationPoint(d,h,g){let _=this.treeAdapter.getNamespaceURI(h),y=this.treeAdapter.getAttrList(h);return(!g||g===eb.HTML)&&function(d,h,g){if(h===eb.MATHML&&d===ex.ANNOTATION_XML){for(let d=0;d<g.length;d++)if(g[d].name===eS.ENCODING){let h=g[d].value.toLowerCase();return h===r$.TEXT_HTML||h===r$.APPLICATION_XML}}return h===eb.SVG&&(d===ex.FOREIGN_OBJECT||d===ex.DESC||d===ex.TITLE)}(d,_,y)||(!g||g===eb.MATHML)&&_===eb.MATHML&&(d===ex.MI||d===ex.MO||d===ex.MN||d===ex.MS||d===ex.MTEXT)}_reconstructActiveFormattingElements(){let d=this.activeFormattingElements.entries.length;if(d){let h=this.activeFormattingElements.entries.findIndex(d=>d.type===ew.Marker||this.openElements.contains(d.element)),g=h<0?d-1:h-1;for(let d=g;d>=0;d--){let h=this.activeFormattingElements.entries[d];this._insertElement(h.token,this.treeAdapter.getNamespaceURI(h.element)),h.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=eO.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(ex.P),this.openElements.popUntilTagNamePopped(ex.P)}_resetInsertionMode(){for(let d=this.openElements.stackTop;d>=0;d--)switch(0===d&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[d]){case ex.TR:this.insertionMode=eO.IN_ROW;return;case ex.TBODY:case ex.THEAD:case ex.TFOOT:this.insertionMode=eO.IN_TABLE_BODY;return;case ex.CAPTION:this.insertionMode=eO.IN_CAPTION;return;case ex.COLGROUP:this.insertionMode=eO.IN_COLUMN_GROUP;return;case ex.TABLE:this.insertionMode=eO.IN_TABLE;return;case ex.BODY:this.insertionMode=eO.IN_BODY;return;case ex.FRAMESET:this.insertionMode=eO.IN_FRAMESET;return;case ex.SELECT:this._resetInsertionModeForSelect(d);return;case ex.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case ex.HTML:this.insertionMode=this.headElement?eO.AFTER_HEAD:eO.BEFORE_HEAD;return;case ex.TD:case ex.TH:if(d>0){this.insertionMode=eO.IN_CELL;return}break;case ex.HEAD:if(d>0){this.insertionMode=eO.IN_HEAD;return}}this.insertionMode=eO.IN_BODY}_resetInsertionModeForSelect(d){if(d>0)for(let h=d-1;h>0;h--){let d=this.openElements.tagIDs[h];if(d===ex.TEMPLATE)break;if(d===ex.TABLE){this.insertionMode=eO.IN_SELECT_IN_TABLE;return}}this.insertionMode=eO.IN_SELECT}_isElementCausesFosterParenting(d){return rX.has(d)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let d=this.openElements.stackTop;d>=0;d--){let h=this.openElements.items[d];switch(this.openElements.tagIDs[d]){case ex.TEMPLATE:if(this.treeAdapter.getNamespaceURI(h)===eb.HTML)return{parent:this.treeAdapter.getTemplateContent(h),beforeElement:null};break;case ex.TABLE:{let g=this.treeAdapter.getParentNode(h);if(g)return{parent:g,beforeElement:h};return{parent:this.openElements.items[d-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(d){let h=this._findFosterParentingLocation();h.beforeElement?this.treeAdapter.insertBefore(h.parent,d,h.beforeElement):this.treeAdapter.appendChild(h.parent,d)}_isSpecialElement(d,h){let g=this.treeAdapter.getNamespaceURI(d);return rk[g].has(h)}onCharacter(d){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(d),this.framesetOk=!1;return}switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,d);break;case eO.BEFORE_HTML:tokenBeforeHtml(this,d);break;case eO.BEFORE_HEAD:tokenBeforeHead(this,d);break;case eO.IN_HEAD:tokenInHead(this,d);break;case eO.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,d);break;case eO.AFTER_HEAD:tokenAfterHead(this,d);break;case eO.IN_BODY:case eO.IN_CAPTION:case eO.IN_CELL:case eO.IN_TEMPLATE:characterInBody(this,d);break;case eO.TEXT:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:this._insertCharacters(d);break;case eO.IN_TABLE:case eO.IN_TABLE_BODY:case eO.IN_ROW:characterInTable(this,d);break;case eO.IN_TABLE_TEXT:characterInTableText(this,d);break;case eO.IN_COLUMN_GROUP:tokenInColumnGroup(this,d);break;case eO.AFTER_BODY:tokenAfterBody(this,d);break;case eO.AFTER_AFTER_BODY:tokenAfterAfterBody(this,d)}}onNullCharacter(d){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){d.chars="�",this._insertCharacters(d);return}switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,d);break;case eO.BEFORE_HTML:tokenBeforeHtml(this,d);break;case eO.BEFORE_HEAD:tokenBeforeHead(this,d);break;case eO.IN_HEAD:tokenInHead(this,d);break;case eO.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,d);break;case eO.AFTER_HEAD:tokenAfterHead(this,d);break;case eO.TEXT:this._insertCharacters(d);break;case eO.IN_TABLE:case eO.IN_TABLE_BODY:case eO.IN_ROW:characterInTable(this,d);break;case eO.IN_COLUMN_GROUP:tokenInColumnGroup(this,d);break;case eO.AFTER_BODY:tokenAfterBody(this,d);break;case eO.AFTER_AFTER_BODY:tokenAfterAfterBody(this,d)}}onComment(d){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,d);return}switch(this.insertionMode){case eO.INITIAL:case eO.BEFORE_HTML:case eO.BEFORE_HEAD:case eO.IN_HEAD:case eO.IN_HEAD_NO_SCRIPT:case eO.AFTER_HEAD:case eO.IN_BODY:case eO.IN_TABLE:case eO.IN_CAPTION:case eO.IN_COLUMN_GROUP:case eO.IN_TABLE_BODY:case eO.IN_ROW:case eO.IN_CELL:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:case eO.IN_TEMPLATE:case eO.IN_FRAMESET:case eO.AFTER_FRAMESET:appendComment(this,d);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,d);break;case eO.AFTER_BODY:!function(d,h){d._appendCommentNode(h,d.openElements.items[0])}(this,d);break;case eO.AFTER_AFTER_BODY:case eO.AFTER_AFTER_FRAMESET:!function(d,h){d._appendCommentNode(h,d.document)}(this,d)}}onDoctype(d){switch(this.skipNextNewLine=!1,this.insertionMode){case eO.INITIAL:!function(d,h){d._setDocumentType(h);let g=h.forceQuirks?ek.QUIRKS:function(d){if(d.name!==rB)return ek.QUIRKS;let{systemId:h}=d;if(h&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===h.toLowerCase())return ek.QUIRKS;let{publicId:g}=d;if(null!==g){if(g=g.toLowerCase(),rG.has(g))return ek.QUIRKS;let d=null===h?rH:rU;if(hasPrefix(g,d))return ek.QUIRKS;if(hasPrefix(g,d=null===h?rz:rV))return ek.LIMITED_QUIRKS}return ek.NO_QUIRKS}(h);h.name===rB&&null===h.publicId&&(null===h.systemId||"about:legacy-compat"===h.systemId)||d._err(h,eg.nonConformingDoctype),d.treeAdapter.setDocumentMode(d.document,g),d.insertionMode=eO.BEFORE_HTML}(this,d);break;case eO.BEFORE_HEAD:case eO.IN_HEAD:case eO.IN_HEAD_NO_SCRIPT:case eO.AFTER_HEAD:this._err(d,eg.misplacedDoctype);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,d)}}onStartTag(d){this.skipNextNewLine=!1,this.currentToken=d,this._processStartTag(d),d.selfClosing&&!d.ackSelfClosing&&this._err(d,eg.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(d){this.shouldProcessStartTagTokenInForeignContent(d)?function(d,h){if(function(d){let h=d.tagID,g=h===ex.FONT&&d.attrs.some(({name:d})=>d===eS.COLOR||d===eS.SIZE||d===eS.FACE);return g||rq.has(h)}(h))popUntilHtmlOrIntegrationPoint(d),d._startTagOutsideForeignContent(h);else{let g=d._getAdjustedCurrentElement(),_=d.treeAdapter.getNamespaceURI(g);_===eb.MATHML?adjustTokenMathMLAttrs(h):_===eb.SVG&&(function(d){let h=rY.get(d.tagName);null!=h&&(d.tagName=h,d.tagID=getTagID(d.tagName))}(h),adjustTokenSVGAttrs(h)),adjustTokenXMLAttrs(h),h.selfClosing?d._appendElement(h,_):d._insertElement(h,_),h.ackSelfClosing=!0}}(this,d):this._startTagOutsideForeignContent(d)}_startTagOutsideForeignContent(d){switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,d);break;case eO.BEFORE_HTML:d.tagID===ex.HTML?(this._insertElement(d,eb.HTML),this.insertionMode=eO.BEFORE_HEAD):tokenBeforeHtml(this,d);break;case eO.BEFORE_HEAD:!function(d,h){switch(h.tagID){case ex.HTML:startTagInBody(d,h);break;case ex.HEAD:d._insertElement(h,eb.HTML),d.headElement=d.openElements.current,d.insertionMode=eO.IN_HEAD;break;default:tokenBeforeHead(d,h)}}(this,d);break;case eO.IN_HEAD:startTagInHead(this,d);break;case eO.IN_HEAD_NO_SCRIPT:!function(d,h){switch(h.tagID){case ex.HTML:startTagInBody(d,h);break;case ex.BASEFONT:case ex.BGSOUND:case ex.HEAD:case ex.LINK:case ex.META:case ex.NOFRAMES:case ex.STYLE:startTagInHead(d,h);break;case ex.NOSCRIPT:d._err(h,eg.nestedNoscriptInHead);break;default:tokenInHeadNoScript(d,h)}}(this,d);break;case eO.AFTER_HEAD:!function(d,h){switch(h.tagID){case ex.HTML:startTagInBody(d,h);break;case ex.BODY:d._insertElement(h,eb.HTML),d.framesetOk=!1,d.insertionMode=eO.IN_BODY;break;case ex.FRAMESET:d._insertElement(h,eb.HTML),d.insertionMode=eO.IN_FRAMESET;break;case ex.BASE:case ex.BASEFONT:case ex.BGSOUND:case ex.LINK:case ex.META:case ex.NOFRAMES:case ex.SCRIPT:case ex.STYLE:case ex.TEMPLATE:case ex.TITLE:d._err(h,eg.abandonedHeadElementChild),d.openElements.push(d.headElement,ex.HEAD),startTagInHead(d,h),d.openElements.remove(d.headElement);break;case ex.HEAD:d._err(h,eg.misplacedStartTagForHeadElement);break;default:tokenAfterHead(d,h)}}(this,d);break;case eO.IN_BODY:startTagInBody(this,d);break;case eO.IN_TABLE:startTagInTable(this,d);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,d);break;case eO.IN_CAPTION:!function(d,h){let g=h.tagID;rJ.has(g)?d.openElements.hasInTableScope(ex.CAPTION)&&(d.openElements.generateImpliedEndTags(),d.openElements.popUntilTagNamePopped(ex.CAPTION),d.activeFormattingElements.clearToLastMarker(),d.insertionMode=eO.IN_TABLE,startTagInTable(d,h)):startTagInBody(d,h)}(this,d);break;case eO.IN_COLUMN_GROUP:startTagInColumnGroup(this,d);break;case eO.IN_TABLE_BODY:startTagInTableBody(this,d);break;case eO.IN_ROW:startTagInRow(this,d);break;case eO.IN_CELL:!function(d,h){let g=h.tagID;rJ.has(g)?(d.openElements.hasInTableScope(ex.TD)||d.openElements.hasInTableScope(ex.TH))&&(d._closeTableCell(),startTagInRow(d,h)):startTagInBody(d,h)}(this,d);break;case eO.IN_SELECT:startTagInSelect(this,d);break;case eO.IN_SELECT_IN_TABLE:!function(d,h){let g=h.tagID;g===ex.CAPTION||g===ex.TABLE||g===ex.TBODY||g===ex.TFOOT||g===ex.THEAD||g===ex.TR||g===ex.TD||g===ex.TH?(d.openElements.popUntilTagNamePopped(ex.SELECT),d._resetInsertionMode(),d._processStartTag(h)):startTagInSelect(d,h)}(this,d);break;case eO.IN_TEMPLATE:!function(d,h){switch(h.tagID){case ex.BASE:case ex.BASEFONT:case ex.BGSOUND:case ex.LINK:case ex.META:case ex.NOFRAMES:case ex.SCRIPT:case ex.STYLE:case ex.TEMPLATE:case ex.TITLE:startTagInHead(d,h);break;case ex.CAPTION:case ex.COLGROUP:case ex.TBODY:case ex.TFOOT:case ex.THEAD:d.tmplInsertionModeStack[0]=eO.IN_TABLE,d.insertionMode=eO.IN_TABLE,startTagInTable(d,h);break;case ex.COL:d.tmplInsertionModeStack[0]=eO.IN_COLUMN_GROUP,d.insertionMode=eO.IN_COLUMN_GROUP,startTagInColumnGroup(d,h);break;case ex.TR:d.tmplInsertionModeStack[0]=eO.IN_TABLE_BODY,d.insertionMode=eO.IN_TABLE_BODY,startTagInTableBody(d,h);break;case ex.TD:case ex.TH:d.tmplInsertionModeStack[0]=eO.IN_ROW,d.insertionMode=eO.IN_ROW,startTagInRow(d,h);break;default:d.tmplInsertionModeStack[0]=eO.IN_BODY,d.insertionMode=eO.IN_BODY,startTagInBody(d,h)}}(this,d);break;case eO.AFTER_BODY:d.tagID===ex.HTML?startTagInBody(this,d):tokenAfterBody(this,d);break;case eO.IN_FRAMESET:!function(d,h){switch(h.tagID){case ex.HTML:startTagInBody(d,h);break;case ex.FRAMESET:d._insertElement(h,eb.HTML);break;case ex.FRAME:d._appendElement(h,eb.HTML),h.ackSelfClosing=!0;break;case ex.NOFRAMES:startTagInHead(d,h)}}(this,d);break;case eO.AFTER_FRAMESET:!function(d,h){switch(h.tagID){case ex.HTML:startTagInBody(d,h);break;case ex.NOFRAMES:startTagInHead(d,h)}}(this,d);break;case eO.AFTER_AFTER_BODY:d.tagID===ex.HTML?startTagInBody(this,d):tokenAfterAfterBody(this,d);break;case eO.AFTER_AFTER_FRAMESET:!function(d,h){switch(h.tagID){case ex.HTML:startTagInBody(d,h);break;case ex.NOFRAMES:startTagInHead(d,h)}}(this,d)}}onEndTag(d){this.skipNextNewLine=!1,this.currentToken=d,this.currentNotInHTML?function(d,h){if(h.tagID===ex.P||h.tagID===ex.BR){popUntilHtmlOrIntegrationPoint(d),d._endTagOutsideForeignContent(h);return}for(let g=d.openElements.stackTop;g>0;g--){let _=d.openElements.items[g];if(d.treeAdapter.getNamespaceURI(_)===eb.HTML){d._endTagOutsideForeignContent(h);break}let y=d.treeAdapter.getTagName(_);if(y.toLowerCase()===h.tagName){h.tagName=y,d.openElements.shortenToLength(g);break}}}(this,d):this._endTagOutsideForeignContent(d)}_endTagOutsideForeignContent(d){var h;switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,d);break;case eO.BEFORE_HTML:!function(d,h){let g=h.tagID;(g===ex.HTML||g===ex.HEAD||g===ex.BODY||g===ex.BR)&&tokenBeforeHtml(d,h)}(this,d);break;case eO.BEFORE_HEAD:!function(d,h){let g=h.tagID;g===ex.HEAD||g===ex.BODY||g===ex.HTML||g===ex.BR?tokenBeforeHead(d,h):d._err(h,eg.endTagWithoutMatchingOpenElement)}(this,d);break;case eO.IN_HEAD:!function(d,h){switch(h.tagID){case ex.HEAD:d.openElements.pop(),d.insertionMode=eO.AFTER_HEAD;break;case ex.BODY:case ex.BR:case ex.HTML:tokenInHead(d,h);break;case ex.TEMPLATE:templateEndTagInHead(d,h);break;default:d._err(h,eg.endTagWithoutMatchingOpenElement)}}(this,d);break;case eO.IN_HEAD_NO_SCRIPT:!function(d,h){switch(h.tagID){case ex.NOSCRIPT:d.openElements.pop(),d.insertionMode=eO.IN_HEAD;break;case ex.BR:tokenInHeadNoScript(d,h);break;default:d._err(h,eg.endTagWithoutMatchingOpenElement)}}(this,d);break;case eO.AFTER_HEAD:!function(d,h){switch(h.tagID){case ex.BODY:case ex.HTML:case ex.BR:tokenAfterHead(d,h);break;case ex.TEMPLATE:templateEndTagInHead(d,h);break;default:d._err(h,eg.endTagWithoutMatchingOpenElement)}}(this,d);break;case eO.IN_BODY:endTagInBody(this,d);break;case eO.TEXT:d.tagID===ex.SCRIPT&&(null===(h=this.scriptHandler)||void 0===h||h.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case eO.IN_TABLE:endTagInTable(this,d);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,d);break;case eO.IN_CAPTION:!function(d,h){let g=h.tagID;switch(g){case ex.CAPTION:case ex.TABLE:d.openElements.hasInTableScope(ex.CAPTION)&&(d.openElements.generateImpliedEndTags(),d.openElements.popUntilTagNamePopped(ex.CAPTION),d.activeFormattingElements.clearToLastMarker(),d.insertionMode=eO.IN_TABLE,g===ex.TABLE&&endTagInTable(d,h));break;case ex.BODY:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TBODY:case ex.TD:case ex.TFOOT:case ex.TH:case ex.THEAD:case ex.TR:break;default:endTagInBody(d,h)}}(this,d);break;case eO.IN_COLUMN_GROUP:!function(d,h){switch(h.tagID){case ex.COLGROUP:d.openElements.currentTagId===ex.COLGROUP&&(d.openElements.pop(),d.insertionMode=eO.IN_TABLE);break;case ex.TEMPLATE:templateEndTagInHead(d,h);break;case ex.COL:break;default:tokenInColumnGroup(d,h)}}(this,d);break;case eO.IN_TABLE_BODY:endTagInTableBody(this,d);break;case eO.IN_ROW:endTagInRow(this,d);break;case eO.IN_CELL:!function(d,h){let g=h.tagID;switch(g){case ex.TD:case ex.TH:d.openElements.hasInTableScope(g)&&(d.openElements.generateImpliedEndTags(),d.openElements.popUntilTagNamePopped(g),d.activeFormattingElements.clearToLastMarker(),d.insertionMode=eO.IN_ROW);break;case ex.TABLE:case ex.TBODY:case ex.TFOOT:case ex.THEAD:case ex.TR:d.openElements.hasInTableScope(g)&&(d._closeTableCell(),endTagInRow(d,h));break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:break;default:endTagInBody(d,h)}}(this,d);break;case eO.IN_SELECT:endTagInSelect(this,d);break;case eO.IN_SELECT_IN_TABLE:!function(d,h){let g=h.tagID;g===ex.CAPTION||g===ex.TABLE||g===ex.TBODY||g===ex.TFOOT||g===ex.THEAD||g===ex.TR||g===ex.TD||g===ex.TH?d.openElements.hasInTableScope(g)&&(d.openElements.popUntilTagNamePopped(ex.SELECT),d._resetInsertionMode(),d.onEndTag(h)):endTagInSelect(d,h)}(this,d);break;case eO.IN_TEMPLATE:d.tagID===ex.TEMPLATE&&templateEndTagInHead(this,d);break;case eO.AFTER_BODY:endTagAfterBody(this,d);break;case eO.IN_FRAMESET:d.tagID!==ex.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===ex.FRAMESET||(this.insertionMode=eO.AFTER_FRAMESET));break;case eO.AFTER_FRAMESET:d.tagID===ex.HTML&&(this.insertionMode=eO.AFTER_AFTER_FRAMESET);break;case eO.AFTER_AFTER_BODY:tokenAfterAfterBody(this,d)}}onEof(d){switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,d);break;case eO.BEFORE_HTML:tokenBeforeHtml(this,d);break;case eO.BEFORE_HEAD:tokenBeforeHead(this,d);break;case eO.IN_HEAD:tokenInHead(this,d);break;case eO.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,d);break;case eO.AFTER_HEAD:tokenAfterHead(this,d);break;case eO.IN_BODY:case eO.IN_TABLE:case eO.IN_CAPTION:case eO.IN_COLUMN_GROUP:case eO.IN_TABLE_BODY:case eO.IN_ROW:case eO.IN_CELL:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:eofInBody(this,d);break;case eO.TEXT:this._err(d,eg.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(d);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,d);break;case eO.IN_TEMPLATE:eofInTemplate(this,d);break;case eO.AFTER_BODY:case eO.IN_FRAMESET:case eO.AFTER_FRAMESET:case eO.AFTER_AFTER_BODY:case eO.AFTER_AFTER_FRAMESET:stopParsing(this,d)}}onWhitespaceCharacter(d){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,d.chars.charCodeAt(0)===em.LINE_FEED)){if(1===d.chars.length)return;d.chars=d.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(d);return}switch(this.insertionMode){case eO.IN_HEAD:case eO.IN_HEAD_NO_SCRIPT:case eO.AFTER_HEAD:case eO.TEXT:case eO.IN_COLUMN_GROUP:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:case eO.IN_FRAMESET:case eO.AFTER_FRAMESET:this._insertCharacters(d);break;case eO.IN_BODY:case eO.IN_CAPTION:case eO.IN_CELL:case eO.IN_TEMPLATE:case eO.AFTER_BODY:case eO.AFTER_AFTER_BODY:case eO.AFTER_AFTER_FRAMESET:whitespaceCharacterInBody(this,d);break;case eO.IN_TABLE:case eO.IN_TABLE_BODY:case eO.IN_ROW:characterInTable(this,d);break;case eO.IN_TABLE_TEXT:whitespaceCharacterInTableText(this,d)}}};function callAdoptionAgency(d,h){for(let g=0;g<8;g++){let g=function(d,h){let g=d.activeFormattingElements.getElementEntryInScopeWithTagName(h.tagName);return g?d.openElements.contains(g.element)?d.openElements.hasInScope(h.tagID)||(g=null):(d.activeFormattingElements.removeEntry(g),g=null):genericEndTagInBody(d,h),g}(d,h);if(!g)break;let _=function(d,h){let g=null,_=d.openElements.stackTop;for(;_>=0;_--){let y=d.openElements.items[_];if(y===h.element)break;d._isSpecialElement(y,d.openElements.tagIDs[_])&&(g=y)}return g||(d.openElements.shortenToLength(_<0?0:_),d.activeFormattingElements.removeEntry(h)),g}(d,g);if(!_)break;d.activeFormattingElements.bookmark=g;let y=function(d,h,g){let _=h,y=d.openElements.getCommonAncestor(h);for(let A=0,b=y;b!==g;A++,b=y){y=d.openElements.getCommonAncestor(b);let g=d.activeFormattingElements.getElementEntry(b),k=g&&A>=3,w=!g||k;w?(k&&d.activeFormattingElements.removeEntry(g),d.openElements.remove(b)):(b=function(d,h){let g=d.treeAdapter.getNamespaceURI(h.element),_=d.treeAdapter.createElement(h.token.tagName,g,h.token.attrs);return d.openElements.replace(h.element,_),h.element=_,_}(d,g),_===h&&(d.activeFormattingElements.bookmark=g),d.treeAdapter.detachNode(_),d.treeAdapter.appendChild(b,_),_=b)}return _}(d,_,g.element),A=d.openElements.getCommonAncestor(g.element);d.treeAdapter.detachNode(y),A&&function(d,h,g){let _=d.treeAdapter.getTagName(h),y=getTagID(_);if(d._isElementCausesFosterParenting(y))d._fosterParentElement(g);else{let _=d.treeAdapter.getNamespaceURI(h);y===ex.TEMPLATE&&_===eb.HTML&&(h=d.treeAdapter.getTemplateContent(h)),d.treeAdapter.appendChild(h,g)}}(d,A,y),function(d,h,g){let _=d.treeAdapter.getNamespaceURI(g.element),{token:y}=g,A=d.treeAdapter.createElement(y.tagName,_,y.attrs);d._adoptNodes(h,A),d.treeAdapter.appendChild(h,A),d.activeFormattingElements.insertElementAfterBookmark(A,y),d.activeFormattingElements.removeEntry(g),d.openElements.remove(g.element),d.openElements.insertAfter(h,A,y.tagID)}(d,_,g)}}function appendComment(d,h){d._appendCommentNode(h,d.openElements.currentTmplContentOrNode)}function stopParsing(d,h){if(d.stopped=!0,h.location){let g=d.fragmentContext?0:2;for(let _=d.openElements.stackTop;_>=g;_--)d._setEndLocation(d.openElements.items[_],h);if(!d.fragmentContext&&d.openElements.stackTop>=0){let g=d.openElements.items[0],_=d.treeAdapter.getNodeSourceCodeLocation(g);if(_&&!_.endTag&&(d._setEndLocation(g,h),d.openElements.stackTop>=1)){let g=d.openElements.items[1],_=d.treeAdapter.getNodeSourceCodeLocation(g);_&&!_.endTag&&d._setEndLocation(g,h)}}}}function tokenInInitialMode(d,h){d._err(h,eg.missingDoctype,!0),d.treeAdapter.setDocumentMode(d.document,ek.QUIRKS),d.insertionMode=eO.BEFORE_HTML,d._processToken(h)}function tokenBeforeHtml(d,h){d._insertFakeRootElement(),d.insertionMode=eO.BEFORE_HEAD,d._processToken(h)}function tokenBeforeHead(d,h){d._insertFakeElement(eC.HEAD,ex.HEAD),d.headElement=d.openElements.current,d.insertionMode=eO.IN_HEAD,d._processToken(h)}function startTagInHead(d,h){switch(h.tagID){case ex.HTML:startTagInBody(d,h);break;case ex.BASE:case ex.BASEFONT:case ex.BGSOUND:case ex.LINK:case ex.META:d._appendElement(h,eb.HTML),h.ackSelfClosing=!0;break;case ex.TITLE:d._switchToTextParsing(h,rx.RCDATA);break;case ex.NOSCRIPT:d.options.scriptingEnabled?d._switchToTextParsing(h,rx.RAWTEXT):(d._insertElement(h,eb.HTML),d.insertionMode=eO.IN_HEAD_NO_SCRIPT);break;case ex.NOFRAMES:case ex.STYLE:d._switchToTextParsing(h,rx.RAWTEXT);break;case ex.SCRIPT:d._switchToTextParsing(h,rx.SCRIPT_DATA);break;case ex.TEMPLATE:d._insertTemplate(h),d.activeFormattingElements.insertMarker(),d.framesetOk=!1,d.insertionMode=eO.IN_TEMPLATE,d.tmplInsertionModeStack.unshift(eO.IN_TEMPLATE);break;case ex.HEAD:d._err(h,eg.misplacedStartTagForHeadElement);break;default:tokenInHead(d,h)}}function templateEndTagInHead(d,h){d.openElements.tmplCount>0?(d.openElements.generateImpliedEndTagsThoroughly(),d.openElements.currentTagId!==ex.TEMPLATE&&d._err(h,eg.closingOfElementWithOpenChildElements),d.openElements.popUntilTagNamePopped(ex.TEMPLATE),d.activeFormattingElements.clearToLastMarker(),d.tmplInsertionModeStack.shift(),d._resetInsertionMode()):d._err(h,eg.endTagWithoutMatchingOpenElement)}function tokenInHead(d,h){d.openElements.pop(),d.insertionMode=eO.AFTER_HEAD,d._processToken(h)}function tokenInHeadNoScript(d,h){let g=h.type===eE.EOF?eg.openElementsLeftAfterEof:eg.disallowedContentInNoscriptInHead;d._err(h,g),d.openElements.pop(),d.insertionMode=eO.IN_HEAD,d._processToken(h)}function tokenAfterHead(d,h){d._insertFakeElement(eC.BODY,ex.BODY),d.insertionMode=eO.IN_BODY,modeInBody(d,h)}function modeInBody(d,h){switch(h.type){case eE.CHARACTER:characterInBody(d,h);break;case eE.WHITESPACE_CHARACTER:whitespaceCharacterInBody(d,h);break;case eE.COMMENT:appendComment(d,h);break;case eE.START_TAG:startTagInBody(d,h);break;case eE.END_TAG:endTagInBody(d,h);break;case eE.EOF:eofInBody(d,h)}}function whitespaceCharacterInBody(d,h){d._reconstructActiveFormattingElements(),d._insertCharacters(h)}function characterInBody(d,h){d._reconstructActiveFormattingElements(),d._insertCharacters(h),d.framesetOk=!1}function areaStartTagInBody(d,h){d._reconstructActiveFormattingElements(),d._appendElement(h,eb.HTML),d.framesetOk=!1,h.ackSelfClosing=!0}function isHiddenInput(d){let h=getTokenAttr(d,eS.TYPE);return null!=h&&"hidden"===h.toLowerCase()}function noembedStartTagInBody(d,h){d._switchToTextParsing(h,rx.RAWTEXT)}function genericStartTagInBody(d,h){d._reconstructActiveFormattingElements(),d._insertElement(h,eb.HTML)}function startTagInBody(d,h){switch(h.tagID){case ex.I:case ex.S:case ex.B:case ex.U:case ex.EM:case ex.TT:case ex.BIG:case ex.CODE:case ex.FONT:case ex.SMALL:case ex.STRIKE:case ex.STRONG:d._reconstructActiveFormattingElements(),d._insertElement(h,eb.HTML),d.activeFormattingElements.pushElement(d.openElements.current,h);break;case ex.A:!function(d,h){let g=d.activeFormattingElements.getElementEntryInScopeWithTagName(eC.A);g&&(callAdoptionAgency(d,h),d.openElements.remove(g.element),d.activeFormattingElements.removeEntry(g)),d._reconstructActiveFormattingElements(),d._insertElement(h,eb.HTML),d.activeFormattingElements.pushElement(d.openElements.current,h)}(d,h);break;case ex.H1:case ex.H2:case ex.H3:case ex.H4:case ex.H5:case ex.H6:d.openElements.hasInButtonScope(ex.P)&&d._closePElement(),isNumberedHeader(d.openElements.currentTagId)&&d.openElements.pop(),d._insertElement(h,eb.HTML);break;case ex.P:case ex.DL:case ex.OL:case ex.UL:case ex.DIV:case ex.DIR:case ex.NAV:case ex.MAIN:case ex.MENU:case ex.ASIDE:case ex.CENTER:case ex.FIGURE:case ex.FOOTER:case ex.HEADER:case ex.HGROUP:case ex.DIALOG:case ex.DETAILS:case ex.ADDRESS:case ex.ARTICLE:case ex.SECTION:case ex.SUMMARY:case ex.FIELDSET:case ex.BLOCKQUOTE:case ex.FIGCAPTION:d.openElements.hasInButtonScope(ex.P)&&d._closePElement(),d._insertElement(h,eb.HTML);break;case ex.LI:case ex.DD:case ex.DT:!function(d,h){d.framesetOk=!1;let g=h.tagID;for(let h=d.openElements.stackTop;h>=0;h--){let _=d.openElements.tagIDs[h];if(g===ex.LI&&_===ex.LI||(g===ex.DD||g===ex.DT)&&(_===ex.DD||_===ex.DT)){d.openElements.generateImpliedEndTagsWithExclusion(_),d.openElements.popUntilTagNamePopped(_);break}if(_!==ex.ADDRESS&&_!==ex.DIV&&_!==ex.P&&d._isSpecialElement(d.openElements.items[h],_))break}d.openElements.hasInButtonScope(ex.P)&&d._closePElement(),d._insertElement(h,eb.HTML)}(d,h);break;case ex.BR:case ex.IMG:case ex.WBR:case ex.AREA:case ex.EMBED:case ex.KEYGEN:areaStartTagInBody(d,h);break;case ex.HR:d.openElements.hasInButtonScope(ex.P)&&d._closePElement(),d._appendElement(h,eb.HTML),d.framesetOk=!1,h.ackSelfClosing=!0;break;case ex.RB:case ex.RTC:d.openElements.hasInScope(ex.RUBY)&&d.openElements.generateImpliedEndTags(),d._insertElement(h,eb.HTML);break;case ex.RT:case ex.RP:d.openElements.hasInScope(ex.RUBY)&&d.openElements.generateImpliedEndTagsWithExclusion(ex.RTC),d._insertElement(h,eb.HTML);break;case ex.PRE:case ex.LISTING:d.openElements.hasInButtonScope(ex.P)&&d._closePElement(),d._insertElement(h,eb.HTML),d.skipNextNewLine=!0,d.framesetOk=!1;break;case ex.XMP:d.openElements.hasInButtonScope(ex.P)&&d._closePElement(),d._reconstructActiveFormattingElements(),d.framesetOk=!1,d._switchToTextParsing(h,rx.RAWTEXT);break;case ex.SVG:d._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(h),adjustTokenXMLAttrs(h),h.selfClosing?d._appendElement(h,eb.SVG):d._insertElement(h,eb.SVG),h.ackSelfClosing=!0;break;case ex.HTML:0===d.openElements.tmplCount&&d.treeAdapter.adoptAttributes(d.openElements.items[0],h.attrs);break;case ex.BASE:case ex.LINK:case ex.META:case ex.STYLE:case ex.TITLE:case ex.SCRIPT:case ex.BGSOUND:case ex.BASEFONT:case ex.TEMPLATE:startTagInHead(d,h);break;case ex.BODY:!function(d,h){let g=d.openElements.tryPeekProperlyNestedBodyElement();g&&0===d.openElements.tmplCount&&(d.framesetOk=!1,d.treeAdapter.adoptAttributes(g,h.attrs))}(d,h);break;case ex.FORM:!function(d,h){let g=d.openElements.tmplCount>0;d.formElement&&!g||(d.openElements.hasInButtonScope(ex.P)&&d._closePElement(),d._insertElement(h,eb.HTML),g||(d.formElement=d.openElements.current))}(d,h);break;case ex.NOBR:d._reconstructActiveFormattingElements(),d.openElements.hasInScope(ex.NOBR)&&(callAdoptionAgency(d,h),d._reconstructActiveFormattingElements()),d._insertElement(h,eb.HTML),d.activeFormattingElements.pushElement(d.openElements.current,h);break;case ex.MATH:d._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(h),adjustTokenXMLAttrs(h),h.selfClosing?d._appendElement(h,eb.MATHML):d._insertElement(h,eb.MATHML),h.ackSelfClosing=!0;break;case ex.TABLE:d.treeAdapter.getDocumentMode(d.document)!==ek.QUIRKS&&d.openElements.hasInButtonScope(ex.P)&&d._closePElement(),d._insertElement(h,eb.HTML),d.framesetOk=!1,d.insertionMode=eO.IN_TABLE;break;case ex.INPUT:d._reconstructActiveFormattingElements(),d._appendElement(h,eb.HTML),isHiddenInput(h)||(d.framesetOk=!1),h.ackSelfClosing=!0;break;case ex.PARAM:case ex.TRACK:case ex.SOURCE:d._appendElement(h,eb.HTML),h.ackSelfClosing=!0;break;case ex.IMAGE:h.tagName=eC.IMG,h.tagID=ex.IMG,areaStartTagInBody(d,h);break;case ex.BUTTON:d.openElements.hasInScope(ex.BUTTON)&&(d.openElements.generateImpliedEndTags(),d.openElements.popUntilTagNamePopped(ex.BUTTON)),d._reconstructActiveFormattingElements(),d._insertElement(h,eb.HTML),d.framesetOk=!1;break;case ex.APPLET:case ex.OBJECT:case ex.MARQUEE:d._reconstructActiveFormattingElements(),d._insertElement(h,eb.HTML),d.activeFormattingElements.insertMarker(),d.framesetOk=!1;break;case ex.IFRAME:d.framesetOk=!1,d._switchToTextParsing(h,rx.RAWTEXT);break;case ex.SELECT:d._reconstructActiveFormattingElements(),d._insertElement(h,eb.HTML),d.framesetOk=!1,d.insertionMode=d.insertionMode===eO.IN_TABLE||d.insertionMode===eO.IN_CAPTION||d.insertionMode===eO.IN_TABLE_BODY||d.insertionMode===eO.IN_ROW||d.insertionMode===eO.IN_CELL?eO.IN_SELECT_IN_TABLE:eO.IN_SELECT;break;case ex.OPTION:case ex.OPTGROUP:d.openElements.currentTagId===ex.OPTION&&d.openElements.pop(),d._reconstructActiveFormattingElements(),d._insertElement(h,eb.HTML);break;case ex.NOEMBED:noembedStartTagInBody(d,h);break;case ex.FRAMESET:!function(d,h){let g=d.openElements.tryPeekProperlyNestedBodyElement();d.framesetOk&&g&&(d.treeAdapter.detachNode(g),d.openElements.popAllUpToHtmlElement(),d._insertElement(h,eb.HTML),d.insertionMode=eO.IN_FRAMESET)}(d,h);break;case ex.TEXTAREA:d._insertElement(h,eb.HTML),d.skipNextNewLine=!0,d.tokenizer.state=rx.RCDATA,d.originalInsertionMode=d.insertionMode,d.framesetOk=!1,d.insertionMode=eO.TEXT;break;case ex.NOSCRIPT:d.options.scriptingEnabled?noembedStartTagInBody(d,h):genericStartTagInBody(d,h);break;case ex.PLAINTEXT:d.openElements.hasInButtonScope(ex.P)&&d._closePElement(),d._insertElement(h,eb.HTML),d.tokenizer.state=rx.PLAINTEXT;break;case ex.COL:case ex.TH:case ex.TD:case ex.TR:case ex.HEAD:case ex.FRAME:case ex.TBODY:case ex.TFOOT:case ex.THEAD:case ex.CAPTION:case ex.COLGROUP:break;default:genericStartTagInBody(d,h)}}function genericEndTagInBody(d,h){let g=h.tagName,_=h.tagID;for(let h=d.openElements.stackTop;h>0;h--){let y=d.openElements.items[h],A=d.openElements.tagIDs[h];if(_===A&&(_!==ex.UNKNOWN||d.treeAdapter.getTagName(y)===g)){d.openElements.generateImpliedEndTagsWithExclusion(_),d.openElements.stackTop>=h&&d.openElements.shortenToLength(h);break}if(d._isSpecialElement(y,A))break}}function endTagInBody(d,h){switch(h.tagID){case ex.A:case ex.B:case ex.I:case ex.S:case ex.U:case ex.EM:case ex.TT:case ex.BIG:case ex.CODE:case ex.FONT:case ex.NOBR:case ex.SMALL:case ex.STRIKE:case ex.STRONG:callAdoptionAgency(d,h);break;case ex.P:d.openElements.hasInButtonScope(ex.P)||d._insertFakeElement(eC.P,ex.P),d._closePElement();break;case ex.DL:case ex.UL:case ex.OL:case ex.DIR:case ex.DIV:case ex.NAV:case ex.PRE:case ex.MAIN:case ex.MENU:case ex.ASIDE:case ex.BUTTON:case ex.CENTER:case ex.FIGURE:case ex.FOOTER:case ex.HEADER:case ex.HGROUP:case ex.DIALOG:case ex.ADDRESS:case ex.ARTICLE:case ex.DETAILS:case ex.SECTION:case ex.SUMMARY:case ex.LISTING:case ex.FIELDSET:case ex.BLOCKQUOTE:case ex.FIGCAPTION:!function(d,h){let g=h.tagID;d.openElements.hasInScope(g)&&(d.openElements.generateImpliedEndTags(),d.openElements.popUntilTagNamePopped(g))}(d,h);break;case ex.LI:d.openElements.hasInListItemScope(ex.LI)&&(d.openElements.generateImpliedEndTagsWithExclusion(ex.LI),d.openElements.popUntilTagNamePopped(ex.LI));break;case ex.DD:case ex.DT:!function(d,h){let g=h.tagID;d.openElements.hasInScope(g)&&(d.openElements.generateImpliedEndTagsWithExclusion(g),d.openElements.popUntilTagNamePopped(g))}(d,h);break;case ex.H1:case ex.H2:case ex.H3:case ex.H4:case ex.H5:case ex.H6:d.openElements.hasNumberedHeaderInScope()&&(d.openElements.generateImpliedEndTags(),d.openElements.popUntilNumberedHeaderPopped());break;case ex.BR:d._reconstructActiveFormattingElements(),d._insertFakeElement(eC.BR,ex.BR),d.openElements.pop(),d.framesetOk=!1;break;case ex.BODY:!function(d,h){if(d.openElements.hasInScope(ex.BODY)&&(d.insertionMode=eO.AFTER_BODY,d.options.sourceCodeLocationInfo)){let g=d.openElements.tryPeekProperlyNestedBodyElement();g&&d._setEndLocation(g,h)}}(d,h);break;case ex.HTML:d.openElements.hasInScope(ex.BODY)&&(d.insertionMode=eO.AFTER_BODY,endTagAfterBody(d,h));break;case ex.FORM:!function(d){let h=d.openElements.tmplCount>0,{formElement:g}=d;h||(d.formElement=null),(g||h)&&d.openElements.hasInScope(ex.FORM)&&(d.openElements.generateImpliedEndTags(),h?d.openElements.popUntilTagNamePopped(ex.FORM):g&&d.openElements.remove(g))}(d);break;case ex.APPLET:case ex.OBJECT:case ex.MARQUEE:!function(d,h){let g=h.tagID;d.openElements.hasInScope(g)&&(d.openElements.generateImpliedEndTags(),d.openElements.popUntilTagNamePopped(g),d.activeFormattingElements.clearToLastMarker())}(d,h);break;case ex.TEMPLATE:templateEndTagInHead(d,h);break;default:genericEndTagInBody(d,h)}}function eofInBody(d,h){d.tmplInsertionModeStack.length>0?eofInTemplate(d,h):stopParsing(d,h)}function characterInTable(d,h){if(rX.has(d.openElements.currentTagId))switch(d.pendingCharacterTokens.length=0,d.hasNonWhitespacePendingCharacterToken=!1,d.originalInsertionMode=d.insertionMode,d.insertionMode=eO.IN_TABLE_TEXT,h.type){case eE.CHARACTER:characterInTableText(d,h);break;case eE.WHITESPACE_CHARACTER:whitespaceCharacterInTableText(d,h)}else tokenInTable(d,h)}function startTagInTable(d,h){switch(h.tagID){case ex.TD:case ex.TH:case ex.TR:d.openElements.clearBackToTableContext(),d._insertFakeElement(eC.TBODY,ex.TBODY),d.insertionMode=eO.IN_TABLE_BODY,startTagInTableBody(d,h);break;case ex.STYLE:case ex.SCRIPT:case ex.TEMPLATE:startTagInHead(d,h);break;case ex.COL:d.openElements.clearBackToTableContext(),d._insertFakeElement(eC.COLGROUP,ex.COLGROUP),d.insertionMode=eO.IN_COLUMN_GROUP,startTagInColumnGroup(d,h);break;case ex.FORM:d.formElement||0!==d.openElements.tmplCount||(d._insertElement(h,eb.HTML),d.formElement=d.openElements.current,d.openElements.pop());break;case ex.TABLE:d.openElements.hasInTableScope(ex.TABLE)&&(d.openElements.popUntilTagNamePopped(ex.TABLE),d._resetInsertionMode(),d._processStartTag(h));break;case ex.TBODY:case ex.TFOOT:case ex.THEAD:d.openElements.clearBackToTableContext(),d._insertElement(h,eb.HTML),d.insertionMode=eO.IN_TABLE_BODY;break;case ex.INPUT:isHiddenInput(h)?d._appendElement(h,eb.HTML):tokenInTable(d,h),h.ackSelfClosing=!0;break;case ex.CAPTION:d.openElements.clearBackToTableContext(),d.activeFormattingElements.insertMarker(),d._insertElement(h,eb.HTML),d.insertionMode=eO.IN_CAPTION;break;case ex.COLGROUP:d.openElements.clearBackToTableContext(),d._insertElement(h,eb.HTML),d.insertionMode=eO.IN_COLUMN_GROUP;break;default:tokenInTable(d,h)}}function endTagInTable(d,h){switch(h.tagID){case ex.TABLE:d.openElements.hasInTableScope(ex.TABLE)&&(d.openElements.popUntilTagNamePopped(ex.TABLE),d._resetInsertionMode());break;case ex.TEMPLATE:templateEndTagInHead(d,h);break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TBODY:case ex.TD:case ex.TFOOT:case ex.TH:case ex.THEAD:case ex.TR:break;default:tokenInTable(d,h)}}function tokenInTable(d,h){let g=d.fosterParentingEnabled;d.fosterParentingEnabled=!0,modeInBody(d,h),d.fosterParentingEnabled=g}function whitespaceCharacterInTableText(d,h){d.pendingCharacterTokens.push(h)}function characterInTableText(d,h){d.pendingCharacterTokens.push(h),d.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(d,h){let g=0;if(d.hasNonWhitespacePendingCharacterToken)for(;g<d.pendingCharacterTokens.length;g++)tokenInTable(d,d.pendingCharacterTokens[g]);else for(;g<d.pendingCharacterTokens.length;g++)d._insertCharacters(d.pendingCharacterTokens[g]);d.insertionMode=d.originalInsertionMode,d._processToken(h)}let rJ=new Set([ex.CAPTION,ex.COL,ex.COLGROUP,ex.TBODY,ex.TD,ex.TFOOT,ex.TH,ex.THEAD,ex.TR]);function startTagInColumnGroup(d,h){switch(h.tagID){case ex.HTML:startTagInBody(d,h);break;case ex.COL:d._appendElement(h,eb.HTML),h.ackSelfClosing=!0;break;case ex.TEMPLATE:startTagInHead(d,h);break;default:tokenInColumnGroup(d,h)}}function tokenInColumnGroup(d,h){d.openElements.currentTagId===ex.COLGROUP&&(d.openElements.pop(),d.insertionMode=eO.IN_TABLE,d._processToken(h))}function startTagInTableBody(d,h){switch(h.tagID){case ex.TR:d.openElements.clearBackToTableBodyContext(),d._insertElement(h,eb.HTML),d.insertionMode=eO.IN_ROW;break;case ex.TH:case ex.TD:d.openElements.clearBackToTableBodyContext(),d._insertFakeElement(eC.TR,ex.TR),d.insertionMode=eO.IN_ROW,startTagInRow(d,h);break;case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.TBODY:case ex.TFOOT:case ex.THEAD:d.openElements.hasTableBodyContextInTableScope()&&(d.openElements.clearBackToTableBodyContext(),d.openElements.pop(),d.insertionMode=eO.IN_TABLE,startTagInTable(d,h));break;default:startTagInTable(d,h)}}function endTagInTableBody(d,h){let g=h.tagID;switch(h.tagID){case ex.TBODY:case ex.TFOOT:case ex.THEAD:d.openElements.hasInTableScope(g)&&(d.openElements.clearBackToTableBodyContext(),d.openElements.pop(),d.insertionMode=eO.IN_TABLE);break;case ex.TABLE:d.openElements.hasTableBodyContextInTableScope()&&(d.openElements.clearBackToTableBodyContext(),d.openElements.pop(),d.insertionMode=eO.IN_TABLE,endTagInTable(d,h));break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TD:case ex.TH:case ex.TR:break;default:endTagInTable(d,h)}}function startTagInRow(d,h){switch(h.tagID){case ex.TH:case ex.TD:d.openElements.clearBackToTableRowContext(),d._insertElement(h,eb.HTML),d.insertionMode=eO.IN_CELL,d.activeFormattingElements.insertMarker();break;case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.TBODY:case ex.TFOOT:case ex.THEAD:case ex.TR:d.openElements.hasInTableScope(ex.TR)&&(d.openElements.clearBackToTableRowContext(),d.openElements.pop(),d.insertionMode=eO.IN_TABLE_BODY,startTagInTableBody(d,h));break;default:startTagInTable(d,h)}}function endTagInRow(d,h){switch(h.tagID){case ex.TR:d.openElements.hasInTableScope(ex.TR)&&(d.openElements.clearBackToTableRowContext(),d.openElements.pop(),d.insertionMode=eO.IN_TABLE_BODY);break;case ex.TABLE:d.openElements.hasInTableScope(ex.TR)&&(d.openElements.clearBackToTableRowContext(),d.openElements.pop(),d.insertionMode=eO.IN_TABLE_BODY,endTagInTableBody(d,h));break;case ex.TBODY:case ex.TFOOT:case ex.THEAD:(d.openElements.hasInTableScope(h.tagID)||d.openElements.hasInTableScope(ex.TR))&&(d.openElements.clearBackToTableRowContext(),d.openElements.pop(),d.insertionMode=eO.IN_TABLE_BODY,endTagInTableBody(d,h));break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TD:case ex.TH:break;default:endTagInTable(d,h)}}function startTagInSelect(d,h){switch(h.tagID){case ex.HTML:startTagInBody(d,h);break;case ex.OPTION:d.openElements.currentTagId===ex.OPTION&&d.openElements.pop(),d._insertElement(h,eb.HTML);break;case ex.OPTGROUP:d.openElements.currentTagId===ex.OPTION&&d.openElements.pop(),d.openElements.currentTagId===ex.OPTGROUP&&d.openElements.pop(),d._insertElement(h,eb.HTML);break;case ex.INPUT:case ex.KEYGEN:case ex.TEXTAREA:case ex.SELECT:d.openElements.hasInSelectScope(ex.SELECT)&&(d.openElements.popUntilTagNamePopped(ex.SELECT),d._resetInsertionMode(),h.tagID!==ex.SELECT&&d._processStartTag(h));break;case ex.SCRIPT:case ex.TEMPLATE:startTagInHead(d,h)}}function endTagInSelect(d,h){switch(h.tagID){case ex.OPTGROUP:d.openElements.stackTop>0&&d.openElements.currentTagId===ex.OPTION&&d.openElements.tagIDs[d.openElements.stackTop-1]===ex.OPTGROUP&&d.openElements.pop(),d.openElements.currentTagId===ex.OPTGROUP&&d.openElements.pop();break;case ex.OPTION:d.openElements.currentTagId===ex.OPTION&&d.openElements.pop();break;case ex.SELECT:d.openElements.hasInSelectScope(ex.SELECT)&&(d.openElements.popUntilTagNamePopped(ex.SELECT),d._resetInsertionMode());break;case ex.TEMPLATE:templateEndTagInHead(d,h)}}function eofInTemplate(d,h){d.openElements.tmplCount>0?(d.openElements.popUntilTagNamePopped(ex.TEMPLATE),d.activeFormattingElements.clearToLastMarker(),d.tmplInsertionModeStack.shift(),d._resetInsertionMode(),d.onEof(h)):stopParsing(d,h)}function endTagAfterBody(d,h){var g;if(h.tagID===ex.HTML){if(d.fragmentContext||(d.insertionMode=eO.AFTER_AFTER_BODY),d.options.sourceCodeLocationInfo&&d.openElements.tagIDs[0]===ex.HTML){d._setEndLocation(d.openElements.items[0],h);let _=d.openElements.items[1];!_||(null===(g=d.treeAdapter.getNodeSourceCodeLocation(_))||void 0===g?void 0:g.endTag)||d._setEndLocation(_,h)}}else tokenAfterBody(d,h)}function tokenAfterBody(d,h){d.insertionMode=eO.IN_BODY,modeInBody(d,h)}function tokenAfterAfterBody(d,h){d.insertionMode=eO.IN_BODY,modeInBody(d,h)}function popUntilHtmlOrIntegrationPoint(d){for(;d.treeAdapter.getNamespaceURI(d.openElements.current)!==eb.HTML&&!d._isIntegrationPoint(d.openElements.currentTagId,d.openElements.current);)d.openElements.pop()}let rZ=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function getEscaper(d,h){return function(g){let _;let y=0,A="";for(;_=d.exec(g);)y!==_.index&&(A+=g.substring(y,_.index)),A+=h.get(_[0].charCodeAt(0)),y=_.index+1;return A+g.substring(y)}}null!=String.prototype.codePointAt||((d,h)=>(64512&d.charCodeAt(h))==55296?(d.charCodeAt(h)-55296)*1024+d.charCodeAt(h+1)-56320+65536:d.charCodeAt(h)),getEscaper(/[&<>'"]/g,rZ),getEscaper(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),getEscaper(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),eC.AREA,eC.BASE,eC.BASEFONT,eC.BGSOUND,eC.BR,eC.COL,eC.EMBED,eC.FRAME,eC.HR,eC.IMG,eC.INPUT,eC.KEYGEN,eC.LINK,eC.META,eC.PARAM,eC.SOURCE,eC.TRACK,eC.WBR;let r0=lib_point("end"),r1=lib_point("start");function lib_point(d){return function(h){let g=h&&h.position&&h.position[d]||{};if("number"==typeof g.line&&g.line>0&&"number"==typeof g.column&&g.column>0)return{line:g.line,column:g.column,offset:"number"==typeof g.offset&&g.offset>-1?g.offset:void 0}}}let convert=function(d){if(null==d)return lib_ok;if("function"==typeof d)return castFactory(d);if("object"==typeof d)return Array.isArray(d)?function(d){let h=[],g=-1;for(;++g<d.length;)h[g]=convert(d[g]);return castFactory(function(...d){let g=-1;for(;++g<h.length;)if(h[g].apply(this,d))return!0;return!1})}(d):castFactory(function(h){let g;for(g in d)if(h[g]!==d[g])return!1;return!0});if("string"==typeof d)return castFactory(function(h){return h&&h.type===d});throw Error("Expected function, string, or object as test")};function castFactory(d){return function(h,g,_){var y;return!!(null!==(y=h)&&"object"==typeof y&&"type"in y&&d.call(this,h,"number"==typeof g?g:void 0,_||void 0))}}function lib_ok(){return!0}let r2=[],r3=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,r4=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),r5={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function raw(d,h){let g=function(d){let h="root"===d.type?d.children[0]:d;return!!(h&&("doctype"===h.type||"element"===h.type&&"html"===h.tagName.toLowerCase()))}(d),_=zwitch("type",{handlers:{root:lib_root,element:hast_util_raw_lib_element,text:hast_util_raw_lib_text,comment:lib_comment,doctype:lib_doctype,raw:handleRaw},unknown}),y={parser:g?new parser_Parser(r5):parser_Parser.getFragmentParser(void 0,r5),handle(d){_(d,y)},stitches:!1,options:h||{}};_(d,y),resetTokenizer(y,r1());let A=g?y.parser.document:y.parser.getFragment(),b=function(d,h){let g=h||{};return one({file:g.file||void 0,location:!1,schema:"svg"===g.space?n6:n5,verbose:g.verbose||!1},d)}(A,{file:y.options.file});if(y.stitches){let d;d=function(d,h,g){if(d.value.stitch&&g&&void 0!==h){let _=g.children;return _[h]=d.value.stitch,h}},function(d,h,g,_){let y;"function"==typeof h&&"function"!=typeof g?(_=g,g=h):y=h;let A=convert(y),b=_?-1:1;(function factory(d,y,k){let w=d&&"object"==typeof d?d:{};if("string"==typeof w.type){let h="string"==typeof w.tagName?w.tagName:"string"==typeof w.name?w.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+d.type+(h?"<"+h+">":"")+")"})}return visit;function visit(){var w;let R,B,H,z=r2;if((!h||A(d,y,k[k.length-1]||void 0))&&!1===(z=Array.isArray(w=g(d,k))?w:"number"==typeof w?[!0,w]:null==w?r2:[w])[0])return z;if("children"in d&&d.children&&d.children&&"skip"!==z[0])for(B=(_?d.children.length:-1)+b,H=k.concat(d);B>-1&&B<d.children.length;){let h=d.children[B];if(!1===(R=factory(h,B,H)())[0])return R;B="number"==typeof R[1]?R[1]:B+b}return z}})(d,void 0,[])()}(b,"comment",function(h,g){let _=g[g.length-1],y=_?_.children.indexOf(h):void 0;return d(h,y,_)},void 0)}return"root"===b.type&&1===b.children.length&&b.children[0].type===d.type?b.children[0]:b}function hast_util_raw_lib_all(d,h){let g=-1;if(d)for(;++g<d.length;)h.handle(d[g])}function lib_root(d,h){hast_util_raw_lib_all(d.children,h)}function hast_util_raw_lib_element(d,h){(function(d,h){let g=d.tagName.toLowerCase();if(h.parser.tokenizer.state===rx.PLAINTEXT)return;resetTokenizer(h,r1(d));let _=h.parser.openElements.current,y="namespaceURI"in _?_.namespaceURI:rc.html;y===rc.html&&"svg"===g&&(y=rc.svg);let A=function(d,h){let g=(h||rp).space;return rm(d,"svg"===g?n6:n5)}({...d,children:[]},{space:y===rc.svg?"svg":"html"}),b={type:eE.START_TAG,tagName:g,tagID:getTagID(g),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in A?A.attrs:[],location:createParse5Location(d)};h.parser.currentToken=b,h.parser._processToken(h.parser.currentToken),h.parser.tokenizer.lastStartTagName=g})(d,h),hast_util_raw_lib_all(d.children,h),function(d,h){let g=d.tagName.toLowerCase();if(!h.parser.tokenizer.inForeignNode&&rg.includes(g)||h.parser.tokenizer.state===rx.PLAINTEXT)return;resetTokenizer(h,r0(d));let _={type:eE.END_TAG,tagName:g,tagID:getTagID(g),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:createParse5Location(d)};h.parser.currentToken=_,h.parser._processToken(h.parser.currentToken),g===h.parser.tokenizer.lastStartTagName&&(h.parser.tokenizer.state===rx.RCDATA||h.parser.tokenizer.state===rx.RAWTEXT||h.parser.tokenizer.state===rx.SCRIPT_DATA)&&(h.parser.tokenizer.state=rx.DATA)}(d,h)}function hast_util_raw_lib_text(d,h){h.parser.tokenizer.state>4&&(h.parser.tokenizer.state=0);let g={type:eE.CHARACTER,chars:d.value,location:createParse5Location(d)};resetTokenizer(h,r1(d)),h.parser.currentToken=g,h.parser._processToken(h.parser.currentToken)}function lib_doctype(d,h){let g={type:eE.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:createParse5Location(d)};resetTokenizer(h,r1(d)),h.parser.currentToken=g,h.parser._processToken(h.parser.currentToken)}function lib_comment(d,h){let g=d.value,_={type:eE.COMMENT,data:g,location:createParse5Location(d)};resetTokenizer(h,r1(d)),h.parser.currentToken=_,h.parser._processToken(h.parser.currentToken)}function handleRaw(d,h){if(h.parser.tokenizer.preprocessor.html="",h.parser.tokenizer.preprocessor.pos=-1,h.parser.tokenizer.preprocessor.lastGapPos=-2,h.parser.tokenizer.preprocessor.gapStack=[],h.parser.tokenizer.preprocessor.skipNextNewLine=!1,h.parser.tokenizer.preprocessor.lastChunkWritten=!1,h.parser.tokenizer.preprocessor.endOfChunkHit=!1,h.parser.tokenizer.preprocessor.isEol=!1,setPoint(h,r1(d)),h.parser.tokenizer.write(h.options.tagfilter?d.value.replace(r3,"&lt;$1$2"):d.value,!1),h.parser.tokenizer._runParsingLoop(),72===h.parser.tokenizer.state||78===h.parser.tokenizer.state){h.parser.tokenizer.preprocessor.lastChunkWritten=!0;let d=h.parser.tokenizer._consume();h.parser.tokenizer._callState(d)}}function unknown(d,h){if(h.options.passThrough&&h.options.passThrough.includes(d.type))!function(d,h){h.stitches=!0;let g="children"in d?nz({...d,children:[]}):nz(d);if("children"in d&&"children"in g){let _=raw({type:"root",children:d.children},h.options);g.children=_.children}lib_comment({type:"comment",value:{stitch:g}},h)}(d,h);else{let h="";throw r4.has(d.type)&&(h=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),Error("Cannot compile `"+d.type+"` node"+h)}}function resetTokenizer(d,h){setPoint(d,h);let g=d.parser.tokenizer.currentCharacterToken;g&&g.location&&(g.location.endLine=d.parser.tokenizer.preprocessor.line,g.location.endCol=d.parser.tokenizer.preprocessor.col+1,g.location.endOffset=d.parser.tokenizer.preprocessor.offset+1,d.parser.currentToken=g,d.parser._processToken(d.parser.currentToken)),d.parser.tokenizer.paused=!1,d.parser.tokenizer.inLoop=!1,d.parser.tokenizer.active=!1,d.parser.tokenizer.returnState=rx.DATA,d.parser.tokenizer.charRefCode=-1,d.parser.tokenizer.consumedAfterSnapshot=-1,d.parser.tokenizer.currentLocation=null,d.parser.tokenizer.currentCharacterToken=null,d.parser.tokenizer.currentToken=null,d.parser.tokenizer.currentAttr={name:"",value:""}}function setPoint(d,h){if(h&&void 0!==h.offset){let g={startLine:h.line,startCol:h.column,startOffset:h.offset,endLine:-1,endCol:-1,endOffset:-1};d.parser.tokenizer.preprocessor.lineStartPos=-h.column+1,d.parser.tokenizer.preprocessor.droppedBufferSize=h.offset,d.parser.tokenizer.preprocessor.line=h.line,d.parser.tokenizer.currentLocation=g}}function createParse5Location(d){let h=r1(d)||{line:void 0,column:void 0,offset:void 0},g=r0(d)||{line:void 0,column:void 0,offset:void 0},_={startLine:h.line,startCol:h.column,startOffset:h.offset,endLine:g.line,endCol:g.column,endOffset:g.offset};return _}function rehypeRaw(d){return function(h,g){let _=raw(h,{...d,file:g});return _}}let r6=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],r8={nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},r9=["cent","copy","divide","gt","lt","not","para","times"],r7={}.hasOwnProperty,ie={};for(y in r8)r7.call(r8,y)&&(ie[r8[y]]=y);function formatSmart(d,h,g){let _,y=function(d,h,g){let _="&#x"+d.toString(16).toUpperCase();return g&&h&&!/[\dA-Fa-f]/.test(String.fromCharCode(h))?_:_+";"}(d,h,g.omitOptionalSemicolons);if((g.useNamedReferences||g.useShortestReferences)&&(_=function(d,h,g,_){let y=String.fromCharCode(d);if(r7.call(ie,y)){let d=ie[y],A="&"+d;return g&&r6.includes(d)&&!r9.includes(d)&&(!_||h&&61!==h&&/[^\da-z]/i.test(String.fromCharCode(h)))?A:A+";"}return""}(d,h,g.omitOptionalSemicolons,g.attribute)),(g.useShortestReferences||!_)&&g.useShortestReferences){let _=function(d,h,g){let _="&#"+String(d);return g&&h&&!/\d/.test(String.fromCharCode(h))?_:_+";"}(d,h,g.omitOptionalSemicolons);_.length<y.length&&(y=_)}return _&&(!g.useShortestReferences||_.length<y.length)?_:y}function stringifyEntities(d,h){return function(d,h){if(d=d.replace(h.subset?function(d){let h=[],g=-1;for(;++g<d.length;)h.push(d[g].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return RegExp("(?:"+h.join("|")+")","g")}(h.subset):/["&'<>`]/g,basic),h.subset||h.escapeOnly)return d;return d.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(d,g,_){return h.format((d.charCodeAt(0)-55296)*1024+d.charCodeAt(1)-56320+65536,_.charCodeAt(g+2),h)}).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,basic);function basic(d,g,_){return h.format(d.charCodeAt(0),_.charCodeAt(g+1),h)}}(d,Object.assign({format:formatSmart},h))}let it=/^>|^->|<!--|-->|--!>|<!-$/g,ir=[">"],io=["<",">"];function ccount(d,h){let g=String(d);if("string"!=typeof h)throw TypeError("Expected character");let _=0,y=g.indexOf(h);for(;-1!==y;)_++,y=g.indexOf(h,y+h.length);return _}let is=/[ \t\n\f\r]/g;function whitespace(d){return"object"==typeof d?"text"===d.type&&lib_empty(d.value):lib_empty(d)}function lib_empty(d){return""===d.replace(is,"")}let il=siblings(1),ic=siblings(-1),iu=[];function siblings(d){return function(h,g,_){let y=h?h.children:iu,A=(g||0)+d,b=y[A];if(!_)for(;b&&whitespace(b);)A+=d,b=y[A];return b}}let id={}.hasOwnProperty;function omission(d){return function(h,g,_){return id.call(d,h.tagName)&&d[h.tagName](h,g,_)}}let ih=omission({body:function(d,h,g){let _=il(g,h);return!_||"comment"!==_.type},caption:headOrColgroupOrCaption,colgroup:headOrColgroupOrCaption,dd:function(d,h,g){let _=il(g,h);return!_||"element"===_.type&&("dt"===_.tagName||"dd"===_.tagName)},dt:function(d,h,g){let _=il(g,h);return!!(_&&"element"===_.type&&("dt"===_.tagName||"dd"===_.tagName))},head:headOrColgroupOrCaption,html:function(d,h,g){let _=il(g,h);return!_||"comment"!==_.type},li:function(d,h,g){let _=il(g,h);return!_||"element"===_.type&&"li"===_.tagName},optgroup:function(d,h,g){let _=il(g,h);return!_||"element"===_.type&&"optgroup"===_.tagName},option:function(d,h,g){let _=il(g,h);return!_||"element"===_.type&&("option"===_.tagName||"optgroup"===_.tagName)},p:function(d,h,g){let _=il(g,h);return _?"element"===_.type&&("address"===_.tagName||"article"===_.tagName||"aside"===_.tagName||"blockquote"===_.tagName||"details"===_.tagName||"div"===_.tagName||"dl"===_.tagName||"fieldset"===_.tagName||"figcaption"===_.tagName||"figure"===_.tagName||"footer"===_.tagName||"form"===_.tagName||"h1"===_.tagName||"h2"===_.tagName||"h3"===_.tagName||"h4"===_.tagName||"h5"===_.tagName||"h6"===_.tagName||"header"===_.tagName||"hgroup"===_.tagName||"hr"===_.tagName||"main"===_.tagName||"menu"===_.tagName||"nav"===_.tagName||"ol"===_.tagName||"p"===_.tagName||"pre"===_.tagName||"section"===_.tagName||"table"===_.tagName||"ul"===_.tagName):!g||!("element"===g.type&&("a"===g.tagName||"audio"===g.tagName||"del"===g.tagName||"ins"===g.tagName||"map"===g.tagName||"noscript"===g.tagName||"video"===g.tagName))},rp:rubyElement,rt:rubyElement,tbody:function(d,h,g){let _=il(g,h);return!_||"element"===_.type&&("tbody"===_.tagName||"tfoot"===_.tagName)},td:cells,tfoot:function(d,h,g){return!il(g,h)},th:cells,thead:function(d,h,g){let _=il(g,h);return!!(_&&"element"===_.type&&("tbody"===_.tagName||"tfoot"===_.tagName))},tr:function(d,h,g){let _=il(g,h);return!_||"element"===_.type&&"tr"===_.tagName}});function headOrColgroupOrCaption(d,h,g){let _=il(g,h,!0);return!_||"comment"!==_.type&&!("text"===_.type&&whitespace(_.value.charAt(0)))}function rubyElement(d,h,g){let _=il(g,h);return!_||"element"===_.type&&("rp"===_.tagName||"rt"===_.tagName)}function cells(d,h,g){let _=il(g,h);return!_||"element"===_.type&&("td"===_.tagName||"th"===_.tagName)}let ip=omission({body:function(d){let h=il(d,-1,!0);return!h||"comment"!==h.type&&!("text"===h.type&&whitespace(h.value.charAt(0)))&&!("element"===h.type&&("meta"===h.tagName||"link"===h.tagName||"script"===h.tagName||"style"===h.tagName||"template"===h.tagName))},colgroup:function(d,h,g){let _=ic(g,h),y=il(d,-1,!0);return!(g&&_&&"element"===_.type&&"colgroup"===_.tagName&&ih(_,g.children.indexOf(_),g))&&!!(y&&"element"===y.type&&"col"===y.tagName)},head:function(d){let h=new Set;for(let g of d.children)if("element"===g.type&&("base"===g.tagName||"title"===g.tagName)){if(h.has(g.tagName))return!1;h.add(g.tagName)}let g=d.children[0];return!g||"element"===g.type},html:function(d){let h=il(d,-1);return!h||"comment"!==h.type},tbody:function(d,h,g){let _=ic(g,h),y=il(d,-1);return!(g&&_&&"element"===_.type&&("thead"===_.tagName||"tbody"===_.tagName)&&ih(_,g.children.indexOf(_),g))&&!!(y&&"element"===y.type&&"tr"===y.tagName)}}),im={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\x00	\n\f\r \"&'/<=>".split(""),"\x00	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\x00	\n\f\r \"&'<=>`".split("")],["\x00	\n\f\r \"&'<=>`".split(""),"\x00	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\x00&'".split(""),"\x00\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\x00"&'.split(""),"\x00\"&'`".split("")]]},ig=["<","&"];function text_text(d,h,g,_){return g&&"element"===g.type&&("script"===g.tagName||"style"===g.tagName)?d.value:stringifyEntities(d.value,Object.assign({},_.settings.characterReferences,{subset:ig}))}let iE=zwitch("type",{invalid:function(d){throw Error("Expected node, not `"+d+"`")},unknown:function(d){throw Error("Cannot compile unknown node `"+d.type+"`")},handlers:{comment:function(d,h,g,_){return _.settings.bogusComments?"<?"+stringifyEntities(d.value,Object.assign({},_.settings.characterReferences,{subset:ir}))+">":"<!--"+d.value.replace(it,function(d){return stringifyEntities(d,Object.assign({},_.settings.characterReferences,{subset:io}))})+"-->"},doctype:function(d,h,g,_){return"<!"+(_.settings.upperDoctype?"DOCTYPE":"doctype")+(_.settings.tightDoctype?"":" ")+"html>"},element:function(d,h,g,_){let y;let A=_.schema,b="svg"!==A.space&&_.settings.omitOptionalTags,k="svg"===A.space?_.settings.closeEmptyElements:_.settings.voids.includes(d.tagName.toLowerCase()),w=[];"html"===A.space&&"svg"===d.tagName&&(_.schema=n6);let R=function(d,h){let g;let _=[],y=-1;if(h){for(g in h)if(null!==h[g]&&void 0!==h[g]){let y=function(d,h,g){let _;let y=find(d.schema,h),A=d.settings.allowParseErrors&&"html"===d.schema.space?0:1,b=d.settings.allowDangerousCharacters?0:1,k=d.quote;if(y.overloadedBoolean&&(g===y.attribute||""===g)?g=!0:(y.boolean||y.overloadedBoolean&&"string"!=typeof g)&&(g=!!g),null==g||!1===g||"number"==typeof g&&Number.isNaN(g))return"";let w=stringifyEntities(y.attribute,Object.assign({},d.settings.characterReferences,{subset:im.name[A][b]}));return!0===g?w:(g=Array.isArray(g)?(y.commaSeparated?comma_separated_tokens_stringify:space_separated_tokens_stringify)(g,{padLeft:!d.settings.tightCommaSeparatedLists}):String(g),d.settings.collapseEmptyAttributes&&!g)?w:(d.settings.preferUnquoted&&(_=stringifyEntities(g,Object.assign({},d.settings.characterReferences,{attribute:!0,subset:im.unquoted[A][b]}))),_!==g&&(d.settings.quoteSmart&&ccount(g,k)>ccount(g,d.alternative)&&(k=d.alternative),_=k+stringifyEntities(g,Object.assign({},d.settings.characterReferences,{subset:("'"===k?im.single:im.double)[A][b],attribute:!0}))+k),w+(_?"="+_:_))}(d,g,h[g]);y&&_.push(y)}}for(;++y<_.length;){let h=d.settings.tightAttributes?_[y].charAt(_[y].length-1):void 0;y!==_.length-1&&'"'!==h&&"'"!==h&&(_[y]+=" ")}return _.join("")}(_,d.properties),B=_.all("html"===A.space&&"template"===d.tagName?d.content:d);return _.schema=A,B&&(k=!1),!R&&b&&ip(d,h,g)||(w.push("<",d.tagName,R?" "+R:""),k&&("svg"===A.space||_.settings.closeSelfClosing)&&(y=R.charAt(R.length-1),(!_.settings.tightSelfClosing||"/"===y||y&&'"'!==y&&"'"!==y)&&w.push(" "),w.push("/")),w.push(">")),w.push(B),k||b&&ih(d,h,g)||w.push("</"+d.tagName+">"),w.join("")},raw:function(d,h,g,_){return _.settings.allowDangerousHtml?d.value:text_text(d,h,g,_)},root:function(d,h,g,_){return _.all(d)},text:text_text}}),i_={},iT={},iv=[];function hast_util_to_html_lib_one(d,h,g){return iE(d,h,g,this)}function hast_util_to_html_lib_all(d){let h=[],g=d&&d.children||iv,_=-1;for(;++_<g.length;)h[_]=this.one(g[_],_,d);return h.join("")}function rehypeStringify(d){let h={...this.data("settings"),...d};this.compiler=function(d){return function(d,h){let g=h||i_,_=g.quote||'"';if('"'!==_&&"'"!==_)throw Error("Invalid quote `"+_+"`, expected `'` or `\"`");let y={one:hast_util_to_html_lib_one,all:hast_util_to_html_lib_all,settings:{omitOptionalTags:g.omitOptionalTags||!1,allowParseErrors:g.allowParseErrors||!1,allowDangerousCharacters:g.allowDangerousCharacters||!1,quoteSmart:g.quoteSmart||!1,preferUnquoted:g.preferUnquoted||!1,tightAttributes:g.tightAttributes||!1,upperDoctype:g.upperDoctype||!1,tightDoctype:g.tightDoctype||!1,bogusComments:g.bogusComments||!1,tightCommaSeparatedLists:g.tightCommaSeparatedLists||!1,tightSelfClosing:g.tightSelfClosing||!1,collapseEmptyAttributes:g.collapseEmptyAttributes||!1,allowDangerousHtml:g.allowDangerousHtml||!1,voids:g.voids||rg,characterReferences:g.characterReferences||iT,closeSelfClosing:g.closeSelfClosing||!1,closeEmptyElements:g.closeEmptyElements||!1},schema:"svg"===g.space?n6:n5,quote:_,alternative:'"'===_?"'":'"'};return y.one(Array.isArray(d)?{type:"root",children:d}:d,void 0,void 0)}(d,h)}}let iy=regexCheck(/[A-Za-z]/),iA=regexCheck(/[\dA-Za-z]/),ib=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(d){return null!==d&&(d<32||127===d)}let iS=regexCheck(/\d/),ik=regexCheck(/[\dA-Fa-f]/),iC=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(d){return null!==d&&d<-2}function markdownLineEndingOrSpace(d){return null!==d&&(d<0||32===d)}function markdownSpace(d){return -2===d||-1===d||32===d}let ix=regexCheck(/\p{P}|\p{S}/u),iI=regexCheck(/\s/);function regexCheck(d){return function(h){return null!==h&&h>-1&&d.test(String.fromCharCode(h))}}let lib_convert=function(d){if(null==d)return unist_util_is_lib_ok;if("function"==typeof d)return lib_castFactory(d);if("object"==typeof d)return Array.isArray(d)?function(d){let h=[],g=-1;for(;++g<d.length;)h[g]=lib_convert(d[g]);return lib_castFactory(function(...d){let g=-1;for(;++g<h.length;)if(h[g].apply(this,d))return!0;return!1})}(d):lib_castFactory(function(h){let g;for(g in d)if(h[g]!==d[g])return!1;return!0});if("string"==typeof d)return lib_castFactory(function(h){return h&&h.type===d});throw Error("Expected function, string, or object as test")};function lib_castFactory(d){return function(h,g,_){var y;return!!(null!==(y=h)&&"object"==typeof y&&"type"in y&&d.call(this,h,"number"==typeof g?g:void 0,_||void 0))}}function unist_util_is_lib_ok(){return!0}let iw=[];function lib_visitParents(d,h,g,_){let y;"function"==typeof h&&"function"!=typeof g?(_=g,g=h):y=h;let A=lib_convert(y),b=_?-1:1;(function factory(d,y,k){let w=d&&"object"==typeof d?d:{};if("string"==typeof w.type){let h="string"==typeof w.tagName?w.tagName:"string"==typeof w.name?w.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+d.type+(h?"<"+h+">":"")+")"})}return visit;function visit(){var w;let R,B,H,z=iw;if((!h||A(d,y,k[k.length-1]||void 0))&&!1===(z=Array.isArray(w=g(d,k))?w:"number"==typeof w?[!0,w]:null==w?iw:[w])[0])return z;if("children"in d&&d.children&&d.children&&"skip"!==z[0])for(B=(_?d.children.length:-1)+b,H=k.concat(d);B>-1&&B<d.children.length;){let h=d.children[B];if(!1===(R=factory(h,B,H)())[0])return R;B="number"==typeof R[1]?R[1]:B+b}return z}})(d,void 0,[])()}let iO="phrasing",iN=["autolink","link","image","label"];function enterLiteralAutolink(d){this.enter({type:"link",title:null,url:"",children:[]},d)}function enterLiteralAutolinkValue(d){this.config.enter.autolinkProtocol.call(this,d)}function exitLiteralAutolinkHttp(d){this.config.exit.autolinkProtocol.call(this,d)}function exitLiteralAutolinkWww(d){this.config.exit.data.call(this,d);let h=this.stack[this.stack.length-1];h.type,h.url="http://"+this.sliceSerialize(d)}function exitLiteralAutolinkEmail(d){this.config.exit.autolinkEmail.call(this,d)}function exitLiteralAutolink(d){this.exit(d)}function transformGfmAutolinkLiterals(d){!function(d,h,g){let _=lib_convert((g||{}).ignore||[]),y=function(d){let h=[];if(!Array.isArray(d))throw TypeError("Expected find and replace tuple or list of tuples");let g=!d[0]||Array.isArray(d[0])?d:[d],_=-1;for(;++_<g.length;){var y;let d=g[_];h.push(["string"==typeof(y=d[0])?RegExp(function(d){if("string"!=typeof d)throw TypeError("Expected a string");return d.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(y),"g"):y,function(d){return"function"==typeof d?d:function(){return d}}(d[1])])}return h}(h),A=-1;for(;++A<y.length;)lib_visitParents(d,"text",visitor);function visitor(d,h){let g,b=-1;for(;++b<h.length;){let d=h[b],y=g?g.children:void 0;if(_(d,y?y.indexOf(d):void 0,g))return;g=d}if(g)return function(d,h){let g=h[h.length-1],_=y[A][0],b=y[A][1],k=0,w=g.children,R=w.indexOf(d),B=!1,H=[];_.lastIndex=0;let z=_.exec(d.value);for(;z;){let g=z.index,y={index:z.index,input:z.input,stack:[...h,d]},A=b(...z,y);if("string"==typeof A&&(A=A.length>0?{type:"text",value:A}:void 0),!1===A?_.lastIndex=g+1:(k!==g&&H.push({type:"text",value:d.value.slice(k,g)}),Array.isArray(A)?H.push(...A):A&&H.push(A),k=g+z[0].length,B=!0),!_.global)break;z=_.exec(d.value)}return B?(k<d.value.length&&H.push({type:"text",value:d.value.slice(k)}),g.children.splice(R,1,...H)):H=[d],R+H.length}(d,h)}}(d,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,findEmail]],{ignore:["link","linkReference"]})}function findUrl(d,h,g,_,y){let A="";if(!previous(y)||(/^w/i.test(h)&&(g=h+g,h="",A="http://"),!function(d){let h=d.split(".");return!(h.length<2||h[h.length-1]&&(/_/.test(h[h.length-1])||!/[a-zA-Z\d]/.test(h[h.length-1]))||h[h.length-2]&&(/_/.test(h[h.length-2])||!/[a-zA-Z\d]/.test(h[h.length-2])))}(g)))return!1;let b=function(d){let h=/[!"&'),.:;<>?\]}]+$/.exec(d);if(!h)return[d,void 0];d=d.slice(0,h.index);let g=h[0],_=g.indexOf(")"),y=ccount(d,"("),A=ccount(d,")");for(;-1!==_&&y>A;)d+=g.slice(0,_+1),_=(g=g.slice(_+1)).indexOf(")"),A++;return[d,g]}(g+_);if(!b[0])return!1;let k={type:"link",title:null,url:A+h+b[0],children:[{type:"text",value:h+b[0]}]};return b[1]?[k,{type:"text",value:b[1]}]:k}function findEmail(d,h,g,_){return!(!previous(_,!0)||/[-\d_]$/.test(g))&&{type:"link",title:null,url:"mailto:"+h+"@"+g,children:[{type:"text",value:h+"@"+g}]}}function previous(d,h){let g=d.input.charCodeAt(d.index-1);return(0===d.index||iI(g)||ix(g))&&(!h||47!==g)}function normalizeIdentifier(d){return d.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function enterFootnoteDefinition(d){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},d)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(d){let h=this.resume(),g=this.stack[this.stack.length-1];g.type,g.label=h,g.identifier=normalizeIdentifier(this.sliceSerialize(d)).toLowerCase()}function exitFootnoteDefinition(d){this.exit(d)}function enterFootnoteCall(d){this.enter({type:"footnoteReference",identifier:"",label:""},d)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(d){let h=this.resume(),g=this.stack[this.stack.length-1];g.type,g.label=h,g.identifier=normalizeIdentifier(this.sliceSerialize(d)).toLowerCase()}function exitFootnoteCall(d){this.exit(d)}function footnoteReference(d,h,g,_){let y=g.createTracker(_),A=y.move("[^"),b=g.enter("footnoteReference"),k=g.enter("reference");return A+=y.move(g.safe(g.associationId(d),{...y.current(),before:A,after:"]"})),k(),b(),A+=y.move("]")}function footnoteDefinition(d,h,g,_){let y=g.createTracker(_),A=y.move("[^"),b=g.enter("footnoteDefinition"),k=g.enter("label");return A+=y.move(g.safe(g.associationId(d),{...y.current(),before:A,after:"]"})),k(),A+=y.move("]:"+(d.children&&d.children.length>0?" ":"")),y.shift(4),A+=y.move(g.indentLines(g.containerFlow(d,y.current()),map)),b(),A}function map(d,h,g){return 0===h?d:(g?"":"    ")+d}footnoteReference.peek=function(){return"["};let iR=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function enterStrikethrough(d){this.enter({type:"delete",children:[]},d)}function exitStrikethrough(d){this.exit(d)}function handleDelete(d,h,g,_){let y=g.createTracker(_),A=g.enter("strikethrough"),b=y.move("~~");return b+=g.containerPhrasing(d,{...y.current(),before:b,after:"~"})+y.move("~~"),A(),b}function defaultStringLength(d){return d.length}function toAlignment(d){let h="string"==typeof d?d.codePointAt(0):0;return 67===h||99===h?99:76===h||108===h?108:82===h||114===h?114:0}function blockquote_map(d,h,g){return">"+(g?"":" ")+d}function listInScope(d,h,g){if("string"==typeof h&&(h=[h]),!h||0===h.length)return g;let _=-1;for(;++_<h.length;)if(d.includes(h[_]))return!0;return!1}function hardBreak(d,h,g,_){let y=-1;for(;++y<g.unsafe.length;){var A,b;if("\n"===g.unsafe[y].character&&listInScope(A=g.stack,(b=g.unsafe[y]).inConstruct,!0)&&!listInScope(A,b.notInConstruct,!1))return/[ \t]/.test(_.before)?"":" "}return"\\\n"}function code_map(d,h,g){return(g?"":"    ")+d}function checkQuote(d){let h=d.options.quote||'"';if('"'!==h&&"'"!==h)throw Error("Cannot serialize title with `"+h+"` for `options.quote`, expected `\"`, or `'`");return h}function encodeCharacterReference(d){return"&#x"+d.toString(16).toUpperCase()+";"}function classifyCharacter(d){return null===d||markdownLineEndingOrSpace(d)||iI(d)?1:ix(d)?2:void 0}function encodeInfo(d,h,g){let _=classifyCharacter(d),y=classifyCharacter(h);return void 0===_?void 0===y?"_"===g?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===y?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===_?void 0===y?{inside:!1,outside:!1}:1===y?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===y?{inside:!1,outside:!1}:1===y?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function emphasis(d,h,g,_){let y=function(d){let h=d.options.emphasis||"*";if("*"!==h&&"_"!==h)throw Error("Cannot serialize emphasis with `"+h+"` for `options.emphasis`, expected `*`, or `_`");return h}(g),A=g.enter("emphasis"),b=g.createTracker(_),k=b.move(y),w=b.move(g.containerPhrasing(d,{after:y,before:k,...b.current()})),R=w.charCodeAt(0),B=encodeInfo(_.before.charCodeAt(_.before.length-1),R,y);B.inside&&(w=encodeCharacterReference(R)+w.slice(1));let H=w.charCodeAt(w.length-1),z=encodeInfo(_.after.charCodeAt(0),H,y);z.inside&&(w=w.slice(0,-1)+encodeCharacterReference(H));let $=b.move(y);return A(),g.attentionEncodeSurroundingInfo={after:z.outside,before:B.outside},k+w+$}function lib_visit(d,h,g,_){let y,A,b;"function"==typeof h&&"function"!=typeof g?(A=void 0,b=h,y=g):(A=h,b=g,y=_),lib_visitParents(d,A,function(d,h){let g=h[h.length-1],_=g?g.children.indexOf(d):void 0;return b(d,_,g)},y)}handleDelete.peek=function(){return"~"},emphasis.peek=function(d,h,g){return g.options.emphasis||"*"};let iD={};function lib_toString(d,h){let g=h||iD,_="boolean"!=typeof g.includeImageAlt||g.includeImageAlt,y="boolean"!=typeof g.includeHtml||g.includeHtml;return mdast_util_to_string_lib_one(d,_,y)}function mdast_util_to_string_lib_one(d,h,g){if(d&&"object"==typeof d){if("value"in d)return"html"!==d.type||g?d.value:"";if(h&&"alt"in d&&d.alt)return d.alt;if("children"in d)return mdast_util_to_string_lib_all(d.children,h,g)}return Array.isArray(d)?mdast_util_to_string_lib_all(d,h,g):""}function mdast_util_to_string_lib_all(d,h,g){let _=[],y=-1;for(;++y<d.length;)_[y]=mdast_util_to_string_lib_one(d[y],h,g);return _.join("")}function html_html(d){return d.value||""}function image_image(d,h,g,_){let y=checkQuote(g),A='"'===y?"Quote":"Apostrophe",b=g.enter("image"),k=g.enter("label"),w=g.createTracker(_),R=w.move("![");return R+=w.move(g.safe(d.alt,{before:R,after:"]",...w.current()}))+w.move("]("),k(),!d.url&&d.title||/[\0- \u007F]/.test(d.url)?(k=g.enter("destinationLiteral"),R+=w.move("<"),R+=w.move(g.safe(d.url,{before:R,after:">",...w.current()}))+w.move(">")):(k=g.enter("destinationRaw"),R+=w.move(g.safe(d.url,{before:R,after:d.title?" ":")",...w.current()}))),k(),d.title&&(k=g.enter(`title${A}`),R+=w.move(" "+y),R+=w.move(g.safe(d.title,{before:R,after:y,...w.current()}))+w.move(y),k()),R+=w.move(")"),b(),R}function imageReference(d,h,g,_){let y=d.referenceType,A=g.enter("imageReference"),b=g.enter("label"),k=g.createTracker(_),w=k.move("!["),R=g.safe(d.alt,{before:w,after:"]",...k.current()});w+=k.move(R+"]["),b();let B=g.stack;g.stack=[],b=g.enter("reference");let H=g.safe(g.associationId(d),{before:w,after:"]",...k.current()});return b(),g.stack=B,A(),"full"!==y&&R&&R===H?"shortcut"===y?w=w.slice(0,-1):w+=k.move("]"):w+=k.move(H+"]"),w}function inlineCode(d,h,g){let _=d.value||"",y="`",A=-1;for(;RegExp("(^|[^`])"+y+"([^`]|$)").test(_);)y+="`";for(/[^ \r\n]/.test(_)&&(/^[ \r\n]/.test(_)&&/[ \r\n]$/.test(_)||/^`|`$/.test(_))&&(_=" "+_+" ");++A<g.unsafe.length;){let d;let h=g.unsafe[A],y=g.compilePattern(h);if(h.atBreak)for(;d=y.exec(_);){let h=d.index;10===_.charCodeAt(h)&&13===_.charCodeAt(h-1)&&h--,_=_.slice(0,h)+" "+_.slice(d.index+1)}}return y+_+y}function formatLinkAsAutolink(d,h){let g=lib_toString(d);return!!(!h.options.resourceLink&&d.url&&!d.title&&d.children&&1===d.children.length&&"text"===d.children[0].type&&(g===d.url||"mailto:"+g===d.url)&&/^[a-z][a-z+.-]+:/i.test(d.url)&&!/[\0- <>\u007F]/.test(d.url))}function link_link(d,h,g,_){let y,A;let b=checkQuote(g),k='"'===b?"Quote":"Apostrophe",w=g.createTracker(_);if(formatLinkAsAutolink(d,g)){let h=g.stack;g.stack=[],y=g.enter("autolink");let _=w.move("<");return _+=w.move(g.containerPhrasing(d,{before:_,after:">",...w.current()}))+w.move(">"),y(),g.stack=h,_}y=g.enter("link"),A=g.enter("label");let R=w.move("[");return R+=w.move(g.containerPhrasing(d,{before:R,after:"](",...w.current()}))+w.move("]("),A(),!d.url&&d.title||/[\0- \u007F]/.test(d.url)?(A=g.enter("destinationLiteral"),R+=w.move("<"),R+=w.move(g.safe(d.url,{before:R,after:">",...w.current()}))+w.move(">")):(A=g.enter("destinationRaw"),R+=w.move(g.safe(d.url,{before:R,after:d.title?" ":")",...w.current()}))),A(),d.title&&(A=g.enter(`title${k}`),R+=w.move(" "+b),R+=w.move(g.safe(d.title,{before:R,after:b,...w.current()}))+w.move(b),A()),R+=w.move(")"),y(),R}function linkReference(d,h,g,_){let y=d.referenceType,A=g.enter("linkReference"),b=g.enter("label"),k=g.createTracker(_),w=k.move("["),R=g.containerPhrasing(d,{before:w,after:"]",...k.current()});w+=k.move(R+"]["),b();let B=g.stack;g.stack=[],b=g.enter("reference");let H=g.safe(g.associationId(d),{before:w,after:"]",...k.current()});return b(),g.stack=B,A(),"full"!==y&&R&&R===H?"shortcut"===y?w=w.slice(0,-1):w+=k.move("]"):w+=k.move(H+"]"),w}function checkBullet(d){let h=d.options.bullet||"*";if("*"!==h&&"+"!==h&&"-"!==h)throw Error("Cannot serialize items with `"+h+"` for `options.bullet`, expected `*`, `+`, or `-`");return h}function checkRule(d){let h=d.options.rule||"*";if("*"!==h&&"-"!==h&&"_"!==h)throw Error("Cannot serialize rules with `"+h+"` for `options.rule`, expected `*`, `-`, or `_`");return h}html_html.peek=function(){return"<"},image_image.peek=function(){return"!"},imageReference.peek=function(){return"!"},inlineCode.peek=function(){return"`"},link_link.peek=function(d,h,g){return formatLinkAsAutolink(d,g)?"<":"["},linkReference.peek=function(){return"["};let iL=lib_convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function strong(d,h,g,_){let y=function(d){let h=d.options.strong||"*";if("*"!==h&&"_"!==h)throw Error("Cannot serialize strong with `"+h+"` for `options.strong`, expected `*`, or `_`");return h}(g),A=g.enter("strong"),b=g.createTracker(_),k=b.move(y+y),w=b.move(g.containerPhrasing(d,{after:y,before:k,...b.current()})),R=w.charCodeAt(0),B=encodeInfo(_.before.charCodeAt(_.before.length-1),R,y);B.inside&&(w=encodeCharacterReference(R)+w.slice(1));let H=w.charCodeAt(w.length-1),z=encodeInfo(_.after.charCodeAt(0),H,y);z.inside&&(w=w.slice(0,-1)+encodeCharacterReference(H));let $=b.move(y+y);return A(),g.attentionEncodeSurroundingInfo={after:z.outside,before:B.outside},k+w+$}strong.peek=function(d,h,g){return g.options.strong||"*"};let iM={blockquote:function(d,h,g,_){let y=g.enter("blockquote"),A=g.createTracker(_);A.move("> "),A.shift(2);let b=g.indentLines(g.containerFlow(d,A.current()),blockquote_map);return y(),b},break:hardBreak,code:function(d,h,g,_){let y=function(d){let h=d.options.fence||"`";if("`"!==h&&"~"!==h)throw Error("Cannot serialize code with `"+h+"` for `options.fence`, expected `` ` `` or `~`");return h}(g),A=d.value||"",b="`"===y?"GraveAccent":"Tilde";if(!1===g.options.fences&&d.value&&!d.lang&&/[^ \r\n]/.test(d.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(d.value)){let d=g.enter("codeIndented"),h=g.indentLines(A,code_map);return d(),h}let k=g.createTracker(_),w=y.repeat(Math.max(function(d,h){let g=String(d),_=g.indexOf(h),y=_,A=0,b=0;if("string"!=typeof h)throw TypeError("Expected substring");for(;-1!==_;)_===y?++A>b&&(b=A):A=1,y=_+h.length,_=g.indexOf(h,y);return b}(A,y)+1,3)),R=g.enter("codeFenced"),B=k.move(w);if(d.lang){let h=g.enter(`codeFencedLang${b}`);B+=k.move(g.safe(d.lang,{before:B,after:" ",encode:["`"],...k.current()})),h()}if(d.lang&&d.meta){let h=g.enter(`codeFencedMeta${b}`);B+=k.move(" "),B+=k.move(g.safe(d.meta,{before:B,after:"\n",encode:["`"],...k.current()})),h()}return B+=k.move("\n"),A&&(B+=k.move(A+"\n")),B+=k.move(w),R(),B},definition:function(d,h,g,_){let y=checkQuote(g),A='"'===y?"Quote":"Apostrophe",b=g.enter("definition"),k=g.enter("label"),w=g.createTracker(_),R=w.move("[");return R+=w.move(g.safe(g.associationId(d),{before:R,after:"]",...w.current()}))+w.move("]: "),k(),!d.url||/[\0- \u007F]/.test(d.url)?(k=g.enter("destinationLiteral"),R+=w.move("<"),R+=w.move(g.safe(d.url,{before:R,after:">",...w.current()}))+w.move(">")):(k=g.enter("destinationRaw"),R+=w.move(g.safe(d.url,{before:R,after:d.title?" ":"\n",...w.current()}))),k(),d.title&&(k=g.enter(`title${A}`),R+=w.move(" "+y),R+=w.move(g.safe(d.title,{before:R,after:y,...w.current()}))+w.move(y),k()),b(),R},emphasis:emphasis,hardBreak:hardBreak,heading:function(d,h,g,_){let y;let A=Math.max(Math.min(6,d.depth||1),1),b=g.createTracker(_);if(y=!1,lib_visit(d,function(d){if("value"in d&&/\r?\n|\r/.test(d.value)||"break"===d.type)return y=!0,!1}),(!d.depth||d.depth<3)&&lib_toString(d)&&(g.options.setext||y)){let h=g.enter("headingSetext"),_=g.enter("phrasing"),y=g.containerPhrasing(d,{...b.current(),before:"\n",after:"\n"});return _(),h(),y+"\n"+(1===A?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf("\n"))+1))}let k="#".repeat(A),w=g.enter("headingAtx"),R=g.enter("phrasing");b.move(k+" ");let B=g.containerPhrasing(d,{before:"# ",after:"\n",...b.current()});return/^[\t ]/.test(B)&&(B=encodeCharacterReference(B.charCodeAt(0))+B.slice(1)),B=B?k+" "+B:k,g.options.closeAtx&&(B+=" "+k),R(),w(),B},html:html_html,image:image_image,imageReference:imageReference,inlineCode:inlineCode,link:link_link,linkReference:linkReference,list:function(d,h,g,_){let y=g.enter("list"),A=g.bulletCurrent,b=d.ordered?function(d){let h=d.options.bulletOrdered||".";if("."!==h&&")"!==h)throw Error("Cannot serialize items with `"+h+"` for `options.bulletOrdered`, expected `.` or `)`");return h}(g):checkBullet(g),k=d.ordered?"."===b?")":".":function(d){let h=checkBullet(d),g=d.options.bulletOther;if(!g)return"*"===h?"-":"*";if("*"!==g&&"+"!==g&&"-"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(g===h)throw Error("Expected `bullet` (`"+h+"`) and `bulletOther` (`"+g+"`) to be different");return g}(g),w=!!h&&!!g.bulletLastUsed&&b===g.bulletLastUsed;if(!d.ordered){let h=d.children?d.children[0]:void 0;if("*"!==b&&"-"!==b||!h||h.children&&h.children[0]||"list"!==g.stack[g.stack.length-1]||"listItem"!==g.stack[g.stack.length-2]||"list"!==g.stack[g.stack.length-3]||"listItem"!==g.stack[g.stack.length-4]||0!==g.indexStack[g.indexStack.length-1]||0!==g.indexStack[g.indexStack.length-2]||0!==g.indexStack[g.indexStack.length-3]||(w=!0),checkRule(g)===b&&h){let h=-1;for(;++h<d.children.length;){let g=d.children[h];if(g&&"listItem"===g.type&&g.children&&g.children[0]&&"thematicBreak"===g.children[0].type){w=!0;break}}}}w&&(b=k),g.bulletCurrent=b;let R=g.containerFlow(d,_);return g.bulletLastUsed=b,g.bulletCurrent=A,y(),R},listItem:function(d,h,g,_){let y=function(d){let h=d.options.listItemIndent||"one";if("tab"!==h&&"one"!==h&&"mixed"!==h)throw Error("Cannot serialize items with `"+h+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return h}(g),A=g.bulletCurrent||checkBullet(g);h&&"list"===h.type&&h.ordered&&(A=("number"==typeof h.start&&h.start>-1?h.start:1)+(!1===g.options.incrementListMarker?0:h.children.indexOf(d))+A);let b=A.length+1;("tab"===y||"mixed"===y&&(h&&"list"===h.type&&h.spread||d.spread))&&(b=4*Math.ceil(b/4));let k=g.createTracker(_);k.move(A+" ".repeat(b-A.length)),k.shift(b);let w=g.enter("listItem"),R=g.indentLines(g.containerFlow(d,k.current()),function(d,h,g){return h?(g?"":" ".repeat(b))+d:(g?A:A+" ".repeat(b-A.length))+d});return w(),R},paragraph:function(d,h,g,_){let y=g.enter("paragraph"),A=g.enter("phrasing"),b=g.containerPhrasing(d,_);return A(),y(),b},root:function(d,h,g,_){let y=d.children.some(function(d){return iL(d)}),A=y?g.containerPhrasing:g.containerFlow;return A.call(g,d,_)},strong:strong,text:function(d,h,g,_){return g.safe(d.value,_)},thematicBreak:function(d,h,g){let _=(checkRule(g)+(g.options.ruleSpaces?" ":"")).repeat(function(d){let h=d.options.ruleRepetition||3;if(h<3)throw Error("Cannot serialize rules with repetition `"+h+"` for `options.ruleRepetition`, expected `3` or more");return h}(g));return g.options.ruleSpaces?_.slice(0,-1):_}};function enterTable(d){let h=d._align;this.enter({type:"table",align:h.map(function(d){return"none"===d?null:d}),children:[]},d),this.data.inTable=!0}function exitTable(d){this.exit(d),this.data.inTable=void 0}function enterRow(d){this.enter({type:"tableRow",children:[]},d)}function exit(d){this.exit(d)}function enterCell(d){this.enter({type:"tableCell",children:[]},d)}function exitCodeText(d){let h=this.resume();this.data.inTable&&(h=h.replace(/\\([\\|])/g,replace));let g=this.stack[this.stack.length-1];g.type,g.value=h,this.exit(d)}function replace(d,h){return"|"===h?h:d}function exitCheck(d){let h=this.stack[this.stack.length-2];h.type,h.checked="taskListCheckValueChecked"===d.type}function exitParagraphWithTaskListItem(d){let h=this.stack[this.stack.length-2];if(h&&"listItem"===h.type&&"boolean"==typeof h.checked){let d=this.stack[this.stack.length-1];d.type;let g=d.children[0];if(g&&"text"===g.type){let _;let y=h.children,A=-1;for(;++A<y.length;){let d=y[A];if("paragraph"===d.type){_=d;break}}_===d&&(g.value=g.value.slice(1),0===g.value.length?d.children.shift():d.position&&g.position&&"number"==typeof g.position.start.offset&&(g.position.start.column++,g.position.start.offset++,d.position.start=Object.assign({},g.position.start)))}}this.exit(d)}function listItemWithTaskListItem(d,h,g,_){let y=d.children[0],A="boolean"==typeof d.checked&&y&&"paragraph"===y.type,b="["+(d.checked?"x":" ")+"] ",k=g.createTracker(_);A&&k.move(b);let w=iM.listItem(d,h,g,{..._,...k.current()});return A&&(w=w.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(d){return d+b})),w}function splice(d,h,g,_){let y;let A=d.length,b=0;if(h=h<0?-h>A?0:A+h:h>A?A:h,g=g>0?g:0,_.length<1e4)(y=Array.from(_)).unshift(h,g),d.splice(...y);else for(g&&d.splice(h,g);b<_.length;)(y=_.slice(b,b+1e4)).unshift(h,0),d.splice(...y),b+=1e4,h+=1e4}function push(d,h){return d.length>0?(splice(d,d.length,0,h),d):h}let iP={}.hasOwnProperty;function combineExtensions(d){let h={},g=-1;for(;++g<d.length;)!function(d,h){let g;for(g in h){let _;let y=iP.call(d,g)?d[g]:void 0,A=y||(d[g]={}),b=h[g];if(b)for(_ in b){iP.call(A,_)||(A[_]=[]);let d=b[_];!function(d,h){let g=-1,_=[];for(;++g<h.length;)("after"===h[g].add?d:_).push(h[g]);splice(d,0,0,_)}(A[_],Array.isArray(d)?d:d?[d]:[])}}}(h,d[g]);return h}let iF={tokenize:function(d,h,g){let _=0;return function wwwPrefixInside(h){return(87===h||119===h)&&_<3?(_++,d.consume(h),wwwPrefixInside):46===h&&3===_?(d.consume(h),wwwPrefixAfter):g(h)};function wwwPrefixAfter(d){return null===d?g(d):h(d)}},partial:!0},iB={tokenize:function(d,h,g){let _,y,A;return domainInside;function domainInside(h){return 46===h||95===h?d.check(iH,domainAfter,domainAtPunctuation)(h):null===h||markdownLineEndingOrSpace(h)||iI(h)||45!==h&&ix(h)?domainAfter(h):(A=!0,d.consume(h),domainInside)}function domainAtPunctuation(h){return 95===h?_=!0:(y=_,_=void 0),d.consume(h),domainInside}function domainAfter(d){return y||_||!A?g(d):h(d)}},partial:!0},iU={tokenize:function(d,h){let g=0,_=0;return pathInside;function pathInside(y){return 40===y?(g++,d.consume(y),pathInside):41===y&&_<g?pathAtPunctuation(y):33===y||34===y||38===y||39===y||41===y||42===y||44===y||46===y||58===y||59===y||60===y||63===y||93===y||95===y||126===y?d.check(iH,h,pathAtPunctuation)(y):null===y||markdownLineEndingOrSpace(y)||iI(y)?h(y):(d.consume(y),pathInside)}function pathAtPunctuation(h){return 41===h&&_++,d.consume(h),pathInside}},partial:!0},iH={tokenize:function(d,h,g){return trail;function trail(_){return 33===_||34===_||39===_||41===_||42===_||44===_||46===_||58===_||59===_||63===_||95===_||126===_?(d.consume(_),trail):38===_?(d.consume(_),trailCharacterReferenceStart):93===_?(d.consume(_),trailBracketAfter):60===_||null===_||markdownLineEndingOrSpace(_)||iI(_)?h(_):g(_)}function trailBracketAfter(d){return null===d||40===d||91===d||markdownLineEndingOrSpace(d)||iI(d)?h(d):trail(d)}function trailCharacterReferenceStart(h){return iy(h)?function trailCharacterReferenceInside(h){return 59===h?(d.consume(h),trail):iy(h)?(d.consume(h),trailCharacterReferenceInside):g(h)}(h):g(h)}},partial:!0},iG={tokenize:function(d,h,g){return function(h){return d.consume(h),after};function after(d){return iA(d)?g(d):h(d)}},partial:!0},iz={name:"wwwAutolink",tokenize:function(d,h,g){let _=this;return function(h){return 87!==h&&119!==h||!previousWww.call(_,_.previous)||previousUnbalanced(_.events)?g(h):(d.enter("literalAutolink"),d.enter("literalAutolinkWww"),d.check(iF,d.attempt(iB,d.attempt(iU,wwwAfter),g),g)(h))};function wwwAfter(g){return d.exit("literalAutolinkWww"),d.exit("literalAutolink"),h(g)}},previous:previousWww},iV={name:"protocolAutolink",tokenize:function(d,h,g){let _=this,y="",A=!1;return function(h){return(72===h||104===h)&&previousProtocol.call(_,_.previous)&&!previousUnbalanced(_.events)?(d.enter("literalAutolink"),d.enter("literalAutolinkHttp"),y+=String.fromCodePoint(h),d.consume(h),protocolPrefixInside):g(h)};function protocolPrefixInside(h){if(iy(h)&&y.length<5)return y+=String.fromCodePoint(h),d.consume(h),protocolPrefixInside;if(58===h){let g=y.toLowerCase();if("http"===g||"https"===g)return d.consume(h),protocolSlashesInside}return g(h)}function protocolSlashesInside(h){return 47===h?(d.consume(h),A)?afterProtocol:(A=!0,protocolSlashesInside):g(h)}function afterProtocol(h){return null===h||asciiControl(h)||markdownLineEndingOrSpace(h)||iI(h)||ix(h)?g(h):d.attempt(iB,d.attempt(iU,protocolAfter),g)(h)}function protocolAfter(g){return d.exit("literalAutolinkHttp"),d.exit("literalAutolink"),h(g)}},previous:previousProtocol},i$={name:"emailAutolink",tokenize:function(d,h,g){let _,y;let A=this;return function(h){return!gfmAtext(h)||!previousEmail.call(A,A.previous)||previousUnbalanced(A.events)?g(h):(d.enter("literalAutolink"),d.enter("literalAutolinkEmail"),function atext(h){return gfmAtext(h)?(d.consume(h),atext):64===h?(d.consume(h),emailDomain):g(h)}(h))};function emailDomain(h){return 46===h?d.check(iG,emailDomainAfter,emailDomainDot)(h):45===h||95===h||iA(h)?(y=!0,d.consume(h),emailDomain):emailDomainAfter(h)}function emailDomainDot(h){return d.consume(h),_=!0,emailDomain}function emailDomainAfter(b){return y&&_&&iy(A.previous)?(d.exit("literalAutolinkEmail"),d.exit("literalAutolink"),h(b)):g(b)}},previous:previousEmail},iQ={},ij=48;for(;ij<123;)iQ[ij]=i$,58==++ij?ij=65:91===ij&&(ij=97);function previousWww(d){return null===d||40===d||42===d||95===d||91===d||93===d||126===d||markdownLineEndingOrSpace(d)}function previousProtocol(d){return!iy(d)}function previousEmail(d){return!(47===d||gfmAtext(d))}function gfmAtext(d){return 43===d||45===d||46===d||95===d||iA(d)}function previousUnbalanced(d){let h=d.length,g=!1;for(;h--;){let _=d[h][1];if(("labelLink"===_.type||"labelImage"===_.type)&&!_._balanced){g=!0;break}if(_._gfmAutolinkLiteralWalkedInto){g=!1;break}}return d.length>0&&!g&&(d[d.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),g}function factorySpace(d,h,g,_){let y=_?_-1:Number.POSITIVE_INFINITY,A=0;return function(_){return markdownSpace(_)?(d.enter(g),function prefix(_){return markdownSpace(_)&&A++<y?(d.consume(_),prefix):(d.exit(g),h(_))}(_)):h(_)}}iQ[43]=i$,iQ[45]=i$,iQ[46]=i$,iQ[95]=i$,iQ[72]=[i$,iV],iQ[104]=[i$,iV],iQ[87]=[i$,iz],iQ[119]=[i$,iz];let iY={partial:!0,tokenize:function(d,h,g){return function(h){return markdownSpace(h)?factorySpace(d,after,"linePrefix")(h):after(h)};function after(d){return null===d||markdownLineEnding(d)?h(d):g(d)}}},iq={tokenize:function(d,h,g){let _=this;return factorySpace(d,function(d){let y=_.events[_.events.length-1];return y&&"gfmFootnoteDefinitionIndent"===y[1].type&&4===y[2].sliceSerialize(y[1],!0).length?h(d):g(d)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function tokenizePotentialGfmFootnoteCall(d,h,g){let _;let y=this,A=y.events.length,b=y.parser.gfmFootnotes||(y.parser.gfmFootnotes=[]);for(;A--;){let d=y.events[A][1];if("labelImage"===d.type){_=d;break}if("gfmFootnoteCall"===d.type||"labelLink"===d.type||"label"===d.type||"image"===d.type||"link"===d.type)break}return function(A){if(!_||!_._balanced)return g(A);let k=normalizeIdentifier(y.sliceSerialize({start:_.end,end:y.now()}));return 94===k.codePointAt(0)&&b.includes(k.slice(1))?(d.enter("gfmFootnoteCallLabelMarker"),d.consume(A),d.exit("gfmFootnoteCallLabelMarker"),h(A)):g(A)}}function resolveToPotentialGfmFootnoteCall(d,h){let g=d.length;for(;g--;)if("labelImage"===d[g][1].type&&"enter"===d[g][0]){d[g][1];break}d[g+1][1].type="data",d[g+3][1].type="gfmFootnoteCallLabelMarker";let _={type:"gfmFootnoteCall",start:Object.assign({},d[g+3][1].start),end:Object.assign({},d[d.length-1][1].end)},y={type:"gfmFootnoteCallMarker",start:Object.assign({},d[g+3][1].end),end:Object.assign({},d[g+3][1].end)};y.end.column++,y.end.offset++,y.end._bufferIndex++;let A={type:"gfmFootnoteCallString",start:Object.assign({},y.end),end:Object.assign({},d[d.length-1][1].start)},b={type:"chunkString",contentType:"string",start:Object.assign({},A.start),end:Object.assign({},A.end)},k=[d[g+1],d[g+2],["enter",_,h],d[g+3],d[g+4],["enter",y,h],["exit",y,h],["enter",A,h],["enter",b,h],["exit",b,h],["exit",A,h],d[d.length-2],d[d.length-1],["exit",_,h]];return d.splice(g,d.length-g+1,...k),d}function tokenizeGfmFootnoteCall(d,h,g){let _;let y=this,A=y.parser.gfmFootnotes||(y.parser.gfmFootnotes=[]),b=0;return function(h){return d.enter("gfmFootnoteCall"),d.enter("gfmFootnoteCallLabelMarker"),d.consume(h),d.exit("gfmFootnoteCallLabelMarker"),callStart};function callStart(h){return 94!==h?g(h):(d.enter("gfmFootnoteCallMarker"),d.consume(h),d.exit("gfmFootnoteCallMarker"),d.enter("gfmFootnoteCallString"),d.enter("chunkString").contentType="string",callData)}function callData(k){if(b>999||93===k&&!_||null===k||91===k||markdownLineEndingOrSpace(k))return g(k);if(93===k){d.exit("chunkString");let _=d.exit("gfmFootnoteCallString");return A.includes(normalizeIdentifier(y.sliceSerialize(_)))?(d.enter("gfmFootnoteCallLabelMarker"),d.consume(k),d.exit("gfmFootnoteCallLabelMarker"),d.exit("gfmFootnoteCall"),h):g(k)}return markdownLineEndingOrSpace(k)||(_=!0),b++,d.consume(k),92===k?callEscape:callData}function callEscape(h){return 91===h||92===h||93===h?(d.consume(h),b++,callData):callData(h)}}function tokenizeDefinitionStart(d,h,g){let _,y;let A=this,b=A.parser.gfmFootnotes||(A.parser.gfmFootnotes=[]),k=0;return function(h){return d.enter("gfmFootnoteDefinition")._container=!0,d.enter("gfmFootnoteDefinitionLabel"),d.enter("gfmFootnoteDefinitionLabelMarker"),d.consume(h),d.exit("gfmFootnoteDefinitionLabelMarker"),labelAtMarker};function labelAtMarker(h){return 94===h?(d.enter("gfmFootnoteDefinitionMarker"),d.consume(h),d.exit("gfmFootnoteDefinitionMarker"),d.enter("gfmFootnoteDefinitionLabelString"),d.enter("chunkString").contentType="string",labelInside):g(h)}function labelInside(h){if(k>999||93===h&&!y||null===h||91===h||markdownLineEndingOrSpace(h))return g(h);if(93===h){d.exit("chunkString");let g=d.exit("gfmFootnoteDefinitionLabelString");return _=normalizeIdentifier(A.sliceSerialize(g)),d.enter("gfmFootnoteDefinitionLabelMarker"),d.consume(h),d.exit("gfmFootnoteDefinitionLabelMarker"),d.exit("gfmFootnoteDefinitionLabel"),labelAfter}return markdownLineEndingOrSpace(h)||(y=!0),k++,d.consume(h),92===h?labelEscape:labelInside}function labelEscape(h){return 91===h||92===h||93===h?(d.consume(h),k++,labelInside):labelInside(h)}function labelAfter(h){return 58===h?(d.enter("definitionMarker"),d.consume(h),d.exit("definitionMarker"),b.includes(_)||b.push(_),factorySpace(d,whitespaceAfter,"gfmFootnoteDefinitionWhitespace")):g(h)}function whitespaceAfter(d){return h(d)}}function tokenizeDefinitionContinuation(d,h,g){return d.check(iY,h,d.attempt(iq,h,g))}function gfmFootnoteDefinitionEnd(d){d.exit("gfmFootnoteDefinition")}function resolveAll(d,h,g){let _=[],y=-1;for(;++y<d.length;){let A=d[y].resolveAll;A&&!_.includes(A)&&(h=A(h,g),_.push(A))}return h}let EditMap=class EditMap{constructor(){this.map=[]}add(d,h,g){!function(d,h,g,_){let y=0;if(0!==g||0!==_.length){for(;y<d.map.length;){if(d.map[y][0]===h){d.map[y][1]+=g,d.map[y][2].push(..._);return}y+=1}d.map.push([h,g,_])}}(this,d,h,g)}consume(d){if(this.map.sort(function(d,h){return d[0]-h[0]}),0===this.map.length)return;let h=this.map.length,g=[];for(;h>0;)h-=1,g.push(d.slice(this.map[h][0]+this.map[h][1]),this.map[h][2]),d.length=this.map[h][0];g.push([...d]),d.length=0;let _=g.pop();for(;_;)d.push(..._),_=g.pop();this.map.length=0}};function tokenizeTable(d,h,g){let _;let y=this,A=0,b=0;return function(d){let h=y.events.length-1;for(;h>-1;){let d=y.events[h][1].type;if("lineEnding"===d||"linePrefix"===d)h--;else break}let _=h>-1?y.events[h][1].type:null,A="tableHead"===_||"tableRow"===_?bodyRowStart:headRowBefore;return A===bodyRowStart&&y.parser.lazy[y.now().line]?g(d):A(d)};function headRowBefore(h){return d.enter("tableHead"),d.enter("tableRow"),124===h||(_=!0,b+=1),headRowBreak(h)}function headRowBreak(h){return null===h?g(h):markdownLineEnding(h)?b>1?(b=0,y.interrupt=!0,d.exit("tableRow"),d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),headDelimiterStart):g(h):markdownSpace(h)?factorySpace(d,headRowBreak,"whitespace")(h):(b+=1,_&&(_=!1,A+=1),124===h)?(d.enter("tableCellDivider"),d.consume(h),d.exit("tableCellDivider"),_=!0,headRowBreak):(d.enter("data"),headRowData(h))}function headRowData(h){return null===h||124===h||markdownLineEndingOrSpace(h)?(d.exit("data"),headRowBreak(h)):(d.consume(h),92===h?headRowEscape:headRowData)}function headRowEscape(h){return 92===h||124===h?(d.consume(h),headRowData):headRowData(h)}function headDelimiterStart(h){return(y.interrupt=!1,y.parser.lazy[y.now().line])?g(h):(d.enter("tableDelimiterRow"),_=!1,markdownSpace(h))?factorySpace(d,headDelimiterBefore,"linePrefix",y.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):headDelimiterBefore(h)}function headDelimiterBefore(h){return 45===h||58===h?headDelimiterValueBefore(h):124===h?(_=!0,d.enter("tableCellDivider"),d.consume(h),d.exit("tableCellDivider"),headDelimiterCellBefore):g(h)}function headDelimiterCellBefore(h){return markdownSpace(h)?factorySpace(d,headDelimiterValueBefore,"whitespace")(h):headDelimiterValueBefore(h)}function headDelimiterValueBefore(h){return 58===h?(b+=1,_=!0,d.enter("tableDelimiterMarker"),d.consume(h),d.exit("tableDelimiterMarker"),headDelimiterLeftAlignmentAfter):45===h?(b+=1,headDelimiterLeftAlignmentAfter(h)):null===h||markdownLineEnding(h)?headDelimiterCellAfter(h):g(h)}function headDelimiterLeftAlignmentAfter(h){return 45===h?(d.enter("tableDelimiterFiller"),function headDelimiterFiller(h){return 45===h?(d.consume(h),headDelimiterFiller):58===h?(_=!0,d.exit("tableDelimiterFiller"),d.enter("tableDelimiterMarker"),d.consume(h),d.exit("tableDelimiterMarker"),headDelimiterRightAlignmentAfter):(d.exit("tableDelimiterFiller"),headDelimiterRightAlignmentAfter(h))}(h)):g(h)}function headDelimiterRightAlignmentAfter(h){return markdownSpace(h)?factorySpace(d,headDelimiterCellAfter,"whitespace")(h):headDelimiterCellAfter(h)}function headDelimiterCellAfter(y){return 124===y?headDelimiterBefore(y):null===y||markdownLineEnding(y)?_&&A===b?(d.exit("tableDelimiterRow"),d.exit("tableHead"),h(y)):g(y):g(y)}function bodyRowStart(h){return d.enter("tableRow"),bodyRowBreak(h)}function bodyRowBreak(g){return 124===g?(d.enter("tableCellDivider"),d.consume(g),d.exit("tableCellDivider"),bodyRowBreak):null===g||markdownLineEnding(g)?(d.exit("tableRow"),h(g)):markdownSpace(g)?factorySpace(d,bodyRowBreak,"whitespace")(g):(d.enter("data"),bodyRowData(g))}function bodyRowData(h){return null===h||124===h||markdownLineEndingOrSpace(h)?(d.exit("data"),bodyRowBreak(h)):(d.consume(h),92===h?bodyRowEscape:bodyRowData)}function bodyRowEscape(h){return 92===h||124===h?(d.consume(h),bodyRowData):bodyRowData(h)}}function resolveTable(d,h){let g,_,y,A=-1,b=!0,k=0,w=[0,0,0,0],R=[0,0,0,0],B=!1,H=0,z=new EditMap;for(;++A<d.length;){let $=d[A],j=$[1];"enter"===$[0]?"tableHead"===j.type?(B=!1,0!==H&&(flushTableEnd(z,h,H,g,_),_=void 0,H=0),g={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},z.add(A,0,[["enter",g,h]])):"tableRow"===j.type||"tableDelimiterRow"===j.type?(b=!0,y=void 0,w=[0,0,0,0],R=[0,A+1,0,0],B&&(B=!1,_={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},z.add(A,0,[["enter",_,h]])),k="tableDelimiterRow"===j.type?2:_?3:1):k&&("data"===j.type||"tableDelimiterMarker"===j.type||"tableDelimiterFiller"===j.type)?(b=!1,0===R[2]&&(0!==w[1]&&(R[0]=R[1],y=flushCell(z,h,w,k,void 0,y),w=[0,0,0,0]),R[2]=A)):"tableCellDivider"===j.type&&(b?b=!1:(0!==w[1]&&(R[0]=R[1],y=flushCell(z,h,w,k,void 0,y)),R=[(w=R)[1],A,0,0])):"tableHead"===j.type?(B=!0,H=A):"tableRow"===j.type||"tableDelimiterRow"===j.type?(H=A,0!==w[1]?(R[0]=R[1],y=flushCell(z,h,w,k,A,y)):0!==R[1]&&(y=flushCell(z,h,R,k,A,y)),k=0):k&&("data"===j.type||"tableDelimiterMarker"===j.type||"tableDelimiterFiller"===j.type)&&(R[3]=A)}for(0!==H&&flushTableEnd(z,h,H,g,_),z.consume(h.events),A=-1;++A<h.events.length;){let d=h.events[A];"enter"===d[0]&&"table"===d[1].type&&(d[1]._align=function(d,h){let g=!1,_=[];for(;h<d.length;){let y=d[h];if(g){if("enter"===y[0])"tableContent"===y[1].type&&_.push("tableDelimiterMarker"===d[h+1][1].type?"left":"none");else if("tableContent"===y[1].type){if("tableDelimiterMarker"===d[h-1][1].type){let d=_.length-1;_[d]="left"===_[d]?"center":"right"}}else if("tableDelimiterRow"===y[1].type)break}else"enter"===y[0]&&"tableDelimiterRow"===y[1].type&&(g=!0);h+=1}return _}(h.events,A))}return d}function flushCell(d,h,g,_,y,A){0!==g[0]&&(A.end=Object.assign({},getPoint(h.events,g[0])),d.add(g[0],0,[["exit",A,h]]));let b=getPoint(h.events,g[1]);if(A={type:1===_?"tableHeader":2===_?"tableDelimiter":"tableData",start:Object.assign({},b),end:Object.assign({},b)},d.add(g[1],0,[["enter",A,h]]),0!==g[2]){let y=getPoint(h.events,g[2]),A=getPoint(h.events,g[3]),b={type:"tableContent",start:Object.assign({},y),end:Object.assign({},A)};if(d.add(g[2],0,[["enter",b,h]]),2!==_){let _=h.events[g[2]],y=h.events[g[3]];if(_[1].end=Object.assign({},y[1].end),_[1].type="chunkText",_[1].contentType="text",g[3]>g[2]+1){let h=g[2]+1,_=g[3]-g[2]-1;d.add(h,_,[])}}d.add(g[3]+1,0,[["exit",b,h]])}return void 0!==y&&(A.end=Object.assign({},getPoint(h.events,y)),d.add(y,0,[["exit",A,h]]),A=void 0),A}function flushTableEnd(d,h,g,_,y){let A=[],b=getPoint(h.events,g);y&&(y.end=Object.assign({},b),A.push(["exit",y,h])),_.end=Object.assign({},b),A.push(["exit",_,h]),d.add(g+1,0,A)}function getPoint(d,h){let g=d[h],_="enter"===g[0]?"start":"end";return g[1][_]}let iW={name:"tasklistCheck",tokenize:function(d,h,g){let _=this;return function(h){return null===_.previous&&_._gfmTasklistFirstContentOfListItem?(d.enter("taskListCheck"),d.enter("taskListCheckMarker"),d.consume(h),d.exit("taskListCheckMarker"),inside):g(h)};function inside(h){return markdownLineEndingOrSpace(h)?(d.enter("taskListCheckValueUnchecked"),d.consume(h),d.exit("taskListCheckValueUnchecked"),close):88===h||120===h?(d.enter("taskListCheckValueChecked"),d.consume(h),d.exit("taskListCheckValueChecked"),close):g(h)}function close(h){return 93===h?(d.enter("taskListCheckMarker"),d.consume(h),d.exit("taskListCheckMarker"),d.exit("taskListCheck"),after):g(h)}function after(_){return markdownLineEnding(_)?h(_):markdownSpace(_)?d.check({tokenize:spaceThenNonSpace},h,g)(_):g(_)}}};function spaceThenNonSpace(d,h,g){return factorySpace(d,function(d){return null===d?g(d):h(d)},"whitespace")}let iX={};function remarkGfm(d){let h=d||iX,g=this.data(),_=g.micromarkExtensions||(g.micromarkExtensions=[]),y=g.fromMarkdownExtensions||(g.fromMarkdownExtensions=[]),A=g.toMarkdownExtensions||(g.toMarkdownExtensions=[]);_.push(combineExtensions([{text:iQ},{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}},function(d){let h=(d||{}).singleTilde,g={name:"strikethrough",tokenize:function(d,g,_){let y=this.previous,A=this.events,b=0;return function(k){return 126===y&&"characterEscape"!==A[A.length-1][1].type?_(k):(d.enter("strikethroughSequenceTemporary"),function more(A){let k=classifyCharacter(y);if(126===A)return b>1?_(A):(d.consume(A),b++,more);if(b<2&&!h)return _(A);let w=d.exit("strikethroughSequenceTemporary"),R=classifyCharacter(A);return w._open=!R||2===R&&!!k,w._close=!k||2===k&&!!R,g(A)}(k))}},resolveAll:function(d,h){let g=-1;for(;++g<d.length;)if("enter"===d[g][0]&&"strikethroughSequenceTemporary"===d[g][1].type&&d[g][1]._close){let _=g;for(;_--;)if("exit"===d[_][0]&&"strikethroughSequenceTemporary"===d[_][1].type&&d[_][1]._open&&d[g][1].end.offset-d[g][1].start.offset==d[_][1].end.offset-d[_][1].start.offset){d[g][1].type="strikethroughSequence",d[_][1].type="strikethroughSequence";let y={type:"strikethrough",start:Object.assign({},d[_][1].start),end:Object.assign({},d[g][1].end)},A={type:"strikethroughText",start:Object.assign({},d[_][1].end),end:Object.assign({},d[g][1].start)},b=[["enter",y,h],["enter",d[_][1],h],["exit",d[_][1],h],["enter",A,h]],k=h.parser.constructs.insideSpan.null;k&&splice(b,b.length,0,resolveAll(k,d.slice(_+1,g),h)),splice(b,b.length,0,[["exit",A,h],["enter",d[g][1],h],["exit",d[g][1],h],["exit",y,h]]),splice(d,_-1,g-_+3,b),g=_+b.length-2;break}}for(g=-1;++g<d.length;)"strikethroughSequenceTemporary"===d[g][1].type&&(d[g][1].type="data");return d}};return null==h&&(h=!0),{text:{126:g},insideSpan:{null:[g]},attentionMarkers:{null:[126]}}}(h),{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}},{text:{91:iW}}])),y.push([{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}},{enter:{gfmFootnoteDefinition:enterFootnoteDefinition,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteCallString:enterFootnoteCallString},exit:{gfmFootnoteDefinition:exitFootnoteDefinition,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteCallString:exitFootnoteCallString}},{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}},{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}},{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}]),A.push({extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:iO,notInConstruct:iN},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:iO,notInConstruct:iN},{character:":",before:"[ps]",after:"\\/",inConstruct:iO,notInConstruct:iN}]},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition,footnoteReference}},{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:iR}],handlers:{delete:handleDelete}},function(d){let h=d||{},g=h.tableCellPadding,_=h.tablePipeAlign,y=h.stringLength,A=g?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(d,h,g){let _=iM.inlineCode(d,h,g);return g.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_},table:function(d,h,g,_){return serializeData(function(d,h,g){let _=d.children,y=-1,A=[],b=h.enter("table");for(;++y<_.length;)A[y]=handleTableRowAsData(_[y],h,g);return b(),A}(d,g,_),d.align)},tableCell:handleTableCell,tableRow:function(d,h,g,_){let y=handleTableRowAsData(d,g,_),A=serializeData([y]);return A.slice(0,A.indexOf("\n"))}}};function handleTableCell(d,h,g,_){let y=g.enter("tableCell"),b=g.enter("phrasing"),k=g.containerPhrasing(d,{..._,before:A,after:A});return b(),y(),k}function serializeData(d,h){return function(d,h={}){let g=(h.align||[]).concat(),_=h.stringLength||defaultStringLength,y=[],A=[],b=[],k=[],w=0,R=-1;for(;++R<d.length;){let g=[],y=[],H=-1;for(d[R].length>w&&(w=d[R].length);++H<d[R].length;){var B;let A=null==(B=d[R][H])?"":String(B);if(!1!==h.alignDelimiters){let d=_(A);y[H]=d,(void 0===k[H]||d>k[H])&&(k[H]=d)}g.push(A)}A[R]=g,b[R]=y}let H=-1;if("object"==typeof g&&"length"in g)for(;++H<w;)y[H]=toAlignment(g[H]);else{let d=toAlignment(g);for(;++H<w;)y[H]=d}H=-1;let z=[],$=[];for(;++H<w;){let d=y[H],g="",_="";99===d?(g=":",_=":"):108===d?g=":":114===d&&(_=":");let A=!1===h.alignDelimiters?1:Math.max(1,k[H]-g.length-_.length),b=g+"-".repeat(A)+_;!1!==h.alignDelimiters&&((A=g.length+A+_.length)>k[H]&&(k[H]=A),$[H]=A),z[H]=b}A.splice(1,0,z),b.splice(1,0,$),R=-1;let j=[];for(;++R<A.length;){let d=A[R],g=b[R];H=-1;let _=[];for(;++H<w;){let A=d[H]||"",b="",R="";if(!1!==h.alignDelimiters){let d=k[H]-(g[H]||0),h=y[H];114===h?b=" ".repeat(d):99===h?d%2?(b=" ".repeat(d/2+.5),R=" ".repeat(d/2-.5)):R=b=" ".repeat(d/2):R=" ".repeat(d)}!1===h.delimiterStart||H||_.push("|"),!1!==h.padding&&!(!1===h.alignDelimiters&&""===A)&&(!1!==h.delimiterStart||H)&&_.push(" "),!1!==h.alignDelimiters&&_.push(b),_.push(A),!1!==h.alignDelimiters&&_.push(R),!1!==h.padding&&_.push(" "),(!1!==h.delimiterEnd||H!==w-1)&&_.push("|")}j.push(!1===h.delimiterEnd?_.join("").replace(/ +$/,""):_.join(""))}return j.join("\n")}(d,{align:h,alignDelimiters:_,padding:g,stringLength:y})}function handleTableRowAsData(d,h,g){let _=d.children,y=-1,A=[],b=h.enter("tableRow");for(;++y<_.length;)A[y]=handleTableCell(_[y],d,h,g);return b(),A}}(h),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}]})}let SpliceBuffer=class SpliceBuffer{constructor(d){this.left=d?[...d]:[],this.right=[]}get(d){if(d<0||d>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+d+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return d<this.left.length?this.left[d]:this.right[this.right.length-d+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(d,h){let g=null==h?Number.POSITIVE_INFINITY:h;return g<this.left.length?this.left.slice(d,g):d>this.left.length?this.right.slice(this.right.length-g+this.left.length,this.right.length-d+this.left.length).reverse():this.left.slice(d).concat(this.right.slice(this.right.length-g+this.left.length).reverse())}splice(d,h,g){let _=h||0;this.setCursor(Math.trunc(d));let y=this.right.splice(this.right.length-_,Number.POSITIVE_INFINITY);return g&&chunkedPush(this.left,g),y.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(d){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(d)}pushMany(d){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,d)}unshift(d){this.setCursor(0),this.right.push(d)}unshiftMany(d){this.setCursor(0),chunkedPush(this.right,d.reverse())}setCursor(d){if(d!==this.left.length&&(!(d>this.left.length)||0!==this.right.length)&&(!(d<0)||0!==this.left.length)){if(d<this.left.length){let h=this.left.splice(d,Number.POSITIVE_INFINITY);chunkedPush(this.right,h.reverse())}else{let h=this.right.splice(this.left.length+this.right.length-d,Number.POSITIVE_INFINITY);chunkedPush(this.left,h.reverse())}}}};function chunkedPush(d,h){let g=0;if(h.length<1e4)d.push(...h);else for(;g<h.length;)d.push(...h.slice(g,g+1e4)),g+=1e4}function subtokenize(d){let h,g,_,y,A,b,k;let w={},R=-1,B=new SpliceBuffer(d);for(;++R<B.length;){for(;(R in w);)R=w[R];if(h=B.get(R),R&&"chunkFlow"===h[1].type&&"listItemPrefix"===B.get(R-1)[1].type&&((_=0)<(b=h[1]._tokenizer.events).length&&"lineEndingBlank"===b[_][1].type&&(_+=2),_<b.length&&"content"===b[_][1].type))for(;++_<b.length&&"content"!==b[_][1].type;)"chunkText"===b[_][1].type&&(b[_][1]._isInFirstContentOfListItem=!0,_++);if("enter"===h[0])h[1].contentType&&(Object.assign(w,function(d,h){let g,_;let y=d.get(h)[1],A=d.get(h)[2],b=h-1,k=[],w=y._tokenizer||A.parser[y.contentType](y.start),R=w.events,B=[],H={},z=-1,$=y,j=0,q=0,W=[q];for(;$;){for(;d.get(++b)[1]!==$;);k.push(b),!$._tokenizer&&(g=A.sliceStream($),$.next||g.push(null),_&&w.defineSkip($.start),$._isInFirstContentOfListItem&&(w._gfmTasklistFirstContentOfListItem=!0),w.write(g),$._isInFirstContentOfListItem&&(w._gfmTasklistFirstContentOfListItem=void 0)),_=$,$=$.next}for($=y;++z<R.length;)"exit"===R[z][0]&&"enter"===R[z-1][0]&&R[z][1].type===R[z-1][1].type&&R[z][1].start.line!==R[z][1].end.line&&(q=z+1,W.push(q),$._tokenizer=void 0,$.previous=void 0,$=$.next);for(w.events=[],$?($._tokenizer=void 0,$.previous=void 0):W.pop(),z=W.length;z--;){let h=R.slice(W[z],W[z+1]),g=k.pop();B.push([g,g+h.length-1]),d.splice(g,2,h)}for(B.reverse(),z=-1;++z<B.length;)H[j+B[z][0]]=j+B[z][1],j+=B[z][1]-B[z][0]-1;return H}(B,R)),R=w[R],k=!0);else if(h[1]._container){for(_=R,g=void 0;_--;)if("lineEnding"===(y=B.get(_))[1].type||"lineEndingBlank"===y[1].type)"enter"===y[0]&&(g&&(B.get(g)[1].type="lineEndingBlank"),y[1].type="lineEnding",g=_);else break;g&&(h[1].end={...B.get(g)[1].start},(A=B.slice(g,R)).unshift(h),B.splice(g,R-g+1,A))}}return splice(d,0,Number.POSITIVE_INFINITY,B.slice(0)),!k}let iK={tokenize:function(d){let h;let g=d.attempt(this.parser.constructs.contentInitial,function(h){if(null===h){d.consume(h);return}return d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),factorySpace(d,g,"linePrefix")},function(g){return d.enter("paragraph"),function lineStart(g){let _=d.enter("chunkText",{contentType:"text",previous:h});return h&&(h.next=_),h=_,function data(h){if(null===h){d.exit("chunkText"),d.exit("paragraph"),d.consume(h);return}return markdownLineEnding(h)?(d.consume(h),d.exit("chunkText"),lineStart):(d.consume(h),data)}(g)}(g)});return g}},iJ={tokenize:function(d){let h,g,_;let y=this,A=[],b=0;return start;function start(h){if(b<A.length){let g=A[b];return y.containerState=g[1],d.attempt(g[0].continuation,documentContinue,checkNewContainers)(h)}return checkNewContainers(h)}function documentContinue(d){if(b++,y.containerState._closeFlow){let g;y.containerState._closeFlow=void 0,h&&closeFlow();let _=y.events.length,A=_;for(;A--;)if("exit"===y.events[A][0]&&"chunkFlow"===y.events[A][1].type){g=y.events[A][1].end;break}exitContainers(b);let k=_;for(;k<y.events.length;)y.events[k][1].end={...g},k++;return splice(y.events,A+1,0,y.events.slice(_)),y.events.length=k,checkNewContainers(d)}return start(d)}function checkNewContainers(g){if(b===A.length){if(!h)return documentContinued(g);if(h.currentConstruct&&h.currentConstruct.concrete)return flowStart(g);y.interrupt=!!(h.currentConstruct&&!h._gfmTableDynamicInterruptHack)}return y.containerState={},d.check(iZ,thereIsANewContainer,thereIsNoNewContainer)(g)}function thereIsANewContainer(d){return h&&closeFlow(),exitContainers(b),documentContinued(d)}function thereIsNoNewContainer(d){return y.parser.lazy[y.now().line]=b!==A.length,_=y.now().offset,flowStart(d)}function documentContinued(h){return y.containerState={},d.attempt(iZ,containerContinue,flowStart)(h)}function containerContinue(d){return b++,A.push([y.currentConstruct,y.containerState]),documentContinued(d)}function flowStart(_){if(null===_){h&&closeFlow(),exitContainers(0),d.consume(_);return}return h=h||y.parser.flow(y.now()),d.enter("chunkFlow",{_tokenizer:h,contentType:"flow",previous:g}),function flowContinue(h){if(null===h){writeToChild(d.exit("chunkFlow"),!0),exitContainers(0),d.consume(h);return}return markdownLineEnding(h)?(d.consume(h),writeToChild(d.exit("chunkFlow")),b=0,y.interrupt=void 0,start):(d.consume(h),flowContinue)}(_)}function writeToChild(d,A){let k=y.sliceStream(d);if(A&&k.push(null),d.previous=g,g&&(g.next=d),g=d,h.defineSkip(d.start),h.write(k),y.parser.lazy[d.start.line]){let d,g,A=h.events.length;for(;A--;)if(h.events[A][1].start.offset<_&&(!h.events[A][1].end||h.events[A][1].end.offset>_))return;let k=y.events.length,w=k;for(;w--;)if("exit"===y.events[w][0]&&"chunkFlow"===y.events[w][1].type){if(d){g=y.events[w][1].end;break}d=!0}for(exitContainers(b),A=k;A<y.events.length;)y.events[A][1].end={...g},A++;splice(y.events,w+1,0,y.events.slice(k)),y.events.length=A}}function exitContainers(h){let g=A.length;for(;g-- >h;){let h=A[g];y.containerState=h[1],h[0].exit.call(y,d)}A.length=h}function closeFlow(){h.write([null]),g=void 0,h=void 0,y.containerState._closeFlow=void 0}}},iZ={tokenize:function(d,h,g){return factorySpace(d,d.attempt(this.parser.constructs.document,h,g),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},i0={resolve:function(d){return subtokenize(d),d},tokenize:function(d,h){let g;return function(h){return d.enter("content"),g=d.enter("chunkContent",{contentType:"content"}),chunkInside(h)};function chunkInside(h){return null===h?contentEnd(h):markdownLineEnding(h)?d.check(i1,contentContinue,contentEnd)(h):(d.consume(h),chunkInside)}function contentEnd(g){return d.exit("chunkContent"),d.exit("content"),h(g)}function contentContinue(h){return d.consume(h),d.exit("chunkContent"),g.next=d.enter("chunkContent",{contentType:"content",previous:g}),g=g.next,chunkInside}}},i1={partial:!0,tokenize:function(d,h,g){let _=this;return function(h){return d.exit("chunkContent"),d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),factorySpace(d,prefixed,"linePrefix")};function prefixed(y){if(null===y||markdownLineEnding(y))return g(y);let A=_.events[_.events.length-1];return!_.parser.constructs.disable.null.includes("codeIndented")&&A&&"linePrefix"===A[1].type&&A[2].sliceSerialize(A[1],!0).length>=4?h(y):d.interrupt(_.parser.constructs.flow,g,h)(y)}}},i2={tokenize:function(d){let h=this,g=d.attempt(iY,function(_){if(null===_){d.consume(_);return}return d.enter("lineEndingBlank"),d.consume(_),d.exit("lineEndingBlank"),h.currentConstruct=void 0,g},d.attempt(this.parser.constructs.flowInitial,afterConstruct,factorySpace(d,d.attempt(this.parser.constructs.flow,afterConstruct,d.attempt(i0,afterConstruct)),"linePrefix")));return g;function afterConstruct(_){if(null===_){d.consume(_);return}return d.enter("lineEnding"),d.consume(_),d.exit("lineEnding"),h.currentConstruct=void 0,g}}},i3={resolveAll:createResolver()},i4=initializeFactory("string"),i5=initializeFactory("text");function initializeFactory(d){return{resolveAll:createResolver("text"===d?resolveAllLineSuffixes:void 0),tokenize:function(h){let g=this,_=this.parser.constructs[d],y=h.attempt(_,start,notText);return start;function start(d){return atBreak(d)?y(d):notText(d)}function notText(d){if(null===d){h.consume(d);return}return h.enter("data"),h.consume(d),data}function data(d){return atBreak(d)?(h.exit("data"),y(d)):(h.consume(d),data)}function atBreak(d){if(null===d)return!0;let h=_[d],y=-1;if(h)for(;++y<h.length;){let d=h[y];if(!d.previous||d.previous.call(g,g.previous))return!0}return!1}}}}function createResolver(d){return function(h,g){let _,y=-1;for(;++y<=h.length;)void 0===_?h[y]&&"data"===h[y][1].type&&(_=y,y++):h[y]&&"data"===h[y][1].type||(y!==_+2&&(h[_][1].end=h[y-1][1].end,h.splice(_+2,y-_-2),y=_+2),_=void 0);return d?d(h,g):h}}function resolveAllLineSuffixes(d,h){let g=0;for(;++g<=d.length;)if((g===d.length||"lineEnding"===d[g][1].type)&&"data"===d[g-1][1].type){let _;let y=d[g-1][1],A=h.sliceStream(y),b=A.length,k=-1,w=0;for(;b--;){let d=A[b];if("string"==typeof d){for(k=d.length;32===d.charCodeAt(k-1);)w++,k--;if(k)break;k=-1}else if(-2===d)_=!0,w++;else if(-1===d);else{b++;break}}if(w){let A={type:g===d.length||_||w<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:b?k:y.start._bufferIndex+k,_index:y.start._index+b,line:y.end.line,column:y.end.column-w,offset:y.end.offset-w},end:{...y.end}};y.end={...A.start},y.start.offset===y.end.offset?Object.assign(y,A):(d.splice(g,0,["enter",A,h],["exit",A,h]),g+=2)}g++}return d}let i6={name:"thematicBreak",tokenize:function(d,h,g){let _,y=0;return function(A){return d.enter("thematicBreak"),_=A,function atBreak(A){return A===_?(d.enter("thematicBreakSequence"),function sequence(h){return h===_?(d.consume(h),y++,sequence):(d.exit("thematicBreakSequence"),markdownSpace(h)?factorySpace(d,atBreak,"whitespace")(h):atBreak(h))}(A)):y>=3&&(null===A||markdownLineEnding(A))?(d.exit("thematicBreak"),h(A)):g(A)}(A)}}},i8={continuation:{tokenize:function(d,h,g){let _=this;return _.containerState._closeFlow=void 0,d.check(iY,function(g){return _.containerState.furtherBlankLines=_.containerState.furtherBlankLines||_.containerState.initialBlankLine,factorySpace(d,h,"listItemIndent",_.containerState.size+1)(g)},function(g){return _.containerState.furtherBlankLines||!markdownSpace(g)?(_.containerState.furtherBlankLines=void 0,_.containerState.initialBlankLine=void 0,notInCurrentItem(g)):(_.containerState.furtherBlankLines=void 0,_.containerState.initialBlankLine=void 0,d.attempt(i7,h,notInCurrentItem)(g))});function notInCurrentItem(y){return _.containerState._closeFlow=!0,_.interrupt=void 0,factorySpace(d,d.attempt(i8,h,g),"linePrefix",_.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y)}}},exit:function(d){d.exit(this.containerState.type)},name:"list",tokenize:function(d,h,g){let _=this,y=_.events[_.events.length-1],A=y&&"linePrefix"===y[1].type?y[2].sliceSerialize(y[1],!0).length:0,b=0;return function(h){let y=_.containerState.type||(42===h||43===h||45===h?"listUnordered":"listOrdered");if("listUnordered"===y?!_.containerState.marker||h===_.containerState.marker:iS(h)){if(_.containerState.type||(_.containerState.type=y,d.enter(y,{_container:!0})),"listUnordered"===y)return d.enter("listItemPrefix"),42===h||45===h?d.check(i6,g,atMarker)(h):atMarker(h);if(!_.interrupt||49===h)return d.enter("listItemPrefix"),d.enter("listItemValue"),function inside(h){return iS(h)&&++b<10?(d.consume(h),inside):(!_.interrupt||b<2)&&(_.containerState.marker?h===_.containerState.marker:41===h||46===h)?(d.exit("listItemValue"),atMarker(h)):g(h)}(h)}return g(h)};function atMarker(h){return d.enter("listItemMarker"),d.consume(h),d.exit("listItemMarker"),_.containerState.marker=_.containerState.marker||h,d.check(iY,_.interrupt?g:onBlank,d.attempt(i9,endOfPrefix,otherPrefix))}function onBlank(d){return _.containerState.initialBlankLine=!0,A++,endOfPrefix(d)}function otherPrefix(h){return markdownSpace(h)?(d.enter("listItemPrefixWhitespace"),d.consume(h),d.exit("listItemPrefixWhitespace"),endOfPrefix):g(h)}function endOfPrefix(g){return _.containerState.size=A+_.sliceSerialize(d.exit("listItemPrefix"),!0).length,h(g)}}},i9={partial:!0,tokenize:function(d,h,g){let _=this;return factorySpace(d,function(d){let y=_.events[_.events.length-1];return!markdownSpace(d)&&y&&"listItemPrefixWhitespace"===y[1].type?h(d):g(d)},"listItemPrefixWhitespace",_.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},i7={partial:!0,tokenize:function(d,h,g){let _=this;return factorySpace(d,function(d){let y=_.events[_.events.length-1];return y&&"listItemIndent"===y[1].type&&y[2].sliceSerialize(y[1],!0).length===_.containerState.size?h(d):g(d)},"listItemIndent",_.containerState.size+1)}},ae={continuation:{tokenize:function(d,h,g){let _=this;return function(h){return markdownSpace(h)?factorySpace(d,contBefore,"linePrefix",_.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):contBefore(h)};function contBefore(_){return d.attempt(ae,h,g)(_)}}},exit:function(d){d.exit("blockQuote")},name:"blockQuote",tokenize:function(d,h,g){let _=this;return function(h){if(62===h){let g=_.containerState;return g.open||(d.enter("blockQuote",{_container:!0}),g.open=!0),d.enter("blockQuotePrefix"),d.enter("blockQuoteMarker"),d.consume(h),d.exit("blockQuoteMarker"),after}return g(h)};function after(g){return markdownSpace(g)?(d.enter("blockQuotePrefixWhitespace"),d.consume(g),d.exit("blockQuotePrefixWhitespace"),d.exit("blockQuotePrefix"),h):(d.exit("blockQuotePrefix"),h(g))}}};function factoryDestination(d,h,g,_,y,A,b,k,w){let R=w||Number.POSITIVE_INFINITY,B=0;return function(h){return 60===h?(d.enter(_),d.enter(y),d.enter(A),d.consume(h),d.exit(A),enclosedBefore):null===h||32===h||41===h||asciiControl(h)?g(h):(d.enter(_),d.enter(b),d.enter(k),d.enter("chunkString",{contentType:"string"}),raw(h))};function enclosedBefore(g){return 62===g?(d.enter(A),d.consume(g),d.exit(A),d.exit(y),d.exit(_),h):(d.enter(k),d.enter("chunkString",{contentType:"string"}),enclosed(g))}function enclosed(h){return 62===h?(d.exit("chunkString"),d.exit(k),enclosedBefore(h)):null===h||60===h||markdownLineEnding(h)?g(h):(d.consume(h),92===h?enclosedEscape:enclosed)}function enclosedEscape(h){return 60===h||62===h||92===h?(d.consume(h),enclosed):enclosed(h)}function raw(y){return!B&&(null===y||41===y||markdownLineEndingOrSpace(y))?(d.exit("chunkString"),d.exit(k),d.exit(b),d.exit(_),h(y)):B<R&&40===y?(d.consume(y),B++,raw):41===y?(d.consume(y),B--,raw):null===y||32===y||40===y||asciiControl(y)?g(y):(d.consume(y),92===y?rawEscape:raw)}function rawEscape(h){return 40===h||41===h||92===h?(d.consume(h),raw):raw(h)}}function factoryLabel(d,h,g,_,y,A){let b;let k=this,w=0;return function(h){return d.enter(_),d.enter(y),d.consume(h),d.exit(y),d.enter(A),atBreak};function atBreak(R){return w>999||null===R||91===R||93===R&&!b||94===R&&!w&&"_hiddenFootnoteSupport"in k.parser.constructs?g(R):93===R?(d.exit(A),d.enter(y),d.consume(R),d.exit(y),d.exit(_),h):markdownLineEnding(R)?(d.enter("lineEnding"),d.consume(R),d.exit("lineEnding"),atBreak):(d.enter("chunkString",{contentType:"string"}),labelInside(R))}function labelInside(h){return null===h||91===h||93===h||markdownLineEnding(h)||w++>999?(d.exit("chunkString"),atBreak(h)):(d.consume(h),b||(b=!markdownSpace(h)),92===h?labelEscape:labelInside)}function labelEscape(h){return 91===h||92===h||93===h?(d.consume(h),w++,labelInside):labelInside(h)}}function factoryTitle(d,h,g,_,y,A){let b;return function(h){return 34===h||39===h||40===h?(d.enter(_),d.enter(y),d.consume(h),d.exit(y),b=40===h?41:h,begin):g(h)};function begin(g){return g===b?(d.enter(y),d.consume(g),d.exit(y),d.exit(_),h):(d.enter(A),atBreak(g))}function atBreak(h){return h===b?(d.exit(A),begin(b)):null===h?g(h):markdownLineEnding(h)?(d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),factorySpace(d,atBreak,"linePrefix")):(d.enter("chunkString",{contentType:"string"}),inside(h))}function inside(h){return h===b||null===h||markdownLineEnding(h)?(d.exit("chunkString"),atBreak(h)):(d.consume(h),92===h?escape:inside)}function escape(h){return h===b||92===h?(d.consume(h),inside):inside(h)}}function factoryWhitespace(d,h){let g;return function start(_){return markdownLineEnding(_)?(d.enter("lineEnding"),d.consume(_),d.exit("lineEnding"),g=!0,start):markdownSpace(_)?factorySpace(d,start,g?"linePrefix":"lineSuffix")(_):h(_)}}let at={partial:!0,tokenize:function(d,h,g){return function(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(d,beforeMarker)(h):g(h)};function beforeMarker(h){return factoryTitle(d,titleAfter,g,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function titleAfter(h){return markdownSpace(h)?factorySpace(d,titleAfterOptionalWhitespace,"whitespace")(h):titleAfterOptionalWhitespace(h)}function titleAfterOptionalWhitespace(d){return null===d||markdownLineEnding(d)?h(d):g(d)}}},an={name:"codeIndented",tokenize:function(d,h,g){let _=this;return function(h){return d.enter("codeIndented"),factorySpace(d,afterPrefix,"linePrefix",5)(h)};function afterPrefix(h){let y=_.events[_.events.length-1];return y&&"linePrefix"===y[1].type&&y[2].sliceSerialize(y[1],!0).length>=4?function atBreak(h){return null===h?after(h):markdownLineEnding(h)?d.attempt(ar,atBreak,after)(h):(d.enter("codeFlowValue"),function inside(h){return null===h||markdownLineEnding(h)?(d.exit("codeFlowValue"),atBreak(h)):(d.consume(h),inside)}(h))}(h):g(h)}function after(g){return d.exit("codeIndented"),h(g)}}},ar={partial:!0,tokenize:function(d,h,g){let _=this;return furtherStart;function furtherStart(h){return _.parser.lazy[_.now().line]?g(h):markdownLineEnding(h)?(d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),furtherStart):factorySpace(d,afterPrefix,"linePrefix",5)(h)}function afterPrefix(d){let y=_.events[_.events.length-1];return y&&"linePrefix"===y[1].type&&y[2].sliceSerialize(y[1],!0).length>=4?h(d):markdownLineEnding(d)?furtherStart(d):g(d)}}},al={name:"setextUnderline",resolveTo:function(d,h){let g,_,y,A=d.length;for(;A--;)if("enter"===d[A][0]){if("content"===d[A][1].type){g=A;break}"paragraph"===d[A][1].type&&(_=A)}else"content"===d[A][1].type&&d.splice(A,1),y||"definition"!==d[A][1].type||(y=A);let b={type:"setextHeading",start:{...d[_][1].start},end:{...d[d.length-1][1].end}};return d[_][1].type="setextHeadingText",y?(d.splice(_,0,["enter",b,h]),d.splice(y+1,0,["exit",d[g][1],h]),d[g][1].end={...d[y][1].end}):d[g][1]=b,d.push(["exit",b,h]),d},tokenize:function(d,h,g){let _;let y=this;return function(h){let A,b=y.events.length;for(;b--;)if("lineEnding"!==y.events[b][1].type&&"linePrefix"!==y.events[b][1].type&&"content"!==y.events[b][1].type){A="paragraph"===y.events[b][1].type;break}return!y.parser.lazy[y.now().line]&&(y.interrupt||A)?(d.enter("setextHeadingLine"),_=h,d.enter("setextHeadingLineSequence"),function inside(h){return h===_?(d.consume(h),inside):(d.exit("setextHeadingLineSequence"),markdownSpace(h)?factorySpace(d,after,"lineSuffix")(h):after(h))}(h)):g(h)};function after(_){return null===_||markdownLineEnding(_)?(d.exit("setextHeadingLine"),h(_)):g(_)}}},ac=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],au=["pre","script","style","textarea"],ad={partial:!0,tokenize:function(d,h,g){return function(_){return d.enter("lineEnding"),d.consume(_),d.exit("lineEnding"),d.attempt(iY,h,g)}}},ah={partial:!0,tokenize:function(d,h,g){let _=this;return function(h){return markdownLineEnding(h)?(d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),after):g(h)};function after(d){return _.parser.lazy[_.now().line]?g(d):h(d)}}},ap={partial:!0,tokenize:function(d,h,g){let _=this;return function(h){return null===h?g(h):(d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),lineStart)};function lineStart(d){return _.parser.lazy[_.now().line]?g(d):h(d)}}},af={concrete:!0,name:"codeFenced",tokenize:function(d,h,g){let _;let y=this,A={partial:!0,tokenize:function(d,h,g){let A=0;return function(h){return d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),start};function start(h){return d.enter("codeFencedFence"),markdownSpace(h)?factorySpace(d,beforeSequenceClose,"linePrefix",y.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):beforeSequenceClose(h)}function beforeSequenceClose(h){return h===_?(d.enter("codeFencedFenceSequence"),function sequenceClose(h){return h===_?(A++,d.consume(h),sequenceClose):A>=k?(d.exit("codeFencedFenceSequence"),markdownSpace(h)?factorySpace(d,sequenceCloseAfter,"whitespace")(h):sequenceCloseAfter(h)):g(h)}(h)):g(h)}function sequenceCloseAfter(_){return null===_||markdownLineEnding(_)?(d.exit("codeFencedFence"),h(_)):g(_)}}},b=0,k=0;return function(h){return function(h){let A=y.events[y.events.length-1];return b=A&&"linePrefix"===A[1].type?A[2].sliceSerialize(A[1],!0).length:0,_=h,d.enter("codeFenced"),d.enter("codeFencedFence"),d.enter("codeFencedFenceSequence"),function sequenceOpen(h){return h===_?(k++,d.consume(h),sequenceOpen):k<3?g(h):(d.exit("codeFencedFenceSequence"),markdownSpace(h)?factorySpace(d,infoBefore,"whitespace")(h):infoBefore(h))}(h)}(h)};function infoBefore(A){return null===A||markdownLineEnding(A)?(d.exit("codeFencedFence"),y.interrupt?h(A):d.check(ap,atNonLazyBreak,after)(A)):(d.enter("codeFencedFenceInfo"),d.enter("chunkString",{contentType:"string"}),function info(h){return null===h||markdownLineEnding(h)?(d.exit("chunkString"),d.exit("codeFencedFenceInfo"),infoBefore(h)):markdownSpace(h)?(d.exit("chunkString"),d.exit("codeFencedFenceInfo"),factorySpace(d,metaBefore,"whitespace")(h)):96===h&&h===_?g(h):(d.consume(h),info)}(A))}function metaBefore(h){return null===h||markdownLineEnding(h)?infoBefore(h):(d.enter("codeFencedFenceMeta"),d.enter("chunkString",{contentType:"string"}),function meta(h){return null===h||markdownLineEnding(h)?(d.exit("chunkString"),d.exit("codeFencedFenceMeta"),infoBefore(h)):96===h&&h===_?g(h):(d.consume(h),meta)}(h))}function atNonLazyBreak(h){return d.attempt(A,after,contentBefore)(h)}function contentBefore(h){return d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),contentStart}function contentStart(h){return b>0&&markdownSpace(h)?factorySpace(d,beforeContentChunk,"linePrefix",b+1)(h):beforeContentChunk(h)}function beforeContentChunk(h){return null===h||markdownLineEnding(h)?d.check(ap,atNonLazyBreak,after)(h):(d.enter("codeFlowValue"),function contentChunk(h){return null===h||markdownLineEnding(h)?(d.exit("codeFlowValue"),beforeContentChunk(h)):(d.consume(h),contentChunk)}(h))}function after(g){return d.exit("codeFenced"),h(g)}}},am=document.createElement("i");function decodeNamedCharacterReference(d){let h="&"+d+";";am.innerHTML=h;let g=am.textContent;return(59!==g.charCodeAt(g.length-1)||"semi"===d)&&g!==h&&g}let ag={name:"characterReference",tokenize:function(d,h,g){let _,y;let A=this,b=0;return function(h){return d.enter("characterReference"),d.enter("characterReferenceMarker"),d.consume(h),d.exit("characterReferenceMarker"),open};function open(h){return 35===h?(d.enter("characterReferenceMarkerNumeric"),d.consume(h),d.exit("characterReferenceMarkerNumeric"),numeric):(d.enter("characterReferenceValue"),_=31,y=iA,value(h))}function numeric(h){return 88===h||120===h?(d.enter("characterReferenceMarkerHexadecimal"),d.consume(h),d.exit("characterReferenceMarkerHexadecimal"),d.enter("characterReferenceValue"),_=6,y=ik,value):(d.enter("characterReferenceValue"),_=7,y=iS,value(h))}function value(k){if(59===k&&b){let _=d.exit("characterReferenceValue");return y!==iA||decodeNamedCharacterReference(A.sliceSerialize(_))?(d.enter("characterReferenceMarker"),d.consume(k),d.exit("characterReferenceMarker"),d.exit("characterReference"),h):g(k)}return y(k)&&b++<_?(d.consume(k),value):g(k)}}},aE={name:"characterEscape",tokenize:function(d,h,g){return function(h){return d.enter("characterEscape"),d.enter("escapeMarker"),d.consume(h),d.exit("escapeMarker"),inside};function inside(_){return iC(_)?(d.enter("characterEscapeValue"),d.consume(_),d.exit("characterEscapeValue"),d.exit("characterEscape"),h):g(_)}}},a_={name:"lineEnding",tokenize:function(d,h){return function(g){return d.enter("lineEnding"),d.consume(g),d.exit("lineEnding"),factorySpace(d,h,"linePrefix")}}},aT={name:"labelEnd",resolveAll:function(d){let h=-1,g=[];for(;++h<d.length;){let _=d[h][1];if(g.push(d[h]),"labelImage"===_.type||"labelLink"===_.type||"labelEnd"===_.type){let d="labelImage"===_.type?4:2;_.type="data",h+=d}}return d.length!==g.length&&splice(d,0,d.length,g),d},resolveTo:function(d,h){let g,_,y,A,b=d.length,k=0;for(;b--;)if(g=d[b][1],_){if("link"===g.type||"labelLink"===g.type&&g._inactive)break;"enter"===d[b][0]&&"labelLink"===g.type&&(g._inactive=!0)}else if(y){if("enter"===d[b][0]&&("labelImage"===g.type||"labelLink"===g.type)&&!g._balanced&&(_=b,"labelLink"!==g.type)){k=2;break}}else"labelEnd"===g.type&&(y=b);let w={type:"labelLink"===d[_][1].type?"link":"image",start:{...d[_][1].start},end:{...d[d.length-1][1].end}},R={type:"label",start:{...d[_][1].start},end:{...d[y][1].end}},B={type:"labelText",start:{...d[_+k+2][1].end},end:{...d[y-2][1].start}};return A=push(A=[["enter",w,h],["enter",R,h]],d.slice(_+1,_+k+3)),A=push(A,[["enter",B,h]]),A=push(A,resolveAll(h.parser.constructs.insideSpan.null,d.slice(_+k+4,y-3),h)),A=push(A,[["exit",B,h],d[y-2],d[y-1],["exit",R,h]]),A=push(A,d.slice(y+1)),A=push(A,[["exit",w,h]]),splice(d,_,d.length,A),d},tokenize:function(d,h,g){let _,y;let A=this,b=A.events.length;for(;b--;)if(("labelImage"===A.events[b][1].type||"labelLink"===A.events[b][1].type)&&!A.events[b][1]._balanced){_=A.events[b][1];break}return function(h){return _?_._inactive?labelEndNok(h):(y=A.parser.defined.includes(normalizeIdentifier(A.sliceSerialize({start:_.end,end:A.now()}))),d.enter("labelEnd"),d.enter("labelMarker"),d.consume(h),d.exit("labelMarker"),d.exit("labelEnd"),after):g(h)};function after(h){return 40===h?d.attempt(av,labelEndOk,y?labelEndOk:labelEndNok)(h):91===h?d.attempt(ay,labelEndOk,y?referenceNotFull:labelEndNok)(h):y?labelEndOk(h):labelEndNok(h)}function referenceNotFull(h){return d.attempt(aA,labelEndOk,labelEndNok)(h)}function labelEndOk(d){return h(d)}function labelEndNok(d){return _._balanced=!0,g(d)}}},av={tokenize:function(d,h,g){return function(h){return d.enter("resource"),d.enter("resourceMarker"),d.consume(h),d.exit("resourceMarker"),resourceBefore};function resourceBefore(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(d,resourceOpen)(h):resourceOpen(h)}function resourceOpen(h){return 41===h?resourceEnd(h):factoryDestination(d,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function resourceDestinationAfter(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(d,resourceBetween)(h):resourceEnd(h)}function resourceDestinationMissing(d){return g(d)}function resourceBetween(h){return 34===h||39===h||40===h?factoryTitle(d,resourceTitleAfter,g,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):resourceEnd(h)}function resourceTitleAfter(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(d,resourceEnd)(h):resourceEnd(h)}function resourceEnd(_){return 41===_?(d.enter("resourceMarker"),d.consume(_),d.exit("resourceMarker"),d.exit("resource"),h):g(_)}}},ay={tokenize:function(d,h,g){let _=this;return function(h){return factoryLabel.call(_,d,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")(h)};function referenceFullAfter(d){return _.parser.defined.includes(normalizeIdentifier(_.sliceSerialize(_.events[_.events.length-1][1]).slice(1,-1)))?h(d):g(d)}function referenceFullMissing(d){return g(d)}}},aA={tokenize:function(d,h,g){return function(h){return d.enter("reference"),d.enter("referenceMarker"),d.consume(h),d.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen(_){return 93===_?(d.enter("referenceMarker"),d.consume(_),d.exit("referenceMarker"),d.exit("reference"),h):g(_)}}},ab={name:"labelStartImage",resolveAll:aT.resolveAll,tokenize:function(d,h,g){let _=this;return function(h){return d.enter("labelImage"),d.enter("labelImageMarker"),d.consume(h),d.exit("labelImageMarker"),open};function open(h){return 91===h?(d.enter("labelMarker"),d.consume(h),d.exit("labelMarker"),d.exit("labelImage"),after):g(h)}function after(d){return 94===d&&"_hiddenFootnoteSupport"in _.parser.constructs?g(d):h(d)}}},aS={name:"attention",resolveAll:function(d,h){let g,_,y,A,b,k,w,R,B=-1;for(;++B<d.length;)if("enter"===d[B][0]&&"attentionSequence"===d[B][1].type&&d[B][1]._close){for(g=B;g--;)if("exit"===d[g][0]&&"attentionSequence"===d[g][1].type&&d[g][1]._open&&h.sliceSerialize(d[g][1]).charCodeAt(0)===h.sliceSerialize(d[B][1]).charCodeAt(0)){if((d[g][1]._close||d[B][1]._open)&&(d[B][1].end.offset-d[B][1].start.offset)%3&&!((d[g][1].end.offset-d[g][1].start.offset+d[B][1].end.offset-d[B][1].start.offset)%3))continue;k=d[g][1].end.offset-d[g][1].start.offset>1&&d[B][1].end.offset-d[B][1].start.offset>1?2:1;let H={...d[g][1].end},z={...d[B][1].start};movePoint(H,-k),movePoint(z,k),A={type:k>1?"strongSequence":"emphasisSequence",start:H,end:{...d[g][1].end}},b={type:k>1?"strongSequence":"emphasisSequence",start:{...d[B][1].start},end:z},y={type:k>1?"strongText":"emphasisText",start:{...d[g][1].end},end:{...d[B][1].start}},_={type:k>1?"strong":"emphasis",start:{...A.start},end:{...b.end}},d[g][1].end={...A.start},d[B][1].start={...b.end},w=[],d[g][1].end.offset-d[g][1].start.offset&&(w=push(w,[["enter",d[g][1],h],["exit",d[g][1],h]])),w=push(w,[["enter",_,h],["enter",A,h],["exit",A,h],["enter",y,h]]),w=push(w,resolveAll(h.parser.constructs.insideSpan.null,d.slice(g+1,B),h)),w=push(w,[["exit",y,h],["enter",b,h],["exit",b,h],["exit",_,h]]),d[B][1].end.offset-d[B][1].start.offset?(R=2,w=push(w,[["enter",d[B][1],h],["exit",d[B][1],h]])):R=0,splice(d,g-1,B-g+3,w),B=g+w.length-R-2;break}}for(B=-1;++B<d.length;)"attentionSequence"===d[B][1].type&&(d[B][1].type="data");return d},tokenize:function(d,h){let g;let _=this.parser.constructs.attentionMarkers.null,y=this.previous,A=classifyCharacter(y);return function(b){return g=b,d.enter("attentionSequence"),function inside(b){if(b===g)return d.consume(b),inside;let k=d.exit("attentionSequence"),w=classifyCharacter(b),R=!w||2===w&&A||_.includes(b),B=!A||2===A&&w||_.includes(y);return k._open=!!(42===g?R:R&&(A||!B)),k._close=!!(42===g?B:B&&(w||!R)),h(b)}(b)}}};function movePoint(d,h){d.column+=h,d.offset+=h,d._bufferIndex+=h}let ak={name:"labelStartLink",resolveAll:aT.resolveAll,tokenize:function(d,h,g){let _=this;return function(h){return d.enter("labelLink"),d.enter("labelMarker"),d.consume(h),d.exit("labelMarker"),d.exit("labelLink"),after};function after(d){return 94===d&&"_hiddenFootnoteSupport"in _.parser.constructs?g(d):h(d)}}},aC={42:i8,43:i8,45:i8,48:i8,49:i8,50:i8,51:i8,52:i8,53:i8,54:i8,55:i8,56:i8,57:i8,62:ae},ax={91:{name:"definition",tokenize:function(d,h,g){let _;let y=this;return function(h){return d.enter("definition"),factoryLabel.call(y,d,labelAfter,g,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)};function labelAfter(h){return(_=normalizeIdentifier(y.sliceSerialize(y.events[y.events.length-1][1]).slice(1,-1)),58===h)?(d.enter("definitionMarker"),d.consume(h),d.exit("definitionMarker"),markerAfter):g(h)}function markerAfter(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(d,destinationBefore)(h):destinationBefore(h)}function destinationBefore(h){return factoryDestination(d,destinationAfter,g,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function destinationAfter(h){return d.attempt(at,after,after)(h)}function after(h){return markdownSpace(h)?factorySpace(d,afterWhitespace,"whitespace")(h):afterWhitespace(h)}function afterWhitespace(A){return null===A||markdownLineEnding(A)?(d.exit("definition"),y.parser.defined.push(_),h(A)):g(A)}}}},aI={[-2]:an,[-1]:an,32:an},aw={35:{name:"headingAtx",resolve:function(d,h){let g,_,y=d.length-2,A=3;return"whitespace"===d[3][1].type&&(A+=2),y-2>A&&"whitespace"===d[y][1].type&&(y-=2),"atxHeadingSequence"===d[y][1].type&&(A===y-1||y-4>A&&"whitespace"===d[y-2][1].type)&&(y-=A+1===y?2:4),y>A&&(g={type:"atxHeadingText",start:d[A][1].start,end:d[y][1].end},_={type:"chunkText",start:d[A][1].start,end:d[y][1].end,contentType:"text"},splice(d,A,y-A+1,[["enter",g,h],["enter",_,h],["exit",_,h],["exit",g,h]])),d},tokenize:function(d,h,g){let _=0;return function(y){return d.enter("atxHeading"),d.enter("atxHeadingSequence"),function sequenceOpen(y){return 35===y&&_++<6?(d.consume(y),sequenceOpen):null===y||markdownLineEndingOrSpace(y)?(d.exit("atxHeadingSequence"),function atBreak(g){return 35===g?(d.enter("atxHeadingSequence"),function sequenceFurther(h){return 35===h?(d.consume(h),sequenceFurther):(d.exit("atxHeadingSequence"),atBreak(h))}(g)):null===g||markdownLineEnding(g)?(d.exit("atxHeading"),h(g)):markdownSpace(g)?factorySpace(d,atBreak,"whitespace")(g):(d.enter("atxHeadingText"),function data(h){return null===h||35===h||markdownLineEndingOrSpace(h)?(d.exit("atxHeadingText"),atBreak(h)):(d.consume(h),data)}(g))}(y)):g(y)}(y)}}},42:i6,45:[al,i6],60:{concrete:!0,name:"htmlFlow",resolveTo:function(d){let h=d.length;for(;h--&&("enter"!==d[h][0]||"htmlFlow"!==d[h][1].type););return h>1&&"linePrefix"===d[h-2][1].type&&(d[h][1].start=d[h-2][1].start,d[h+1][1].start=d[h-2][1].start,d.splice(h-2,2)),d},tokenize:function(d,h,g){let _,y,A,b,k;let w=this;return function(h){return d.enter("htmlFlow"),d.enter("htmlFlowData"),d.consume(h),open};function open(b){return 33===b?(d.consume(b),declarationOpen):47===b?(d.consume(b),y=!0,tagCloseStart):63===b?(d.consume(b),_=3,w.interrupt?h:continuationDeclarationInside):iy(b)?(d.consume(b),A=String.fromCharCode(b),tagName):g(b)}function declarationOpen(y){return 45===y?(d.consume(y),_=2,commentOpenInside):91===y?(d.consume(y),_=5,b=0,cdataOpenInside):iy(y)?(d.consume(y),_=4,w.interrupt?h:continuationDeclarationInside):g(y)}function commentOpenInside(_){return 45===_?(d.consume(_),w.interrupt?h:continuationDeclarationInside):g(_)}function cdataOpenInside(_){let y="CDATA[";return _===y.charCodeAt(b++)?(d.consume(_),b===y.length)?w.interrupt?h:continuation:cdataOpenInside:g(_)}function tagCloseStart(h){return iy(h)?(d.consume(h),A=String.fromCharCode(h),tagName):g(h)}function tagName(b){if(null===b||47===b||62===b||markdownLineEndingOrSpace(b)){let k=47===b,R=A.toLowerCase();return!k&&!y&&au.includes(R)?(_=1,w.interrupt?h(b):continuation(b)):ac.includes(A.toLowerCase())?(_=6,k)?(d.consume(b),basicSelfClosing):w.interrupt?h(b):continuation(b):(_=7,w.interrupt&&!w.parser.lazy[w.now().line]?g(b):y?function completeClosingTagAfter(h){return markdownSpace(h)?(d.consume(h),completeClosingTagAfter):completeEnd(h)}(b):completeAttributeNameBefore(b))}return 45===b||iA(b)?(d.consume(b),A+=String.fromCharCode(b),tagName):g(b)}function basicSelfClosing(_){return 62===_?(d.consume(_),w.interrupt?h:continuation):g(_)}function completeAttributeNameBefore(h){return 47===h?(d.consume(h),completeEnd):58===h||95===h||iy(h)?(d.consume(h),completeAttributeName):markdownSpace(h)?(d.consume(h),completeAttributeNameBefore):completeEnd(h)}function completeAttributeName(h){return 45===h||46===h||58===h||95===h||iA(h)?(d.consume(h),completeAttributeName):completeAttributeNameAfter(h)}function completeAttributeNameAfter(h){return 61===h?(d.consume(h),completeAttributeValueBefore):markdownSpace(h)?(d.consume(h),completeAttributeNameAfter):completeAttributeNameBefore(h)}function completeAttributeValueBefore(h){return null===h||60===h||61===h||62===h||96===h?g(h):34===h||39===h?(d.consume(h),k=h,completeAttributeValueQuoted):markdownSpace(h)?(d.consume(h),completeAttributeValueBefore):function completeAttributeValueUnquoted(h){return null===h||34===h||39===h||47===h||60===h||61===h||62===h||96===h||markdownLineEndingOrSpace(h)?completeAttributeNameAfter(h):(d.consume(h),completeAttributeValueUnquoted)}(h)}function completeAttributeValueQuoted(h){return h===k?(d.consume(h),k=null,completeAttributeValueQuotedAfter):null===h||markdownLineEnding(h)?g(h):(d.consume(h),completeAttributeValueQuoted)}function completeAttributeValueQuotedAfter(d){return 47===d||62===d||markdownSpace(d)?completeAttributeNameBefore(d):g(d)}function completeEnd(h){return 62===h?(d.consume(h),completeAfter):g(h)}function completeAfter(h){return null===h||markdownLineEnding(h)?continuation(h):markdownSpace(h)?(d.consume(h),completeAfter):g(h)}function continuation(h){return 45===h&&2===_?(d.consume(h),continuationCommentInside):60===h&&1===_?(d.consume(h),continuationRawTagOpen):62===h&&4===_?(d.consume(h),continuationClose):63===h&&3===_?(d.consume(h),continuationDeclarationInside):93===h&&5===_?(d.consume(h),continuationCdataInside):markdownLineEnding(h)&&(6===_||7===_)?(d.exit("htmlFlowData"),d.check(ad,continuationAfter,continuationStart)(h)):null===h||markdownLineEnding(h)?(d.exit("htmlFlowData"),continuationStart(h)):(d.consume(h),continuation)}function continuationStart(h){return d.check(ah,continuationStartNonLazy,continuationAfter)(h)}function continuationStartNonLazy(h){return d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),continuationBefore}function continuationBefore(h){return null===h||markdownLineEnding(h)?continuationStart(h):(d.enter("htmlFlowData"),continuation(h))}function continuationCommentInside(h){return 45===h?(d.consume(h),continuationDeclarationInside):continuation(h)}function continuationRawTagOpen(h){return 47===h?(d.consume(h),A="",continuationRawEndTag):continuation(h)}function continuationRawEndTag(h){if(62===h){let g=A.toLowerCase();return au.includes(g)?(d.consume(h),continuationClose):continuation(h)}return iy(h)&&A.length<8?(d.consume(h),A+=String.fromCharCode(h),continuationRawEndTag):continuation(h)}function continuationCdataInside(h){return 93===h?(d.consume(h),continuationDeclarationInside):continuation(h)}function continuationDeclarationInside(h){return 62===h?(d.consume(h),continuationClose):45===h&&2===_?(d.consume(h),continuationDeclarationInside):continuation(h)}function continuationClose(h){return null===h||markdownLineEnding(h)?(d.exit("htmlFlowData"),continuationAfter(h)):(d.consume(h),continuationClose)}function continuationAfter(g){return d.exit("htmlFlow"),h(g)}}},61:al,95:i6,96:af,126:af},aO={38:ag,92:aE},aN={[-5]:a_,[-4]:a_,[-3]:a_,33:ab,38:ag,42:aS,60:[{name:"autolink",tokenize:function(d,h,g){let _=0;return function(h){return d.enter("autolink"),d.enter("autolinkMarker"),d.consume(h),d.exit("autolinkMarker"),d.enter("autolinkProtocol"),open};function open(h){return iy(h)?(d.consume(h),schemeOrEmailAtext):64===h?g(h):emailAtext(h)}function schemeOrEmailAtext(h){return 43===h||45===h||46===h||iA(h)?(_=1,function schemeInsideOrEmailAtext(h){return 58===h?(d.consume(h),_=0,urlInside):(43===h||45===h||46===h||iA(h))&&_++<32?(d.consume(h),schemeInsideOrEmailAtext):(_=0,emailAtext(h))}(h)):emailAtext(h)}function urlInside(_){return 62===_?(d.exit("autolinkProtocol"),d.enter("autolinkMarker"),d.consume(_),d.exit("autolinkMarker"),d.exit("autolink"),h):null===_||32===_||60===_||asciiControl(_)?g(_):(d.consume(_),urlInside)}function emailAtext(h){return 64===h?(d.consume(h),emailAtSignOrDot):ib(h)?(d.consume(h),emailAtext):g(h)}function emailAtSignOrDot(y){return iA(y)?function emailLabel(y){return 46===y?(d.consume(y),_=0,emailAtSignOrDot):62===y?(d.exit("autolinkProtocol").type="autolinkEmail",d.enter("autolinkMarker"),d.consume(y),d.exit("autolinkMarker"),d.exit("autolink"),h):function emailValue(h){if((45===h||iA(h))&&_++<63){let g=45===h?emailValue:emailLabel;return d.consume(h),g}return g(h)}(y)}(y):g(y)}}},{name:"htmlText",tokenize:function(d,h,g){let _,y,A;let b=this;return function(h){return d.enter("htmlText"),d.enter("htmlTextData"),d.consume(h),open};function open(h){return 33===h?(d.consume(h),declarationOpen):47===h?(d.consume(h),tagCloseStart):63===h?(d.consume(h),instruction):iy(h)?(d.consume(h),tagOpen):g(h)}function declarationOpen(h){return 45===h?(d.consume(h),commentOpenInside):91===h?(d.consume(h),y=0,cdataOpenInside):iy(h)?(d.consume(h),declaration):g(h)}function commentOpenInside(h){return 45===h?(d.consume(h),commentEnd):g(h)}function comment(h){return null===h?g(h):45===h?(d.consume(h),commentClose):markdownLineEnding(h)?(A=comment,lineEndingBefore(h)):(d.consume(h),comment)}function commentClose(h){return 45===h?(d.consume(h),commentEnd):comment(h)}function commentEnd(d){return 62===d?end(d):45===d?commentClose(d):comment(d)}function cdataOpenInside(h){let _="CDATA[";return h===_.charCodeAt(y++)?(d.consume(h),y===_.length?cdata:cdataOpenInside):g(h)}function cdata(h){return null===h?g(h):93===h?(d.consume(h),cdataClose):markdownLineEnding(h)?(A=cdata,lineEndingBefore(h)):(d.consume(h),cdata)}function cdataClose(h){return 93===h?(d.consume(h),cdataEnd):cdata(h)}function cdataEnd(h){return 62===h?end(h):93===h?(d.consume(h),cdataEnd):cdata(h)}function declaration(h){return null===h||62===h?end(h):markdownLineEnding(h)?(A=declaration,lineEndingBefore(h)):(d.consume(h),declaration)}function instruction(h){return null===h?g(h):63===h?(d.consume(h),instructionClose):markdownLineEnding(h)?(A=instruction,lineEndingBefore(h)):(d.consume(h),instruction)}function instructionClose(d){return 62===d?end(d):instruction(d)}function tagCloseStart(h){return iy(h)?(d.consume(h),tagClose):g(h)}function tagClose(h){return 45===h||iA(h)?(d.consume(h),tagClose):function tagCloseBetween(h){return markdownLineEnding(h)?(A=tagCloseBetween,lineEndingBefore(h)):markdownSpace(h)?(d.consume(h),tagCloseBetween):end(h)}(h)}function tagOpen(h){return 45===h||iA(h)?(d.consume(h),tagOpen):47===h||62===h||markdownLineEndingOrSpace(h)?tagOpenBetween(h):g(h)}function tagOpenBetween(h){return 47===h?(d.consume(h),end):58===h||95===h||iy(h)?(d.consume(h),tagOpenAttributeName):markdownLineEnding(h)?(A=tagOpenBetween,lineEndingBefore(h)):markdownSpace(h)?(d.consume(h),tagOpenBetween):end(h)}function tagOpenAttributeName(h){return 45===h||46===h||58===h||95===h||iA(h)?(d.consume(h),tagOpenAttributeName):function tagOpenAttributeNameAfter(h){return 61===h?(d.consume(h),tagOpenAttributeValueBefore):markdownLineEnding(h)?(A=tagOpenAttributeNameAfter,lineEndingBefore(h)):markdownSpace(h)?(d.consume(h),tagOpenAttributeNameAfter):tagOpenBetween(h)}(h)}function tagOpenAttributeValueBefore(h){return null===h||60===h||61===h||62===h||96===h?g(h):34===h||39===h?(d.consume(h),_=h,tagOpenAttributeValueQuoted):markdownLineEnding(h)?(A=tagOpenAttributeValueBefore,lineEndingBefore(h)):markdownSpace(h)?(d.consume(h),tagOpenAttributeValueBefore):(d.consume(h),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted(h){return h===_?(d.consume(h),_=void 0,tagOpenAttributeValueQuotedAfter):null===h?g(h):markdownLineEnding(h)?(A=tagOpenAttributeValueQuoted,lineEndingBefore(h)):(d.consume(h),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted(h){return null===h||34===h||39===h||60===h||61===h||96===h?g(h):47===h||62===h||markdownLineEndingOrSpace(h)?tagOpenBetween(h):(d.consume(h),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(d){return 47===d||62===d||markdownLineEndingOrSpace(d)?tagOpenBetween(d):g(d)}function end(_){return 62===_?(d.consume(_),d.exit("htmlTextData"),d.exit("htmlText"),h):g(_)}function lineEndingBefore(h){return d.exit("htmlTextData"),d.enter("lineEnding"),d.consume(h),d.exit("lineEnding"),lineEndingAfter}function lineEndingAfter(h){return markdownSpace(h)?factorySpace(d,lineEndingAfterPrefix,"linePrefix",b.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):lineEndingAfterPrefix(h)}function lineEndingAfterPrefix(h){return d.enter("htmlTextData"),A(h)}}}],91:ak,92:[{name:"hardBreakEscape",tokenize:function(d,h,g){return function(h){return d.enter("hardBreakEscape"),d.consume(h),after};function after(_){return markdownLineEnding(_)?(d.exit("hardBreakEscape"),h(_)):g(_)}}},aE],93:aT,95:aS,96:{name:"codeText",previous:function(d){return 96!==d||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(d){let h,g,_=d.length-4,y=3;if(("lineEnding"===d[3][1].type||"space"===d[y][1].type)&&("lineEnding"===d[_][1].type||"space"===d[_][1].type)){for(h=y;++h<_;)if("codeTextData"===d[h][1].type){d[y][1].type="codeTextPadding",d[_][1].type="codeTextPadding",y+=2,_-=2;break}}for(h=y-1,_++;++h<=_;)void 0===g?h!==_&&"lineEnding"!==d[h][1].type&&(g=h):(h===_||"lineEnding"===d[h][1].type)&&(d[g][1].type="codeTextData",h!==g+2&&(d[g][1].end=d[h-1][1].end,d.splice(g+2,h-g-2),_-=h-g-2,h=g+2),g=void 0);return d},tokenize:function(d,h,g){let _,y,A=0;return function(h){return d.enter("codeText"),d.enter("codeTextSequence"),function sequenceOpen(h){return 96===h?(d.consume(h),A++,sequenceOpen):(d.exit("codeTextSequence"),between(h))}(h)};function between(b){return null===b?g(b):32===b?(d.enter("space"),d.consume(b),d.exit("space"),between):96===b?(y=d.enter("codeTextSequence"),_=0,function sequenceClose(g){return 96===g?(d.consume(g),_++,sequenceClose):_===A?(d.exit("codeTextSequence"),d.exit("codeText"),h(g)):(y.type="codeTextData",data(g))}(b)):markdownLineEnding(b)?(d.enter("lineEnding"),d.consume(b),d.exit("lineEnding"),between):(d.enter("codeTextData"),data(b))}function data(h){return null===h||32===h||96===h||markdownLineEnding(h)?(d.exit("codeTextData"),between(h)):(d.consume(h),data)}}}},aR={null:[aS,i3]},aD={null:[42,95]},aL={null:[]},aM=/[\0\t\n\r]/g;function decodeNumericCharacterReference(d,h){let g=Number.parseInt(d,h);return g<9||11===g||g>13&&g<32||g>126&&g<160||g>55295&&g<57344||g>64975&&g<65008||(65535&g)==65535||(65535&g)==65534||g>1114111?"�":String.fromCodePoint(g)}let aP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decode(d,h,g){if(h)return h;let _=g.charCodeAt(0);if(35===_){let d=g.charCodeAt(1),h=120===d||88===d;return decodeNumericCharacterReference(g.slice(h?2:1),h?16:10)}return decodeNamedCharacterReference(g)||d}function stringifyPosition(d){return d&&"object"==typeof d?"position"in d||"type"in d?unist_util_stringify_position_lib_position(d.position):"start"in d||"end"in d?unist_util_stringify_position_lib_position(d):"line"in d||"column"in d?unist_util_stringify_position_lib_point(d):"":""}function unist_util_stringify_position_lib_point(d){return index(d&&d.line)+":"+index(d&&d.column)}function unist_util_stringify_position_lib_position(d){return unist_util_stringify_position_lib_point(d&&d.start)+"-"+unist_util_stringify_position_lib_point(d&&d.end)}function index(d){return d&&"number"==typeof d?d:1}let aF={}.hasOwnProperty;function mdast_util_from_markdown_lib_point(d){return{line:d.line,column:d.column,offset:d.offset}}function defaultOnError(d,h){if(d)throw Error("Cannot close `"+d.type+"` ("+stringifyPosition({start:d.start,end:d.end})+"): a different token (`"+h.type+"`, "+stringifyPosition({start:h.start,end:h.end})+") is open");throw Error("Cannot close document, a token (`"+h.type+"`, "+stringifyPosition({start:h.start,end:h.end})+") is still open")}function remarkParse(d){let h=this;h.parser=function(g){var _,y;let A,b,k,w;return"string"!=typeof(_={...h.data("settings"),...d,extensions:h.data("micromarkExtensions")||[],mdastExtensions:h.data("fromMarkdownExtensions")||[]})&&(y=_,_=void 0),(function(d){let h={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(function(){return{type:"blockquote",children:[]}}),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(function(){return{type:"inlineCode",value:""}},buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(function(){return{type:"image",title:null,url:"",alt:null}}),label:buffer,link:opener(link),listItem:opener(function(d){return{type:"listItem",spread:d._spread,checked:null,children:[]}}),listItemValue:function(d){if(this.data.expectingFirstListItemValue){let h=this.stack[this.stack.length-2];h.start=Number.parseInt(this.sliceSerialize(d),10),this.data.expectingFirstListItemValue=void 0}},listOrdered:opener(list,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:opener(list),paragraph:opener(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(function(){return{type:"strong",children:[]}}),thematicBreak:opener(function(){return{type:"thematicBreak"}})},exit:{atxHeading:closer(),atxHeadingSequence:function(d){let h=this.stack[this.stack.length-1];if(!h.depth){let g=this.sliceSerialize(d).length;h.depth=g}},autolink:closer(),autolinkEmail:function(d){onexitdata.call(this,d);let h=this.stack[this.stack.length-1];h.url="mailto:"+this.sliceSerialize(d)},autolinkProtocol:function(d){onexitdata.call(this,d);let h=this.stack[this.stack.length-1];h.url=this.sliceSerialize(d)},blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:function(d){let h;let g=this.sliceSerialize(d),_=this.data.characterReferenceType;if(_)h=decodeNumericCharacterReference(g,"characterReferenceMarkerNumeric"===_?10:16),this.data.characterReferenceType=void 0;else{let d=decodeNamedCharacterReference(g);h=d}let y=this.stack[this.stack.length-1];y.value+=h},characterReference:function(d){let h=this.stack.pop();h.position.end=mdast_util_from_markdown_lib_point(d.end)},codeFenced:closer(function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.value=d.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.lang=d},codeFencedFenceMeta:function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.meta=d},codeFlowValue:onexitdata,codeIndented:closer(function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.value=d.replace(/(\r?\n|\r)$/g,"")}),codeText:closer(function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.value=d}),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.url=d},definitionLabelString:function(d){let h=this.resume(),g=this.stack[this.stack.length-1];g.label=h,g.identifier=normalizeIdentifier(this.sliceSerialize(d)).toLowerCase()},definitionTitleString:function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.title=d},emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.value=d}),htmlFlowData:onexitdata,htmlText:closer(function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.value=d}),htmlTextData:onexitdata,image:closer(function(){let d=this.stack[this.stack.length-1];if(this.data.inReference){let h=this.data.referenceType||"shortcut";d.type+="Reference",d.referenceType=h,delete d.url,delete d.title}else delete d.identifier,delete d.label;this.data.referenceType=void 0}),label:function(){let d=this.stack[this.stack.length-1],h=this.resume(),g=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===g.type){let h=d.children;g.children=h}else g.alt=h},labelText:function(d){let h=this.sliceSerialize(d),g=this.stack[this.stack.length-2];g.label=h.replace(aP,decode),g.identifier=normalizeIdentifier(h).toLowerCase()},lineEnding:function(d){let g=this.stack[this.stack.length-1];if(this.data.atHardBreak){let h=g.children[g.children.length-1];h.position.end=mdast_util_from_markdown_lib_point(d.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&h.canContainEols.includes(g.type)&&(onenterdata.call(this,d),onexitdata.call(this,d))},link:closer(function(){let d=this.stack[this.stack.length-1];if(this.data.inReference){let h=this.data.referenceType||"shortcut";d.type+="Reference",d.referenceType=h,delete d.url,delete d.title}else delete d.identifier,delete d.label;this.data.referenceType=void 0}),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:function(d){let h=this.resume(),g=this.stack[this.stack.length-1];g.label=h,g.identifier=normalizeIdentifier(this.sliceSerialize(d)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.url=d},resourceTitleString:function(){let d=this.resume(),h=this.stack[this.stack.length-1];h.title=d},resource:function(){this.data.inReference=void 0},setextHeading:closer(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(d){let h=this.stack[this.stack.length-1];h.depth=61===this.sliceSerialize(d).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:closer(),thematicBreak:closer()}};(function configure(d,h){let g=-1;for(;++g<h.length;){let _=h[g];Array.isArray(_)?configure(d,_):function(d,h){let g;for(g in h)if(aF.call(h,g))switch(g){case"canContainEols":{let _=h[g];_&&d[g].push(..._);break}case"transforms":{let _=h[g];_&&d[g].push(..._);break}case"enter":case"exit":{let _=h[g];_&&Object.assign(d[g],_)}}}(d,_)}})(h,(d||{}).mdastExtensions||[]);let g={};return function(d){let _={type:"root",children:[]},y={stack:[_],tokenStack:[],config:h,enter,exit,buffer,resume,data:g},A=[],b=-1;for(;++b<d.length;)if("listOrdered"===d[b][1].type||"listUnordered"===d[b][1].type){if("enter"===d[b][0])A.push(b);else{let h=A.pop();b=function(d,h,g){let _,y,A,b,k=h-1,w=-1,R=!1;for(;++k<=g;){let h=d[k];switch(h[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===h[0]?w++:w--,b=void 0;break;case"lineEndingBlank":"enter"===h[0]&&(!_||b||w||A||(A=k),b=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:b=void 0}if(!w&&"enter"===h[0]&&"listItemPrefix"===h[1].type||-1===w&&"exit"===h[0]&&("listUnordered"===h[1].type||"listOrdered"===h[1].type)){if(_){let b=k;for(y=void 0;b--;){let h=d[b];if("lineEnding"===h[1].type||"lineEndingBlank"===h[1].type){if("exit"===h[0])continue;y&&(d[y][1].type="lineEndingBlank",R=!0),h[1].type="lineEnding",y=b}else if("linePrefix"===h[1].type||"blockQuotePrefix"===h[1].type||"blockQuotePrefixWhitespace"===h[1].type||"blockQuoteMarker"===h[1].type||"listItemIndent"===h[1].type);else break}A&&(!y||A<y)&&(_._spread=!0),_.end=Object.assign({},y?d[y][1].start:h[1].end),d.splice(y||k,0,["exit",_,h[2]]),k++,g++}if("listItemPrefix"===h[1].type){let y={type:"listItem",_spread:!1,start:Object.assign({},h[1].start),end:void 0};_=y,d.splice(k,0,["enter",y,h[2]]),k++,g++,A=void 0,b=!0}}}return d[h][1]._spread=R,g}(d,h,b)}}for(b=-1;++b<d.length;){let g=h[d[b][0]];aF.call(g,d[b][1].type)&&g[d[b][1].type].call(Object.assign({sliceSerialize:d[b][2].sliceSerialize},y),d[b][1])}if(y.tokenStack.length>0){let d=y.tokenStack[y.tokenStack.length-1],h=d[1]||defaultOnError;h.call(y,void 0,d[0])}for(_.position={start:mdast_util_from_markdown_lib_point(d.length>0?d[0][1].start:{line:1,column:1,offset:0}),end:mdast_util_from_markdown_lib_point(d.length>0?d[d.length-2][1].end:{line:1,column:1,offset:0})},b=-1;++b<h.transforms.length;)_=h.transforms[b](_)||_;return _};function opener(d,h){return function(g){enter.call(this,d(g),g),h&&h.call(this,g)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(d,h,g){let _=this.stack[this.stack.length-1],y=_.children;y.push(d),this.stack.push(d),this.tokenStack.push([h,g||void 0]),d.position={start:mdast_util_from_markdown_lib_point(h.start),end:void 0}}function closer(d){return function(h){d&&d.call(this,h),exit.call(this,h)}}function exit(d,h){let g=this.stack.pop(),_=this.tokenStack.pop();if(_){if(_[0].type!==d.type){if(h)h.call(this,d,_[0]);else{let h=_[1]||defaultOnError;h.call(this,d,_[0])}}}else throw Error("Cannot close `"+d.type+"` ("+stringifyPosition({start:d.start,end:d.end})+"): it’s not open");g.position.end=mdast_util_from_markdown_lib_point(d.end)}function resume(){return lib_toString(this.stack.pop())}function onenterdata(d){let h=this.stack[this.stack.length-1],g=h.children,_=g[g.length-1];_&&"text"===_.type||((_={type:"text",value:""}).position={start:mdast_util_from_markdown_lib_point(d.start),end:void 0},g.push(_)),this.stack.push(_)}function onexitdata(d){let h=this.stack.pop();h.value+=this.sliceSerialize(d),h.position.end=mdast_util_from_markdown_lib_point(d.end)}function onexithardbreak(){this.data.atHardBreak=!0}function onexitcharacterreferencemarker(d){this.data.characterReferenceType=d.type}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function heading(){return{type:"heading",depth:0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(d){return{type:"list",ordered:"listOrdered"===d.type,start:null,spread:d._spread,children:[]}}})(y)(function(d){for(;!subtokenize(d););return d}((function(d){let h=combineExtensions([eU,...(d||{}).extensions||[]]),g={constructs:h,content:create(iK),defined:[],document:create(iJ),flow:create(i2),lazy:{},string:create(i4),text:create(i5)};return g;function create(d){return function(h){return function(d,h,g){let _={_bufferIndex:-1,_index:0,line:g&&g.line||1,column:g&&g.column||1,offset:g&&g.offset||0},y={},A=[],b=[],k=[],w={attempt:constructFactory(function(d,h){addResult(d,h.from)}),check:constructFactory(onsuccessfulcheck),consume:function(d){markdownLineEnding(d)?(_.line++,_.column=1,_.offset+=-3===d?2:1,accountForPotentialSkip()):-1!==d&&(_.column++,_.offset++),_._bufferIndex<0?_._index++:(_._bufferIndex++,_._bufferIndex===b[_._index].length&&(_._bufferIndex=-1,_._index++)),R.previous=d},enter:function(d,h){let g=h||{};return g.type=d,g.start=now(),R.events.push(["enter",g,R]),k.push(g),g},exit:function(d){let h=k.pop();return h.end=now(),R.events.push(["exit",h,R]),h},interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},R={code:null,containerState:{},defineSkip:function(d){y[d.line]=d.column,accountForPotentialSkip()},events:[],now,parser:d,previous:null,sliceSerialize:function(d,h){return function(d,h){let g,_=-1,y=[];for(;++_<d.length;){let A;let b=d[_];if("string"==typeof b)A=b;else switch(b){case -5:A="\r";break;case -4:A="\n";break;case -3:A="\r\n";break;case -2:A=h?" ":"	";break;case -1:if(!h&&g)continue;A=" ";break;default:A=String.fromCharCode(b)}g=-2===b,y.push(A)}return y.join("")}(sliceStream(d),h)},sliceStream,write:function(d){return(b=push(b,d),function(){let d;for(;_._index<b.length;){var h;let g=b[_._index];if("string"==typeof g)for(d=_._index,_._bufferIndex<0&&(_._bufferIndex=0);_._index===d&&_._bufferIndex<g.length;)h=g.charCodeAt(_._bufferIndex),B=B(h);else B=B(g)}}(),null!==b[b.length-1])?[]:(addResult(h,0),R.events=resolveAll(A,R.events,R),R.events)}},B=h.tokenize.call(R,w);return h.resolveAll&&A.push(h),R;function sliceStream(d){return function(d,h){let g;let _=h.start._index,y=h.start._bufferIndex,A=h.end._index,b=h.end._bufferIndex;if(_===A)g=[d[_].slice(y,b)];else{if(g=d.slice(_,A),y>-1){let d=g[0];"string"==typeof d?g[0]=d.slice(y):g.shift()}b>0&&g.push(d[A].slice(0,b))}return g}(b,d)}function now(){let{_bufferIndex:d,_index:h,line:g,column:y,offset:A}=_;return{_bufferIndex:d,_index:h,line:g,column:y,offset:A}}function onsuccessfulcheck(d,h){h.restore()}function constructFactory(d,h){return function(g,y,A){let b,B,H,z;return Array.isArray(g)?handleListOfConstructs(g):"tokenize"in g?handleListOfConstructs([g]):function(d){let h=null!==d&&g[d],_=null!==d&&g.null,y=[...Array.isArray(h)?h:h?[h]:[],...Array.isArray(_)?_:_?[_]:[]];return handleListOfConstructs(y)(d)};function handleListOfConstructs(d){return(b=d,B=0,0===d.length)?A:handleConstruct(d[B])}function handleConstruct(d){return function(g){return(z=function(){let d=now(),h=R.previous,g=R.currentConstruct,y=R.events.length,A=Array.from(k);return{from:y,restore:function(){_=d,R.previous=h,R.currentConstruct=g,R.events.length=y,k=A,accountForPotentialSkip()}}}(),H=d,d.partial||(R.currentConstruct=d),d.name&&R.parser.constructs.disable.null.includes(d.name))?nok(g):d.tokenize.call(h?Object.assign(Object.create(R),h):R,w,ok,nok)(g)}}function ok(h){return d(H,z),y}function nok(d){return(z.restore(),++B<b.length)?handleConstruct(b[B]):A}}}function addResult(d,h){d.resolveAll&&!A.includes(d)&&A.push(d),d.resolve&&splice(R.events,h,R.events.length-h,d.resolve(R.events.slice(h),R)),d.resolveTo&&(R.events=d.resolveTo(R.events,R))}function accountForPotentialSkip(){_.line in y&&_.column<2&&(_.column=y[_.line],_.offset+=y[_.line]-1)}}(g,d,h)}}})(y).document().write((b=1,k="",w=!0,function(d,h,g){let _,y,R,B,H;let z=[];for(d=k+("string"==typeof d?d.toString():new TextDecoder(h||void 0).decode(d)),R=0,k="",w&&(65279===d.charCodeAt(0)&&R++,w=void 0);R<d.length;){if(aM.lastIndex=R,B=(_=aM.exec(d))&&void 0!==_.index?_.index:d.length,H=d.charCodeAt(B),!_){k=d.slice(R);break}if(10===H&&R===B&&A)z.push(-3),A=void 0;else switch(A&&(z.push(-5),A=void 0),R<B&&(z.push(d.slice(R,B)),b+=B-R),H){case 0:z.push(65533),b++;break;case 9:for(y=4*Math.ceil(b/4),z.push(-2);b++<y;)z.push(-1);break;case 10:z.push(-4),b=1;break;default:A=!0,b=1}R=B+1}return g&&(A&&z.push(-5),k&&z.push(k),z.push(null)),z})(g,_,!0))))}}function normalizeUri(d){let h=[],g=-1,_=0,y=0;for(;++g<d.length;){let A=d.charCodeAt(g),b="";if(37===A&&iA(d.charCodeAt(g+1))&&iA(d.charCodeAt(g+2)))y=2;else if(A<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(A))||(b=String.fromCharCode(A));else if(A>55295&&A<57344){let h=d.charCodeAt(g+1);A<56320&&h>56319&&h<57344?(b=String.fromCharCode(A,h),y=1):b="�"}else b=String.fromCharCode(A);b&&(h.push(d.slice(_,g),encodeURIComponent(b)),_=g+y+1,b=""),y&&(g+=y,y=0)}return h.join("")+d.slice(_)}function defaultFootnoteBackContent(d,h){let g=[{type:"text",value:"↩"}];return h>1&&g.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(h)}]}),g}function defaultFootnoteBackLabel(d,h){return"Back to reference "+(d+1)+(h>1?"-"+h:"")}let aB=unist_util_position_lib_point("end"),aU=unist_util_position_lib_point("start");function unist_util_position_lib_point(d){return function(h){let g=h&&h.position&&h.position[d]||{};if("number"==typeof g.line&&g.line>0&&"number"==typeof g.column&&g.column>0)return{line:g.line,column:g.column,offset:"number"==typeof g.offset&&g.offset>-1?g.offset:void 0}}}function revert(d,h){let g=h.referenceType,_="]";if("collapsed"===g?_+="[]":"full"===g&&(_+="["+(h.label||h.identifier)+"]"),"imageReference"===h.type)return[{type:"text",value:"!["+h.alt+_}];let y=d.all(h),A=y[0];A&&"text"===A.type?A.value="["+A.value:y.unshift({type:"text",value:"["});let b=y[y.length-1];return b&&"text"===b.type?b.value+=_:y.push({type:"text",value:_}),y}function listItemLoose(d){let h=d.spread;return null==h?d.children.length>1:h}function trimLine(d,h,g){let _=0,y=d.length;if(h){let h=d.codePointAt(_);for(;9===h||32===h;)_++,h=d.codePointAt(_)}if(g){let h=d.codePointAt(y-1);for(;9===h||32===h;)y--,h=d.codePointAt(y-1)}return y>_?d.slice(_,y):""}let aH={blockquote:function(d,h){let g={type:"element",tagName:"blockquote",properties:{},children:d.wrap(d.all(h),!0)};return d.patch(h,g),d.applyData(h,g)},break:function(d,h){let g={type:"element",tagName:"br",properties:{},children:[]};return d.patch(h,g),[d.applyData(h,g),{type:"text",value:"\n"}]},code:function(d,h){let g=h.value?h.value+"\n":"",_={};h.lang&&(_.className=["language-"+h.lang]);let y={type:"element",tagName:"code",properties:_,children:[{type:"text",value:g}]};return h.meta&&(y.data={meta:h.meta}),d.patch(h,y),y={type:"element",tagName:"pre",properties:{},children:[y=d.applyData(h,y)]},d.patch(h,y),y},delete:function(d,h){let g={type:"element",tagName:"del",properties:{},children:d.all(h)};return d.patch(h,g),d.applyData(h,g)},emphasis:function(d,h){let g={type:"element",tagName:"em",properties:{},children:d.all(h)};return d.patch(h,g),d.applyData(h,g)},footnoteReference:function(d,h){let g;let _="string"==typeof d.options.clobberPrefix?d.options.clobberPrefix:"user-content-",y=String(h.identifier).toUpperCase(),A=normalizeUri(y.toLowerCase()),b=d.footnoteOrder.indexOf(y),k=d.footnoteCounts.get(y);void 0===k?(k=0,d.footnoteOrder.push(y),g=d.footnoteOrder.length):g=b+1,k+=1,d.footnoteCounts.set(y,k);let w={type:"element",tagName:"a",properties:{href:"#"+_+"fn-"+A,id:_+"fnref-"+A+(k>1?"-"+k:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(g)}]};d.patch(h,w);let R={type:"element",tagName:"sup",properties:{},children:[w]};return d.patch(h,R),d.applyData(h,R)},heading:function(d,h){let g={type:"element",tagName:"h"+h.depth,properties:{},children:d.all(h)};return d.patch(h,g),d.applyData(h,g)},html:function(d,h){if(d.options.allowDangerousHtml){let g={type:"raw",value:h.value};return d.patch(h,g),d.applyData(h,g)}},imageReference:function(d,h){let g=String(h.identifier).toUpperCase(),_=d.definitionById.get(g);if(!_)return revert(d,h);let y={src:normalizeUri(_.url||""),alt:h.alt};null!==_.title&&void 0!==_.title&&(y.title=_.title);let A={type:"element",tagName:"img",properties:y,children:[]};return d.patch(h,A),d.applyData(h,A)},image:function(d,h){let g={src:normalizeUri(h.url)};null!==h.alt&&void 0!==h.alt&&(g.alt=h.alt),null!==h.title&&void 0!==h.title&&(g.title=h.title);let _={type:"element",tagName:"img",properties:g,children:[]};return d.patch(h,_),d.applyData(h,_)},inlineCode:function(d,h){let g={type:"text",value:h.value.replace(/\r?\n|\r/g," ")};d.patch(h,g);let _={type:"element",tagName:"code",properties:{},children:[g]};return d.patch(h,_),d.applyData(h,_)},linkReference:function(d,h){let g=String(h.identifier).toUpperCase(),_=d.definitionById.get(g);if(!_)return revert(d,h);let y={href:normalizeUri(_.url||"")};null!==_.title&&void 0!==_.title&&(y.title=_.title);let A={type:"element",tagName:"a",properties:y,children:d.all(h)};return d.patch(h,A),d.applyData(h,A)},link:function(d,h){let g={href:normalizeUri(h.url)};null!==h.title&&void 0!==h.title&&(g.title=h.title);let _={type:"element",tagName:"a",properties:g,children:d.all(h)};return d.patch(h,_),d.applyData(h,_)},listItem:function(d,h,g){let _=d.all(h),y=g?function(d){let h=!1;if("list"===d.type){h=d.spread||!1;let g=d.children,_=-1;for(;!h&&++_<g.length;)h=listItemLoose(g[_])}return h}(g):listItemLoose(h),A={},b=[];if("boolean"==typeof h.checked){let d;let g=_[0];g&&"element"===g.type&&"p"===g.tagName?d=g:(d={type:"element",tagName:"p",properties:{},children:[]},_.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:h.checked,disabled:!0},children:[]}),A.className=["task-list-item"]}let k=-1;for(;++k<_.length;){let d=_[k];(y||0!==k||"element"!==d.type||"p"!==d.tagName)&&b.push({type:"text",value:"\n"}),"element"!==d.type||"p"!==d.tagName||y?b.push(d):b.push(...d.children)}let w=_[_.length-1];w&&(y||"element"!==w.type||"p"!==w.tagName)&&b.push({type:"text",value:"\n"});let R={type:"element",tagName:"li",properties:A,children:b};return d.patch(h,R),d.applyData(h,R)},list:function(d,h){let g={},_=d.all(h),y=-1;for("number"==typeof h.start&&1!==h.start&&(g.start=h.start);++y<_.length;){let d=_[y];if("element"===d.type&&"li"===d.tagName&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){g.className=["contains-task-list"];break}}let A={type:"element",tagName:h.ordered?"ol":"ul",properties:g,children:d.wrap(_,!0)};return d.patch(h,A),d.applyData(h,A)},paragraph:function(d,h){let g={type:"element",tagName:"p",properties:{},children:d.all(h)};return d.patch(h,g),d.applyData(h,g)},root:function(d,h){let g={type:"root",children:d.wrap(d.all(h))};return d.patch(h,g),d.applyData(h,g)},strong:function(d,h){let g={type:"element",tagName:"strong",properties:{},children:d.all(h)};return d.patch(h,g),d.applyData(h,g)},table:function(d,h){let g=d.all(h),_=g.shift(),y=[];if(_){let g={type:"element",tagName:"thead",properties:{},children:d.wrap([_],!0)};d.patch(h.children[0],g),y.push(g)}if(g.length>0){let _={type:"element",tagName:"tbody",properties:{},children:d.wrap(g,!0)},A=aU(h.children[1]),b=aB(h.children[h.children.length-1]);A&&b&&(_.position={start:A,end:b}),y.push(_)}let A={type:"element",tagName:"table",properties:{},children:d.wrap(y,!0)};return d.patch(h,A),d.applyData(h,A)},tableCell:function(d,h){let g={type:"element",tagName:"td",properties:{},children:d.all(h)};return d.patch(h,g),d.applyData(h,g)},tableRow:function(d,h,g){let _=g?g.children:void 0,y=_?_.indexOf(h):1,A=0===y?"th":"td",b=g&&"table"===g.type?g.align:void 0,k=b?b.length:h.children.length,w=-1,R=[];for(;++w<k;){let g=h.children[w],_={},y=b?b[w]:void 0;y&&(_.align=y);let k={type:"element",tagName:A,properties:_,children:[]};g&&(k.children=d.all(g),d.patch(g,k),k=d.applyData(g,k)),R.push(k)}let B={type:"element",tagName:"tr",properties:{},children:d.wrap(R,!0)};return d.patch(h,B),d.applyData(h,B)},text:function(d,h){let g={type:"text",value:function(d){let h=String(d),g=/\r?\n|\r/g,_=g.exec(h),y=0,A=[];for(;_;)A.push(trimLine(h.slice(y,_.index),y>0,!0),_[0]),y=_.index+_[0].length,_=g.exec(h);return A.push(trimLine(h.slice(y),y>0,!1)),A.join("")}(String(h.value))};return d.patch(h,g),d.applyData(h,g)},thematicBreak:function(d,h){let g={type:"element",tagName:"hr",properties:{},children:[]};return d.patch(h,g),d.applyData(h,g)},toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}let aG={}.hasOwnProperty,az={};function state_patch(d,h){d.position&&(h.position=function(d){let h=aU(d),g=aB(d);if(h&&g)return{start:h,end:g}}(d))}function applyData(d,h){let g=h;if(d&&d.data){let h=d.data.hName,_=d.data.hChildren,y=d.data.hProperties;if("string"==typeof h){if("element"===g.type)g.tagName=h;else{let d="children"in g?g.children:[g];g={type:"element",tagName:h,properties:{},children:d}}}"element"===g.type&&y&&Object.assign(g.properties,nz(y)),"children"in g&&g.children&&null!=_&&(g.children=_)}return g}function defaultUnknownHandler(d,h){let g=h.data||{},_="value"in h&&!(aG.call(g,"hProperties")||aG.call(g,"hChildren"))?{type:"text",value:h.value}:{type:"element",tagName:"div",properties:{},children:d.all(h)};return d.patch(h,_),d.applyData(h,_)}function wrap(d,h){let g=[],_=-1;for(h&&g.push({type:"text",value:"\n"});++_<d.length;)_&&g.push({type:"text",value:"\n"}),g.push(d[_]);return h&&d.length>0&&g.push({type:"text",value:"\n"}),g}function trimMarkdownSpaceStart(d){let h=0,g=d.charCodeAt(h);for(;9===g||32===g;)h++,g=d.charCodeAt(h);return d.slice(h)}function toHast(d,h){let g=function(d,h){let g=h||az,_=new Map,y=new Map,A=new Map,b={...aH,...g.handlers},k={all:function(d){let h=[];if("children"in d){let g=d.children,_=-1;for(;++_<g.length;){let y=k.one(g[_],d);if(y){if(_&&"break"===g[_-1].type&&(Array.isArray(y)||"text"!==y.type||(y.value=trimMarkdownSpaceStart(y.value)),!Array.isArray(y)&&"element"===y.type)){let d=y.children[0];d&&"text"===d.type&&(d.value=trimMarkdownSpaceStart(d.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h},applyData,definitionById:_,footnoteById:y,footnoteCounts:A,footnoteOrder:[],handlers:b,one:function(d,h){let g=d.type,_=k.handlers[g];if(aG.call(k.handlers,g)&&_)return _(k,d,h);if(k.options.passThrough&&k.options.passThrough.includes(g)){if("children"in d){let{children:h,...g}=d,_=nz(g);return _.children=k.all(d),_}return nz(d)}let y=k.options.unknownHandler||defaultUnknownHandler;return y(k,d,h)},options:g,patch:state_patch,wrap};return lib_visit(d,function(d){if("definition"===d.type||"footnoteDefinition"===d.type){let h="definition"===d.type?_:y,g=String(d.identifier).toUpperCase();h.has(g)||h.set(g,d)}}),k}(d,h),_=g.one(d,void 0),y=function(d){let h="string"==typeof d.options.clobberPrefix?d.options.clobberPrefix:"user-content-",g=d.options.footnoteBackContent||defaultFootnoteBackContent,_=d.options.footnoteBackLabel||defaultFootnoteBackLabel,y=d.options.footnoteLabel||"Footnotes",A=d.options.footnoteLabelTagName||"h2",b=d.options.footnoteLabelProperties||{className:["sr-only"]},k=[],w=-1;for(;++w<d.footnoteOrder.length;){let y=d.footnoteById.get(d.footnoteOrder[w]);if(!y)continue;let A=d.all(y),b=String(y.identifier).toUpperCase(),R=normalizeUri(b.toLowerCase()),B=0,H=[],z=d.footnoteCounts.get(b);for(;void 0!==z&&++B<=z;){H.length>0&&H.push({type:"text",value:" "});let d="string"==typeof g?g:g(w,B);"string"==typeof d&&(d={type:"text",value:d}),H.push({type:"element",tagName:"a",properties:{href:"#"+h+"fnref-"+R+(B>1?"-"+B:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof _?_:_(w,B),className:["data-footnote-backref"]},children:Array.isArray(d)?d:[d]})}let $=A[A.length-1];if($&&"element"===$.type&&"p"===$.tagName){let d=$.children[$.children.length-1];d&&"text"===d.type?d.value+=" ":$.children.push({type:"text",value:" "}),$.children.push(...H)}else A.push(...H);let j={type:"element",tagName:"li",properties:{id:h+"fn-"+R},children:d.wrap(A,!0)};d.patch(y,j),k.push(j)}if(0!==k.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:A,properties:{...nz(b),id:"footnote-label"},children:[{type:"text",value:y}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:d.wrap(k,!0)},{type:"text",value:"\n"}]}}(g),A=Array.isArray(_)?{type:"root",children:_}:_||{type:"root",children:[]};return y&&A.children.push({type:"text",value:"\n"},y),A}function remarkRehype(d,h){return d&&"run"in d?async function(g,_){let y=toHast(g,{file:_,...h});await d.run(y,_)}:function(g,_){return toHast(g,{file:_,...d||h})}}function bail(d){if(d)throw d}var aV=g(4470);function isPlainObject(d){if("object"!=typeof d||null===d)return!1;let h=Object.getPrototypeOf(d);return(null===h||h===Object.prototype||null===Object.getPrototypeOf(h))&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)}let VFileMessage=class VFileMessage extends Error{constructor(d,h,g){super(),"string"==typeof h&&(g=h,h=void 0);let _="",y={},A=!1;if(h&&(y="line"in h&&"column"in h?{place:h}:"start"in h&&"end"in h?{place:h}:"type"in h?{ancestors:[h],place:h.position}:{...h}),"string"==typeof d?_=d:!y.cause&&d&&(A=!0,_=d.message,y.cause=d),!y.ruleId&&!y.source&&"string"==typeof g){let d=g.indexOf(":");-1===d?y.ruleId=g:(y.source=g.slice(0,d),y.ruleId=g.slice(d+1))}if(!y.place&&y.ancestors&&y.ancestors){let d=y.ancestors[y.ancestors.length-1];d&&(y.place=d.position)}let b=y.place&&"start"in y.place?y.place.start:y.place;this.ancestors=y.ancestors||void 0,this.cause=y.cause||void 0,this.column=b?b.column:void 0,this.fatal=void 0,this.file,this.message=_,this.line=b?b.line:void 0,this.name=stringifyPosition(y.place)||"1:1",this.place=y.place||void 0,this.reason=this.message,this.ruleId=y.ruleId||void 0,this.source=y.source||void 0,this.stack=A&&y.cause&&"string"==typeof y.cause.stack?y.cause.stack:"",this.actual,this.expected,this.note,this.url}};VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.column=void 0,VFileMessage.prototype.line=void 0,VFileMessage.prototype.ancestors=void 0,VFileMessage.prototype.cause=void 0,VFileMessage.prototype.fatal=void 0,VFileMessage.prototype.place=void 0,VFileMessage.prototype.ruleId=void 0,VFileMessage.prototype.source=void 0;let a$={basename:function(d,h){let g;if(void 0!==h&&"string"!=typeof h)throw TypeError('"ext" argument must be a string');assertPath(d);let _=0,y=-1,A=d.length;if(void 0===h||0===h.length||h.length>d.length){for(;A--;)if(47===d.codePointAt(A)){if(g){_=A+1;break}}else y<0&&(g=!0,y=A+1);return y<0?"":d.slice(_,y)}if(h===d)return"";let b=-1,k=h.length-1;for(;A--;)if(47===d.codePointAt(A)){if(g){_=A+1;break}}else b<0&&(g=!0,b=A+1),k>-1&&(d.codePointAt(A)===h.codePointAt(k--)?k<0&&(y=A):(k=-1,y=b));return _===y?y=b:y<0&&(y=d.length),d.slice(_,y)},dirname:function(d){let h;if(assertPath(d),0===d.length)return".";let g=-1,_=d.length;for(;--_;)if(47===d.codePointAt(_)){if(h){g=_;break}}else h||(h=!0);return g<0?47===d.codePointAt(0)?"/":".":1===g&&47===d.codePointAt(0)?"//":d.slice(0,g)},extname:function(d){let h;assertPath(d);let g=d.length,_=-1,y=0,A=-1,b=0;for(;g--;){let k=d.codePointAt(g);if(47===k){if(h){y=g+1;break}continue}_<0&&(h=!0,_=g+1),46===k?A<0?A=g:1!==b&&(b=1):A>-1&&(b=-1)}return A<0||_<0||0===b||1===b&&A===_-1&&A===y+1?"":d.slice(A,_)},join:function(...d){let h,g=-1;for(;++g<d.length;)assertPath(d[g]),d[g]&&(h=void 0===h?d[g]:h+"/"+d[g]);return void 0===h?".":function(d){assertPath(d);let h=47===d.codePointAt(0),g=function(d,h){let g,_,y="",A=0,b=-1,k=0,w=-1;for(;++w<=d.length;){if(w<d.length)g=d.codePointAt(w);else if(47===g)break;else g=47;if(47===g){if(b===w-1||1===k);else if(b!==w-1&&2===k){if(y.length<2||2!==A||46!==y.codePointAt(y.length-1)||46!==y.codePointAt(y.length-2)){if(y.length>2){if((_=y.lastIndexOf("/"))!==y.length-1){_<0?(y="",A=0):A=(y=y.slice(0,_)).length-1-y.lastIndexOf("/"),b=w,k=0;continue}}else if(y.length>0){y="",A=0,b=w,k=0;continue}}h&&(y=y.length>0?y+"/..":"..",A=2)}else y.length>0?y+="/"+d.slice(b+1,w):y=d.slice(b+1,w),A=w-b-1;b=w,k=0}else 46===g&&k>-1?k++:k=-1}return y}(d,!h);return 0!==g.length||h||(g="."),g.length>0&&47===d.codePointAt(d.length-1)&&(g+="/"),h?"/"+g:g}(h)},sep:"/"};function assertPath(d){if("string"!=typeof d)throw TypeError("Path must be a string. Received "+JSON.stringify(d))}let aQ={cwd:function(){return"/"}};function isUrl(d){return!!(null!==d&&"object"==typeof d&&"href"in d&&d.href&&"protocol"in d&&d.protocol&&void 0===d.auth)}let aj=["history","path","basename","stem","extname","dirname"];let VFile=class VFile{constructor(d){let h,g;h=d?isUrl(d)?{path:d}:"string"==typeof d||d&&"object"==typeof d&&"byteLength"in d&&"byteOffset"in d?{value:d}:d:{},this.cwd="cwd"in h?"":aQ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let _=-1;for(;++_<aj.length;){let d=aj[_];d in h&&void 0!==h[d]&&null!==h[d]&&(this[d]="history"===d?[...h[d]]:h[d])}for(g in h)aj.includes(g)||(this[g]=h[g])}get basename(){return"string"==typeof this.path?a$.basename(this.path):void 0}set basename(d){assertNonEmpty(d,"basename"),assertPart(d,"basename"),this.path=a$.join(this.dirname||"",d)}get dirname(){return"string"==typeof this.path?a$.dirname(this.path):void 0}set dirname(d){lib_assertPath(this.basename,"dirname"),this.path=a$.join(d||"",this.basename)}get extname(){return"string"==typeof this.path?a$.extname(this.path):void 0}set extname(d){if(assertPart(d,"extname"),lib_assertPath(this.dirname,"extname"),d){if(46!==d.codePointAt(0))throw Error("`extname` must start with `.`");if(d.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=a$.join(this.dirname,this.stem+(d||""))}get path(){return this.history[this.history.length-1]}set path(d){isUrl(d)&&(d=function(d){if("string"==typeof d)d=new URL(d);else if(!isUrl(d)){let h=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+d+"`");throw h.code="ERR_INVALID_ARG_TYPE",h}if("file:"!==d.protocol){let d=TypeError("The URL must be of scheme file");throw d.code="ERR_INVALID_URL_SCHEME",d}return function(d){if(""!==d.hostname){let d=TypeError('File URL host must be "localhost" or empty on darwin');throw d.code="ERR_INVALID_FILE_URL_HOST",d}let h=d.pathname,g=-1;for(;++g<h.length;)if(37===h.codePointAt(g)&&50===h.codePointAt(g+1)){let d=h.codePointAt(g+2);if(70===d||102===d){let d=TypeError("File URL path must not include encoded / characters");throw d.code="ERR_INVALID_FILE_URL_PATH",d}}return decodeURIComponent(h)}(d)}(d)),assertNonEmpty(d,"path"),this.path!==d&&this.history.push(d)}get stem(){return"string"==typeof this.path?a$.basename(this.path,this.extname):void 0}set stem(d){assertNonEmpty(d,"stem"),assertPart(d,"stem"),this.path=a$.join(this.dirname||"",d+(this.extname||""))}fail(d,h,g){let _=this.message(d,h,g);throw _.fatal=!0,_}info(d,h,g){let _=this.message(d,h,g);return _.fatal=void 0,_}message(d,h,g){let _=new VFileMessage(d,h,g);return this.path&&(_.name=this.path+":"+_.name,_.file=this.path),_.fatal=!1,this.messages.push(_),_}toString(d){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;let h=new TextDecoder(d||void 0);return h.decode(this.value)}};function assertPart(d,h){if(d&&d.includes(a$.sep))throw Error("`"+h+"` cannot be a path: did not expect `"+a$.sep+"`")}function assertNonEmpty(d,h){if(!d)throw Error("`"+h+"` cannot be empty")}function lib_assertPath(d,h){if(!d)throw Error("Setting `"+h+"` requires `path` to be set too")}let CallableInstance=function(d){let h=this.constructor,g=h.prototype,_=g[d],apply=function(){return _.apply(apply,arguments)};return Object.setPrototypeOf(apply,g),apply},aY={}.hasOwnProperty;let Processor=class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){let d=[],h={run:function(...h){let g=-1,_=h.pop();if("function"!=typeof _)throw TypeError("Expected function as last argument, not "+_);(function next(y,...A){let b=d[++g],k=-1;if(y){_(y);return}for(;++k<h.length;)(null===A[k]||void 0===A[k])&&(A[k]=h[k]);h=A,b?(function(d,h){let g;return function(...h){let _;let y=d.length>h.length;y&&h.push(done);try{_=d.apply(this,h)}catch(d){if(y&&g)throw d;return done(d)}y||(_ instanceof Promise?_.then(then,done):_ instanceof Error?done(_):then(_))};function done(d,..._){g||(g=!0,h(d,..._))}function then(d){done(null,d)}})(b,next)(...A):_(null,...A)})(null,...h)},use:function(g){if("function"!=typeof g)throw TypeError("Expected `middelware` to be a function, not "+g);return d.push(g),h}};return h}()}copy(){let d=new Processor,h=-1;for(;++h<this.attachers.length;){let g=this.attachers[h];d.use(...g)}return d.data(aV(!0,{},this.namespace)),d}data(d,h){return"string"==typeof d?2==arguments.length?(assertUnfrozen("data",this.frozen),this.namespace[d]=h,this):aY.call(this.namespace,d)&&this.namespace[d]||void 0:d?(assertUnfrozen("data",this.frozen),this.namespace=d,this):this.namespace}freeze(){if(this.frozen)return this;for(;++this.freezeIndex<this.attachers.length;){let[d,...h]=this.attachers[this.freezeIndex];if(!1===h[0])continue;!0===h[0]&&(h[0]=void 0);let g=d.call(this,...h);"function"==typeof g&&this.transformers.use(g)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(d){this.freeze();let h=vfile(d),g=this.parser||this.Parser;return assertParser("parse",g),g(String(h),h)}process(d,h){let g=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),h?executor(void 0,h):new Promise(executor);function executor(_,y){let A=vfile(d),b=g.parse(A);function realDone(d,g){d||!g?y(d):_?_(g):h(void 0,g)}g.run(b,A,function(d,h,_){if(d||!h||!_)return realDone(d);let y=g.stringify(h,_);"string"==typeof y||y&&"object"==typeof y&&"byteLength"in y&&"byteOffset"in y?_.value=y:_.result=y,realDone(d,_)})}}processSync(d){let h,g=!1;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(d,function(d,_){g=!0,bail(d),h=_}),assertDone("processSync","process",g),h}run(d,h,g){assertNode(d),this.freeze();let _=this.transformers;return g||"function"!=typeof h||(g=h,h=void 0),g?executor(void 0,g):new Promise(executor);function executor(y,A){let b=vfile(h);_.run(d,b,function(h,_,b){let k=_||d;h?A(h):y?y(k):g(void 0,k,b)})}}runSync(d,h){let g,_=!1;return this.run(d,h,function(d,h){bail(d),g=h,_=!0}),assertDone("runSync","run",_),g}stringify(d,h){this.freeze();let g=vfile(h),_=this.compiler||this.Compiler;return assertCompiler("stringify",_),assertNode(d),_(d,g)}use(d,...h){let g=this.attachers,_=this.namespace;if(assertUnfrozen("use",this.frozen),null==d);else if("function"==typeof d)addPlugin(d,h);else if("object"==typeof d)Array.isArray(d)?addList(d):addPreset(d);else throw TypeError("Expected usable value, not `"+d+"`");return this;function addPreset(d){if(!("plugins"in d)&&!("settings"in d))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");addList(d.plugins),d.settings&&(_.settings=aV(!0,_.settings,d.settings))}function addList(d){let h=-1;if(null==d);else if(Array.isArray(d))for(;++h<d.length;){let g=d[h];!function(d){if("function"==typeof d)addPlugin(d,[]);else if("object"==typeof d){if(Array.isArray(d)){let[h,...g]=d;addPlugin(h,g)}else addPreset(d)}else throw TypeError("Expected usable value, not `"+d+"`")}(g)}else throw TypeError("Expected a list of plugins, not `"+d+"`")}function addPlugin(d,h){let _=-1,y=-1;for(;++_<g.length;)if(g[_][0]===d){y=_;break}if(-1===y)g.push([d,...h]);else if(h.length>0){let[_,...A]=h,b=g[y][1];isPlainObject(b)&&isPlainObject(_)&&(_=aV(!0,b,_)),g[y]=[d,_,...A]}}}};let aq=new Processor().freeze();function assertParser(d,h){if("function"!=typeof h)throw TypeError("Cannot `"+d+"` without `parser`")}function assertCompiler(d,h){if("function"!=typeof h)throw TypeError("Cannot `"+d+"` without `compiler`")}function assertUnfrozen(d,h){if(h)throw Error("Cannot call `"+d+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(d){if(!isPlainObject(d)||"string"!=typeof d.type)throw TypeError("Expected node, got `"+d+"`")}function assertDone(d,h,g){if(!g)throw Error("`"+d+"` finished async. Use `"+h+"` instead")}function vfile(d){return d&&"object"==typeof d&&"message"in d&&"messages"in d?d:new VFile(d)}var aW={exports:{}},aX={};aW.exports=function(){if(eN)return aX;eN=1;var d=Symbol.for("react.element"),h=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,_=eV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function x(h,A,b){var k,w={},R=null,B=null;for(k in void 0!==b&&(R=""+b),void 0!==A.key&&(R=""+A.key),void 0!==A.ref&&(B=A.ref),A)g.call(A,k)&&!y.hasOwnProperty(k)&&(w[k]=A[k]);if(h&&h.defaultProps)for(k in A=h.defaultProps)void 0===w[k]&&(w[k]=A[k]);return{$$typeof:d,type:h,key:R,ref:B,props:w,_owner:_.current}}return aX.Fragment=h,aX.jsx=x,aX.jsxs=x,aX}();var aK=aW.exports;async function use_markdown_mr(d){let h=await aq().use(remarkParse).use(remarkGfm).use(remarkRehype,{allowDangerousHtml:!0}).use(rehypeRaw).use(rehypeStringify).processSync(d);return String(h)}var scroll_w=function(d){return function(){let h={type:d,getType:()=>d,toString:()=>d};return(d,g)=>({...h,...void 0!==d&&{payload:d},...void 0!==g&&{meta:g}})}},aJ="@iiif/IMPORT_ENTITIES",aZ="@iiif/MODIFY_ENTITY_FIELD",a0="@iiif/REORDER_ENTITY_FIELD",a1="@iiif/ADD_REFERENCE",a2="@iiif/UPDATE_REFERENCE",a3="@iiif/REMOVE_REFERENCE",a4="@iiif/ADD_METADATA",a5="@iiif/REMOVE_METADATA",a6="@iiif/UPDATE_METADATA",a8="@iiif/REORDER_METADATA",a9=scroll_w(aJ)(),a7=scroll_w(aZ)(),oe=scroll_w(a0)(),ot=scroll_w(a1)(),on=scroll_w(a3)(),or=scroll_w(a2)(),oo=scroll_w(a4)(),ol=scroll_w(a6)(),oc={importEntities:a9,modifyEntityField:a7,reorderEntityField:oe,addReference:ot,removeReference:on,updateReference:or,addMetadata:oo,removeMetadata:scroll_w(a5)(),updateMetadata:ol,reorderMetadata:scroll_w(a8)()},ou="@iiif/ADD_MAPPING",od="@iiif/ADD_MAPPINGS",oh=scroll_w(ou)(),op=scroll_w(od)(),of="RESOURCE_ERROR",om="RESOURCE_LOADING",og="RESOURCE_READY",oE="@iiif/REQUEST_RESOURCE",o_="@iiif/REQUEST_ERROR",oT="@iiif/REQUEST_MISMATCH",ov="@iiif/REQUEST_COMPLETE",oy=scroll_w(oE)(),oA=scroll_w(o_)(),ob=scroll_w(oT)(),oS=scroll_w(ov)(),oC="@iiif/BATCH",ox=scroll_w(oC)(),scroll_Ft=(d,h)=>{let{entities:g,resource:_,mapping:y}=Fe(h);if(void 0===_.id)return[oA({id:d,message:"ID is not defined in resource."})];let A=[a9({entities:g}),op({mapping:y})];return _.id!==d&&(A.push(oh({id:d,type:_.type})),A.push(ob({requestId:d,actualId:_.id}))),A.push(oS({id:d})),A},oI=Number.isNaN||function(d){return"number"==typeof d&&d!=d};function scroll_ve(d,h){if(!Array.isArray(d)||!Array.isArray(h))return d===h;if(d.length!==h.length)return!1;for(let y=0;y<d.length;y++){var g,_;if(!((g=d[y])===(_=h[y])||oI(g)&&oI(_)))return!1}return!0}function scroll_V(d,h,g){let _=d.iiif.requests[h],y=d.iiif.mapping[h];if(!y||!d.iiif.entities[y][_.resourceUri])return;let A=d.iiif.entities[y][_.resourceUri];if(A&&A[tl]){let d=A[tl].find(d=>d[tc]===A.id);return chunk_AXOUQGO3_oe(A,d)}return A}function scroll_ye(d,h,{waitTimeout:g=30}={}){return(_,y)=>{let A=d.getStore(),b=A.getState(),k=b.iiif.requests[_];if(k){if(k.loadingState===og){let d=scroll_V(b,_);if(d)return d}switch(k.loadingState){case of:break;case om:return(async()=>{let d,h=!1;try{let y=await Promise.race([new Promise((g,y)=>{h||(d=A.subscribe(()=>{let d=A.getState();if(d.iiif.requests[_].loadingState===of){y();return}if(d.iiif.requests[_].loadingState===og){let h=scroll_V(d,_);h?g(h):y()}}))}),new Promise((d,_)=>setTimeout(()=>{h=!0,_()},6e4*g))]);if(d&&d(),y)return y}catch{d&&d()}})()}}d.dispatch(oy({id:_}));let l=h=>{if(!h)return;h.id||h["@id"]||(h["@type"]&&(h["@id"]=_),h.id=_);let g=scroll_Ft(_,h);return d.dispatch(ox({actions:g})),scroll_V(A.getState(),_)};try{let g=h(_,y);return g&&"function"==typeof g.then?(async()=>{try{return l(await g)}catch(h){throw d.dispatch(oA({id:_,message:h.toString()})),h}})():l(g)}catch(h){throw d.dispatch(oA({id:_,message:h.toString()})),h}}}function scroll_Ge(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let ow={};var scroll_Ee=d=>{let h;let g=new Set,i=(d,_)=>{let y="function"==typeof d?d(h):d;if(!Object.is(y,h)){let d=h;h=_??("object"!=typeof y||null===y)?y:Object.assign({},h,y),g.forEach(g=>g(h,d))}},n=()=>h,_={setState:i,getState:n,getInitialState:()=>y,subscribe:d=>(g.add(d),()=>g.delete(d)),destroy:()=>{(ow?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),g.clear()}},y=h=d(i,n,_);return _},scroll_Ut=d=>d?scroll_Ee(d):scroll_Ee,oO="@iiif/SET_META_VALUE",oN="@iiif/SET_META_VALUE_DYNAMIC",oR="@iiif/UNSET_META_VALUE",oD={setMetaValue:scroll_w(oO)(),setMetaValueDynamic:scroll_w(oN)(),unsetMetaValue:scroll_w(oR)()};let oL={};var scroll_Wt=(d,h)=>(g,_,y)=>(y.dispatch=h=>(g(g=>d(g,h),!1,h),h),y.dispatchFromDevtools=!0,{dispatch:(...d)=>y.dispatch(...d),...h}),oM=new Map,scroll_N=d=>{let h=oM.get(d);return h?Object.fromEntries(Object.entries(h.stores).map(([d,h])=>[d,h.getState()])):{}},scroll_Qt=(d,h,g)=>{if(void 0===d)return{type:"untracked",connection:h.connect(g)};let _=oM.get(g.name);if(_)return{type:"tracked",store:d,..._};let y={connection:h.connect(g),stores:{}};return oM.set(g.name,y),{type:"tracked",store:d,...y}},scroll_Xt=(d,h={})=>(g,_,y)=>{let A;let{enabled:b,anonymousActionType:k,store:w,...R}=h;try{A=(b??(oL?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!A)return(oL?"production":void 0)!=="production"&&b&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),d(g,_,y);let{connection:B,...H}=scroll_Qt(w,A,R),z=!0;y.setState=(d,h,A)=>{let b=g(d,h);if(!z)return b;let H=void 0===A?{type:k||"anonymous"}:"string"==typeof A?{type:A}:A;return void 0===w?null==B||B.send(H,_()):null==B||B.send({...H,type:`${w}/${H.type}`},{...scroll_N(R.name),[w]:y.getState()}),b};let p=(...d)=>{let h=z;z=!1,g(...d),z=h},$=d(y.setState,_,y);if("untracked"===H.type?null==B||B.init($):(H.stores[H.store]=y,null==B||B.init(Object.fromEntries(Object.entries(H.stores).map(([d,h])=>[d,d===H.store?$:h.getState()])))),y.dispatchFromDevtools&&"function"==typeof y.dispatch){let d=!1,h=y.dispatch;y.dispatch=(...g)=>{(oL?"production":void 0)==="production"||"__setState"!==g[0].type||d||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),d=!0),h(...g)}}return B.subscribe(d=>{var h;switch(d.type){case"ACTION":if("string"!=typeof d.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return scroll_j(d.payload,d=>{if("__setState"===d.type){if(void 0===w){p(d.state);return}1!==Object.keys(d.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let h=d.state[w];if(null==h)return;JSON.stringify(y.getState())!==JSON.stringify(h)&&p(h);return}y.dispatchFromDevtools&&"function"==typeof y.dispatch&&y.dispatch(d)});case"DISPATCH":switch(d.payload.type){case"RESET":return p($),void 0===w?null==B?void 0:B.init(y.getState()):null==B?void 0:B.init(scroll_N(R.name));case"COMMIT":if(void 0===w){null==B||B.init(y.getState());break}return null==B?void 0:B.init(scroll_N(R.name));case"ROLLBACK":return scroll_j(d.state,d=>{if(void 0===w){p(d),null==B||B.init(y.getState());return}p(d[w]),null==B||B.init(scroll_N(R.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return scroll_j(d.state,d=>{if(void 0===w){p(d);return}JSON.stringify(y.getState())!==JSON.stringify(d[w])&&p(d[w])});case"IMPORT_STATE":{let{nextLiftedState:g}=d.payload,_=null==(h=g.computedStates.slice(-1)[0])?void 0:h.state;if(!_)return;p(void 0===w?_:_[w]),null==B||B.send(null,g);break}case"PAUSE_RECORDING":return z=!z}return}}),$},scroll_j=(d,h)=>{let g;try{g=JSON.parse(d)}catch(d){console.error("[zustand devtools middleware] Could not parse the received json",d)}void 0!==g&&h(g)},scroll_Gt=d=>(h,g,_)=>{let y=_.subscribe;return _.subscribe=(d,h,g)=>{let A=d;if(h){let y=(null==g?void 0:g.equalityFn)||Object.is,b=d(_.getState());A=g=>{let _=d(g);if(!y(b,_)){let d=b;h(b=_,d)}},null!=g&&g.fireImmediately&&h(b,b)}return y(A)},d(h,g,_)};function scroll_q(d,h,g,_){return!(!d[g]||!d[g][h]||!d[g][h][_]||!Array.isArray(d[g][h][_]))}function scroll_h(d){return d.payload}function scroll_W(d,h){return typeof d>"u"?h:d}function scroll_tt(d={}){let h=Object.keys(d);return function(g={},_){let y=!1,A={};for(let b=0;b<h.length;b++){let k=h[b];A[k]=d[k](g[k],_),y=y||A[k]!==g[k]}return y?A:g}}var oP=scroll_tt({mapping:(d={},h)=>{switch(h.type){case ou:return{...d,[h.payload.id]:h.payload.type};case od:return{...d,...h.payload.mapping};default:return d}},entities:(d=scroll_Ge(),h)=>{var g;let r=(g,_)=>({...d,[scroll_h(h).type]:{...d[scroll_h(h).type],[scroll_h(h).id]:{...g,..._}}});switch(h.type){case aZ:{if(!d[scroll_h(h).type]||!d[scroll_h(h).type][scroll_h(h).id])return d;let g=d[scroll_h(h).type][scroll_h(h).id];return"string"==typeof g?d:r(g,{[scroll_h(h).key]:scroll_h(h).value})}case a0:{if(!scroll_q(d,scroll_h(h).id,scroll_h(h).type,scroll_h(h).key))return d;let g=d[scroll_h(h).type][scroll_h(h).id];if("string"==typeof g)return d;let _=Array.from(g[scroll_h(h).key]),[y]=_.splice(scroll_h(h).startIndex,1);return _.splice(scroll_h(h).endIndex,0,y),r(g,{[scroll_h(h).key]:_})}case aJ:{let g=Object.keys(scroll_h(h).entities),_={...d};for(let y of g){let g=scroll_h(h).entities[y],A={...d[y]||{}},b=!1,k=Object.keys(g||{})||[];if(g&&k){for(let h of k)b=!0,A[h]=d[y][h]?function(d,h){let g={},_=[];for(let[y,A]of Object.entries(d||{})){_.push(y);let d=(h||{})[y];if(!d||0===d.length){g[y]=A;continue}g[y]=d}for(let[d,y]of Object.entries(h||{}))-1===_.indexOf(d)&&(g[d]=y);return g}(d[y][h],g[h]):g[h];b&&(_[y]=A)}}return _}case a1:{if(!scroll_q(d,scroll_h(h).id,scroll_h(h).type,scroll_h(h).key))return d;let g=d[scroll_h(h).type][scroll_h(h).id],_=Array.from(g[scroll_h(h).key]);return _.splice(scroll_W(scroll_h(h).index,_.length+1),0,scroll_h(h).reference),r(g,{[scroll_h(h).key]:_})}case a2:case a3:{if(!scroll_q(d,scroll_h(h).id,scroll_h(h).type,scroll_h(h).key))return d;let _=d[scroll_h(h).type][scroll_h(h).id],y=Array.from(_[scroll_h(h).key]),A=scroll_W(scroll_h(h).index,y.findIndex(d=>d&&d.id===scroll_h(h).reference.id));return -1===A||(null==(g=y[A])?void 0:g.id)!==scroll_h(h).reference.id?d:(h.type===a2?y.splice(A,1,scroll_h(h).reference):y.splice(A,1),r(_,{[scroll_h(h).key]:y}))}case a4:{let g=d[scroll_h(h).type][scroll_h(h).id];if(!g)return d;let _=Array.from(g.metadata||[]),y=scroll_h(h);return _.splice(scroll_W(h.payload.beforeIndex,_.length+1),0,{label:y.label,value:y.label}),r(g,{metadata:_})}case a8:{let g=d[scroll_h(h).type][scroll_h(h).id];if("string"==typeof g||!g)return d;let _=Array.from(g.metadata||[]),[y]=_.splice(scroll_h(h).startIndex,1);return _.splice(scroll_h(h).endIndex,0,y),r(g,{metadata:_})}case a6:case a5:{let g=d[scroll_h(h).type][scroll_h(h).id],_=Array.from(g.metadata||[]),y=scroll_h(h).atIndex;return typeof y>"u"||-1===y||!_[y]?d:(h.type===a6?_.splice(y,1,{label:scroll_h(h).label,value:scroll_h(h).value}):_.splice(y,1),r(g,{metadata:_}))}default:return d}},requests:(d={},h)=>{switch(h.type){case oE:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...d,[h.payload.id]:{requestUri:h.payload.id,loadingState:om,uriMismatch:!1,resourceUri:h.payload.id}};case oT:return{...d,[h.payload.requestId]:{...d[h.payload.requestId]||{},uriMismatch:!0,resourceUri:h.payload.actualId},[h.payload.actualId]:{requestUri:h.payload.requestId,loadingState:d[h.payload.requestId].loadingState,uriMismatch:!0,resourceUri:h.payload.actualId}};case o_:return{...d,[h.payload.id]:{...d[h.payload.id]||{},loadingState:of,error:h.payload.message}};case ov:return{...d,[h.payload.id]:{...d[h.payload.id]||{},loadingState:og,error:void 0}}}return d},meta:(d={},h)=>{let{id:g,updateValue:_,value:y,meta:A,key:b}=h&&h.payload||{};switch(h.type){case oO:return{...d,[g]:{...d[g]||{},[A]:{...d[g]&&d[g][A]||{},[b]:y}}};case oN:return{...d,[g]:{...d[g]||{},[A]:{...d[g]&&d[g][A]||{},[b]:_(d[g]&&d[g][A]?d[g][A][b]:void 0)}}};case oR:return d[g]&&d[g][A]&&d[g][A][b]?{...d,[g]:{...d[g]||{},[A]:{...d[g]&&d[g][A]||{},[b]:void 0}}}:d;default:return d}}}),oF=Object.defineProperty,scroll_lr=(d,h,g)=>h in d?oF(d,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[h]=g,scroll_I=(d,h,g)=>(scroll_lr(d,"symbol"!=typeof h?h+"":h,g),g);function scroll_b(d,h,g,_=!0){h[oH]=h[oH]||[],h[oH].push(d);let y=new Map;Object.defineProperty(h,d,{enumerable:_,get(){if(typeof h[oB][d]>"u")return;let _=h[oB][d];if(!_)return _;let A=g.get(h[oB][d],{parent:this.id?{id:this.id,type:this.type}:void 0});return y.has(A)||(y.clear(),y.set(A,scroll_k(A,g))),y.get(A)},set(_){h[oB][d]!==_&&(this[oU]?g.modifyEntityField({id:this.id,type:this.type},d,function scroll_rt(d){return Array.isArray(d)?d.map(d=>scroll_rt(d)):d&&d.type?{id:d.id,type:d.type}:d}(_)):this[oB][d]=_)}})}var oB=Symbol.for("_refs_"),oU=Symbol.for("_reactive_"),oH=Symbol.for("_defined_"),oG=Symbol.for("_parent_");function scroll_k(d,h,g=!1,_){if(Array.isArray(d))return d.map(d=>scroll_k(d,h,g));if(!d||!d.type||!d.id)return d;let y=function(d,h=!1,g){let _={id:"",type:"unknown",[oH]:[],[oB]:{},[oG]:null,[oU]:null,is(d){return"string"==typeof d?this.id===d:!!d.id&&d.id===this.id},reactive(){if(!this[oU])return this[oU]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let d=this.unwrap();for(let h of Object.keys(d||{}))this[oH].includes(h)?this[oB][h]=d[h]:this[h]=d[h]}},unreactive(){this[oU]&&(this[oU](),this[oU]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let h=this[oG];return d.get(this.id,{parent:h?{id:h,type:"unknown"}:void 0})},toPresentation3(){return d.toPresentation3(this.unwrap())},toPresentation2(){return d.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(h,g=!0){return d.subscribe(()=>this.id?d.get(this.id):null,h,g)}};return scroll_b("items",_,d),scroll_b("annotations",_,d),scroll_b("structures",_,d),scroll_b("seeAlso",_,d),scroll_b("rendering",_,d),scroll_b("partOf",_,d),scroll_b("start",_,d,!1),scroll_b("supplementary",_,d),scroll_b("homepage",_,d),scroll_b("thumbnail",_,d),scroll_b("placeholderCanvas",_,d,!1),scroll_b("accompanyingCanvas",_,d,!1),scroll_b("provider",_,d),scroll_b("body",_,d),scroll_b("logo",_,d),_}(h,g),A=Object.create(y),b=Object.assign(A,d);return g&&b.reactive(),b}function scroll_we(d){switch(d){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return d}var oz=class{constructor(d,h){var g;scroll_I(this,"options"),scroll_I(this,"store"),scroll_I(this,"emitter"),scroll_I(this,"isBatching",!1),scroll_I(this,"batchQueue",[]),scroll_I(this,"remoteFetcher"),scroll_I(this,"staticFetcher"),scroll_I(this,"defaultFetcher",d=>fetch(d).then(d=>d.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},d||{}),this.store=h||function(d={}){var h;let{enableDevtools:g=!1,iiifStoreName:_="iiif",defaultState:y={iiif:{entities:scroll_Ge(),meta:{},mapping:{},requests:{}}},customReducers:A={}}=d,b=(h=scroll_tt({[_]:oP,...A}),(d,g)=>g&&g.type===oC?g.payload.actions.reduce(h,d):g&&"@iiif/BATCH_IMPORT"===g.type?{...d,iiif:{...d.iiif,...g.payload.state}}:h(d,g)),k="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?scroll_Xt:(d,h)=>d;return scroll_Ut(scroll_Gt(k(scroll_Wt(b,y),{enabled:g})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:g=g||new Map,on:function(d,h){var _=g.get(d);_?_.push(h):g.set(d,[h])},off:function(d,h){var _=g.get(d);_&&(h?_.splice(_.indexOf(h)>>>0,1):g.set(d,[]))},emit:function(d,h){var _=g.get(d);_&&_.slice().map(function(d){d(h)}),(_=g.get("*"))&&_.slice().map(function(g){g(d,h)})}},this.remoteFetcher=scroll_ye(this,this.options.customFetcher),this.staticFetcher=scroll_ye(this,(d,h)=>h)}batch(d){this.isBatching=!0;try{d(this),this.isBatching=!1,this.dispatch(ox({actions:this.batchQueue}))}catch(d){throw this.batchQueue=[],this.isBatching=!1,d}this.batchQueue=[]}async asyncBatch(d){this.isBatching=!0;try{await d(this),this.isBatching=!1,this.dispatch(ox({actions:this.batchQueue}))}catch(d){throw this.batchQueue=[],this.isBatching=!1,d}this.batchQueue=[]}modifyEntityField(d,h,g){this.dispatch(oc.modifyEntityField({id:d.id,type:d.type,key:h,value:g}))}dispatch(d){if(this.isBatching)this.batchQueue.push(d);else{if(d.type===oC){for(let h of d.payload.actions)this.emitter.emit(h.type,{action:h,state:this.store.getState()});this.store.dispatch(d);let h=this.getState();for(let g of d.payload.actions)this.emitter.emit(`after:${g.type}`,{action:g,state:h});return}this.emitter.emit(d.type,{action:d,state:this.store.getState()}),this.store.dispatch(d);let h=this.store.getState();this.emitter.emit(`after:${d.type}`,{action:d,state:h});return}}on(d,h){return this.emitter.on(d,h),()=>{this.emitter.off(d,h)}}serialize(d,h){return $e(this.getState().iiif,d,h)}toPresentation2(d){return this.serialize(d,ty)}toPresentation3(d){return this.serialize(d,tA)}hydrate(d,h,g={}){return this.get(d,h,{...g,skipSelfReturn:!1})}get(d,h,g={}){"string"!=typeof h&&(g=h||{},h=void 0);let{skipSelfReturn:_=!0}=g||{},y=g.parent?"string"==typeof g.parent?g.parent:g.parent.id:void 0;if(Array.isArray(d))return d.map(d=>this.get(d,g));let A=this.getState();if(chunk_W3DWL6UZ_v(d)&&!g.preserveSpecificResources&&(d=d.source),"string"==typeof d){let g=scroll_we(h||A.iiif.mapping[d]);if(!g)return _?null:{id:d,type:"unknown"};d={id:d,type:g}}if(d&&d.partOf&&!y&&!g.skipPartOfCheck){let h=Array.isArray(d.partOf)?d.partOf[0]:d.partOf;h&&("string"==typeof h&&(y=h),"string"==typeof h.id&&(y=h.id))}let b=scroll_we(h||(null==d?void 0:d.type)),k=null==d?void 0:d.id,w=A.iiif.entities[b];if(!w){let h=A.iiif.requests[k];return h&&h.resourceUri!==k?this.get(h.resourceUri,g):_?null:d}let R=w[d.id];if(R&&R[tl]){let d=R[tl].find(d=>y?d[tc]===y:d[tc]===R.id);return chunk_AXOUQGO3_oe(R,d)}return w[d.id]||(_?null:d)}select(d){return d(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(d,h){if(typeof d>"u")return this.get(h,{skipSelfReturn:!1});if("function"==typeof d)try{let g=d(this.get(h,{skipSelfReturn:!1})),n=d=>this.deep(d,g);return n.size=Array.isArray(g)?g.length:1,n}catch{let n=d=>this.deep(d,void 0);return n.size=0,n}let r=h=>this.deep(h,d);return r.size=Array.isArray(d)?d.length:1,r}loadManifest(d,h){let g="string"==typeof d?d:d.id;return this.load(g,h)}loadCollection(d,h){let g="string"==typeof d?d:d.id;return this.load(g,h)}load(d,h){let g="string"==typeof d?d:d.id;return h?Promise.resolve(this.staticFetcher(g,h)):Promise.resolve(this.remoteFetcher(g))}loadSync(d,h){let g="string"==typeof d?d:d.id;return this.staticFetcher(g,h)}loadManifestSync(d,h){let g="string"==typeof d?d:d.id;return this.loadSync(g,h)}loadCollectionSync(d,h){let g="string"==typeof d?d:d.id;return this.loadSync(g,h)}areInputsEqual(d,h){return scroll_ve(d,h)}subscribe(d,h,g){return typeof g>"u"&&(typeof h>"u"||!1===h||!0===h)&&(g=h,h=d,d=d=>d),this.store.subscribe(d,d=>h(d,this),{equalityFn:scroll_ve,fireImmediately:!g})}async ensureLoaded(d){let h="string"==typeof d?d:d.id;this.requestStatus(h)||await this.load(h)}requestStatus(d){return this.select(h=>h.iiif.requests[d])}getResourceMeta(d,h){let g=this.getState().iiif.meta[d];if(g)return h?g[h]:g}getObject(d,h,g={}){let{reactive:_,...y}=g;return scroll_k(this.get(d,h,y),this,_)}async loadObject(d,h){return scroll_k(await this.load(d,h),this)}async loadManifestObject(d,h){return scroll_k(await this.loadManifest(d,h),this)}async loadCollectionObject(d,h){return scroll_k(await this.loadCollection(d,h),this)}wrapObject(d){return scroll_k(this.get(d,{skipSelfReturn:!1}),this)}isWrapped(d){return!!d[oH]}setMetaValue([d,h,g],_){this.dispatch("function"==typeof _?oD.setMetaValueDynamic({id:d,meta:h,key:g,updateValue:_}):oD.setMetaValue({id:d,meta:h,key:g,value:_}))}};let oV={annotations:[],manifest:void 0,options:{offset:0},searchActiveMatch:void 0,searchMatches:void 0,searchString:void 0,vault:new oz};function scroll_pr(d,h){switch(h.type){case"updateAnnotations":return{...d,annotations:h.payload};case"updateSearchActiveMatch":return{...d,searchActiveMatch:h.payload};case"updateSearchMatches":return{...d,searchMatches:h.payload};case"updateSearchString":return{...d,searchString:h.payload};default:return d}}let o$=(0,eV.createContext)({dispatch:()=>null,state:oV}),scroll_fr=d=>{let{children:h,manifest:g}=d,_={...oV.options,...d.options},[y,A]=(0,eV.useReducer)(scroll_pr,oV);return eV.createElement(o$.Provider,{value:{state:{...y,manifest:g,options:_},dispatch:A}},h)},scroll_hr=(d,h="none")=>{if(!d)return null;if("string"==typeof d)return[d];if(!d[h]){let h=Object.getOwnPropertyNames(d);if(h.length>0)return d[h[0]]}return d[h]&&Array.isArray(d[h])?d[h]:null},scroll_de=(d,h="none",g=", ")=>{let _=scroll_hr(d,h);return Array.isArray(_)?_.join(`${g}`):_};function scroll_ue(d,h){let g=Object.keys(d).filter(d=>h.includes(d)?null:d),_={};return g.forEach(h=>{_[h]=d[h]}),_}let{styled:oQ,css:oj,keyframes:oY,createTheme:oq}=(0,ez.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),oW=oQ("span",{}),scroll_nt=d=>{let{as:h,label:g}=d,_=scroll_ue(d,["as","label"]);return eV.createElement(oW,{as:h,..._},scroll_de(g,_.lang))};oQ("img",{objectFit:"cover"}),oQ("a",{});let oX={delimiter:", "},oK=(0,eV.createContext)(void 0),scroll_xr=()=>{let d=(0,eV.useContext)(oK);if(void 0===d)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return d},wr=({children:d,initialState:h=oX})=>{let g=scroll_br(h,"delimiter");return eV.createElement(oK.Provider,{value:{delimiter:g}},d)},scroll_br=(d,h)=>Object.hasOwn(d,h)?d[h].toString():void 0,oJ=oQ("span",{}),scroll_be=d=>{let{as:h,markup:g}=d,{delimiter:_}=scroll_xr();if(!g)return eV.createElement(eV.Fragment,null);let y=scroll_ue(d,["as","markup"]),A={__html:nP(scroll_de(g,y.lang,_),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return eV.createElement(oJ,{as:h,...y,dangerouslySetInnerHTML:A})},Rr=d=>eV.useContext(oK)?eV.createElement(scroll_be,{...d}):eV.createElement(wr,null,eV.createElement(scroll_be,{...d}));oQ("span",{}),oQ("dl",{}),oQ("li",{}),oQ("ul",{}),oQ("li",{}),oQ("ul",{}),oQ("dl",{}),oQ("li",{}),oQ("ul",{});let _r=d=>{let{as:h,summary:g}=d,_=scroll_ue(d,["as","customValueDelimiter","summary"]);return eV.createElement(Rr,{as:h,markup:g,..._})},oZ=oQ("div",{display:"flex",flexDirection:"row",alignItems:"center"}),o0=oQ("div",{position:"absolute",zIndex:10,background:"$primary",filter:"drop-shadow(2px 2px 5px #0002)",borderRadius:"2rem",overflow:"hidden",height:"2rem"}),o1=oQ("header",{fontSize:"1",paddingBottom:"1.618rem",position:"relative",display:"flex",justifyContent:"space-between",zIndex:2,".clover-scroll-header-label":{fontWeight:"400",fontSize:"1.25rem"}}),o2=oQ("section",{margin:"0",gap:"1rem",position:"relative",zIndex:0}),o3="255, 197, 32";oQ("span",{fontWeight:"700"}),oQ("div",{display:"flex",gap:"0.25rem"});let o4=oQ("div",{fontSize:"0.9rem !important",color:"$secondaryAlt",margin:"0 0.5em"});oQ("div",{display:"flex",flexDirection:"column",button:{backgroundColor:"#6660",opacity:"0.7",transition:"$all",padding:"0.5rem 0.618rem",fontSize:"0.9rem",lineHeight:"1.1rem",textAlign:"left",borderRadius:"6px",border:"1px solid #6662",display:"flex",flexDirection:"column",gap:"0.25rem","&:hover":{opacity:"1",boxShadow:"5px 5px 13px #6662"},"&[data-result=true]":{backgroundColor:`rgba(${o3}, 0.2)`,borderColor:`rgba(${o3}, 0.2)`,opacity:"1","&:hover":{backgroundColor:`rgba(${o3}, 0.2)`}}}});let o5=oQ("input",{margin:"0",background:"none",zIndex:"2",height:"2rem",justifyContent:"center",display:"flex",alignItems:"center",fontSize:"1rem",fontFamily:"inherit",outline:"none !important",border:"none !important",color:"$secondary",cursor:"pointer",boxSizing:"content-box !important",flexGrow:"0",width:"2rem"}),o6=oQ("span",{position:"absolute",zIndex:"3",width:"2rem",height:"2rem",padding:"8px",color:"$secondary !important",fill:"$secondary !important",stroke:"$secondary !important",transition:"$all",cursor:"pointer",svg:{color:"inherit",fill:"inherit",stroke:"inherit"}}),o8=oQ("button",{opacity:"1",display:"flex",alignItems:"center",width:"1.25em",height:"1.25em",alignSelf:"center",margin:"0 0.25rem",fill:"$secondary",flexShrink:"0",svg:{color:"inherit",fill:"inherit"},'&[aria-disabled="true"]':{opacity:"0",display:"none"}}),o9=oQ("form",{display:"flex",justifyContent:"space-between",transition:"$all",flexGrow:"1",variants:{isPanelExpanded:{true:{[`${o6}`]:{marginLeft:"0",cursor:"text"},[`${o5}`]:{width:"100%",padding:"0 1rem 0 2rem",cursor:"text"}},false:{"&:hover":{backgroundColor:"$accent !important"},[`${o6}`]:{cursor:"pointer"},[`${o5}`]:{cursor:"pointer","&::placeholder":{color:"transparent !important"}}}}}}),o7=oQ("div",{display:"flex",alignItems:"center",gap:"0.25rem","&[data-active=true]":{paddingRight:"0.5rem"},button:{fontSize:"0.9em",fill:"$secondary",color:"$secondary",stroke:"$secondary",svg:{fill:"inherit",color:"inherit",stroke:"inherit",width:"1.25em"}}}),zr=({activeIndex:d,searchString:h,total:g})=>{let _=0===g?React.createElement(React.Fragment,null,"No results for ",React.createElement("strong",null,h)):React.createElement(React.Fragment,null,d+1," of ",g," results for ",React.createElement("strong",null,h));return React.createElement(o4,null,_)},scroll_Ae=({title:d,style:h={}})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:h},eV.createElement("title",null,d),eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M244 400L100 256l144-144M120 256h292"})),se={charset:"latin:extra, arabic:extra, cyrillic:extra, cjk:extra",optimize:!0,tokenize:"full",resolution:9,document:{id:"id",index:"content"}},Fr=()=>{let[d,h]=(0,eV.useState)(0),{dispatch:g,state:_}=(0,eV.useContext)(o$),{annotations:y,searchString:A=""}=_,b=new nB.Z.Document(se),k=[];null==y||y.forEach(d=>{var h;null==(h=null==d?void 0:d.body)||h.forEach(d=>{var h;let g=null==(h=null==d?void 0:d.value)?void 0:h.replace(/\n/g,"");k.push(null==d?void 0:d.id),b.add({id:null==d?void 0:d.id,content:g})})});let w=null==b?void 0:b.search(A).reduce((d,h)=>[...new Set([...d,...h.result])],[]),R=function(d,h){let g=RegExp(h,"gi"),_={total:0,matches:[]};return d.forEach(d=>{let h=d.body.id,y=d.body.value,A=[],b=0,k;for(console.log(k);null!==(k=g.exec(y));)b++,A.push(`${h}/${b}`);b>0&&(_.total+=b,_.matches.push({[h]:A}))}),_}(w.map(d=>null==y?void 0:y.filter(h=>h.body.find(h=>h.id===d)).map(h=>{let g=h.body.findIndex(h=>h.id===d);return{...h,body:h.body[g]}}).shift()),A),B=R.matches.flatMap(d=>Object.values(d).flat());return(0,eV.useEffect)(()=>{h(0),g({type:"updateSearchMatches",payload:R}),g({type:"updateSearchActiveMatch",payload:void 0})},[A]),(0,eV.useEffect)(()=>{g({type:"updateSearchActiveMatch",payload:B[d]})},[d,A]),eV.createElement(o7,{"data-active":!!A},A&&eV.createElement(zr,{activeIndex:d,searchString:A,total:R.total}),(null==R?void 0:R.total)!==0&&eV.createElement(eV.Fragment,null,eV.createElement("button",{onClick:()=>h(d=>d>0?d-1:B.length-1)},eV.createElement(scroll_Ae,{title:"previous",style:{transform:"rotate(90deg)"}})),eV.createElement("button",{onClick:()=>h(d=>d<B.length-1?d+1:0)},eV.createElement(scroll_Ae,{title:"next",style:{transform:"rotate(270deg)"}}))))},Lr=()=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,"Search"),eV.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),Nr=()=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,"Close"),eV.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),Br=({togglePanel:d,isPanelExpanded:h})=>{let{dispatch:g,state:_}=(0,eV.useContext)(o$),{searchString:y}=_,A=(0,eV.useRef)(null),s=()=>A.current===document.activeElement&&d(!0),l=()=>{var h;null==(h=A.current)||h.blur(),u(),d(!1),g({payload:"",type:"updateSearchString"}),g({payload:void 0,type:"updateSearchActiveMatch"})},u=()=>{A.current&&(A.current.value="")},f=d=>{"Escape"===d.key&&(d.preventDefault(),l())};return(0,eV.useEffect)(()=>(null==document||document.addEventListener("keydown",f),()=>{null==document||document.removeEventListener("keydown",f)}),[]),(0,eV.useEffect)(()=>{if(null!=A&&A.current)return A.current.addEventListener("focus",s),A.current.addEventListener("blur",s),()=>{A.current&&(A.current.removeEventListener("focus",s),A.current.removeEventListener("blur",s))}},[]),eV.createElement(o9,{id:"scroll-search",autoComplete:"off",isPanelExpanded:h,"data-testid":"scroll-panel-search-form"},eV.createElement(o6,{onClick:()=>{var d;return null==(d=null==A?void 0:A.current)?void 0:d.focus()}},eV.createElement(Lr,null)),eV.createElement(o5,{ref:A,name:"clover-search",type:"text",placeholder:"Search...",defaultValue:y,onChange:d=>{var h;g({payload:null==(h=null==d?void 0:d.target)?void 0:h.value,type:"updateSearchString"})}}),eV.createElement(o8,{"aria-disabled":!h,"aria-label":"Close search panel",onClick:d=>{d.preventDefault(),l()},disabled:!h},eV.createElement(Nr,null)))},sn=oQ("div",{display:"flex",position:"relative",zIndex:"1",maxWidth:"100%",transition:"$all",variants:{isPanelExpanded:{true:{zIndex:1,opacity:1,transform:"translateX(0)"},false:{zIndex:-1,opacity:0,transform:"translateX(-2.618rem)",transitionDelay:"0",transition:"none"}}}}),Vr=({width:d,isFixed:h})=>{let g=(0,eV.useRef)(null),[_,y]=eV.useState(!1),{state:A}=(0,eV.useContext)(o$),{options:b}=A,{offset:k}=b;return eV.createElement(o0,{ref:g,"data-testid":"scroll-panel",style:{left:_||h?"unset":`calc(${d}px - 2rem)`,marginLeft:_?`-${d}px`:h?"-2rem":"unset",width:_?d:"2rem",...h?{position:"fixed",top:h?k:0}:{}}},eV.createElement(oZ,null,eV.createElement(Br,{togglePanel:function(d){y(d)},isPanelExpanded:_}),eV.createElement(sn,{"data-testid":"scroll-panel-results","data-panel-expanded":_,isPanelExpanded:_},_&&eV.createElement(Fr,null))))},Hr=({label:d})=>{let{state:h}=(0,eV.useContext)(o$),{options:g}=h,{offset:_}=g,y=(0,eV.useRef)(null),[A,b]=(0,eV.useState)(0),[k,w]=(0,eV.useState)(!1);return(0,eV.useEffect)(()=>{let d=y.current;if(!d)return;let h=new ResizeObserver(d=>{for(let h of d)h.contentRect&&b(h.contentRect.width)});return h.observe(d),()=>{h.disconnect()}},[]),(0,eV.useEffect)(()=>{let u=()=>{let d=y.current;d&&(d.getBoundingClientRect().top<=_?w(!0):w(!1))};return window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}},[]),eV.createElement(o1,{ref:y},eV.createElement(scroll_nt,{label:d,className:"clover-scroll-header-label"}),eV.createElement("div",null,eV.createElement(Vr,{width:A,isFixed:k})))},sr=oQ("article",{transition:"all 0.382s ease-in-out",display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:"2.618rem"}),so=oQ("div",{transition:"$all",width:"38.2%"}),sl=oQ("div",{width:"61.8%",display:"flex",flexDirection:"column",justifyContent:"flex-start","> div":{display:"flex",flexDirection:"row",gap:"2.618rem","> div":{width:"calc(100% / var(--num-items))",boxSizing:"border-box"}}}),sc=oQ("hr",{margin:"0",borderColor:"transparent",height:"1.618rem",position:"relative",width:"61.8%",zIndex:0,marginLeft:"38.2%",display:"flex",justifyContent:"flex-end","&::before":{content:"attr(aria-label)",position:"absolute",right:"1.618rem",bottom:"0",zIndex:1,display:"flex",fontSize:"0.7222rem",fontWeight:"400",lineHeight:"1rem",background:"inherit",opacity:.7},"&::after":{content:"",width:"calc(100% -  2.618em)",position:"absolute",zIndex:0,height:"1px",background:"#6662"}}),su=oQ("div",{display:"flex",flexDirection:"column",gap:"2.618rem","&[data-figures-visible='true']":{[`& ${so}`]:{opacity:1,zIndex:0,transform:"translateX(0)"}}}),Yr=({canvas:d,canvasInfo:{current:h,total:g}})=>eV.createElement("figcaption",null,eV.createElement("em",null,h," / ",g),(null==d?void 0:d.label)&&eV.createElement(scroll_nt,{label:null==d?void 0:d.label}),(null==d?void 0:d.summary)&&eV.createElement(_r,{summary:null==d?void 0:d.summary,as:"p"})),sd=window.OpenSeadragon;if(!sd&&!(sd=eH))throw Error("OpenSeadragon is missing.");let sh="http://www.w3.org/2000/svg";sd.Viewer&&(sd.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new scroll_ot(this)),this._svgOverlayInfo});let scroll_ot=function(d){let h=this;this._viewer=d,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(sh,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(sh,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){h.resize()}),this._viewer.addHandler("open",function(){h.resize()}),this._viewer.addHandler("rotate",function(){h.resize()}),this._viewer.addHandler("flip",function(){h.resize()}),this._viewer.addHandler("resize",function(){h.resize()}),this.resize()};scroll_ot.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let d=this._viewer.viewport.pixelFromPoint(new sd.Point(0,0),!0),h=this._viewer.viewport.getZoom(!0),g=this._viewer.viewport.getRotation(),_=this._viewer.viewport.getFlip(),y=this._viewer.viewport._containerInnerSize.x,A=y*h,b=A;_&&(A=-A,d.x=-d.x+y),this._node.setAttribute("transform","translate("+d.x+","+d.y+") scale("+A+","+b+") rotate("+g+")")},onClick:function(d,h){new sd.MouseTracker({element:d,clickHandler:h}).setTracking(!0)}};let Xr=d=>fetch(`${d.replace(/\/$/,"")}/info.json`).then(d=>d.json()).then(d=>d).catch(h=>{console.error(`The IIIF tilesource ${d.replace(/\/$/,"")}/info.json failed to load: ${h}`)}),Zr=d=>{let h,g;return Array.isArray(d)&&(h=d[0])&&(g="@id"in h?h["@id"]:h.id),g};var sp=((ec=sp||{}).TiledImage="tiledImage",ec.SimpleImage="simpleImage",ec);let Gr=d=>{let h=Array.isArray(null==d?void 0:d.service)&&(null==d?void 0:d.service.length)>0,g=h?Zr(null==d?void 0:d.service):null==d?void 0:d.id,_=h?sp.TiledImage:sp.SimpleImage;return{uri:g,imageType:_}},Jr=(d,h)=>{let g=h?sp.TiledImage:sp.SimpleImage;return{uri:d,imageType:g}},sf=oQ("div",{display:"flex",flexDirection:"column",alignItems:"center"}),sm=oQ("p",{fontWeight:"bold",fontSize:"x-large"}),sg=oQ("span",{fontSize:"medium"}),rn=({error:d})=>{let{message:h}=d;return eV.createElement(sf,{role:"alert"},eV.createElement(sm,{"data-testid":"headline"},"Something went wrong"),h&&eV.createElement(sg,null,`Error message: ${h}`," "))},sE=oQ("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),s_=oQ("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),sT=oQ("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${sE}`]:{display:"block"}},false:{[`${sE}`]:{display:"none"}}}}}),sv={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}},sy=(eu=null==(eD=null==(eR=null==sv?void 0:sv.informationPanel)?void 0:eR.vtt)?void 0:eD.autoScroll,b={...sv.informationPanel.vtt.autoScroll},"object"==typeof eu&&(b="enabled"in eu?eu:{enabled:!0,settings:eu}),!1===eu&&(b.enabled=!1),function({behavior:d,block:h}){let g=["auto","instant","smooth"],_=["center","end","nearest","start"];if(!g.includes(d))throw TypeError(`'${d}' not in ${g.join(" | ")}`);if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`)}(b.settings),b),sA={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:sv,customDisplays:[],plugins:[],isAutoScrollEnabled:sy.enabled,isAutoScrolling:!1,isInformationOpen:null==(eL=null==sv?void 0:sv.informationPanel)?void 0:eL.open,isLoaded:!1,isUserScrolling:void 0,vault:new oz,contentSearchVault:new oz,openSeadragonViewer:null,viewerId:esm_browser_v4()},sb=eV.createContext(sA),sS=eV.createContext(sA);function scroll_e(){let d=eV.useContext(sb);if(void 0===d)throw Error("useViewerState must be used within a ViewerProvider");return d}function scroll_at(){let d=eV.useContext(sS);if(void 0===d)throw Error("useViewerDispatch must be used within a ViewerProvider");return d}let sk=oQ("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),scroll_z=({className:d,id:h,label:g,children:_})=>{let y=g.toLowerCase().replace(/\s/g,"-");return eV.createElement(sk,{id:h,className:d,"data-testid":"openseadragon-button","data-button":y},eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${h}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",{id:`${h}-svg-title`},g),_))},sC=oQ("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),hn=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),mn=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),gn=()=>eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),vn=()=>eV.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),scroll_Ie=()=>eV.createElement(eV.Fragment,null,eV.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eV.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),yn=({_cloverViewerHasPlaceholder:d,config:h})=>{let g=scroll_e(),{activeCanvas:_,plugins:y,vault:A}=g,b=A.get({id:_,type:"Canvas"});return eV.createElement(sC,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:d},h.showZoomControl&&eV.createElement(eV.Fragment,null,eV.createElement(scroll_z,{id:h.zoomInButton,label:"zoom in"},eV.createElement(hn,null)),eV.createElement(scroll_z,{id:h.zoomOutButton,label:"zoom out"},eV.createElement(mn,null))),h.showFullPageControl&&eV.createElement(scroll_z,{id:h.fullPageButton,label:"full page"},eV.createElement(gn,null)),h.showRotationControl&&eV.createElement(eV.Fragment,null,eV.createElement(scroll_z,{id:h.rotateRightButton,label:"rotate right"},eV.createElement(scroll_Ie,null)),eV.createElement(scroll_z,{id:h.rotateLeftButton,label:"rotate left"},eV.createElement(scroll_Ie,null))),h.showHomeControl&&eV.createElement(scroll_z,{id:h.homeButton,label:"reset"},eV.createElement(vn,null)),y.filter(d=>{var h;return null==(h=d.imageViewer)?void 0:h.controls}).map((d,h)=>{var g,_,y,A;let k=null==(_=null==(g=d.imageViewer)?void 0:g.controls)?void 0:_.component;return eV.createElement(k,{key:h,...null==(A=null==(y=null==d?void 0:d.imageViewer)?void 0:y.controls)?void 0:A.componentProps,canvas:b,useViewerDispatch:scroll_at,useViewerState:scroll_e})}))},En=({ariaLabel:d,config:h,uri:g,_cloverViewerHasPlaceholder:_,imageType:y,openSeadragonCallback:A})=>{let[b,k]=(0,eV.useState)(),[w,R]=(0,eV.useState)(),B=scroll_at(),H=(0,eV.useRef)(!1);return(0,eV.useEffect)(()=>(H.current||(H.current=!0,w||R(eH(h))),()=>null==w?void 0:w.destroy()),[]),(0,eV.useEffect)(()=>{w&&A&&A(w)},[w,A]),(0,eV.useEffect)(()=>{w&&g!==b&&(null==w||w.forceRedraw(),k(g))},[w,b,g]),(0,eV.useEffect)(()=>{if(b&&w)switch(y){case"simpleImage":null==w||w.addSimpleImage({url:b});break;case"tiledImage":Xr(b).then(d=>{try{if(!d)throw Error(`No tile source found for ${b}`);null==w||w.addTiledImage({tileSource:d,success:()=>{"function"==typeof B&&B({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(d){console.error(d)}});break;default:null==w||w.close(),console.warn(`Unable to render ${b} in OpenSeadragon as type: "${y}"`)}},[y,b]),eV.createElement(sT,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":h.id,hasNavigator:h.showNavigator},eV.createElement(yn,{_cloverViewerHasPlaceholder:_,config:h}),h.showNavigator&&eV.createElement(sE,{id:h.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eV.createElement(s_,{id:h.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...d&&{"aria-label":d}}))},xn=({_cloverViewerHasPlaceholder:d=!1,body:h,instanceId:g,isTiledImage:_=!1,label:y,src:A="",openSeadragonCallback:b,openSeadragonConfig:k={}})=>{let w=g||esm_browser_v4(),R="string"==typeof y?y:scroll_de(y),B={id:`openseadragon-${w}`,navigatorId:`openseadragon-navigator-${w}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${w}`,homeButton:`reset-${w}`,rotateLeftButton:`rotateLeft-${w}`,rotateRightButton:`rotateRight-${w}`,zoomInButton:`zoomIn-${w}`,zoomOutButton:`zoomOut-${w}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...k},{imageType:H,uri:z}=h?Gr(h):Jr(A,_);return z?eV.createElement(eG.SV,{FallbackComponent:rn},eV.createElement(En,{_cloverViewerHasPlaceholder:d,ariaLabel:R,config:B,imageType:H,key:w,uri:z,openSeadragonCallback:b})):null},sx=oQ("div",{width:"100%",height:"360px",background:"#6662",backgroundSize:"contain",color:"white",position:"relative",zIndex:"1",overflow:"hidden"}),sI=eV.memo(({body:d,label:h})=>eV.createElement(sx,{"data-testid":"scroll-figure-image"},eV.createElement(xn,{body:d,openSeadragonConfig:{showNavigator:!1,showHomeControl:!1},...h&&{label:h}}))),sw=oQ("figure",{figcaption:{display:"flex",flexDirection:"column",margin:"1.618rem 0 0",opacity:.9,gap:"0.382rem",em:{fontSize:"0.9em",fontStyle:"normal",opacity:.7}}}),_n=(d,h,g,_)=>{var y,A;let b={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(b.canvas=d.get(h),b.canvas&&(b.annotationPage=d.get(b.canvas.items[0]),b.accompanyingCanvas=null!=(y=b.canvas)&&y.accompanyingCanvas?d.get(null==(A=b.canvas)?void 0:A.accompanyingCanvas):void 0),b.annotationPage){let y=d.get(b.annotationPage.items).map(h=>({body:d.get(h.body[0].id),motivation:h.motivation,type:"Annotation"})),A=[];y.forEach(h=>{"Choice"===h.body.type?h.body.items.forEach(g=>A.push({...h,id:g.id,body:d.get(g.id)})):A.push(h)}),b.annotations=A.filter(y=>{if(y){if(!y.body||!y.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",y);return}let A=y.body;Array.isArray(A)&&(A=A[0]);let b=d.get(A.id);if(b)switch(g){case"painting":return y.target===h.id&&y.motivation&&"painting"===y.motivation[0]&&_.includes(b.type)&&(y.body=b),!!y;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return b},In=(d,h)=>{let g=_n(d,{id:h,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==g.annotations.length&&g.annotations&&g.annotations)return g.annotations.map(d=>null==d?void 0:d.body)},Cn=({canvas:d,canvasInfo:h})=>{let{state:g}=(0,eV.useContext)(o$),{vault:_}=g,y=In(_,d.id);return y?eV.createElement(sw,null,null==y?void 0:y.map(h=>eV.createElement(sI,{body:h,key:null==h?void 0:h.id,label:null==d?void 0:d.label})),eV.createElement(Yr,{canvas:d,canvasInfo:h})):null},sO="255, 197, 32",sN=oQ("div",{"&[dir=rtl]":{textAlign:"right"},ul:{padding:"1rem"},li:{listStyleType:"disc",li:{listStyleType:"circle"}},"span.clover-scroll-highlight":{position:"relative",fontWeight:"bold","&.active":{"&::before":{top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",borderRadius:"3px",border:`1px solid rgba(${sO}, 0.2)`,borderBottom:`1px solid rgba(${sO}, 0.618)`,boxShadow:"1px 1px 1px #6661"},"&::after":{left:"0",top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",marginTop:"-1px",borderRadius:"3px",backgroundColor:`rgba(${sO}, 0.2)`,zIndex:-1}},"&::before":{top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",borderRadius:"3px",border:"1px solid #6663",borderBottom:"1px solid #6664",boxShadow:"1px 1px 1px #6661"},"&::after":{left:"0",top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",marginTop:"-1px",borderRadius:"3px",backgroundColor:"#6661",zIndex:-1}}}),On=({searchString:d="",content:h,stringLength:g=150})=>{let _=h.toLowerCase().indexOf(d.toLowerCase());if(-1!==_){let y=Math.max(0,_-g/2),A=Math.min(h.length,_+d.length+g/2);if(y>0){let d=h.lastIndexOf(" ",y+1);y=d>0?d+1:y}if(A<h.length){let d=h.indexOf(" ",A-1);A=d>-1?d:A}h=(y>0?"... ":"")+h.substring(y,A)+(A<h.length?" ...":"")}else h=h.substring(0,g)+"...";return h},Mn=({body:d,numItems:h=1,stringLength:g,type:_="content"})=>{let y;let{state:A}=(0,eV.useContext)(o$),{searchActiveMatch:b,searchString:k}=A,w=String(d.value);"snippet"==_&&(w=On({searchString:k,content:w,stringLength:g}));let R=function(d){let[h,g]=eV.useState("");return eV.useEffect(()=>{(async()=>{let h=await use_markdown_mr(d);g(h)})()},[d]),{html:h,jsx:aK.jsx("div",{dangerouslySetInnerHTML:{__html:h}})}}(w);if("text/plain"===d.format&&(y=null==w?void 0:w.replace(/\n/g,"<br />")),"text/markdown"===d.format&&(y=null==R?void 0:R.html),"text/html"===d.format&&(y=w),String(k)&&y){let h=1,g=RegExp(`(${k})`,"gi");y=null==y?void 0:y.replace(g,g=>{let _=`${d.id}/${h}`,y=b===_;return h+=1,`<span class="clover-scroll-highlight${y?" active":""}" data-index="${_}">${g}</span>`})}let B=[d.id,_].join("-"),H=["ar"].includes(String(d.language));return(0,eV.useEffect)(()=>{if(b){let d=document.querySelector(`[data-index="${b}"]`);d&&d.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},[b]),y?eV.createElement(eV.Fragment,null,eV.createElement(sN,{dangerouslySetInnerHTML:{__html:y},"data-body-id":B,"data-testid":"scroll-item-body",style:{"--num-items":h},id:B,dir:H?"rtl":"ltr",css:{fontSize:H?"1.3em":"1em"}})):null},sR=eV.memo(({hasItemBreak:d,isLastItem:h,item:g,itemCount:_,itemNumber:y})=>{var A;let{state:b}=eV.useContext(o$),{annotations:k,vault:w}=b,R=null==w?void 0:w.get(g),B=null==k?void 0:k.filter(d=>{var h,_;return(null==(_=null==(h=d.target)?void 0:h.source)?void 0:_.id)===g.id}).length,H=null==(A=null==k?void 0:k.filter(d=>{var h,_;return(null==(_=null==(h=d.target)?void 0:h.source)?void 0:_.id)===g.id}))?void 0:A.map(d=>{var h;return null==(h=null==d?void 0:d.body)?void 0:h.map((d,h)=>eV.createElement(Mn,{body:d,key:h,numItems:B}))});return eV.createElement(eV.Fragment,null,eV.createElement(sr,{"data-page-break":d,"data-page-number":y,"data-last-item":h},eV.createElement(so,null,R&&eV.createElement(Cn,{canvas:R,canvasInfo:{current:y,total:_}})),eV.createElement(sl,null,eV.createElement("div",null,null!=H&&H.length?H:eV.createElement("p",null,"[Blank]")))),d&&eV.createElement(sc,{"aria-label":"Page Break"}))}),Pn=({items:d})=>eV.createElement(eV.Fragment,null,eV.createElement(su,null,d.map((h,g)=>{let _=g+1,y=_===d.length;return eV.createElement(sR,{item:h,hasItemBreak:_<d.length,isLastItem:y,key:h.id,itemCount:d.length,itemNumber:_})}))),zn=(d,h)=>{let[g,_]=(0,eV.useState)([]);return(0,eV.useEffect)(()=>{if(!h)return;let g=[];null==d||d.forEach(d=>{var _;let y=h.get(d);null==(_=null==y?void 0:y.annotations)||_.forEach(d=>{var _;let y=h.get(d);null==(_=null==y?void 0:y.items)||_.forEach(d=>{var _;let y=h.get(d);y&&g.push({...y,body:null==(_=null==y?void 0:y.body)?void 0:_.map(d=>h.get(d))})})})});let y=g.reduce((d,h)=>(d.some(d=>d.id===h.id)||d.push(h),d),[]);_(y)},[d,h]),g},$n=({iiifContent:d})=>{let[h,g]=(0,eV.useState)(),{state:_,dispatch:y}=(0,eV.useContext)(o$),{vault:A}=_,b=zn(null==h?void 0:h.items,A);return(0,eV.useEffect)(()=>{A&&A.load(d).then(d=>d&&g(d)).catch(h=>console.error(`Manifest ${d} failed to load: ${h}`))},[d]),(0,eV.useEffect)(()=>{y({type:"updateAnnotations",payload:b})},[b]),h?eV.createElement(o2,null,h&&eV.createElement(eV.Fragment,null,eV.createElement(Hr,{label:null==h?void 0:h.label}),eV.createElement(Pn,{items:h.items}))):null},Gn=({iiifContent:d,options:h})=>eV.createElement(scroll_fr,{options:h},eV.createElement($n,{iiifContent:d}));var sD=g(9897),sL=g(5059),sM=g(6609),sP=g(2849),sF=g(5893);function useCallbackRef(d){let h=eV.useRef(d);return eV.useEffect(()=>{h.current=d}),eV.useMemo(()=>(...d)=>h.current?.(...d),[])}var sB=globalThis?.document?eV.useLayoutEffect:()=>{};function composeRefs(...d){return h=>d.forEach(d=>{"function"==typeof d?d(h):null!=d&&(d.current=h)})}function useComposedRefs(...d){return eV.useCallback(composeRefs(...d),d)}g(3935);var sU=eV.forwardRef((d,h)=>{let{children:g,..._}=d,y=eV.Children.toArray(g),A=y.find(isSlottable);if(A){let d=A.props.children,g=y.map(h=>h!==A?h:eV.Children.count(d)>1?eV.Children.only(null):eV.isValidElement(d)?d.props.children:null);return(0,sF.jsx)(sH,{..._,ref:h,children:eV.isValidElement(d)?eV.cloneElement(d,void 0,g):null})}return(0,sF.jsx)(sH,{..._,ref:h,children:g})});sU.displayName="Slot";var sH=eV.forwardRef((d,h)=>{let{children:g,..._}=d;if(eV.isValidElement(g)){let d,y;let A=(d=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in d&&d.isReactWarning?g.ref:(d=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in d&&d.isReactWarning?g.props.ref:g.props.ref||g.ref;return eV.cloneElement(g,{...function(d,h){let g={...h};for(let _ in h){let y=d[_],A=h[_],b=/^on[A-Z]/.test(_);b?y&&A?g[_]=(...d)=>{A(...d),y(...d)}:y&&(g[_]=y):"style"===_?g[_]={...y,...A}:"className"===_&&(g[_]=[y,A].filter(Boolean).join(" "))}return{...d,...g}}(_,g.props),ref:h?composeRefs(h,A):A})}return eV.Children.count(g)>1?eV.Children.only(null):null});sH.displayName="SlotClone";var Slottable=({children:d})=>(0,sF.jsx)(sF.Fragment,{children:d});function isSlottable(d){return eV.isValidElement(d)&&d.type===Slottable}var sG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((d,h)=>{let g=eV.forwardRef((d,g)=>{let{asChild:_,...y}=d,A=_?sU:h;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,sF.jsx)(A,{...y,ref:g})});return g.displayName=`Primitive.${h}`,{...d,[h]:g}},{}),Presence=d=>{let h,g;let{present:_,children:y}=d,A=function(d){var h;let[g,_]=eV.useState(),y=eV.useRef({}),A=eV.useRef(d),b=eV.useRef("none"),k=d?"mounted":"unmounted",[w,R]=(h={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},eV.useReducer((d,g)=>{let _=h[d][g];return _??d},k));return eV.useEffect(()=>{let d=getAnimationName(y.current);b.current="mounted"===w?d:"none"},[w]),sB(()=>{let h=y.current,g=A.current,_=g!==d;if(_){let _=b.current,y=getAnimationName(h);d?R("MOUNT"):"none"===y||h?.display==="none"?R("UNMOUNT"):g&&_!==y?R("ANIMATION_OUT"):R("UNMOUNT"),A.current=d}},[d,R]),sB(()=>{if(g){let d;let h=g.ownerDocument.defaultView??window,handleAnimationEnd=_=>{let b=getAnimationName(y.current),k=b.includes(_.animationName);if(_.target===g&&k&&(R("ANIMATION_END"),!A.current)){let _=g.style.animationFillMode;g.style.animationFillMode="forwards",d=h.setTimeout(()=>{"forwards"===g.style.animationFillMode&&(g.style.animationFillMode=_)})}},handleAnimationStart=d=>{d.target===g&&(b.current=getAnimationName(y.current))};return g.addEventListener("animationstart",handleAnimationStart),g.addEventListener("animationcancel",handleAnimationEnd),g.addEventListener("animationend",handleAnimationEnd),()=>{h.clearTimeout(d),g.removeEventListener("animationstart",handleAnimationStart),g.removeEventListener("animationcancel",handleAnimationEnd),g.removeEventListener("animationend",handleAnimationEnd)}}R("ANIMATION_END")},[g,R]),{isPresent:["mounted","unmountSuspended"].includes(w),ref:eV.useCallback(d=>{d&&(y.current=getComputedStyle(d)),_(d)},[])}}(_),b="function"==typeof y?y({present:A.isPresent}):eV.Children.only(y),k=useComposedRefs(A.ref,(h=Object.getOwnPropertyDescriptor(b.props,"ref")?.get)&&"isReactWarning"in h&&h.isReactWarning?b.ref:(h=Object.getOwnPropertyDescriptor(b,"ref")?.get)&&"isReactWarning"in h&&h.isReactWarning?b.props.ref:b.props.ref||b.ref),w="function"==typeof y;return w||A.isPresent?eV.cloneElement(b,{ref:k}):null};function getAnimationName(d){return d?.animationName||"none"}Presence.displayName="Presence";var sz=e$["useId".toString()]||(()=>void 0),sV=0,s$="Collapsible",[sQ,sj]=function(d,h=[]){let g=[],createScope=()=>{let h=g.map(d=>eV.createContext(d));return function(g){let _=g?.[d]||h;return eV.useMemo(()=>({[`__scope${d}`]:{...g,[d]:_}}),[g,_])}};return createScope.scopeName=d,[function(h,_){let y=eV.createContext(_),A=g.length;g=[...g,_];let Provider=h=>{let{scope:g,children:_,...b}=h,k=g?.[d]?.[A]||y,w=eV.useMemo(()=>b,Object.values(b));return(0,sF.jsx)(k.Provider,{value:w,children:_})};return Provider.displayName=h+"Provider",[Provider,function(g,b){let k=b?.[d]?.[A]||y,w=eV.useContext(k);if(w)return w;if(void 0!==_)return _;throw Error(`\`${g}\` must be used within \`${h}\``)}]},function(...d){let h=d[0];if(1===d.length)return h;let createScope=()=>{let g=d.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(d){let _=g.reduce((h,{useScope:g,scopeName:_})=>{let y=g(d),A=y[`__scope${_}`];return{...h,...A}},{});return eV.useMemo(()=>({[`__scope${h.scopeName}`]:_}),[_])}};return createScope.scopeName=h.scopeName,createScope}(createScope,...h)]}(s$),[sY,sq]=sQ(s$),sW=eV.forwardRef((d,h)=>{let{__scopeCollapsible:g,open:_,defaultOpen:y,disabled:A,onOpenChange:b,...k}=d,[w=!1,R]=function({prop:d,defaultProp:h,onChange:g=()=>{}}){let[_,y]=function({defaultProp:d,onChange:h}){let g=eV.useState(d),[_]=g,y=eV.useRef(_),A=useCallbackRef(h);return eV.useEffect(()=>{y.current!==_&&(A(_),y.current=_)},[_,y,A]),g}({defaultProp:h,onChange:g}),A=void 0!==d,b=A?d:_,k=useCallbackRef(g),w=eV.useCallback(h=>{if(A){let g="function"==typeof h?h(d):h;g!==d&&k(g)}else y(h)},[A,d,y,k]);return[b,w]}({prop:_,defaultProp:y,onChange:b});return(0,sF.jsx)(sY,{scope:g,disabled:A,contentId:function(d){let[h,g]=eV.useState(sz());return sB(()=>{d||g(d=>d??String(sV++))},[d]),d||(h?`radix-${h}`:"")}(),open:w,onOpenToggle:eV.useCallback(()=>R(d=>!d),[R]),children:(0,sF.jsx)(sG.div,{"data-state":getState(w),"data-disabled":A?"":void 0,...k,ref:h})})});sW.displayName=s$;var sX="CollapsibleTrigger",sK=eV.forwardRef((d,h)=>{let{__scopeCollapsible:g,..._}=d,y=sq(sX,g);return(0,sF.jsx)(sG.button,{type:"button","aria-controls":y.contentId,"aria-expanded":y.open||!1,"data-state":getState(y.open),"data-disabled":y.disabled?"":void 0,disabled:y.disabled,..._,ref:h,onClick:function(d,h,{checkForDefaultPrevented:g=!0}={}){return function(_){if(d?.(_),!1===g||!_.defaultPrevented)return h?.(_)}}(d.onClick,y.onOpenToggle)})});sK.displayName=sX;var sJ="CollapsibleContent",sZ=eV.forwardRef((d,h)=>{let{forceMount:g,..._}=d,y=sq(sJ,d.__scopeCollapsible);return(0,sF.jsx)(Presence,{present:g||y.open,children:({present:d})=>(0,sF.jsx)(s0,{..._,ref:h,present:d})})});sZ.displayName=sJ;var s0=eV.forwardRef((d,h)=>{let{__scopeCollapsible:g,present:_,children:y,...A}=d,b=sq(sJ,g),[k,w]=eV.useState(_),R=eV.useRef(null),B=useComposedRefs(h,R),H=eV.useRef(0),z=H.current,$=eV.useRef(0),j=$.current,q=b.open||k,W=eV.useRef(q),K=eV.useRef();return eV.useEffect(()=>{let d=requestAnimationFrame(()=>W.current=!1);return()=>cancelAnimationFrame(d)},[]),sB(()=>{let d=R.current;if(d){K.current=K.current||{transitionDuration:d.style.transitionDuration,animationName:d.style.animationName},d.style.transitionDuration="0s",d.style.animationName="none";let h=d.getBoundingClientRect();H.current=h.height,$.current=h.width,W.current||(d.style.transitionDuration=K.current.transitionDuration,d.style.animationName=K.current.animationName),w(_)}},[b.open,_]),(0,sF.jsx)(sG.div,{"data-state":getState(b.open),"data-disabled":b.disabled?"":void 0,id:b.contentId,hidden:!q,...A,ref:B,style:{"--radix-collapsible-content-height":z?`${z}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...d.style},children:q&&y})});function getState(d){return d?"open":"closed"}var s1=g(1876).Buffer,s2=g(4782),s3=g(1073),s4=g(9821),s5=g(7462),s6=g(6206),s8=g(8771),s9=g(5360),s7=g(1276),le=g(5320);(d,h)=>(0,eV.createElement)(le.WV.label,(0,s5.Z)({},d,{ref:h,onMouseDown:h=>{var g;null===(g=d.onMouseDown)||void 0===g||g.call(d,h),!h.defaultPrevented&&h.detail>1&&h.preventDefault()}}));let[lt,ln]=(0,s9.b)("Form"),li="Form",[lo,ll]=lt(li),[lc,lu]=lt(li),ld=(0,eV.forwardRef)((d,h)=>{let{__scopeForm:g,onClearServerErrors:_=()=>{},...y}=d,A=(0,eV.useRef)(null),b=(0,s8.e)(h,A),[k,w]=(0,eV.useState)({}),R=(0,eV.useCallback)(d=>k[d],[k]),B=(0,eV.useCallback)((d,h)=>w(g=>{var _;return{...g,[d]:{...null!==(_=g[d])&&void 0!==_?_:{},...h}}}),[]),H=(0,eV.useCallback)(d=>{w(h=>({...h,[d]:void 0})),ee(h=>({...h,[d]:{}}))},[]),[z,$]=(0,eV.useState)({}),j=(0,eV.useCallback)(d=>{var h;return null!==(h=z[d])&&void 0!==h?h:[]},[z]),q=(0,eV.useCallback)((d,h)=>{$(g=>{var _;return{...g,[d]:[...null!==(_=g[d])&&void 0!==_?_:[],h]}})},[]),W=(0,eV.useCallback)((d,h)=>{$(g=>{var _;return{...g,[d]:(null!==(_=g[d])&&void 0!==_?_:[]).filter(d=>d.id!==h)}})},[]),[K,ee]=(0,eV.useState)({}),et=(0,eV.useCallback)(d=>{var h;return null!==(h=K[d])&&void 0!==h?h:{}},[K]),en=(0,eV.useCallback)((d,h)=>{ee(g=>{var _;return{...g,[d]:{...null!==(_=g[d])&&void 0!==_?_:{},...h}}})},[]),[er,es]=(0,eV.useState)({}),el=(0,eV.useCallback)((d,h)=>{es(g=>{let _=new Set(g[d]).add(h);return{...g,[d]:_}})},[]),ec=(0,eV.useCallback)((d,h)=>{es(g=>{let _=new Set(g[d]);return _.delete(h),{...g,[d]:_}})},[]),eu=(0,eV.useCallback)(d=>{var h;return Array.from(null!==(h=er[d])&&void 0!==h?h:[]).join(" ")||void 0},[er]);return(0,eV.createElement)(lo,{scope:g,getFieldValidity:R,onFieldValidityChange:B,getFieldCustomMatcherEntries:j,onFieldCustomMatcherEntryAdd:q,onFieldCustomMatcherEntryRemove:W,getFieldCustomErrors:et,onFieldCustomErrorsChange:en,onFieldValiditionClear:H},(0,eV.createElement)(lc,{scope:g,onFieldMessageIdAdd:el,onFieldMessageIdRemove:ec,getFieldDescription:eu},(0,eV.createElement)(le.WV.form,(0,s5.Z)({},y,{ref:b,onInvalid:(0,s6.M)(d.onInvalid,d=>{let h=$d94698215c4408a7$var$getFirstInvalidControl(d.currentTarget);h===d.target&&h.focus(),d.preventDefault()}),onSubmit:(0,s6.M)(d.onSubmit,_,{checkForDefaultPrevented:!1}),onReset:(0,s6.M)(d.onReset,_)}))))}),lh="FormField",[lp,lf]=lt(lh),lm=(0,eV.forwardRef)((d,h)=>{let{__scopeForm:g,name:_,serverInvalid:y=!1,...A}=d,b=ll(lh,g),k=b.getFieldValidity(_),w=(0,s7.M)();return(0,eV.createElement)(lp,{scope:g,id:w,name:_,serverInvalid:y},(0,eV.createElement)(le.WV.div,(0,s5.Z)({"data-valid":$d94698215c4408a7$var$getValidAttribute(k,y),"data-invalid":$d94698215c4408a7$var$getInvalidAttribute(k,y)},A,{ref:h})))}),lg="FormControl",lE=(0,eV.forwardRef)((d,h)=>{let{__scopeForm:g,..._}=d,y=ll(lg,g),A=lf(lg,g),b=lu(lg,g),k=(0,eV.useRef)(null),w=(0,s8.e)(h,k),R=_.name||A.name,B=_.id||A.id,H=y.getFieldCustomMatcherEntries(R),{onFieldValidityChange:z,onFieldCustomErrorsChange:$,onFieldValiditionClear:j}=y,q=(0,eV.useCallback)(async d=>{if($d94698215c4408a7$var$hasBuiltInError(d.validity)){let h=$d94698215c4408a7$var$validityStateToObject(d.validity);z(R,h);return}let h=d.form?new FormData(d.form):new FormData,g=[d.value,h],_=[],y=[];H.forEach(d=>{"AsyncFunction"===d.match.constructor.name||(0,d.match)(...g) instanceof Promise?y.push(d):"Function"===d.match.constructor.name&&_.push(d)});let A=_.map(({id:d,match:h})=>[d,h(...g)]),b=Object.fromEntries(A),k=Object.values(b).some(Boolean);d.setCustomValidity(k?l_:"");let w=$d94698215c4408a7$var$validityStateToObject(d.validity);if(z(R,w),$(R,b),!k&&y.length>0){let h=y.map(({id:d,match:h})=>h(...g).then(h=>[d,h])),_=await Promise.all(h),A=Object.fromEntries(_),b=Object.values(A).some(Boolean);d.setCustomValidity(b?l_:"");let k=$d94698215c4408a7$var$validityStateToObject(d.validity);z(R,k),$(R,A)}},[H,R,$,z]);(0,eV.useEffect)(()=>{let d=k.current;if(d){let handleChange=()=>q(d);return d.addEventListener("change",handleChange),()=>d.removeEventListener("change",handleChange)}},[q]);let W=(0,eV.useCallback)(()=>{let d=k.current;d&&(d.setCustomValidity(""),j(R))},[R,j]);(0,eV.useEffect)(()=>{var d;let h=null===(d=k.current)||void 0===d?void 0:d.form;if(h)return h.addEventListener("reset",W),()=>h.removeEventListener("reset",W)},[W]),(0,eV.useEffect)(()=>{let d=k.current,h=null==d?void 0:d.closest("form");if(h&&A.serverInvalid){let g=$d94698215c4408a7$var$getFirstInvalidControl(h);g===d&&g.focus()}},[A.serverInvalid]);let K=y.getFieldValidity(R);return(0,eV.createElement)(le.WV.input,(0,s5.Z)({"data-valid":$d94698215c4408a7$var$getValidAttribute(K,A.serverInvalid),"data-invalid":$d94698215c4408a7$var$getInvalidAttribute(K,A.serverInvalid),"aria-invalid":!!A.serverInvalid||void 0,"aria-describedby":b.getFieldDescription(R),title:""},_,{ref:w,id:B,name:R,onInvalid:(0,s6.M)(d.onInvalid,d=>{let h=d.currentTarget;q(h)}),onChange:(0,s6.M)(d.onChange,d=>{W()})}))}),l_="This value is not valid",lT={badInput:l_,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},lv="FormMessage",ly=((d,h)=>{let{match:g,forceMatch:_=!1,name:y,children:A,...b}=d,k=ll(lv,b.__scopeForm),w=k.getFieldValidity(y),R=_||(null==w?void 0:w[g]);return R?(0,eV.createElement)(ly,(0,s5.Z)({ref:h},b,{name:y}),null!=A?A:lT[g]):null},(0,eV.forwardRef)((d,h)=>{let{__scopeForm:g,id:_,name:y,...A}=d,b=lu(lv,g),k=(0,s7.M)(),w=null!=_?_:k,{onFieldMessageIdAdd:R,onFieldMessageIdRemove:B}=b;return(0,eV.useEffect)(()=>(R(y,w),()=>B(y,w)),[y,w,R,B]),(0,eV.createElement)(le.WV.span,(0,s5.Z)({id:w},A,{ref:h}))})),lA=(0,eV.forwardRef)((d,h)=>{let{__scopeForm:g,..._}=d;return(0,eV.createElement)(le.WV.button,(0,s5.Z)({type:"submit"},_,{ref:h}))});function $d94698215c4408a7$var$validityStateToObject(d){let h={};for(let g in d)h[g]=d[g];return h}function $d94698215c4408a7$var$isHTMLElement(d){return d instanceof HTMLElement}function $d94698215c4408a7$var$isInvalid(d){return"validity"in d&&(!1===d.validity.valid||"true"===d.getAttribute("aria-invalid"))}function $d94698215c4408a7$var$getFirstInvalidControl(d){let h=d.elements,[g]=Array.from(h).filter($d94698215c4408a7$var$isHTMLElement).filter($d94698215c4408a7$var$isInvalid);return g}function $d94698215c4408a7$var$hasBuiltInError(d){let h=!1;for(let g in d)if("valid"!==g&&"customError"!==g&&d[g]){h=!0;break}return h}function $d94698215c4408a7$var$getValidAttribute(d,h){if((null==d?void 0:d.valid)===!0&&!h)return!0}function $d94698215c4408a7$var$getInvalidAttribute(d,h){if((null==d?void 0:d.valid)===!1||h)return!0}var lb=g(3686),lS=g(1835),lk=g(2512);let lC="clover",lx=Object.fromEntries(Object.entries({en:{commonClose:"Close",commonNext:"Next",commonPrevious:"Previous",commonSearch:"Search",commonSearchPlaceholder:"Search...",commonShare:"Share",commonViewAll:"View All",copyFailure:"Failed",copySuccess:"Copied",informationPanelTabs:"Select",informationPanelTabsAbout:"About",informationPanelTabsAnnotations:"Annotations",informationPanelTabsSearch:"Search",informationPanelToggle:"More Information",shareCollectionJson:"View Collection",shareCollectionCopy:"Copy Collection URL",shareManifestJson:"View Manifest",shareManifestCopy:"Copy Manifest URL"},pt:{}}).map(([d,h])=>[d,{[`${lC}`]:h}]));sM.ZP.use(sL.Z).use(sP.Db).init({defaultNS:lC,fallbackLng:"en",ns:[lC],resources:{...lx}});var viewer_$=function(d){return function(){let h={type:d,getType:()=>d,toString:()=>d};return(d,g)=>({...h,...void 0!==d&&{payload:d},...void 0!==g&&{meta:g}})}},lI="@iiif/IMPORT_ENTITIES",lw="@iiif/MODIFY_ENTITY_FIELD",lO="@iiif/REORDER_ENTITY_FIELD",lN="@iiif/ADD_REFERENCE",lR="@iiif/UPDATE_REFERENCE",lD="@iiif/REMOVE_REFERENCE",lL="@iiif/ADD_METADATA",lM="@iiif/REMOVE_METADATA",lP="@iiif/UPDATE_METADATA",lF="@iiif/REORDER_METADATA",lB=viewer_$(lI)(),lU=viewer_$(lw)(),lH=viewer_$(lO)(),lG=viewer_$(lN)(),lz=viewer_$(lD)(),lV=viewer_$(lR)(),l$=viewer_$(lL)(),lQ=viewer_$(lP)(),lj={importEntities:lB,modifyEntityField:lU,reorderEntityField:lH,addReference:lG,removeReference:lz,updateReference:lV,addMetadata:l$,removeMetadata:viewer_$(lM)(),updateMetadata:lQ,reorderMetadata:viewer_$(lF)()},lY="@iiif/ADD_MAPPING",lq="@iiif/ADD_MAPPINGS",lW=viewer_$(lY)(),lX=viewer_$(lq)(),lK="RESOURCE_ERROR",lJ="RESOURCE_LOADING",lZ="RESOURCE_READY",l0="@iiif/REQUEST_RESOURCE",l1="@iiif/REQUEST_ERROR",l2="@iiif/REQUEST_MISMATCH",l3="@iiif/REQUEST_COMPLETE",l4=viewer_$(l0)(),l5=viewer_$(l1)(),l6=viewer_$(l2)(),l8=viewer_$(l3)(),l9="@iiif/BATCH",l7=viewer_$(l9)(),viewer_qr=(d,h)=>{let{entities:g,resource:_,mapping:y}=Fe(h);if(void 0===_.id)return[l5({id:d,message:"ID is not defined in resource."})];let A=[lB({entities:g}),lX({mapping:y})];return _.id!==d&&(A.push(lW({id:d,type:_.type})),A.push(l6({requestId:d,actualId:_.id}))),A.push(l8({id:d})),A},ce=Number.isNaN||function(d){return"number"==typeof d&&d!=d};function viewer_rt(d,h){if(!Array.isArray(d)||!Array.isArray(h))return d===h;if(d.length!==h.length)return!1;for(let y=0;y<d.length;y++){var g,_;if(!((g=d[y])===(_=h[y])||ce(g)&&ce(_)))return!1}return!0}function viewer_we(d,h,g){let _=d.iiif.requests[h],y=d.iiif.mapping[h];if(!y||!d.iiif.entities[y][_.resourceUri])return;let A=d.iiif.entities[y][_.resourceUri];if(A&&A[tl]){let d=A[tl].find(d=>d[tc]===A.id);return chunk_AXOUQGO3_oe(A,d)}return A}function viewer_ot(d,h,{waitTimeout:g=30}={}){return(_,y)=>{let A=d.getStore(),b=A.getState(),k=b.iiif.requests[_];if(k){if(k.loadingState===lZ){let d=viewer_we(b,_);if(d)return d}switch(k.loadingState){case lK:break;case lJ:return(async()=>{let d,h=!1;try{let y=await Promise.race([new Promise((g,y)=>{h||(d=A.subscribe(()=>{let d=A.getState();if(d.iiif.requests[_].loadingState===lK){y();return}if(d.iiif.requests[_].loadingState===lZ){let h=viewer_we(d,_);h?g(h):y()}}))}),new Promise((d,_)=>setTimeout(()=>{h=!0,_()},6e4*g))]);if(d&&d(),y)return y}catch{d&&d()}})()}}d.dispatch(l4({id:_}));let c=h=>{if(!h)return;h.id||h["@id"]||(h["@type"]&&(h["@id"]=_),h.id=_);let g=viewer_qr(_,h);return d.dispatch(l7({actions:g})),viewer_we(A.getState(),_)};try{let g=h(_,y);return g&&"function"==typeof g.then?(async()=>{try{return c(await g)}catch(h){throw d.dispatch(l5({id:_,message:h.toString()})),h}})():c(g)}catch(h){throw d.dispatch(l5({id:_,message:h.toString()})),h}}}function viewer_Ht(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let ct={};var viewer_at=d=>{let h;let g=new Set,a=(d,_)=>{let y="function"==typeof d?d(h):d;if(!Object.is(y,h)){let d=h;h=_??("object"!=typeof y||null===y)?y:Object.assign({},h,y),g.forEach(g=>g(h,d))}},o=()=>h,_={setState:a,getState:o,getInitialState:()=>y,subscribe:d=>(g.add(d),()=>g.delete(d)),destroy:()=>{(ct?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),g.clear()}},y=h=d(a,o,_);return _},viewer_Qr=d=>d?viewer_at(d):viewer_at,cn="@iiif/SET_META_VALUE",co="@iiif/SET_META_VALUE_DYNAMIC",cs="@iiif/UNSET_META_VALUE",cl={setMetaValue:viewer_$(cn)(),setMetaValueDynamic:viewer_$(co)(),unsetMetaValue:viewer_$(cs)()};let cc={};var eo=(d,h)=>(g,_,y)=>(y.dispatch=h=>(g(g=>d(g,h),!1,h),h),y.dispatchFromDevtools=!0,{dispatch:(...d)=>y.dispatch(...d),...h}),cu=new Map,viewer_de=d=>{let h=cu.get(d);return h?Object.fromEntries(Object.entries(h.stores).map(([d,h])=>[d,h.getState()])):{}},to=(d,h,g)=>{if(void 0===d)return{type:"untracked",connection:h.connect(g)};let _=cu.get(g.name);if(_)return{type:"tracked",store:d,..._};let y={connection:h.connect(g),stores:{}};return cu.set(g.name,y),{type:"tracked",store:d,...y}},ro=(d,h={})=>(g,_,y)=>{let A;let{enabled:b,anonymousActionType:k,store:w,...R}=h;try{A=(b??(cc?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!A)return(cc?"production":void 0)!=="production"&&b&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),d(g,_,y);let{connection:B,...H}=to(w,A,R),z=!0;y.setState=(d,h,A)=>{let b=g(d,h);if(!z)return b;let H=void 0===A?{type:k||"anonymous"}:"string"==typeof A?{type:A}:A;return void 0===w?null==B||B.send(H,_()):null==B||B.send({...H,type:`${w}/${H.type}`},{...viewer_de(R.name),[w]:y.getState()}),b};let f=(...d)=>{let h=z;z=!1,g(...d),z=h},$=d(y.setState,_,y);if("untracked"===H.type?null==B||B.init($):(H.stores[H.store]=y,null==B||B.init(Object.fromEntries(Object.entries(H.stores).map(([d,h])=>[d,d===H.store?$:h.getState()])))),y.dispatchFromDevtools&&"function"==typeof y.dispatch){let d=!1,h=y.dispatch;y.dispatch=(...g)=>{(cc?"production":void 0)==="production"||"__setState"!==g[0].type||d||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),d=!0),h(...g)}}return B.subscribe(d=>{var h;switch(d.type){case"ACTION":if("string"!=typeof d.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return viewer_xe(d.payload,d=>{if("__setState"===d.type){if(void 0===w){f(d.state);return}1!==Object.keys(d.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let h=d.state[w];if(null==h)return;JSON.stringify(y.getState())!==JSON.stringify(h)&&f(h);return}y.dispatchFromDevtools&&"function"==typeof y.dispatch&&y.dispatch(d)});case"DISPATCH":switch(d.payload.type){case"RESET":return f($),void 0===w?null==B?void 0:B.init(y.getState()):null==B?void 0:B.init(viewer_de(R.name));case"COMMIT":if(void 0===w){null==B||B.init(y.getState());break}return null==B?void 0:B.init(viewer_de(R.name));case"ROLLBACK":return viewer_xe(d.state,d=>{if(void 0===w){f(d),null==B||B.init(y.getState());return}f(d[w]),null==B||B.init(viewer_de(R.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return viewer_xe(d.state,d=>{if(void 0===w){f(d);return}JSON.stringify(y.getState())!==JSON.stringify(d[w])&&f(d[w])});case"IMPORT_STATE":{let{nextLiftedState:g}=d.payload,_=null==(h=g.computedStates.slice(-1)[0])?void 0:h.state;if(!_)return;f(void 0===w?_:_[w]),null==B||B.send(null,g);break}case"PAUSE_RECORDING":return z=!z}return}}),$},viewer_xe=(d,h)=>{let g;try{g=JSON.parse(d)}catch(d){console.error("[zustand devtools middleware] Could not parse the received json",d)}void 0!==g&&h(g)},ao=d=>(h,g,_)=>{let y=_.subscribe;return _.subscribe=(d,h,g)=>{let A=d;if(h){let y=(null==g?void 0:g.equalityFn)||Object.is,b=d(_.getState());A=g=>{let _=d(g);if(!y(b,_)){let d=b;h(b=_,d)}},null!=g&&g.fireImmediately&&h(b,b)}return y(A)},d(h,g,_)};function viewer_Ce(d,h,g,_){return!(!d[g]||!d[g][h]||!d[g][h][_]||!Array.isArray(d[g][h][_]))}function viewer_w(d){return d.payload}function viewer_Ae(d,h){return typeof d>"u"?h:d}function viewer_jt(d={}){let h=Object.keys(d);return function(g={},_){let y=!1,A={};for(let b=0;b<h.length;b++){let k=h[b];A[k]=d[k](g[k],_),y=y||A[k]!==g[k]}return y?A:g}}var cd=viewer_jt({mapping:(d={},h)=>{switch(h.type){case lY:return{...d,[h.payload.id]:h.payload.type};case lq:return{...d,...h.payload.mapping};default:return d}},entities:(d=viewer_Ht(),h)=>{var g;let n=(g,_)=>({...d,[viewer_w(h).type]:{...d[viewer_w(h).type],[viewer_w(h).id]:{...g,..._}}});switch(h.type){case lw:{if(!d[viewer_w(h).type]||!d[viewer_w(h).type][viewer_w(h).id])return d;let g=d[viewer_w(h).type][viewer_w(h).id];return"string"==typeof g?d:n(g,{[viewer_w(h).key]:viewer_w(h).value})}case lO:{if(!viewer_Ce(d,viewer_w(h).id,viewer_w(h).type,viewer_w(h).key))return d;let g=d[viewer_w(h).type][viewer_w(h).id];if("string"==typeof g)return d;let _=Array.from(g[viewer_w(h).key]),[y]=_.splice(viewer_w(h).startIndex,1);return _.splice(viewer_w(h).endIndex,0,y),n(g,{[viewer_w(h).key]:_})}case lI:{let g=Object.keys(viewer_w(h).entities),_={...d};for(let y of g){let g=viewer_w(h).entities[y],A={...d[y]||{}},b=!1,k=Object.keys(g||{})||[];if(g&&k){for(let h of k)b=!0,A[h]=d[y][h]?function(d,h){let g={},_=[];for(let[y,A]of Object.entries(d||{})){_.push(y);let d=(h||{})[y];if(!d||0===d.length){g[y]=A;continue}g[y]=d}for(let[d,y]of Object.entries(h||{}))-1===_.indexOf(d)&&(g[d]=y);return g}(d[y][h],g[h]):g[h];b&&(_[y]=A)}}return _}case lN:{if(!viewer_Ce(d,viewer_w(h).id,viewer_w(h).type,viewer_w(h).key))return d;let g=d[viewer_w(h).type][viewer_w(h).id],_=Array.from(g[viewer_w(h).key]);return _.splice(viewer_Ae(viewer_w(h).index,_.length+1),0,viewer_w(h).reference),n(g,{[viewer_w(h).key]:_})}case lR:case lD:{if(!viewer_Ce(d,viewer_w(h).id,viewer_w(h).type,viewer_w(h).key))return d;let _=d[viewer_w(h).type][viewer_w(h).id],y=Array.from(_[viewer_w(h).key]),A=viewer_Ae(viewer_w(h).index,y.findIndex(d=>d&&d.id===viewer_w(h).reference.id));return -1===A||(null==(g=y[A])?void 0:g.id)!==viewer_w(h).reference.id?d:(h.type===lR?y.splice(A,1,viewer_w(h).reference):y.splice(A,1),n(_,{[viewer_w(h).key]:y}))}case lL:{let g=d[viewer_w(h).type][viewer_w(h).id];if(!g)return d;let _=Array.from(g.metadata||[]),y=viewer_w(h);return _.splice(viewer_Ae(h.payload.beforeIndex,_.length+1),0,{label:y.label,value:y.label}),n(g,{metadata:_})}case lF:{let g=d[viewer_w(h).type][viewer_w(h).id];if("string"==typeof g||!g)return d;let _=Array.from(g.metadata||[]),[y]=_.splice(viewer_w(h).startIndex,1);return _.splice(viewer_w(h).endIndex,0,y),n(g,{metadata:_})}case lP:case lM:{let g=d[viewer_w(h).type][viewer_w(h).id],_=Array.from(g.metadata||[]),y=viewer_w(h).atIndex;return typeof y>"u"||-1===y||!_[y]?d:(h.type===lP?_.splice(y,1,{label:viewer_w(h).label,value:viewer_w(h).value}):_.splice(y,1),n(g,{metadata:_}))}default:return d}},requests:(d={},h)=>{switch(h.type){case l0:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...d,[h.payload.id]:{requestUri:h.payload.id,loadingState:lJ,uriMismatch:!1,resourceUri:h.payload.id}};case l2:return{...d,[h.payload.requestId]:{...d[h.payload.requestId]||{},uriMismatch:!0,resourceUri:h.payload.actualId},[h.payload.actualId]:{requestUri:h.payload.requestId,loadingState:d[h.payload.requestId].loadingState,uriMismatch:!0,resourceUri:h.payload.actualId}};case l1:return{...d,[h.payload.id]:{...d[h.payload.id]||{},loadingState:lK,error:h.payload.message}};case l3:return{...d,[h.payload.id]:{...d[h.payload.id]||{},loadingState:lZ,error:void 0}}}return d},meta:(d={},h)=>{let{id:g,updateValue:_,value:y,meta:A,key:b}=h&&h.payload||{};switch(h.type){case cn:return{...d,[g]:{...d[g]||{},[A]:{...d[g]&&d[g][A]||{},[b]:y}}};case co:return{...d,[g]:{...d[g]||{},[A]:{...d[g]&&d[g][A]||{},[b]:_(d[g]&&d[g][A]?d[g][A][b]:void 0)}}};case cs:return d[g]&&d[g][A]&&d[g][A][b]?{...d,[g]:{...d[g]||{},[A]:{...d[g]&&d[g][A]||{},[b]:void 0}}}:d;default:return d}}}),ch=Object.defineProperty,vo=(d,h,g)=>h in d?ch(d,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[h]=g,viewer_W=(d,h,g)=>(vo(d,"symbol"!=typeof h?h+"":h,g),g);function viewer_O(d,h,g,_=!0){h[cm]=h[cm]||[],h[cm].push(d);let y=new Map;Object.defineProperty(h,d,{enumerable:_,get(){if(typeof h[cp][d]>"u")return;let _=h[cp][d];if(!_)return _;let A=g.get(h[cp][d],{parent:this.id?{id:this.id,type:this.type}:void 0});return y.has(A)||(y.clear(),y.set(A,viewer_Y(A,g))),y.get(A)},set(_){h[cp][d]!==_&&(this[cf]?g.modifyEntityField({id:this.id,type:this.type},d,function viewer_Gt(d){return Array.isArray(d)?d.map(d=>viewer_Gt(d)):d&&d.type?{id:d.id,type:d.type}:d}(_)):this[cp][d]=_)}})}var cp=Symbol.for("_refs_"),cf=Symbol.for("_reactive_"),cm=Symbol.for("_defined_"),cg=Symbol.for("_parent_");function viewer_Y(d,h,g=!1,_){if(Array.isArray(d))return d.map(d=>viewer_Y(d,h,g));if(!d||!d.type||!d.id)return d;let y=function(d,h=!1,g){let _={id:"",type:"unknown",[cm]:[],[cp]:{},[cg]:null,[cf]:null,is(d){return"string"==typeof d?this.id===d:!!d.id&&d.id===this.id},reactive(){if(!this[cf])return this[cf]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let d=this.unwrap();for(let h of Object.keys(d||{}))this[cm].includes(h)?this[cp][h]=d[h]:this[h]=d[h]}},unreactive(){this[cf]&&(this[cf](),this[cf]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let h=this[cg];return d.get(this.id,{parent:h?{id:h,type:"unknown"}:void 0})},toPresentation3(){return d.toPresentation3(this.unwrap())},toPresentation2(){return d.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(h,g=!0){return d.subscribe(()=>this.id?d.get(this.id):null,h,g)}};return viewer_O("items",_,d),viewer_O("annotations",_,d),viewer_O("structures",_,d),viewer_O("seeAlso",_,d),viewer_O("rendering",_,d),viewer_O("partOf",_,d),viewer_O("start",_,d,!1),viewer_O("supplementary",_,d),viewer_O("homepage",_,d),viewer_O("thumbnail",_,d),viewer_O("placeholderCanvas",_,d,!1),viewer_O("accompanyingCanvas",_,d,!1),viewer_O("provider",_,d),viewer_O("body",_,d),viewer_O("logo",_,d),_}(h,g),A=Object.create(y),b=Object.assign(A,d);return g&&b.reactive(),b}function viewer_lt(d){switch(d){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return d}var cE=class{constructor(d,h){var g;viewer_W(this,"options"),viewer_W(this,"store"),viewer_W(this,"emitter"),viewer_W(this,"isBatching",!1),viewer_W(this,"batchQueue",[]),viewer_W(this,"remoteFetcher"),viewer_W(this,"staticFetcher"),viewer_W(this,"defaultFetcher",d=>fetch(d).then(d=>d.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},d||{}),this.store=h||function(d={}){var h;let{enableDevtools:g=!1,iiifStoreName:_="iiif",defaultState:y={iiif:{entities:viewer_Ht(),meta:{},mapping:{},requests:{}}},customReducers:A={}}=d,b=(h=viewer_jt({[_]:cd,...A}),(d,g)=>g&&g.type===l9?g.payload.actions.reduce(h,d):g&&"@iiif/BATCH_IMPORT"===g.type?{...d,iiif:{...d.iiif,...g.payload.state}}:h(d,g)),k="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?ro:(d,h)=>d;return viewer_Qr(ao(k(eo(b,y),{enabled:g})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:g=g||new Map,on:function(d,h){var _=g.get(d);_?_.push(h):g.set(d,[h])},off:function(d,h){var _=g.get(d);_&&(h?_.splice(_.indexOf(h)>>>0,1):g.set(d,[]))},emit:function(d,h){var _=g.get(d);_&&_.slice().map(function(d){d(h)}),(_=g.get("*"))&&_.slice().map(function(g){g(d,h)})}},this.remoteFetcher=viewer_ot(this,this.options.customFetcher),this.staticFetcher=viewer_ot(this,(d,h)=>h)}batch(d){this.isBatching=!0;try{d(this),this.isBatching=!1,this.dispatch(l7({actions:this.batchQueue}))}catch(d){throw this.batchQueue=[],this.isBatching=!1,d}this.batchQueue=[]}async asyncBatch(d){this.isBatching=!0;try{await d(this),this.isBatching=!1,this.dispatch(l7({actions:this.batchQueue}))}catch(d){throw this.batchQueue=[],this.isBatching=!1,d}this.batchQueue=[]}modifyEntityField(d,h,g){this.dispatch(lj.modifyEntityField({id:d.id,type:d.type,key:h,value:g}))}dispatch(d){if(this.isBatching)this.batchQueue.push(d);else{if(d.type===l9){for(let h of d.payload.actions)this.emitter.emit(h.type,{action:h,state:this.store.getState()});this.store.dispatch(d);let h=this.getState();for(let g of d.payload.actions)this.emitter.emit(`after:${g.type}`,{action:g,state:h});return}this.emitter.emit(d.type,{action:d,state:this.store.getState()}),this.store.dispatch(d);let h=this.store.getState();this.emitter.emit(`after:${d.type}`,{action:d,state:h});return}}on(d,h){return this.emitter.on(d,h),()=>{this.emitter.off(d,h)}}serialize(d,h){return $e(this.getState().iiif,d,h)}toPresentation2(d){return this.serialize(d,ty)}toPresentation3(d){return this.serialize(d,tA)}hydrate(d,h,g={}){return this.get(d,h,{...g,skipSelfReturn:!1})}get(d,h,g={}){"string"!=typeof h&&(g=h||{},h=void 0);let{skipSelfReturn:_=!0}=g||{},y=g.parent?"string"==typeof g.parent?g.parent:g.parent.id:void 0;if(Array.isArray(d))return d.map(d=>this.get(d,g));let A=this.getState();if(chunk_W3DWL6UZ_v(d)&&!g.preserveSpecificResources&&(d=d.source),"string"==typeof d){let g=viewer_lt(h||A.iiif.mapping[d]);if(!g)return _?null:{id:d,type:"unknown"};d={id:d,type:g}}if(d&&d.partOf&&!y&&!g.skipPartOfCheck){let h=Array.isArray(d.partOf)?d.partOf[0]:d.partOf;h&&("string"==typeof h&&(y=h),"string"==typeof h.id&&(y=h.id))}let b=viewer_lt(h||(null==d?void 0:d.type)),k=null==d?void 0:d.id,w=A.iiif.entities[b];if(!w){let h=A.iiif.requests[k];return h&&h.resourceUri!==k?this.get(h.resourceUri,g):_?null:d}let R=w[d.id];if(R&&R[tl]){let d=R[tl].find(d=>y?d[tc]===y:d[tc]===R.id);return chunk_AXOUQGO3_oe(R,d)}return w[d.id]||(_?null:d)}select(d){return d(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(d,h){if(typeof d>"u")return this.get(h,{skipSelfReturn:!1});if("function"==typeof d)try{let g=d(this.get(h,{skipSelfReturn:!1})),o=d=>this.deep(d,g);return o.size=Array.isArray(g)?g.length:1,o}catch{let o=d=>this.deep(d,void 0);return o.size=0,o}let n=h=>this.deep(h,d);return n.size=Array.isArray(d)?d.length:1,n}loadManifest(d,h){let g="string"==typeof d?d:d.id;return this.load(g,h)}loadCollection(d,h){let g="string"==typeof d?d:d.id;return this.load(g,h)}load(d,h){let g="string"==typeof d?d:d.id;return h?Promise.resolve(this.staticFetcher(g,h)):Promise.resolve(this.remoteFetcher(g))}loadSync(d,h){let g="string"==typeof d?d:d.id;return this.staticFetcher(g,h)}loadManifestSync(d,h){let g="string"==typeof d?d:d.id;return this.loadSync(g,h)}loadCollectionSync(d,h){let g="string"==typeof d?d:d.id;return this.loadSync(g,h)}areInputsEqual(d,h){return viewer_rt(d,h)}subscribe(d,h,g){return typeof g>"u"&&(typeof h>"u"||!1===h||!0===h)&&(g=h,h=d,d=d=>d),this.store.subscribe(d,d=>h(d,this),{equalityFn:viewer_rt,fireImmediately:!g})}async ensureLoaded(d){let h="string"==typeof d?d:d.id;this.requestStatus(h)||await this.load(h)}requestStatus(d){return this.select(h=>h.iiif.requests[d])}getResourceMeta(d,h){let g=this.getState().iiif.meta[d];if(g)return h?g[h]:g}getObject(d,h,g={}){let{reactive:_,...y}=g;return viewer_Y(this.get(d,h,y),this,_)}async loadObject(d,h){return viewer_Y(await this.load(d,h),this)}async loadManifestObject(d,h){return viewer_Y(await this.loadManifest(d,h),this)}async loadCollectionObject(d,h){return viewer_Y(await this.loadCollection(d,h),this)}wrapObject(d){return viewer_Y(this.get(d,{skipSelfReturn:!1}),this)}isWrapped(d){return!!d[cm]}setMetaValue([d,h,g],_){this.dispatch("function"==typeof _?cl.setMetaValueDynamic({id:d,meta:h,key:g,updateValue:_}):cl.setMetaValue({id:d,meta:h,key:g,value:_}))}};let wo=d=>{let h=d.toString().split(":"),g=Math.ceil(parseInt(h[0])),_=Math.ceil(parseInt(h[1])),y=xo(Math.ceil(parseInt(h[2])),2),A=`${0!==g&&_<10?(_+"").padStart(2,"0"):_}:${y}`;return 0!==g&&(A=`${g}:${A}`),A},viewer_Jt=d=>{let h=new Date(1e3*d).toISOString().substr(11,8);return wo(h)},viewer_Qt=(d,h)=>{if("object"!=typeof d||null===d)return h;for(let g in h)"object"!=typeof h[g]||null===h[g]||Array.isArray(h[g])?d[g]=h[g]:(d[g]||(d[g]={}),d[g]=viewer_Qt(d[g],h[g]));return d},So=d=>d.split("").reduce(function(d,h){return(d=(d<<5)-d+h.charCodeAt(0))&d},0),viewer_Yt=(d,h)=>Object.hasOwn(d,h)?d[h].toString():void 0,xo=(d,h)=>String(d).padStart(h,"0"),c_={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}};function viewer_Zt(d){let h={...c_.informationPanel.vtt.autoScroll};return"object"==typeof d&&(h="enabled"in d?d:{enabled:!0,settings:d}),!1===d&&(h.enabled=!1),function({behavior:d,block:h}){let g=["auto","instant","smooth"],_=["center","end","nearest","start"];if(!g.includes(d))throw TypeError(`'${d}' not in ${g.join(" | ")}`);if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`)}(h.settings),h}let cT=viewer_Zt(null==(eP=null==(eM=null==c_?void 0:c_.informationPanel)?void 0:eM.vtt)?void 0:eP.autoScroll),cv={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:c_,customDisplays:[],plugins:[],isAutoScrollEnabled:cT.enabled,isAutoScrolling:!1,isInformationOpen:null==(eF=null==c_?void 0:c_.informationPanel)?void 0:eF.open,isLoaded:!1,isUserScrolling:void 0,vault:new cE,contentSearchVault:new cE,openSeadragonViewer:null,viewerId:esm_browser_v4()},cy=eV.createContext(cv),cA=eV.createContext(cv);function ko(d,h){switch(h.type){case"updateActiveCanvas":return h.canvasId||(h.canvasId=""),{...d,activeCanvas:h.canvasId};case"updateActiveManifest":return{...d,activeManifest:h.manifestId};case"updateOSDImageLoaded":return{...d,OSDImageLoaded:h.OSDImageLoaded};case"updateAutoScrollAnnotationEnabled":return{...d,isAutoScrollEnabled:h.isAutoScrollEnabled};case"updateAutoScrolling":return{...d,isAutoScrolling:h.isAutoScrolling};case"updateCollection":return{...d,collection:h.collection};case"updateConfigOptions":return{...d,configOptions:viewer_Qt(d.configOptions,h.configOptions)};case"updateInformationOpen":return{...d,isInformationOpen:h.isInformationOpen};case"updateIsLoaded":return{...d,isLoaded:h.isLoaded};case"updateUserScrolling":return{...d,isUserScrolling:h.isUserScrolling};case"updateOpenSeadragonViewer":return{...d,openSeadragonViewer:h.openSeadragonViewer};case"updateViewerId":return{...d,viewerId:h.viewerId};default:throw Error(`Unhandled action type: ${h.type}`)}}let To=({initialState:d=cv,children:h})=>{let[g,_]=(0,eV.useReducer)(ko,d);return eV.createElement(cy.Provider,{value:g},eV.createElement(cA.Provider,{value:_},h))};function viewer_T(){let d=eV.useContext(cy);if(void 0===d)throw Error("useViewerState must be used within a ViewerProvider");return d}function viewer_F(){let d=eV.useContext(cA);if(void 0===d)throw Error("useViewerDispatch must be used within a ViewerProvider");return d}let cb=window.OpenSeadragon;if(!cb&&!(cb=eH))throw Error("OpenSeadragon is missing.");let cS="http://www.w3.org/2000/svg";cb.Viewer&&(cb.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new viewer_Ge(this)),this._svgOverlayInfo});let viewer_Ge=function(d){let h=this;this._viewer=d,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(cS,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(cS,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){h.resize()}),this._viewer.addHandler("open",function(){h.resize()}),this._viewer.addHandler("rotate",function(){h.resize()}),this._viewer.addHandler("flip",function(){h.resize()}),this._viewer.addHandler("resize",function(){h.resize()}),this.resize()};viewer_Ge.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let d=this._viewer.viewport.pixelFromPoint(new cb.Point(0,0),!0),h=this._viewer.viewport.getZoom(!0),g=this._viewer.viewport.getRotation(),_=this._viewer.viewport.getFlip(),y=this._viewer.viewport._containerInnerSize.x,A=y*h,b=A;_&&(A=-A,d.x=-d.x+y),this._node.setAttribute("transform","translate("+d.x+","+d.y+") scale("+A+","+b+") rotate("+g+")")},onClick:function(d,h){new cb.MouseTracker({element:d,clickHandler:h}).setTracking(!0)}};let Ro=d=>new viewer_Ge(d),viewer_en=d=>{var h,g,_,y,A;let b={id:"string"==typeof d?d:d.source};if("string"==typeof d){if(d.includes("#xywh=")){let h=d.split("#xywh=");if(h&&h[1]){let[d,g,_,y]=h[1].split(",").map(d=>Number(d));b={id:h[0],rect:{x:d,y:g,w:_,h:y}}}}else if(d.includes("#t=")){let h=d.split("#t=");h&&h[1]&&(b={id:h[0],t:h[1]})}}else if("object"==typeof d){if((null==(h=d.selector)?void 0:h.type)==="PointSelector")b={id:d.source,point:{x:d.selector.x,y:d.selector.y}};else if((null==(g=d.selector)?void 0:g.type)==="SvgSelector")b={id:d.source,svg:d.selector.value};else if((null==(_=d.selector)?void 0:_.type)==="FragmentSelector"&&null!=(y=d.selector)&&y.value.includes("xywh=")&&"Canvas"==d.source.type&&d.source.id){let h=null==(A=d.selector)?void 0:A.value.split("xywh=");if(h&&h[1]){let[g,_,y,A]=h[1].split(",").map(d=>Number(d));b={id:d.source.id,rect:{x:g,y:_,w:y,h:A}}}}}return b},$o=d=>fetch(`${d.replace(/\/$/,"")}/info.json`).then(d=>d.json()).then(d=>d).catch(h=>{console.error(`The IIIF tilesource ${d.replace(/\/$/,"")}/info.json failed to load: ${h}`)}),Mo=d=>{let h,g;return Array.isArray(d)&&(h=d[0])&&(g="@id"in h?h["@id"]:h.id),g},viewer_Je=d=>{var h;let g,_;if(Lo(d))g=d,_={};else{let y=JSON.parse(function(d){let h=function(d){let h=d.length%4;if(1===h)throw Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");return d+(h?"====".slice(0,4-h):"")}(d),g=h.replace(/-/g,"+").replace(/_/g,"/"),_="undefined"==typeof atob?s1.from(g,"base64").toString("utf-8"):atob(g);return decodeURIComponent(_).trim()}(d));switch(null==y?void 0:y.type){case"SpecificResource":case"Range":case"Annotation":_={manifest:g=null==y?void 0:y.target.partOf[0].id,canvas:null==y?void 0:y.target.id};break;case"Canvas":_={manifest:g=null==y?void 0:y.partOf[0].id,canvas:null==y?void 0:y.id};break;case"Manifest":g=null==y?void 0:y.id,_={collection:null==(h=null==y?void 0:y.partOf[0])?void 0:h.id,manifest:null==y?void 0:y.id};break;case"Collection":_={collection:g=null==y?void 0:y.id}}}return{resourceId:g,active:_}},_o=d=>{let{resourceId:h,active:g}=viewer_Je(d);return g.collection||g.manifest||h},Po=(d,h)=>{let g=h.items.map(d=>d.id),{active:_}=viewer_Je(d),y=_.canvas;return g.includes(y)?y:g[0]},Oo=(d,h)=>{let{active:g}=viewer_Je(d),_=g.manifest,y=h.items.filter(d=>"Manifest"===d.type).map(d=>d.id);return 0==y.length?null:y.includes(_)?_:y[0]},Lo=d=>{try{new URL(d)}catch{return!1}return!0};var ck=((ed=ck||{}).TiledImage="tiledImage",ed.SimpleImage="simpleImage",ed);function viewer_tn(d,h,g,_,y){if(!d)return;let A=1/h.width;_.forEach(h=>{if(!h.target)return;let _=viewer_en(h.target),{point:b,rect:k,svg:w}=_;if(k){let{x:h,y:_,w:b,h:w}=k;!function(d,h,g,_,y,A,b){let k=new eH.Rect(h,g,_,y),w=document.createElement("div");if(A){let{backgroundColor:d,opacity:h,borderType:g,borderColor:_,borderWidth:y}=A;w.style.backgroundColor=d,w.style.opacity=h,w.style.border=`${g} ${y} ${_}`,w.className=b}d.addOverlay(w,k)}(d,h*A,_*A,b*A,w*A,g,y)}if(b){let{x:h,y:_}=b,k=`
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg">
          <circle cx="${h}" cy="${_}" r="20" />
        </svg>
      `;viewer_dt(d,k,g,A,y)}w&&viewer_dt(d,w,g,A,y)})}function viewer_dt(d,h,g,_,y){let A=function(d){if(!d)return null;let h=document.createElement("template");return h.innerHTML=d.trim(),h.content.children[0]}(h);if(A)for(let h of A.children)!function viewer_nn(d,h,g,_,y){var A;if("#text"===h.nodeName)h.textContent&&(h.textContent.includes(`
`)||console.log("nodeName:",h.nodeName,", textContent:",h.textContent,", childNodes.length",h.childNodes.length));else{let b=function(d,h,g){let _=!1,y=!1,A=!1,b=!1,k=document.createElementNS("http://www.w3.org/2000/svg",d.nodeName);if(d.attributes.length>0)for(let h=0;h<d.attributes.length;h++){let g=d.attributes[h];switch(g.name){case"fill":A=!0;break;case"stroke":_=!0;break;case"stroke-width":y=!0;break;case"fill-opacity":b=!0}k.setAttribute(g.name,g.textContent)}return _||(k.style.stroke=null==h?void 0:h.borderColor),y||(k.style.strokeWidth=null==h?void 0:h.borderWidth),A||(k.style.fill=null==h?void 0:h.backgroundColor),b||(k.style.fillOpacity=null==h?void 0:h.opacity),k.setAttribute("transform",`scale(${g})`),k}(h,g,_),k=Ro(d);k.node().append(b),null==(A=k._svg)||A.setAttribute("class",y),h.childNodes.forEach(h=>{viewer_nn(d,h,g,_,y)})}}(d,h,g,_,y)}let Bo=d=>{let h=Array.isArray(null==d?void 0:d.service)&&(null==d?void 0:d.service.length)>0,g=h?Mo(null==d?void 0:d.service):null==d?void 0:d.id,_=h?ck.TiledImage:ck.SimpleImage;return{uri:g,imageType:_}},Ho=(d,h)=>{let g=h?ck.TiledImage:ck.SimpleImage;return{uri:d,imageType:g}};function viewer_rn(d,h){if(!d)return;h.startsWith(".")||(h="."+h);let g=document.querySelectorAll(h);g&&g.forEach(h=>d.removeOverlay(h))}function viewer_Ve(d,h,g,_){let y=viewer_en(g),{point:A,rect:b,svg:k}=y;if(A||b||k){let g=function(d,h,g){let _,y,A=40,b=40;h.rect&&(_=h.rect.x,y=h.rect.y,A=h.rect.w,b=h.rect.h),h.point&&(_=h.point.x,y=h.point.y);let k=1/d.width;return new eH.Rect(_*k-A*k/2*(g-1),y*k-b*k/2*(g-1),A*k*g,b*k*g)}(_,y,h);null==d||d.viewport.fitBounds(g)}}let Wo=async(d,h)=>{let g=d.get({id:h,type:"Canvas"});if(!(null!=g&&g.annotations)||!g.annotations[0])return[];let _=d.get(g.annotations).filter(d=>!!d.items&&d),y=[];for(let h of _)if(h.items.length>0){let d=h.label||{none:["Annotations"]};y.push({...h,label:d})}else{let g={};try{g=await d.load(h.id)}catch(d){console.log(d)}if(g.items&&g.items.length>0){let d=g.label||{none:["Annotations"]};y.push({...g,label:d})}}return y},viewer_on=async(d,h,g,_)=>{let y;if(null==_||null==_.q)return{label:{none:[g]}};let A=`${h}?q=${_.q.trim()}`;try{y=await d.load(A)}catch{return console.log("Could not load content search."),{}}return null==y.label&&(y.label={none:[g]}),y},viewer_an=(d,h,g,_)=>{var y,A;let b={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(b.canvas=d.get(h),b.canvas&&(b.annotationPage=d.get(b.canvas.items[0]),b.accompanyingCanvas=null!=(y=b.canvas)&&y.accompanyingCanvas?d.get(null==(A=b.canvas)?void 0:A.accompanyingCanvas):void 0),b.annotationPage){let y=d.get(b.annotationPage.items).map(h=>({body:d.get(h.body[0].id),motivation:h.motivation,type:"Annotation"})),A=[];y.forEach(h=>{"Choice"===h.body.type?h.body.items.forEach(g=>A.push({...h,id:g.id,body:d.get(g.id)})):A.push(h)}),b.annotations=A.filter(y=>{if(y){if(!y.body||!y.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",y);return}let A=y.body;Array.isArray(A)&&(A=A[0]);let b=d.get(A.id);if(b)switch(g){case"painting":return y.target===h.id&&y.motivation&&"painting"===y.motivation[0]&&_.includes(b.type)&&(y.body=b),!!y;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return b},viewer_ne=(d,h="en")=>{if(!d)return"";if(!d[h]){let h=Object.getOwnPropertyNames(d);if(h.length>0)return d[h[0]]}return d[h]},viewer_pe=(d,h)=>{let g=viewer_an(d,{id:h,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==g.annotations.length&&g.annotations&&g.annotations)return g.annotations.map(d=>null==d?void 0:d.body)},qo=(d,h,g,_)=>{let y=[];if(h.canvas&&h.canvas.thumbnail.length>0){let g=d.get(h.canvas.thumbnail[0]);y.push(g)}if(h.annotations[0]){if(h.annotations[0].thumbnail&&h.annotations[0].thumbnail.length>0){let g=d.get(h.annotations[0].thumbnail[0]);y.push(g)}if(!h.annotations[0].body)return;let g=h.annotations[0].body;"Image"===g.type&&y.push(g)}return 0===y.length?void 0:{id:y[0].id,format:y[0].format,type:y[0].type,width:g,height:_}},cC={xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"},{styled:cx,css:cI,keyframes:cw,createTheme:cO}=(0,ez.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:cC}),cN=cx("div",{display:"flex",flexDirection:"column",alignItems:"center"}),cR=cx("p",{fontWeight:"bold",fontSize:"x-large"}),cD=cx("span",{fontSize:"medium"}),viewer_Ze=({error:d})=>{let{message:h}=d;return eV.createElement(cN,{role:"alert"},eV.createElement(cR,{"data-testid":"headline"},"Something went wrong"),h&&eV.createElement(cD,null,`Error message: ${h}`," "))},cL=cx("div",{position:"relative",zIndex:"0"}),cM=cx("div",{display:"flex",flexDirection:"row",flexGrow:"1",overflow:"hidden","@sm":{flexDirection:"column"}}),cP=cx("div",{display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",width:"61.8%","@sm":{width:"100%"}}),cF=cx(sK,{display:"none",border:"none",padding:"0",transition:"$all",opacity:"1",background:"#6663",margin:"1rem 0",borderRadius:"6px","&[data-information-panel='false']":{opacity:"0",marginTop:"-59px"},"@sm":{display:"flex","> span":{display:"flex",flexGrow:"1",fontSize:"0.8333em",justifyContent:"center",padding:"0.5rem",fontFamily:"inherit"}}}),cB=cx(sZ,{width:"100%",display:"flex"}),cU=cx("aside",{display:"flex",flexGrow:"1",flexShrink:"0",width:"38.2%",maxHeight:"100%","@sm":{width:"100%"}}),cH=cx("div",{display:"flex",flexDirection:"column",fontSmooth:"auto",webkitFontSmoothing:"antialiased",'&[data-absolute-position="true"]':{position:"absolute",width:"100%",height:"100%",zIndex:"0"},"> div":{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"flex-start",height:"100%",maxHeight:"100%","@sm":{[`& ${cM}`]:{flexGrow:"1"},[`& ${cP}`]:{flexGrow:"0"}}},"@sm":{padding:"0"},"&[data-information-panel-open='true']":{"@sm":{position:"fixed",height:"100%",width:"100%",top:"0",left:"0",zIndex:"2500000000",[`& ${cL}`]:{display:"none"},[`& ${cF}`]:{margin:"1rem"},[`& ${cB}`]:{height:"100%"}}}}),cG=cx(s2.fC,{display:"flex",flexDirection:"column",width:"100%",height:"100%",flexGrow:"1",flexShrink:"0",position:"relative",zIndex:"1",maskImage:"linear-gradient(180deg, rgba(0, 0, 0, 1) calc(100% - 2rem), transparent 100%)","@sm":{marginTop:"0.5rem",boxShadow:"none"}}),cz=cx(s2.aV,{display:"flex",flexGrow:"0",margin:"0 1.618rem",borderBottom:"4px solid #6663","@sm":{margin:"0 1rem"}}),cV=cx(s2.xz,{display:"flex",position:"relative",padding:"0.5rem 1rem",background:"none",backgroundColor:"transparent",fontFamily:"inherit",border:"none",opacity:"0.7",fontSize:"1rem",marginRight:"1rem",lineHeight:"1rem",whiteSpace:"nowrap",cursor:"pointer",fontWeight:400,transition:"$all","&::after":{width:"0",height:"4px",content:"",position:"absolute",bottom:"-4px",left:"0",transition:"$all"},"&[data-state='active']":{opacity:"1",fontWeight:700,"&::after":{width:"100%",backgroundColor:"$accent"}}}),c$=cx(s2.VY,{display:"flex",flexGrow:"1",flexShrink:"0",position:"absolute",top:"0",left:"0","&[data-state='active']":{width:"100%",height:"calc(100% - 2rem)",padding:"1.618rem 0"}}),cQ=cx(({handleScroll:d,children:h,className:g})=>eV.createElement("div",{className:g,onScroll:d},h),{position:"relative",height:"100%",width:"100%",overflowY:"scroll"}),cj={position:"relative",cursor:"pointer",display:"flex",width:"100%",justifyContent:"space-between",textAlign:"left",margin:"0",padding:"0.5rem 1.618rem",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",color:"inherit",border:"none",background:"none"},cY=cx("button",{textAlign:"left","&:hover":{color:"$accent"}}),cq=cx("div",{display:"flex",flexDirection:"column",width:"100%"}),cW=cx("div",{...cj}),cX=cx("div",{"&:hover":{color:"$accent"}}),viewer_ut=({value:d,handleClick:h})=>eV.createElement(cY,{onClick:h},d),aa=({value:d,handleClick:h})=>eV.createElement(cX,{dangerouslySetInnerHTML:{__html:d},onClick:h}),ia=()=>{function e(d){return d.map(d=>{let h=d.identifier||esm_browser_v4();return{...d,identifier:h}})}return{addIdentifiersToParsedCues:e,createNestedCues:function(d){var h;let g=[],_=[],y=e(d);for(let d of y){for(;_.length>0&&_[_.length-1].end<=d.start;)_.pop();_.length>0?(_[_.length-1].children||(_[_.length-1].children=[]),null==(h=_[_.length-1].children)||h.push(d)):g.push(d),_.push(d)}return g},isChild:function(d,h=[]){return h.some(h=>d.start>=h.start&&d.end<=h.end)},orderCuesByTime:function(d=[]){return d.sort((d,h)=>d.start-h.start)}}},cK=cw({from:{transform:"rotate(360deg)"},to:{transform:"rotate(0deg)"}}),cJ=cx(s3.fC,{display:"flex",flexDirection:"column",width:"100%"}),cZ=cx(s3.ck,{...cj,"@sm":{padding:"0.5rem 1rem",fontSize:"0.8333rem"},"&::before":{content:"",width:"12px",height:"12px",borderRadius:"12px",position:"absolute",backgroundColor:"$primaryMuted",opacity:"0",left:"8px",marginTop:"3px",boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",opacity:"0",clipPath:"polygon(100% 50%, 0 100%, 0 0)",left:"13px",marginTop:"6px",boxSizing:"content-box","@sm":{content:"unset"}},strong:{marginLeft:"1rem"},"&:hover":{color:"$accent","&::before":{backgroundColor:"$accent",opacity:"1"},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",clipPath:"polygon(100% 50%, 0 100%, 0 0)",opacity:"1"}},"&[aria-checked='true']":{backgroundColor:"#6663","&::before":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accentMuted",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1s linear infinite",animationName:cK,boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accent",clipPath:"polygon(100% 0, 100% 100%, 0 0)",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1.5s linear infinite",animationName:cK,boxSizing:"content-box","@sm":{content:"unset"}}}}),ca=d=>{for(;d&&d!==document.body;){let h=window.getComputedStyle(d).overflowY;if("visible"!==h&&"hidden"!==h&&d.scrollHeight>d.clientHeight)return d;d=d.parentNode}return null},da=({label:d,start:h,end:g})=>{var _,y;let A=viewer_F(),{configOptions:b,isAutoScrollEnabled:k,isUserScrolling:w}=viewer_T(),R=null==(y=null==(_=null==b?void 0:b.informationPanel)?void 0:_.vtt)?void 0:y.autoScroll,[B,H]=(0,eV.useState)(!1),z=(0,eV.useRef)(null),$=document.getElementById("clover-iiif-video");return(0,eV.useEffect)(()=>(null==$||$.addEventListener("timeupdate",()=>{let{currentTime:d}=$;H(h<=d&&d<g)}),()=>document.removeEventListener("timeupdate",()=>{})),[g,h,$]),(0,eV.useEffect)(()=>{var d,h;if(k&&B&&z.current&&!w){let g=z.current;if(g&&g instanceof HTMLElement){let _=ca(g);if(_&&_ instanceof HTMLElement){let y;switch(null==(d=null==R?void 0:R.settings)?void 0:d.block){case"center":let b=_.getBoundingClientRect();y=g.offsetTop+g.offsetHeight-Math.floor((b.bottom-b.top)/2);break;case"end":y=g.offsetTop+g.offsetHeight-(_.clientHeight-g.clientHeight)+2;break;default:y=g.offsetTop-2}A({type:"updateAutoScrolling",isAutoScrolling:!0}),_.scrollTo({top:y,left:0,behavior:null==(h=null==R?void 0:R.settings)?void 0:h.behavior}),setTimeout(()=>A({type:"updateAutoScrolling",isAutoScrolling:!1}),750)}}}},[R,B,w,k,A]),eV.createElement(cZ,{ref:z,"aria-checked":B,"data-testid":"information-panel-cue",onClick:()=>{$&&($.pause(),$.currentTime=h,$.play())},value:d},d,eV.createElement("strong",null,viewer_Jt(h)))},c0=cx("ul",{listStyle:"none",paddingLeft:"1rem",position:"relative","&&:first-child":{paddingLeft:"0"},"& li ul":{[`& ${cZ}`]:{backgroundColor:"unset","&::before":{content:"none"},"&::after":{content:"none"}}},"&:first-child":{margin:"0 0 1.618rem"}}),viewer_hn=({items:d})=>eV.createElement(c0,null,d.map(d=>{let{text:h,start:g,end:_,children:y,identifier:A}=d;return eV.createElement("li",{key:A},eV.createElement(da,{label:h,start:g,end:_}),y&&eV.createElement(viewer_hn,{items:y}))})),ma=({label:d,vttUri:h})=>{let[g,_]=eV.useState([]),{createNestedCues:y,orderCuesByTime:A}=ia(),[b,k]=eV.useState();return(0,eV.useEffect)(()=>{h&&fetch(h,{headers:{"Content-Type":"text/plain",Accept:"application/json"}}).then(d=>d.text()).then(d=>{let h=(0,s4.parse)(d).cues,g=A(h),b=y(g);_(b)}).catch(d=>{console.error(h,d.toString()),k(d)})},[h]),eV.createElement(cJ,{"data-testid":"annotation-item-vtt","aria-label":`${viewer_ne(d)}`},b&&eV.createElement("div",{"data-testid":"error-message"},"Network Error: ",b.toString()),eV.createElement(viewer_hn,{items:g}))},fa=({caption:d,handleClick:h,imageUri:g})=>eV.createElement(cY,{onClick:h},eV.createElement("img",{src:g,alt:`A visual annotation for ${d}`}),eV.createElement("span",null,d)),pa=({annotation:d})=>{var h,g;let{target:_}=d,y=viewer_T(),{openSeadragonViewer:A,vault:b,activeCanvas:k,configOptions:w}=y,R=d.body.map(d=>b.get(d.id)),B=(null==(h=R.find(d=>d.format))?void 0:h.format)||"",H=(null==(g=R.find(d=>d.value))?void 0:g.value)||"",z=b.get({id:k,type:"Canvas"});function m(){var d;if(!_)return;let h=(null==(d=w.annotationOverlays)?void 0:d.zoomLevel)||1;viewer_Ve(A,h,_,z)}return eV.createElement(cW,null,function(){var d,h;switch(B){case"text/plain":return eV.createElement(viewer_ut,{value:H,handleClick:m});case"text/html":return eV.createElement(aa,{value:H,handleClick:m});case"text/vtt":return eV.createElement(ma,{label:R[0].label,vttUri:R[0].id||""});case null==(d=B.match(/^image\//))?void 0:d.input:let g=(null==(h=R.find(d=>{var h;return!(null!=(h=d.id)&&h.includes("vault://"))}))?void 0:h.id)||"";return eV.createElement(fa,{caption:H,handleClick:m,imageUri:g});default:return eV.createElement(viewer_ut,{value:H,handleClick:m})}}())},ha=({annotationPage:d})=>{var h;let g=viewer_T(),{vault:_}=g;if(!d||!d.items||(null==(h=d.items)?void 0:h.length)===0)return eV.createElement(eV.Fragment,null);let y=d.items.map(d=>_.get(d.id));return y?eV.createElement(cq,{"data-testid":"annotation-page"},null==y?void 0:y.map(d=>eV.createElement(pa,{key:d.id,annotation:d}))):eV.createElement(eV.Fragment,null)},c1=cx("button",{textAlign:"left","&:hover":{color:"$accent"}}),c2=cx("li",{margin:"0.25rem 0"}),c3=cx("ol",{listStyleType:"auto",marginBottom:"1rem",listStylePosition:"inside"}),c4=cx("div",{margin:"0.5rem 1.618rem"}),c5=cx("div",{fontWeight:"bold"}),c6=cx("div",{marginBottom:"1rem"}),Sa=({value:d,handleClick:h,target:g,canvas:_})=>eV.createElement(c1,{onClick:h,"data-target":g,"data-canvas":_},d),xa=({annotation:d,activeContentSearchTarget:h,setActiveContentSearchTarget:g})=>{var _,y,A;let b,k;let w=viewer_F(),R=viewer_T(),{openSeadragonViewer:B,vault:H,contentSearchVault:z,activeCanvas:$,configOptions:j,OSDImageLoaded:q}=R,W=H.get({id:$,type:"Canvas"}),K=(null==(_=d.body.map(d=>z.get(d.id)).find(d=>d.value))?void 0:_.value)||"";if(d.target&&"string"==typeof d.target&&(b=d.target),b){let d=b.split("#xywh");d.length>1&&(k=d[0])}let ee=(null==(A=null==(y=j.contentSearch)?void 0:y.overlays)?void 0:A.zoomLevel)||1;(0,eV.useEffect)(()=>{q&&B&&d.target&&d.target==h&&viewer_Ve(B,ee,b,W)},[B,q]);let et=JSON.stringify(b);return eV.createElement(c2,null,eV.createElement(Sa,{target:et,canvas:k,value:K,handleClick:function(d){if(!B)return;let h=JSON.parse(d.target.dataset.target),_=d.target.dataset.canvas;$===_?viewer_Ve(B,ee,b,W):(w({type:"updateOSDImageLoaded",OSDImageLoaded:!1}),w({type:"updateActiveCanvas",canvasId:_}),g(h))}}))},Ca=({annotationPage:d})=>{var h,g,_;let y=viewer_T(),{contentSearchVault:A,configOptions:b}=y,[k,w]=(0,eV.useState)(),R=null==(h=b.contentSearch)?void 0:h.searchResultsLimit,B=null==(g=b.localeText)?void 0:g.contentSearch;return d&&d.items&&(null==(_=d.items)?void 0:_.length)!==0?eV.createElement(eV.Fragment,null,Object.entries(function(d){let h={};return d.items.forEach(d=>{let g=A.get(d.id),_="";if(g.label){let d=viewer_ne(g.label);d&&(_=d[0])}null==h[_]&&(h[_]=[]),h[_].push(g)}),h}(d)).map(([d,h],g)=>eV.createElement("div",{key:g},eV.createElement(c5,{className:"content-search-results-title"},d),eV.createElement(c3,{className:"content-search-results"},(R?h.slice(0,R):h).map((d,h)=>eV.createElement(xa,{key:h,annotation:d,activeContentSearchTarget:k,setActiveContentSearchTarget:w}))),function(d){if(R){let h=d.length-R;if(h>0)return eV.createElement(c6,null,h," ",null==B?void 0:B.moreResults)}}(h)))):eV.createElement("p",null,null==B?void 0:B.noSearchResults)},c8=cx("div",{".content-search-form":{display:"flex",marginBottom:"1rem"},input:{padding:".25rem",marginRight:"1rem"}}),c9=cx("button",{display:"flex",background:"none",border:"none",width:"2rem",height:"2rem",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),ka=({searchServiceUrl:d,setContentSearchResource:h,setLoading:g})=>{var _;let[y,A]=(0,eV.useState)(),b=viewer_T(),{contentSearchVault:k,openSeadragonViewer:w,configOptions:R}=b,B=null==(_=R.localeText)?void 0:_.contentSearch;async function u(_){_.preventDefault();let A=null==B?void 0:B.tabLabel;if(w&&d){if(!y||""===y.trim()){h({label:{none:[A]}});return}g(!0),viewer_on(k,d,A,{q:y}).then(d=>{h(d),g(!1)})}}return eV.createElement(c8,null,eV.createElement(ld,{onSubmit:u,className:"content-search-form"},eV.createElement(lm,{className:"FormField",name:"searchTerms",onChange:d=>{d.preventDefault(),A(d.target.value)}},eV.createElement(lE,{placeholder:null==B?void 0:B.formPlaceholder})),eV.createElement(lA,{asChild:!0},eV.createElement(c9,{type:"submit"},eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,"Search"),eV.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"}))))))},Ta=({searchServiceUrl:d,setContentSearchResource:h,activeCanvas:g,annotationPage:_})=>{let[y,A]=(0,eV.useState)(!1);return eV.createElement(c4,null,eV.createElement(ka,{searchServiceUrl:d,setContentSearchResource:h,activeCanvas:g,setLoading:A}),!y&&eV.createElement(Ca,{annotationPage:_}),y&&eV.createElement("span",null,"Loading..."))},c7=cx("div",{padding:" 0 1.618rem 2rem",display:"flex",flexDirection:"column",overflow:"scroll",position:"absolute",fontWeight:"400",fontSize:"1rem",zIndex:"0",img:{maxWidth:"100px",maxHeight:"100px",objectFit:"contain",color:"transparent",margin:"0 0 1rem",borderRadius:"3px",backgroundColor:"$secondaryMuted"},video:{display:"none"},"a, a:visited":{color:"$accent"},p:{fontSize:"1rem",lineHeight:"1.45em",margin:"0"},dl:{margin:"0",dt:{fontWeight:"700",margin:"1rem 0 0.25rem"},dd:{margin:"0"}},".manifest-property-title":{fontWeight:"700",margin:"1rem 0 0.25rem"},"ul, ol":{padding:"0",margin:"0",li:{fontSize:"1rem",lineHeight:"1.45em",listStyle:"none",margin:"0.25rem 0 0.25rem"}}}),ue=cx("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),viewer_gn=(d,h="none")=>{if(!d)return null;if("string"==typeof d)return[d];if(!d[h]){let h=Object.getOwnPropertyNames(d);if(h.length>0)return d[h[0]]}return d[h]&&Array.isArray(d[h])?d[h]:null},viewer_z=(d,h="none",g=", ")=>{let _=viewer_gn(d,h);return Array.isArray(_)?_.join(`${g}`):_};function viewer_B(d,h){let g=Object.keys(d).filter(d=>h.includes(d)?null:d),_={};return g.forEach(h=>{_[h]=d[h]}),_}let ut=cx("span",{}),viewer_j=d=>{let{as:h,label:g}=d,_=viewer_B(d,["as","label"]);return eV.createElement(ut,{as:h,..._},viewer_z(g,_.lang))},Oa=(d,h="200,",g="full")=>{let _;Array.isArray(d)&&(d=d[0]);let{id:y,service:A}=d;if(!A)return y;if(Array.isArray(d.service)&&d.service.length>0&&(_=A[0]),_){if(_["@id"])return`${_["@id"]}/${g}/${h}/0/default.jpg`;if(_.id)return`${_.id}/${g}/${h}/0/default.jpg`}},un=cx("img",{objectFit:"cover"}),La=d=>{let h;let g=(0,eV.useRef)(null),{contentResource:_,altAsLabel:y,region:A="full"}=d;y&&(h=viewer_z(y));let b=viewer_B(d,["contentResource","altAsLabel"]),{type:k,id:w,width:R=200,height:B=200,duration:H}=_;(0,eV.useEffect)(()=>{if(!w&&!g.current||["Image"].includes(k)||!w.includes("m3u8"))return;let d=new nF.ZP;return g.current&&(d.attachMedia(g.current),d.on(nF.ZP.Events.MEDIA_ATTACHED,function(){d.loadSource(w)})),d.on(nF.ZP.Events.ERROR,function(h,g){if(g.fatal)switch(g.type){case nF.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${h} network error encountered, try to recover`),d.startLoad();break;case nF.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${h} media error encountered, try to recover`),d.recoverMediaError();break;default:d.destroy()}}),()=>{d&&(d.detachMedia(),d.destroy())}},[w,k]);let z=(0,eV.useCallback)(()=>{if(!g.current)return;let d=0,h=30;if(H&&(h=H),!w.split("#t=")&&H&&(d=.1*H),w.split("#t=").pop()){let h=w.split("#t=").pop();h&&(d=parseInt(h.split(",")[0]))}let _=g.current;_.autoplay=!0,_.currentTime=d,setTimeout(()=>z(),1e3*h)},[H,w]);(0,eV.useEffect)(()=>z(),[z]);let $=Oa(_,`${R},${B}`,A);switch(k){case"Image":return eV.createElement(un,{as:"img",alt:h,css:{width:R,height:B},key:w,src:$,...b});case"Video":return eV.createElement(un,{as:"video",css:{width:R,height:B},disablePictureInPicture:!0,key:w,loop:!0,muted:!0,onPause:z,ref:g,src:w});default:return console.warn(`Resource type: ${k} is not valid or not yet supported in Primitives.`),eV.createElement(eV.Fragment,null)}},ua=cx("a",{}),Da=d=>{let{children:h,homepage:g}=d,_=viewer_B(d,["children","homepage"]);return eV.createElement(eV.Fragment,null,g&&g.map(d=>{let g=viewer_z(d.label,_.lang);return eV.createElement(ua,{"aria-label":h?g:void 0,href:d.id,key:d.id,..._},h||g)}))},uo={delimiter:", "},uc=(0,eV.createContext)(void 0),viewer_vn=()=>{let d=(0,eV.useContext)(uc);if(void 0===d)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return d},viewer_Ke=({children:d,initialState:h=uo})=>{let g=Va(h,"delimiter");return eV.createElement(uc.Provider,{value:{delimiter:g}},d)},Va=(d,h)=>Object.hasOwn(d,h)?d[h].toString():void 0,uu=cx("span",{}),viewer_pt=d=>{let{as:h,markup:g}=d,{delimiter:_}=viewer_vn();if(!g)return eV.createElement(eV.Fragment,null);let y=viewer_B(d,["as","markup"]),A={__html:nP(viewer_z(g,y.lang,_),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return eV.createElement(uu,{as:h,...y,dangerouslySetInnerHTML:A})},viewer_yn=d=>eV.useContext(uc)?eV.createElement(viewer_pt,{...d}):eV.createElement(viewer_Ke,null,eV.createElement(viewer_pt,{...d})),Ba=({as:d="dd",lang:h,value:g})=>eV.createElement(viewer_yn,{markup:g,as:d,lang:h}),ud=cx("span",{}),Ua=({as:d="dd",customValueContent:h,lang:g,value:_})=>{var y;let{delimiter:A}=viewer_vn(),b=null==(y=viewer_gn(_,g))?void 0:y.map(d=>(0,eV.cloneElement)(h,{value:d}));return eV.createElement(ud,{as:d,lang:g},null==b?void 0:b.map((d,h)=>[h>0&&`${A}`,eV.createElement(eV.Fragment,{key:h},d)]))},viewer_En=d=>{var h;let{item:g,lang:_,customValueContent:y}=d,{label:A,value:b}=g,k=null==(h=viewer_z(A))?void 0:h.replace(" ","-").toLowerCase();return eV.createElement("div",{role:"group","data-label":k},eV.createElement(viewer_j,{as:"dt",label:A,lang:_}),y?eV.createElement(Ua,{as:"dd",customValueContent:y,value:b,lang:_}):eV.createElement(Ba,{as:"dd",value:b,lang:_}))},uh=cx("dl",{}),ja=d=>{let{as:h,customValueContent:g,metadata:_}=d;if(!Array.isArray(_))return eV.createElement(eV.Fragment,null);let y=viewer_Yt(d,"customValueDelimiter"),A=viewer_B(d,["as","customValueContent","customValueDelimiter","metadata"]);return eV.createElement(viewer_Ke,{..."string"==typeof y?{initialState:{delimiter:y}}:void 0},_.length>0&&eV.createElement(uh,{as:h,...A},_.map((d,h)=>{let _=g?function(d,h){let g=h.filter(h=>{let{matchingLabel:g}=h,_=Object.keys(h.matchingLabel)[0],y=viewer_z(g,_);if(viewer_z(d,_)===y)return!0}).map(d=>d.Content);if(Array.isArray(g))return g[0]}(d.label,g):void 0;return eV.createElement(viewer_En,{customValueContent:_,item:d,key:h,lang:null==A?void 0:A.lang})})))};cx("li",{}),cx("ul",{});let up=cx("li",{}),uf=cx("ul",{}),Qa=d=>{let{as:h,rendering:g}=d,_=viewer_B(d,["as","rendering"]);return eV.createElement(uf,{as:h},g&&g.map(d=>{let h=viewer_z(d.label,_.lang);return eV.createElement(up,{key:d.id},eV.createElement("a",{href:d.id,..._,target:"_blank"},h||d.id))}))},um=cx("dl",{}),Za=d=>{let{as:h,requiredStatement:g}=d;if(!g)return eV.createElement(eV.Fragment,null);let _=viewer_Yt(d,"customValueDelimiter"),y=viewer_B(d,["as","customValueDelimiter","requiredStatement"]);return eV.createElement(viewer_Ke,{..."string"==typeof _?{initialState:{delimiter:_}}:void 0},eV.createElement(um,{as:h,...y},eV.createElement(viewer_En,{item:g,lang:y.lang})))},ug=cx("li",{}),uE=cx("ul",{}),ei=d=>{let{as:h,seeAlso:g}=d,_=viewer_B(d,["as","seeAlso"]);return eV.createElement(uE,{as:h},g&&g.map(d=>{let h=viewer_z(d.label,_.lang);return eV.createElement(ug,{key:d.id},eV.createElement("a",{href:d.id,..._},h||d.id))}))},ti=d=>{let{as:h,summary:g}=d,_=viewer_B(d,["as","customValueDelimiter","summary"]);return eV.createElement(viewer_yn,{as:h,markup:g,..._})},viewer_bn=d=>{let{thumbnail:h,region:g}=d,_=viewer_B(d,["thumbnail"]);return eV.createElement(eV.Fragment,null,h&&h.map(d=>eV.createElement(La,{contentResource:d,key:d.id,region:g,..._})))},ni=({homepage:d})=>(null==d?void 0:d.length)===0?eV.createElement(eV.Fragment,null):eV.createElement(eV.Fragment,null,eV.createElement("span",{className:"manifest-property-title"},"Homepage"),eV.createElement(Da,{homepage:d})),ri=({id:d,htmlLabel:h,parent:g="manifest"})=>eV.createElement(eV.Fragment,null,eV.createElement("span",{className:"manifest-property-title"},h),eV.createElement("a",{href:d,target:"_blank",id:`iiif-${g}-id`},d)),oi=({metadata:d,parent:h="manifest"})=>d?eV.createElement(eV.Fragment,null,eV.createElement(ja,{metadata:d,id:`iiif-${h}-metadata`})):eV.createElement(eV.Fragment,null),ai=({rendering:d})=>(null==d?void 0:d.length)===0?eV.createElement(eV.Fragment,null):eV.createElement(eV.Fragment,null,eV.createElement("span",{className:"manifest-property-title"},"Alternate formats"),eV.createElement(Qa,{rendering:d})),ii=({requiredStatement:d,parent:h="manifest"})=>d?eV.createElement(eV.Fragment,null,eV.createElement(Za,{requiredStatement:d,id:`iiif-${h}-required-statement`})):eV.createElement(eV.Fragment,null),si=({rights:d})=>d?eV.createElement(eV.Fragment,null,eV.createElement("span",{className:"manifest-property-title"},"Rights"),eV.createElement("a",{href:d,target:"_blank"},d)):eV.createElement(eV.Fragment,null),viewer_li=({seeAlso:d})=>(null==d?void 0:d.length)===0?eV.createElement(eV.Fragment,null):eV.createElement(eV.Fragment,null,eV.createElement("span",{className:"manifest-property-title"},"See Also"),eV.createElement(ei,{seeAlso:d})),ci=({summary:d,parent:h="manifest"})=>d?eV.createElement(eV.Fragment,null,eV.createElement(ti,{summary:d,as:"p",id:`iiif-${h}-summary`})):eV.createElement(eV.Fragment,null),di=({label:d,thumbnail:h})=>(null==h?void 0:h.length)===0?eV.createElement(eV.Fragment,null):eV.createElement(eV.Fragment,null,eV.createElement(viewer_bn,{altAsLabel:d||{none:["resource"]},thumbnail:h,style:{backgroundColor:"#6663",objectFit:"cover"}})),ui=()=>{let d=viewer_T(),{activeManifest:h,vault:g}=d,[_,y]=(0,eV.useState)(),[A,b]=(0,eV.useState)([]),[k,w]=(0,eV.useState)([]),[R,B]=(0,eV.useState)([]),[H,z]=(0,eV.useState)([]);return(0,eV.useEffect)(()=>{var d,_,A,k;let R=g.get(h);y(R),(null==(d=R.homepage)?void 0:d.length)>0&&b(g.get(R.homepage)),(null==(_=R.seeAlso)?void 0:_.length)>0&&w(g.get(R.seeAlso)),(null==(A=R.rendering)?void 0:A.length)>0&&B(g.get(R.rendering)),(null==(k=R.thumbnail)?void 0:k.length)>0&&z(g.get(R.thumbnail))},[h,g]),_?eV.createElement(ue,null,eV.createElement(c7,null,eV.createElement(di,{thumbnail:H,label:_.label}),eV.createElement(ci,{summary:_.summary}),eV.createElement(oi,{metadata:_.metadata}),eV.createElement(ii,{requiredStatement:_.requiredStatement}),eV.createElement(si,{rights:_.rights}),eV.createElement(ni,{homepage:A}),eV.createElement(viewer_li,{seeAlso:k}),eV.createElement(ai,{rendering:R}),eV.createElement(ri,{id:_.id,htmlLabel:"IIIF Manifest"}))):eV.createElement(eV.Fragment,null)},pi=({activeCanvas:d,annotationResources:h,searchServiceUrl:g,setContentSearchResource:_,contentSearchResource:y})=>{let{t:A}=(0,sP.$G)(),b=viewer_F(),k=viewer_T(),{isAutoScrolling:w,isUserScrolling:R,vault:B,configOptions:H,plugins:z}=k,{informationPanel:$}=H,[j,q]=(0,eV.useState)(),W=null==$?void 0:$.renderAbout,K=null==$?void 0:$.renderAnnotation,ee=B.get({id:d,type:"Canvas"}),et=null==$?void 0:$.renderContentSearch,{pluginsWithInfoPanel:en}=function(d){let h=[];return d.forEach(d=>{var g;null!=(g=d.informationPanel)&&g.component&&h.push(d)}),{pluginsWithInfoPanel:h}}(z);return(0,eV.useEffect)(()=>{if(!j){if(null!=$&&$.defaultTab){let d=["manifest-about","manifest-content-search"];ee.annotations.length>0&&ee.annotations.forEach(h=>d.push(h.id)),d.includes(null==$?void 0:$.defaultTab)?q($.defaultTab):q("manifest-about")}else W?q("manifest-about"):et?q("manifest-content-search"):h&&(null==h?void 0:h.length)>0?q(h[0].id):z.length>0&&q(z[0].id)}},[null==$?void 0:$.defaultTab,d,j,W,et,h,y,null==ee?void 0:ee.annotations,z]),eV.createElement(cG,{"data-testid":"information-panel",defaultValue:j,onValueChange:d=>{q(d)},orientation:"horizontal",value:j,className:"clover-viewer-information-panel"},eV.createElement(cz,{"aria-label":A("informationPanelTabs"),"data-testid":"information-panel-list"},W&&eV.createElement(cV,{value:"manifest-about"},A("informationPanelTabsAbout")),et&&y&&eV.createElement(cV,{value:"manifest-content-search"},eV.createElement(viewer_j,{label:y.label})),K&&h&&h.map((d,h)=>eV.createElement(cV,{key:h,value:d.id},eV.createElement(viewer_j,{label:d.label}))),en&&en.map((d,h)=>{var g;return eV.createElement(cV,{key:h,value:d.id},eV.createElement(viewer_j,{label:null==(g=d.informationPanel)?void 0:g.label}))})),eV.createElement(cQ,{handleScroll:function(){if(!w){clearTimeout(R);let d=setTimeout(()=>{b({type:"updateUserScrolling",isUserScrolling:void 0})},1500);b({type:"updateUserScrolling",isUserScrolling:d})}}},W&&eV.createElement(c$,{value:"manifest-about"},eV.createElement(ui,null)),et&&y&&eV.createElement(c$,{value:"manifest-content-search"},eV.createElement(Ta,{searchServiceUrl:g,setContentSearchResource:_,activeCanvas:d,annotationPage:y})),K&&h&&h.map(d=>eV.createElement(c$,{key:d.id,value:d.id},eV.createElement(ha,{annotationPage:d}))),en&&en.map((d,h)=>(function(d,h){var g,_;let y=null==(g=null==d?void 0:d.informationPanel)?void 0:g.component;return void 0===y?eV.createElement(eV.Fragment,null):eV.createElement(c$,{key:h,value:d.id},eV.createElement(eG.SV,{FallbackComponent:viewer_Ze},eV.createElement(y,{...null==(_=null==d?void 0:d.informationPanel)?void 0:_.componentProps,canvas:ee,useViewerDispatch:viewer_F,useViewerState:viewer_T})))})(d,h))))},u_=cx("div",{position:"absolute",right:"1rem",top:"1rem",display:"flex",justifyContent:"flex-end",zIndex:"1"}),uT=cx("input",{flexGrow:"1",border:"none",backgroundColor:"$secondaryMuted",color:"$primary",marginRight:"1rem",height:"2rem",padding:"0 1rem",borderRadius:"2rem",fontFamily:"inherit",fontSize:"1rem",lineHeight:"1rem",boxShadow:"inset 1px 1px 2px #0003","&::placeholder":{color:"$primaryMuted"}}),uv=cx("button",{display:"flex",background:"none",border:"none",width:"2rem !important",height:"2rem !important",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box !important",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),uy=cx("div",{display:"flex",marginRight:"0.618rem",backgroundColor:"$accentAlt",borderRadius:"2rem",boxShadow:"5px 5px 5px #0003",color:"$secondary",alignItems:"center","> span":{display:"flex",margin:"0 0.5rem",fontSize:"0.7222rem"}}),uA=cx("div",{display:"flex",position:"relative",zIndex:"1",width:"100%",padding:"0",transition:"$all",variants:{isToggle:{true:{paddingTop:"2.618rem",[`& ${u_}`]:{width:"calc(100% - 2rem)","@sm":{width:"calc(100% - 2rem)"}}}}}}),yi=(d,h)=>{(0,eV.useEffect)(()=>{function n(g){g.key===d&&h()}return window.addEventListener("keyup",n),()=>window.removeEventListener("keyup",n)},[])},Ei=({title:d})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,d),eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M244 400L100 256l144-144M120 256h292"})),bi=({title:d})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,d),eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M268 112l144 144-144 144M392 256H100"})),wi=({title:d})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,d),eV.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),Si=({title:d})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eV.createElement("title",null,d),eV.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),xi=({handleCanvasToggle:d,handleFilter:h,activeIndex:g,canvasLength:_})=>{let[y,A]=(0,eV.useState)(!1),[b,k]=(0,eV.useState)(!1),[w,R]=(0,eV.useState)(!1),{t:B}=(0,sP.$G)();return(0,eV.useEffect)(()=>{R(0===g),g===_-1?k(!0):k(!1)},[g,_]),yi("Escape",()=>{A(!1),h("")}),eV.createElement(uA,{isToggle:y},eV.createElement(u_,null,y&&eV.createElement(uT,{autoFocus:!0,onChange:d=>h(d.target.value),placeholder:B("commonSearchPlaceholder")}),!y&&eV.createElement(uy,null,eV.createElement(uv,{onClick:()=>d(-1),disabled:w,type:"button"},eV.createElement(Ei,{title:B("commonPrevious")})),eV.createElement("span",null,g+1," of ",_),eV.createElement(uv,{onClick:()=>d(1),disabled:b,type:"button"},eV.createElement(bi,{title:B("commonNext")}))),eV.createElement(uv,{onClick:()=>{A(d=>!d),h("")},type:"button"},y?eV.createElement(wi,{title:B("commonClose")}):eV.createElement(Si,{title:B("commonSearch")}))))},ub=cx(s3.fC,{display:"flex",flexDirection:"row",flexGrow:"1",padding:"1.618rem",overflowX:"scroll",position:"relative",zIndex:"0"}),uS=cx("svg",{display:"inline-flex",variants:{isLarge:{true:{height:"4rem",width:"4rem"}},isMedium:{true:{height:"2rem",width:"2rem"}},isSmall:{true:{height:"1rem",width:"1rem"}}}}),viewer_P=d=>eV.createElement(uS,{...d,"data-testid":"icon-svg",role:"img",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},d.children);viewer_P.Title=({children:d})=>eV.createElement("title",null,d),viewer_P.Add=()=>eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288M400 256H112"}),viewer_P.Audio=()=>eV.createElement(eV.Fragment,null,eV.createElement("path",{d:"M232 416a23.88 23.88 0 01-14.2-4.68 8.27 8.27 0 01-.66-.51L125.76 336H56a24 24 0 01-24-24V200a24 24 0 0124-24h69.75l91.37-74.81a8.27 8.27 0 01.66-.51A24 24 0 01256 120v272a24 24 0 01-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 01-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0128.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 01320 336z"}),eV.createElement("path",{d:"M368 384a16 16 0 01-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0127.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 01-13.87 8z"}),eV.createElement("path",{d:"M416 432a16 16 0 01-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1127-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 01416 432z"})),viewer_P.Close=()=>eV.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}),viewer_P.Download=()=>eV.createElement(eV.Fragment,null,eV.createElement("path",{d:"M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 272l80 80 80-80M256 48v288"})),viewer_P.Image=()=>eV.createElement("path",{d:"M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z"}),viewer_P.Video=()=>eV.createElement("path",{d:"M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z"});let uk=cw({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),uC=cw({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),ux=cx(lb.Eh,{fill:"$secondaryAlt"}),uI=cx(lb.x8,{position:"absolute",right:"0",top:"0",padding:"0.5rem",margin:"0",cursor:"pointer",border:"none",background:"none",fill:"inherit","&:hover":{opacity:"0.75"}}),uw=cx(lb.VY,{border:"none",backgroundColor:"white",fill:"inhrerit",padding:"1rem 2rem 1rem 1rem",width:"auto",minWidth:"200px",maxWidth:"350px",borderRadius:"3px",boxShadow:"5px 5px 13px #0002",animationDuration:"0.3s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",'&[data-side="top"]':{animationName:uC},'&[data-side="bottom"]':{animationName:uk},'&[data-align="end"]':{[`& ${ux}`]:{margin:"0 0.7rem"}}}),uO=cx(lb.xz,{display:"inline-flex",padding:"0.5rem 0",margin:"0 0.5rem 0 0",cursor:"pointer",border:"none",background:"none","> button, > span":{margin:"0"}}),uN=cx(lb.fC,{boxSizing:"content-box"}),viewer_K=({children:d})=>eV.createElement(uN,null,d);viewer_K.Trigger=d=>eV.createElement(uO,{...d},d.children),viewer_K.Content=d=>eV.createElement(uw,{...d},eV.createElement(ux,null),eV.createElement(uI,null,eV.createElement(viewer_P,{isSmall:!0},eV.createElement(viewer_P.Close,null))),d.children);let uR=cx("div",{boxSizing:"border-box",display:"inline-flex",alignItems:"center",borderRadius:"5px",padding:"$1",marginBottom:"$2",marginRight:"$2",backgroundColor:"$lightGrey",color:"$richBlack50",textTransform:"uppercase",fontSize:"$2",objectFit:"contain",lineHeight:"1em !important","&:last-child":{marginRight:"0"},[`${uS}`]:{position:"absolute",left:"$1",height:"$3",width:"$3"},variants:{isIcon:{true:{position:"relative",paddingLeft:"$5"}}}}),uD=cx("span",{display:"flex"}),uL=cx("span",{display:"flex",width:"1.2111rem",height:"0.7222rem"}),uM=cx("span",{display:"inline-flex",marginLeft:"5px",marginBottom:"-1px"}),uP=cx(s3.ck,{display:"flex",flexShrink:"0",margin:"0 1.618rem 0 0",padding:"0",cursor:"pointer",background:"none",border:"none",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",textAlign:"left","&:last-child":{marginRight:"1rem"},figure:{margin:"0",width:"161.8px","> div":{position:"relative",display:"flex",backgroundColor:"$secondaryAlt",width:"inherit",height:"100px",overflow:"hidden",borderRadius:"3px",transition:"$all",img:{width:"100%",height:"100%",objectFit:"cover",filter:"blur(0)",transform:"scale3d(1, 1, 1)",transition:"$all",color:"transparent"},[`& ${uD}`]:{position:"absolute",right:"0",bottom:"0",[`& ${uR}`]:{margin:"0",paddingLeft:"0",fontSize:"0.7222rem",backgroundColor:"#000d",color:"$secondary",fill:"$secondary",borderBottomLeftRadius:"0",borderTopRightRadius:"0"}}},figcaption:{marginTop:"0.5rem",fontWeight:"400",fontSize:"0.8333rem",display:"-webkit-box",overflow:"hidden",MozBoxOrient:"vertical",WebkitBoxOrient:"vertical",WebkitLineClamp:"5","@sm":{fontSize:"0.8333rem"}}},"&[aria-checked='true']":{figure:{"> div":{backgroundColor:"$primaryAlt","&::before":{position:"absolute",zIndex:"1",color:"$secondaryMuted",content:"Active Item",textTransform:"uppercase",fontWeight:"700",fontSize:"0.6111rem",letterSpacing:"0.03rem",display:"flex",width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",textAlign:"center",textShadow:"5px 5px 5px #0003"},img:{opacity:"0.3",transform:"scale3d(1.1, 1.1, 1.1)",filter:"blur(2px)"},[`& ${uD}`]:{[`& ${uR}`]:{backgroundColor:"$accent"}}}},figcaption:{fontWeight:"700"}}}),Ui=({type:d})=>{switch(d){case"Sound":return eV.createElement(viewer_P.Audio,null);case"Image":default:return eV.createElement(viewer_P.Image,null);case"Video":return eV.createElement(viewer_P.Video,null)}},Wi=({canvas:d,canvasIndex:h,isActive:g,thumbnail:_,type:y,handleChange:A})=>{let b=null!=d&&d.label?viewer_ne(d.label):(h+1).toString();return eV.createElement(uP,{"aria-checked":g,"data-testid":"media-thumbnail","data-canvas":h,onClick:()=>A(d.id),value:d.id},eV.createElement("figure",null,eV.createElement("div",null,(null==_?void 0:_.id)&&eV.createElement("img",{src:_.id,alt:b}),eV.createElement(uD,null,eV.createElement(uR,{isIcon:!0,"data-testid":"thumbnail-tag"},eV.createElement(uL,null),eV.createElement(viewer_P,{"aria-label":y},eV.createElement(Ui,{type:y})),["Video","Sound"].includes(y)&&eV.createElement(uM,null,viewer_Jt(d.duration))))),eV.createElement("figcaption",{"data-testid":"fig-caption"},d.label?eV.createElement(viewer_j,{label:d.label}):(h+1).toString())))},qi=d=>d.body?d.body.type:"Image",ji=({items:d})=>{let{t:h}=(0,sP.$G)(),g=viewer_F(),_=viewer_T(),{activeCanvas:y,vault:A}=_,[b,k]=(0,eV.useState)(""),[w,R]=(0,eV.useState)([]),[B,H]=(0,eV.useState)(0),z=eV.useRef(null),v=d=>{y!==d&&g({type:"updateActiveCanvas",canvasId:d})};return(0,eV.useEffect)(()=>{if(!w.length){let h=["Image","Sound","Video"],g=d.map(d=>viewer_an(A,d,"painting",h)).filter(d=>d.annotations.length>0);R(g)}},[d,w.length,A]),(0,eV.useEffect)(()=>{w.forEach((d,h)=>{null!=d&&d.canvas&&d.canvas.id===y&&H(h)})},[y,w]),(0,eV.useEffect)(()=>{let d=document.querySelector(`[data-canvas="${B}"]`);if(d instanceof HTMLElement&&z.current){let h=d.offsetLeft-z.current.offsetWidth/2+d.offsetWidth/2;z.current.scrollTo({left:h,behavior:"smooth"})}},[B]),eV.createElement(eV.Fragment,null,eV.createElement(xi,{handleFilter:d=>k(d),handleCanvasToggle:d=>{let h=w[B+d];null!=h&&h.canvas&&v(h.canvas.id)},activeIndex:B,canvasLength:d.length}),eV.createElement(ub,{"aria-label":h("media.selectItem"),"data-testid":"media","data-active-canvas":d[B].id,"data-canvas-length":d.length,"data-filter":b,ref:z},w.filter((d,h)=>{var g;if(!b)return!0;if(null==(g=d.canvas)||!g.label)return(h+1).toString().includes(b);{let h=viewer_ne(d.canvas.label);if(Array.isArray(h))return h[0].toLowerCase().includes(b.toLowerCase())}}).map(d=>{var h,g;return eV.createElement(Wi,{canvas:d.canvas,canvasIndex:w.findIndex(h=>h===d),handleChange:v,isActive:y===(null==(h=null==d?void 0:d.canvas)?void 0:h.id),key:null==(g=null==d?void 0:d.canvas)?void 0:g.id,thumbnail:qo(A,d,200,200),type:qi(d.annotations[0])})})))},uF=cx("button",{position:"absolute",background:"none",border:"none",cursor:"zoom-in",margin:"0",padding:"0",width:"100%",height:"100%",transition:"$all","& img":{width:"100%",height:"100%",objectFit:"contain",color:"transparent",transition:"$all"},variants:{isMedia:{true:{cursor:"pointer"}}}}),uB=cx("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),uU=cx(uB,{position:"absolute",width:"2rem",top:"1rem",right:"1rem",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",transition:"$all",borderRadius:"50%",backgroundColor:"$accent",cursor:"pointer","&:hover, &:focus":{backgroundColor:"$accent !important"},variants:{isInteractive:{true:{"&:hover":{opacity:"1"}},false:{}},isMedia:{true:{cursor:"pointer !important"}}},compoundVariants:[{isInteractive:!1,isMedia:!0,css:{top:"50%",right:"50%",width:"4rem",height:"4rem",transform:"translate(50%,-50%)"}}]}),uH=cx("div",{position:"relative",display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",gap:"1rem",zIndex:"0",overflow:"hidden","&:hover":{[`${uU}`]:{backgroundColor:"$accent"},[`${uF}`]:{backgroundColor:"#6662"}}}),uG=cx("div",{width:"100%",height:"100%"}),uz=cx("svg",{height:"19px",color:"$accent",fill:"$accent",stroke:"$accent",display:"flex",margin:"0.25rem 0.85rem"}),uV=cx(lS.xz,{fontSize:"1.25rem",fontWeight:"400",fontFamily:"inherit",alignSelf:"flex-start",flexGrow:"1",cursor:"pointer",transition:"$all",border:"1px solid #6663",boxShadow:"2px 2px 5px #0001",borderRadius:"3px",display:"flex",alignItems:"center",paddingLeft:"0.5rem",width:"100%","@sm":{fontSize:"1rem"}}),u$=cx(lS.VY,{borderRadius:"3px",boxShadow:"3px 3px 8px #0003",backgroundColor:"$secondary",marginTop:"2.25rem",marginLeft:"6px",paddingBottom:"0.25rem",maxHeight:"calc(61.8vh - 2.5rem) !important",borderTopLeftRadius:"0",border:"1px solid $secondaryMuted",maxWidth:"90vw"}),uQ=cx(lS.ck,{display:"flex",alignItems:"center",fontFamily:"inherit",padding:"0.25rem 0.5rem",color:"$primary",fontWeight:"400",fontSize:"0.8333rem",cursor:"pointer",backgroundColor:"$secondary",width:"calc(100% - 1rem)","> span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},'&[data-state="checked"]':{fontWeight:"700",color:"$primary !important"},"&:hover":{color:"$accent"},img:{width:"31px",height:"31px",marginRight:"0.5rem",borderRadius:"3px"}}),uj=cx(lS.__,{color:"$primaryMuted",fontFamily:"inherit",fontSize:"0.85rem",padding:"0.5rem 1rem 0.5rem 0.5rem",display:"flex",alignItems:"center",marginBottom:"0.25rem",borderRadius:"3px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",borderBottomRightRadius:"0",backgroundColor:"$secondaryMuted"}),uY=cx(lS.fC,{position:"relative",zIndex:"5",width:"100%"}),viewer_Te=({direction:d,title:h})=>eV.createElement(uz,{xmlns:"http://www.w3.org/2000/svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",null,h),"up"===d&&eV.createElement(()=>eV.createElement("path",{d:"M414 321.94L274.22 158.82a24 24 0 00-36.44 0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5 0 31.56-24.05 18.18-39.62z"}),null),"down"===d&&eV.createElement(()=>eV.createElement("path",{d:"M98 190.06l139.78 163.12a24 24 0 0036.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z"}),null)),viewer_Tn=({children:d,label:h,maxHeight:g,onValueChange:_,value:y})=>eV.createElement(uY,{onValueChange:_,value:y},eV.createElement(uV,{"data-testid":"select-button"},eV.createElement(lS.ki,{"data-testid":"select-button-value"}),eV.createElement(lS.GV,null,eV.createElement(viewer_Te,{direction:"down",title:"select"}))),eV.createElement(lS.ue,null,eV.createElement(u$,{css:{maxHeight:`${g} !important`},"data-testid":"select-content"},eV.createElement(lS.Pn,null,eV.createElement(viewer_Te,{direction:"up",title:"scroll up for more"})),eV.createElement(lS.Q_,null,eV.createElement(lS.DI,null,h&&eV.createElement(uj,null,eV.createElement(viewer_j,{"data-testid":"select-label",label:h})),d)),eV.createElement(lS.Jk,null,eV.createElement(viewer_Te,{direction:"down",title:"scroll down for more"}))))),viewer_Rn=d=>eV.createElement(uQ,{...d},d.thumbnail&&eV.createElement(viewer_bn,{thumbnail:d.thumbnail}),eV.createElement(lS.S_,null,eV.createElement(viewer_j,{label:d.label})),eV.createElement(lS.o6,null)),uq=cx("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),uW=cx("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),uX=cx("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${uq}`]:{display:"block"}},false:{[`${uq}`]:{display:"none"}}}}}),viewer_ee=({className:d,id:h,label:g,children:_})=>{let y=g.toLowerCase().replace(/\s/g,"-");return eV.createElement(uB,{id:h,className:d,"data-testid":"openseadragon-button","data-button":y},eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${h}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",{id:`${h}-svg-title`},g),_))},uK=cx("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),rs=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),os=()=>eV.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),as=()=>eV.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),viewer_is=()=>eV.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),viewer_ht=()=>eV.createElement(eV.Fragment,null,eV.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eV.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),ss=({_cloverViewerHasPlaceholder:d,config:h})=>{let g=viewer_T(),{activeCanvas:_,plugins:y,vault:A}=g,b=A.get({id:_,type:"Canvas"});return eV.createElement(uK,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:d},h.showZoomControl&&eV.createElement(eV.Fragment,null,eV.createElement(viewer_ee,{id:h.zoomInButton,label:"zoom in"},eV.createElement(rs,null)),eV.createElement(viewer_ee,{id:h.zoomOutButton,label:"zoom out"},eV.createElement(os,null))),h.showFullPageControl&&eV.createElement(viewer_ee,{id:h.fullPageButton,label:"full page"},eV.createElement(as,null)),h.showRotationControl&&eV.createElement(eV.Fragment,null,eV.createElement(viewer_ee,{id:h.rotateRightButton,label:"rotate right"},eV.createElement(viewer_ht,null)),eV.createElement(viewer_ee,{id:h.rotateLeftButton,label:"rotate left"},eV.createElement(viewer_ht,null))),h.showHomeControl&&eV.createElement(viewer_ee,{id:h.homeButton,label:"reset"},eV.createElement(viewer_is,null)),y.filter(d=>{var h;return null==(h=d.imageViewer)?void 0:h.controls}).map((d,h)=>{var g,_,y,A;let k=null==(_=null==(g=d.imageViewer)?void 0:g.controls)?void 0:_.component;return eV.createElement(k,{key:h,...null==(A=null==(y=null==d?void 0:d.imageViewer)?void 0:y.controls)?void 0:A.componentProps,canvas:b,useViewerDispatch:viewer_F,useViewerState:viewer_T})}))},ls=({ariaLabel:d,config:h,uri:g,_cloverViewerHasPlaceholder:_,imageType:y,openSeadragonCallback:A})=>{let[b,k]=(0,eV.useState)(),[w,R]=(0,eV.useState)(),B=viewer_F(),H=(0,eV.useRef)(!1);return(0,eV.useEffect)(()=>(H.current||(H.current=!0,w||R(eH(h))),()=>null==w?void 0:w.destroy()),[]),(0,eV.useEffect)(()=>{w&&A&&A(w)},[w,A]),(0,eV.useEffect)(()=>{w&&g!==b&&(null==w||w.forceRedraw(),k(g))},[w,b,g]),(0,eV.useEffect)(()=>{if(b&&w)switch(y){case"simpleImage":null==w||w.addSimpleImage({url:b});break;case"tiledImage":$o(b).then(d=>{try{if(!d)throw Error(`No tile source found for ${b}`);null==w||w.addTiledImage({tileSource:d,success:()=>{"function"==typeof B&&B({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(d){console.error(d)}});break;default:null==w||w.close(),console.warn(`Unable to render ${b} in OpenSeadragon as type: "${y}"`)}},[y,b]),eV.createElement(uX,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":h.id,hasNavigator:h.showNavigator},eV.createElement(ss,{_cloverViewerHasPlaceholder:_,config:h}),h.showNavigator&&eV.createElement(uq,{id:h.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eV.createElement(uW,{id:h.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...d&&{"aria-label":d}}))},ds=({_cloverViewerHasPlaceholder:d=!1,body:h,instanceId:g,isTiledImage:_=!1,label:y,src:A="",openSeadragonCallback:b,openSeadragonConfig:k={}})=>{let w=g||esm_browser_v4(),R="string"==typeof y?y:viewer_z(y),B={id:`openseadragon-${w}`,navigatorId:`openseadragon-navigator-${w}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${w}`,homeButton:`reset-${w}`,rotateLeftButton:`rotateLeft-${w}`,rotateRightButton:`rotateRight-${w}`,zoomInButton:`zoomIn-${w}`,zoomOutButton:`zoomOut-${w}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...k},{imageType:H,uri:z}=h?Bo(h):Ho(A,_);return z?eV.createElement(eG.SV,{FallbackComponent:viewer_Ze},eV.createElement(ls,{_cloverViewerHasPlaceholder:d,ariaLabel:R,config:B,imageType:H,key:w,uri:z,openSeadragonCallback:b})):null},us=({isMedia:d,label:h,placeholderCanvas:g,setIsInteractive:_})=>{let{vault:y}=viewer_T(),A=viewer_pe(y,g),b=A?A[0]:void 0,k=h?viewer_ne(h):["placeholder image"];return eV.createElement(uF,{onClick:()=>_(!0),isMedia:d,className:"clover-viewer-placeholder"},eV.createElement("img",{src:(null==b?void 0:b.id)||"",alt:k.join(),height:null==b?void 0:b.height,width:null==b?void 0:b.width}))},uJ=cx("canvas",{position:"absolute",width:"100%",height:"100%",zIndex:"0"}),uZ=eV.forwardRef((d,h)=>{let g=eV.useRef(null),_=(0,eV.useCallback)(()=>{var d,_;if(null!=(d=h.current)&&d.currentTime&&(null==(_=h.current)?void 0:_.currentTime)>0)return;let y=h.current;if(!y)return;let A=new AudioContext,b=A.createMediaElementSource(y),k=A.createAnalyser(),w=g.current;if(!w)return;w.width=y.offsetWidth,w.height=y.offsetHeight;let R=w.getContext("2d");b.connect(k),k.connect(A.destination),k.fftSize=256;let B=k.frequencyBinCount,H=new Uint8Array(B);setInterval(function(){!function(d,h,g,_,y,A){let b=y/g*2.6,k,w=0;d.getByteFrequencyData(_),h.fillStyle="#000000",h.fillRect(0,0,y,A);for(let d=0;d<g;d++)k=2*_[d],h.fillStyle="rgba(78, 42, 132, 1)",h.fillRect(w,A-k,b,k),w+=b+6}(k,R,B,H,w.width,w.height)},20)},[h]);return eV.useEffect(()=>{h&&h.current&&(h.current.onplay=_)},[_,h]),eV.createElement(uJ,{ref:g,role:"presentation"})}),u0=cx("div",{position:"relative",backgroundColor:"$primaryAlt",display:"flex",flexGrow:"0",flexShrink:"1",height:"100%",zIndex:"1",video:{backgroundColor:"transparent",objectFit:"contain",width:"100%",height:"100%",position:"relative",zIndex:"1"}}),hs=({resource:d,ignoreCaptionLabels:h})=>{let g=viewer_ne(d.label,"en");return Array.isArray(g)&&g.some(d=>h.includes(d))?null:eV.createElement("track",{key:d.id,src:d.id,label:Array.isArray(g)?g[0]:g,srcLang:"en","data-testid":"player-track"})},u1=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],vs=({allSources:d,annotationResources:h,painting:g})=>{let[_,y]=eV.useState(0),[A,b]=eV.useState(),k=eV.useRef(null),w=(null==g?void 0:g.type)==="Sound",R=viewer_T(),{activeCanvas:B,configOptions:H,vault:z}=R;return(0,eV.useEffect)(()=>{if(!g.id||!k.current)return;if(null!=k&&k.current){let d=k.current;d.src=g.id,d.load()}if("m3u8"!==g.id.split(".").pop()&&g.format&&!u1.includes(g.format))return;let d=new nF.ZP({xhrSetup:function(d,h){d.withCredentials=!!H.withCredentials}});return d.attachMedia(k.current),d.on(nF.ZP.Events.MEDIA_ATTACHED,function(){d.loadSource(g.id)}),d.on(nF.ZP.Events.ERROR,function(h,g){if(g.fatal)switch(g.type){case nF.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${h} network error encountered, try to recover`),d.startLoad();break;case nF.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${h} media error encountered, try to recover`),d.recoverMediaError();break;default:d.destroy()}}),()=>{if(d&&k.current){let h=k.current;d.detachMedia(),d.destroy(),h.currentTime=0}}},[H.withCredentials,g.id]),(0,eV.useEffect)(()=>{var d,h,g,y;let A=z.get(B),k=null!=(d=A.accompanyingCanvas)&&d.id?viewer_pe(z,null==(h=A.accompanyingCanvas)?void 0:h.id):null,w=null!=(g=A.placeholderCanvas)&&g.id?viewer_pe(z,null==(y=A.placeholderCanvas)?void 0:y.id):null;k&&w?b(0===_?w[0].id:k[0].id):(k&&b(k[0].id),w&&b(w[0].id))},[B,_,z]),(0,eV.useEffect)(()=>{if(null!=k&&k.current){let d=k.current;return null==d||d.addEventListener("timeupdate",()=>y(d.currentTime)),()=>document.removeEventListener("timeupdate",()=>{})}},[]),eV.createElement(u0,{css:{backgroundColor:H.canvasBackgroundColor,maxHeight:H.canvasHeight,position:"relative"},"data-testid":"player-wrapper",className:"clover-viewer-player-wrapper"},eV.createElement("video",{id:"clover-iiif-video",key:g.id,ref:k,controls:!0,height:g.height,width:g.width,crossOrigin:"anonymous",poster:A,style:{maxHeight:H.canvasHeight,position:"relative",zIndex:"1"}},d.map(d=>eV.createElement("source",{src:d.id,type:d.format,key:d.id})),(null==h?void 0:h.length)>0&&h.map(d=>{let h=[];return d.items.forEach(d=>{z.get(d.id).body.forEach(d=>{let g=z.get(d.id);h.push(g)})}),h.map(d=>eV.createElement(hs,{resource:d,ignoreCaptionLabels:H.ignoreCaptionLabels||[],key:d.id}))}),"Sorry, your browser doesn't support embedded videos."),w&&eV.createElement(uZ,{ref:k}))},ys=()=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"close-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",{id:"close-svg-title"},"close"),eV.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),Es=({isMedia:d})=>eV.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"open-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},eV.createElement("title",{id:"open-svg-title"},"open"),d?eV.createElement("path",{d:"M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z"}):eV.createElement(eV.Fragment,null,eV.createElement("path",{d:"m456.69,421.39l-94.09-94.09c22.65-30.16,34.88-66.86,34.84-104.58,0-96.34-78.38-174.72-174.72-174.72S48,126.38,48,222.72s78.38,174.72,174.72,174.72c37.72.04,74.42-12.19,104.58-34.84l94.09,94.09c10.29,9.2,26.1,8.32,35.3-1.98,8.48-9.49,8.48-23.83,0-33.32Zm-233.97-73.87c-68.89-.08-124.72-55.91-124.8-124.8h0c0-68.93,55.87-124.8,124.8-124.8s124.8,55.87,124.8,124.8-55.87,124.8-124.8,124.8Z"}),eV.createElement("path",{d:"m279.5,197.76h-3.35s-28.47,0-28.47,0v-31.82c-.77-13.79-12.57-24.33-26.36-23.56-12.71.71-22.85,10.86-23.56,23.56v3.35h0v28.47h-31.82c-13.79.77-24.33,12.57-23.56,26.36.71,12.71,10.86,22.85,23.56,23.56h3.35s28.47,0,28.47,0v31.82c.77,13.79,12.57,24.33,26.36,23.56,12.71-.71,22.85-10.86,23.56-23.56v-3.35h0v-28.47h31.82c13.79-.77,24.33-12.57,23.56-26.36-.71-12.71-10.86-22.85-23.56-23.56Z"}))),bs=({handleToggle:d,isInteractive:h,isMedia:g})=>eV.createElement(uU,{onClick:d,isInteractive:h,isMedia:g,"data-testid":"placeholder-toggle"},h?eV.createElement(ys,null):eV.createElement(Es,{isMedia:g})),ws=({activeCanvas:d,annotationResources:h,isMedia:g,painting:_})=>{var y,A,b,k,w;let[R,B]=eV.useState(0),[H,z]=eV.useState(!1),{configOptions:$,customDisplays:j,openSeadragonViewer:q,vault:W,viewerId:K}=viewer_T(),ee=viewer_F(),et=W.get(d),en=null==(y=null==et?void 0:et.placeholderCanvas)?void 0:y.id,er=!!en,es=(null==_?void 0:_.length)>1,el=en&&!H&&!g,ec=`${K}-${So(d+R)}`,eu=j.find(h=>{var g;let y=!1,{canvasId:A,paintingFormat:b}=h.target;if(Array.isArray(A)&&A.length>0&&(y=A.includes(d)),Array.isArray(b)&&b.length>0){let d=(null==(g=_[R])?void 0:g.format)||"";y=!!(d&&b.includes(d))}return y}),ed=[];null==(b=null==(A=h[0])?void 0:A.items)||b.forEach(d=>{let h=W.get(d.id);ed.push(h)}),(0,eV.useEffect)(()=>{var d;ed&&q&&null!=(d=$.annotationOverlays)&&d.renderOverlays&&(viewer_rn(q,"annotation-overlay"),viewer_tn(q,et,$.annotationOverlays,ed,"annotation-overlay"))},[et,ed,q,$]);let eh=null==(k=null==eu?void 0:eu.display)?void 0:k.component;return eV.createElement(uH,{className:"clover-viewer-painting"},eV.createElement(uG,{style:{backgroundColor:$.canvasBackgroundColor,height:"auto"===$.canvasHeight?"100%":$.canvasHeight}},en&&!g&&eV.createElement(bs,{handleToggle:()=>z(!H),isInteractive:H,isMedia:g}),el&&!g&&eV.createElement(us,{isMedia:g,label:null==et?void 0:et.label,placeholderCanvas:en,setIsInteractive:z}),!el&&!eu&&(g?eV.createElement(vs,{allSources:_,painting:_[R],annotationResources:h}):_&&eV.createElement(ds,{_cloverViewerHasPlaceholder:er,body:_[R],instanceId:ec,key:ec,openSeadragonCallback:d=>{d&&(null==q?void 0:q.id)!==`openseadragon-${ec}`&&ee({type:"updateOpenSeadragonViewer",openSeadragonViewer:d})},openSeadragonConfig:$.openSeadragon})),!el&&eh&&eV.createElement(eh,{id:d,annotationBody:_[R],...null==eu?void 0:eu.display.componentProps})),es&&eV.createElement(viewer_Tn,{value:null==(w=_[R])?void 0:w.id,onValueChange:d=>{let h=_.findIndex(h=>h.id===d);B(h)},maxHeight:"200px"},null==_?void 0:_.map(d=>eV.createElement(viewer_Rn,{value:null==d?void 0:d.id,key:null==d?void 0:d.id,label:null==d?void 0:d.label}))))},Ss=({activeCanvas:d,annotationResources:h,searchServiceUrl:g,setContentSearchResource:_,contentSearchResource:y,isAudioVideo:A,items:b,painting:k})=>{let{t:w}=(0,sP.$G)(),{isInformationOpen:R,configOptions:B}=viewer_T(),{informationPanel:H}=B,z=(null==H?void 0:H.renderAbout)&&R,$=(null==H?void 0:H.renderAnnotation)&&h.length>0&&!H.open;return eV.createElement(cM,{className:"clover-viewer-content","data-testid":"clover-viewer-content"},eV.createElement(cP,null,eV.createElement(ws,{activeCanvas:d,annotationResources:h,isMedia:A,painting:k}),z&&eV.createElement(cF,null,eV.createElement("span",null,w("informationPanelToggle"))),b.length>1&&eV.createElement(cL,{className:"clover-viewer-media-wrapper"},eV.createElement(ji,{items:b,activeItem:0}))),(z||$)&&eV.createElement(cU,null,eV.createElement(cB,null,eV.createElement(pi,{activeCanvas:d,annotationResources:h,searchServiceUrl:g,setContentSearchResource:_,contentSearchResource:y}))))},u2=cx(viewer_K.Trigger,{width:"30px",padding:"5px"}),u3=cx(viewer_K.Content,{display:"flex",flexDirection:"column",fontSize:"0.8333rem",border:"none",boxShadow:"2px 2px 5px #0003",zIndex:"2",button:{display:"flex",textDecoration:"none",marginBottom:"0.5em",color:"$accentAlt",cursor:"pointer",background:"$secondary",border:"none","&:last-child":{marginBottom:"0"}}}),u4=cx("span",{fontSize:"1.33rem",alignSelf:"flex-start",flexGrow:"0",flexShrink:"1",padding:"1rem","@sm":{fontSize:"1rem"},"&.visually-hidden":{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"}}),u5=cx("header",{display:"flex",backgroundColor:"transparent !important",justifyContent:"space-between",alignItems:"flex-start",width:"100%",[`> ${uY}`]:{flexGrow:"1",flexShrink:"0"},form:{flexGrow:"0",flexShrink:"1"}}),u6=cx("div",{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",padding:"1rem",flexShrink:"0",flexGrow:"1"}),ks=()=>{var d;let h=viewer_F(),g=viewer_T(),{activeManifest:_,collection:y,configOptions:A,vault:b}=g,k=null==A?void 0:A.canvasHeight;return eV.createElement("div",{style:{margin:"0.75rem"}},eV.createElement(viewer_Tn,{label:y.label,maxHeight:k,value:_,onValueChange:d=>{h({type:"updateActiveManifest",manifestId:d}),h({type:"updateViewerId",viewerId:esm_browser_v4()})}},null==(d=null==y?void 0:y.items)?void 0:d.map(d=>eV.createElement(viewer_Rn,{value:d.id,key:d.id,thumbnail:null!=d&&d.thumbnail?b.get(null==d?void 0:d.thumbnail):void 0,label:d.label}))))},Ts=(d,h=2500)=>{let{t:g}=(0,sP.$G)(),[_,y]=(0,eV.useState)(""),A=(0,eV.useCallback)(()=>{navigator.clipboard.writeText(d).then(()=>y(g("copySuccess")),()=>y(g("copyFailure")))},[d]);return(0,eV.useEffect)(()=>{if(!_)return;let d=setTimeout(()=>y(""),h);return()=>clearTimeout(d)},[_]),[_,A]},u8=cx("span",{display:"flex",alignContent:"center",alignItems:"center",padding:"0.125rem 0.25rem 0",marginTop:"-0.125rem",marginLeft:"0.5rem",backgroundColor:"$accent",color:"$secondary",borderRadius:"3px",lineHeight:"1em"}),$s=({status:d})=>d?eV.createElement(u8,{"data-copy-status":d},d):null,viewer_gt=({textPrompt:d,textToCopy:h})=>{let[g,_]=Ts(h);return eV.createElement("button",{onClick:_},d," ",eV.createElement($s,{status:g}))},Ms=({title:d})=>{let h="#ed1d33",g="#2873ab";return eV.createElement("svg",{viewBox:"0 0 493.35999 441.33334",id:"iiif-logo",version:"1.1"},eV.createElement("title",null,d),eV.createElement("g",{transform:"matrix(1.3333333,0,0,-1.3333333,0,441.33333)"},eV.createElement("g",{transform:"scale(0.1)"},eV.createElement("path",{style:{fill:g},d:"M 65.2422,2178.75 775.242,1915 773.992,15 65.2422,276.25 v 1902.5"}),eV.createElement("path",{style:{fill:g},d:"m 804.145,2640.09 c 81.441,-240.91 -26.473,-436.2 -241.04,-436.2 -214.558,0 -454.511,195.29 -535.9527,436.2 -81.4335,240.89 26.4805,436.18 241.0387,436.18 214.567,0 454.512,-195.29 535.954,-436.18"}),eV.createElement("path",{style:{fill:h},d:"M 1678.58,2178.75 968.578,1915 969.828,15 1678.58,276.25 v 1902.5"}),eV.createElement("path",{style:{fill:h},d:"m 935.082,2640.09 c -81.437,-240.91 26.477,-436.2 241.038,-436.2 214.56,0 454.51,195.29 535.96,436.2 81.43,240.89 -26.48,436.18 -241.04,436.18 -214.57,0 -454.52,-195.29 -535.958,-436.18"}),eV.createElement("path",{style:{fill:g},d:"m 1860.24,2178.75 710,-263.75 -1.25,-1900 -708.75,261.25 v 1902.5"}),eV.createElement("path",{style:{fill:g},d:"m 2603.74,2640.09 c 81.45,-240.91 -26.47,-436.2 -241.03,-436.2 -214.58,0 -454.52,195.29 -535.96,436.2 -81.44,240.89 26.48,436.18 241.03,436.18 214.57,0 454.51,-195.29 535.96,-436.18"}),eV.createElement("path",{style:{fill:h},d:"m 3700.24,3310 v -652.5 c 0,0 -230,90 -257.5,-142.5 -2.5,-247.5 0,-336.25 0,-336.25 l 257.5,83.75 V 1690 l -258.61,-92.5 V 262.5 L 2735.24,0 v 2360 c 0,0 -15,850 965,950"}))))},u9=cx(lk.fC,{all:"unset",height:"2rem",width:"3.236rem",backgroundColor:"#6663",borderRadius:"9999px",position:"relative",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:focus":{boxShadow:"0 0 0 2px $secondaryAlt"},'&[data-state="checked"]':{backgroundColor:"$accent",boxShadow:"inset 2px 2px 5px #0003"}}),u7=cx(lk.bU,{display:"block",height:"calc(2rem - 12px)",width:"calc(2rem - 12px)",backgroundColor:"$secondary",borderRadius:"100%",boxShadow:"2px 2px 5px #0001",transition:"$all",transform:"translateX(6px)",willChange:"transform",'&[data-state="checked"]':{transform:"translateX(calc(1.236rem + 6px))"}}),de=cx("label",{fontSize:"0.8333rem",fontWeight:"400",lineHeight:"1em",userSelect:"none",cursor:"pointer",paddingRight:"0.618rem"}),dt=cx("form",{display:"flex",flexShrink:"0",flexGrow:"1",alignItems:"center",marginLeft:"1.618rem"}),Fs=()=>{var d;let{configOptions:h}=viewer_T(),g=viewer_F(),{t:_}=(0,sP.$G)(),[y,A]=(0,eV.useState)(null==(d=null==h?void 0:h.informationPanel)?void 0:d.open);return(0,eV.useEffect)(()=>{g({type:"updateInformationOpen",isInformationOpen:y})},[y,g]),eV.createElement(dt,null,eV.createElement(de,{htmlFor:"information-toggle",css:y?{opacity:"1"}:{}},_("informationPanelToggle")),eV.createElement(u9,{checked:y,onCheckedChange:()=>A(!y),id:"information-toggle","aria-label":_("informationPanelToggle"),name:"toggled?"},eV.createElement(u7,null)))},dn=cx(viewer_K.Trigger,{width:"30px",padding:"5px",marginBottom:"auto"}),dl=cx(u3,{h3:{color:"$primaryAlt",fontSize:"$2",fontWeight:"700",margin:"$2 0"},button:{},"& ul li":{marginBottom:"$1"}});function viewer_vt(d,h){let g=[];if(!d)return g;for(let _ of d)if(_.id){let d=h.get(_.id);d&&g.push(d)}return g}function viewer_yt(d,h){return d.map(({format:d,id:g,label:_})=>{let y=function(d){let{vault:h}=viewer_T();try{let g=d&&h.get(d);if(!g)throw Error(`Vault entity ${d} not found.`);return(null==g?void 0:g["@id"])||(null==g?void 0:g.id)}catch(h){return console.error(h),d}}(g);return{format:d,id:y,label:viewer_z(_)||h}})}let Hs=()=>{let{allPages:d,individualPages:h}=function(){let d=function(){let{activeCanvas:d,activeManifest:h,vault:g}=viewer_T(),[_,y]=(0,eV.useState)({root:[],canvas:[]});return(0,eV.useEffect)(()=>{let _=g.get(h),A=g.get(d),b=null==_?void 0:_.rendering,k=null==A?void 0:A.rendering,w=viewer_vt(b,g),R=viewer_vt(k,g);y({root:w,canvas:R})},[d,h,g]),{..._}}(),h=viewer_yt((null==d?void 0:d.root)||[],"Root Rendering Label"),g=viewer_yt((null==d?void 0:d.canvas)||[],"Canvas Rendering Label");return{allPages:h,individualPages:g}}(),g=d.length>0||h.length>0,a=d=>{window.open(d,"_blank")};return g?eV.createElement(viewer_K,null,eV.createElement(dn,{"data-testid":"download-button"},eV.createElement(viewer_P,null,eV.createElement(viewer_P.Download,null))),eV.createElement(dl,{"data-testid":"download-content"},h.length>0&&eV.createElement(eV.Fragment,null,eV.createElement("h3",null,"Individual Pages"),eV.createElement("ul",null,h.map(({format:d,id:h,label:g})=>eV.createElement("li",{key:g},eV.createElement("button",{onClick:()=>a(h)},g," (",d,")"))))),d.length>0&&eV.createElement(eV.Fragment,null,eV.createElement("h3",null,"All Pages"),eV.createElement("ul",null,d.map(({format:d,id:h,label:g})=>eV.createElement("li",{key:g},eV.createElement("button",{onClick:()=>a(h)},g," (",d,")"))))))):null},viewer_Mn=d=>{let t=()=>!!window.matchMedia&&window.matchMedia(d).matches,[h,g]=(0,eV.useState)(t);return(0,eV.useEffect)(()=>{let o=()=>g(t);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)}),h},Us=({manifestId:d,manifestLabel:h})=>{let g=viewer_T(),{collection:_,configOptions:y}=g,{informationPanel:A,showDownload:b,showIIIFBadge:k,showTitle:w}=y,R=b||k||(null==A?void 0:A.renderToggle),B=viewer_Mn(cC.sm),{t:H}=(0,sP.$G)();return eV.createElement(u5,{className:"clover-viewer-header"},null!=_&&_.items?eV.createElement(ks,null):eV.createElement(u4,{className:w?"":"visually-hidden"},w&&eV.createElement(viewer_j,{label:h,className:"label"})),R&&eV.createElement(u6,null,b&&eV.createElement(Hs,null),k&&eV.createElement(viewer_K,null,eV.createElement(u2,null,eV.createElement(Ms,{title:H("commonShare")})),eV.createElement(u3,null,(null==_?void 0:_.items)&&eV.createElement("button",{onClick:d=>{d.preventDefault(),window.open(_.id,"_blank")}},H("shareCollectionJson")),eV.createElement("button",{onClick:h=>{h.preventDefault(),window.open(d,"_blank")}},H("shareManifestJson"))," ",(null==_?void 0:_.items)&&eV.createElement(viewer_gt,{textPrompt:H("shareCollectionCopy"),textToCopy:_.id}),eV.createElement(viewer_gt,{textPrompt:H("shareManifestCopy"),textToCopy:d}))),(null==A?void 0:A.renderToggle)&&!B&&eV.createElement(Fs,null)))},Ws=(d=!1)=>{let[h,g]=(0,eV.useState)(d);return(0,eV.useLayoutEffect)(()=>{if(!h)return;let d=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=d}},[h]),(0,eV.useEffect)(()=>{h!==d&&g(d)},[d]),[h,g]},qs=({manifest:d,theme:h,iiifContentSearchQuery:g})=>{var _;let y=viewer_T(),A=viewer_F(),{activeCanvas:b,isInformationOpen:k,vault:w,contentSearchVault:R,configOptions:B,openSeadragonViewer:H}=y,z=(null==B?void 0:B.canvasHeight)&&["100%","auto"].includes(null==B?void 0:B.canvasHeight),[$,j]=(0,eV.useState)(!1),[q,W]=(0,eV.useState)(!1),[K,ee]=(0,eV.useState)([]),[et,en]=(0,eV.useState)([]),[er,es]=(0,eV.useState)(),[el,ec]=Ws(!1),eu=viewer_Mn(cC.sm),[ed,eh]=(0,eV.useState)(),ep=(0,eV.useCallback)(d=>{A({type:"updateInformationOpen",isInformationOpen:d})},[A]);(0,eV.useEffect)(()=>{var d;null!=(d=null==B?void 0:B.informationPanel)&&d.open&&ep(!eu)},[eu,null==(_=null==B?void 0:B.informationPanel)?void 0:_.open,ep]),(0,eV.useEffect)(()=>{if(!eu){ec(!1);return}ec(k)},[k,eu,ec]),(0,eV.useEffect)(()=>{let d=viewer_pe(w,b);d&&(W(["Sound","Video"].indexOf(d[0].type)>-1),ee(d)),Wo(w,b).then(d=>{d.length>0&&A({type:"updateInformationOpen",isInformationOpen:!0}),en(d),j(0!==d.length)})},[b,et.length,w,A]);let ef=d.service.some(d=>"SearchService2"===d.type);return(0,eV.useEffect)(()=>{if(ef){let h=d.service.find(d=>"SearchService2"===d.type);h&&eh(h.id)}},[d,ef]),(0,eV.useEffect)(()=>{var d,h,_;ed&&(null==(d=B.informationPanel)?void 0:d.renderContentSearch)!==!1&&viewer_on(R,ed,null==(_=null==(h=B.localeText)?void 0:h.contentSearch)?void 0:_.tabLabel,g).then(d=>{es(d)})},[ed]),(0,eV.useEffect)(()=>{if(!H||!er)return;let d=w.get({id:b,type:"Canvas"});viewer_rn(H,"content-search-overlay"),function(d,h,g,_,y){var A;if(!(null!=h&&h.items)||(null==h?void 0:h.items.length)===0)return;let b=[];h.items.forEach(h=>{let g=d.get(h.id);"string"==typeof g.target&&g.target.startsWith(_.id)&&b.push(g)}),g&&null!=(A=y.contentSearch)&&A.overlays&&viewer_tn(g,_,y.contentSearch.overlays,b,"content-search-overlay")}(R,er,H,d,B)},[H,er]),eV.createElement(eG.SV,{FallbackComponent:viewer_Ze},eV.createElement(cH,{className:`${h} clover-viewer`,css:{background:null==B?void 0:B.background},"data-body-locked":el,"data-absolute-position":z,"data-information-panel":$,"data-information-panel-open":k},eV.createElement(sW,{open:k,onOpenChange:ep},eV.createElement(Us,{manifestLabel:d.label,manifestId:d.id}),eV.createElement(Ss,{activeCanvas:b,painting:K,annotationResources:et,searchServiceUrl:ed,setContentSearchResource:es,contentSearchResource:er,items:d.items,isAudioVideo:q}))))},dc={ignoreCache:!1,headers:{Accept:"application/json, text/javascript, text/plain"},timeout:5e3,withCredentials:!1};function viewer_bt(d,h=null){return{ok:!1,status:d.status,statusText:d.statusText,headers:d.getAllResponseHeaders(),data:h||d.statusText,json:()=>JSON.parse(h||d.statusText)}}let ul=({canvasIdCallback:d=()=>{},customDisplays:h=[],plugins:g=[],customTheme:_,iiifContent:y,id:A,manifestId:b,options:k,iiifContentSearchQuery:w})=>{var R,B,H;let z=y;A&&(z=A),b&&(z=b);let $=viewer_Zt(null==(B=null==(R=null==k?void 0:k.informationPanel)?void 0:R.vtt)?void 0:B.autoScroll);return eV.createElement(To,{initialState:{...cv,customDisplays:h,plugins:g,isAutoScrollEnabled:$.enabled,isInformationOpen:!!(null!=(H=null==k?void 0:k.informationPanel)&&H.open),vault:new cE({customFetcher:d=>(function(d,h=dc){let g=h.headers||dc.headers;return new Promise((_,y)=>{let A=new XMLHttpRequest;A.open("get",d),A.withCredentials=h.withCredentials,g&&Object.keys(g).forEach(d=>A.setRequestHeader(d,g[d])),A.onload=()=>{_({ok:A.status>=200&&A.status<300,status:A.status,statusText:A.statusText,headers:A.getAllResponseHeaders(),data:A.responseText,json:()=>JSON.parse(A.responseText)})},A.onerror=()=>{y(viewer_bt(A,"Failed to make request."))},A.ontimeout=()=>{y(viewer_bt(A,"Request took longer than expected."))},A.send()})})(d,{withCredentials:null==k?void 0:k.withCredentials,headers:null==k?void 0:k.requestHeaders}).then(d=>JSON.parse(d.data))})}},eV.createElement(Js,{iiifContent:z,canvasIdCallback:d,customTheme:_,options:k,iiifContentSearchQuery:w}))},Js=({canvasIdCallback:d,customTheme:h,iiifContent:g,options:_,iiifContentSearchQuery:y})=>{let A=viewer_F(),b=viewer_T(),{activeCanvas:k,activeManifest:w,isLoaded:R,vault:B}=b,[H,z]=(0,eV.useState)(),[$,j]=(0,eV.useState)(),q={};return h&&(q=(0,ez.jG)("custom",h)),(0,eV.useEffect)(()=>{d&&d(k)},[k,d]),(0,eV.useEffect)(()=>{w&&B.load(w).then(d=>{j(d),A({type:"updateActiveCanvas",canvasId:Po(g,d)})}).catch(d=>{console.error(`Manifest failed to load: ${d}`)}).finally(()=>{A({type:"updateIsLoaded",isLoaded:!0})})},[g,w,A,B]),(0,eV.useEffect)(()=>{A({type:"updateConfigOptions",configOptions:_});let d=_o(g);B.load(d).then(d=>{z(d)}).catch(d=>{console.error(`The IIIF resource ${g} failed to load: ${d}`)})},[A,g,_,B]),(0,eV.useEffect)(()=>{if((null==H?void 0:H.type)==="Collection"){A({type:"updateCollection",collection:H});let d=Oo(g,H);d&&A({type:"updateActiveManifest",manifestId:d})}else(null==H?void 0:H.type)==="Manifest"&&A({type:"updateActiveManifest",manifestId:H.id})},[A,g,H]),R?$&&$.items?0===$.items.length?(console.log(`The IIIF manifest ${g} does not contain canvases.`),eV.createElement(eV.Fragment,null)):eV.createElement(qs,{manifest:$,theme:q,key:$.id,iiifContentSearchQuery:y}):(console.log(`The IIIF manifest ${g} failed to load.`),eV.createElement(eV.Fragment,null)):eV.createElement(eV.Fragment,null,"Loading")},helpers_u=d=>{var h,g,_,y,A;let b={id:"string"==typeof d?d:d.source};if("string"==typeof d){if(d.includes("#xywh=")){let h=d.split("#xywh=");if(h&&h[1]){let[d,g,_,y]=h[1].split(",").map(d=>Number(d));b={id:h[0],rect:{x:d,y:g,w:_,h:y}}}}else if(d.includes("#t=")){let h=d.split("#t=");h&&h[1]&&(b={id:h[0],t:h[1]})}}else if("object"==typeof d){if((null==(h=d.selector)?void 0:h.type)==="PointSelector")b={id:d.source,point:{x:d.selector.x,y:d.selector.y}};else if((null==(g=d.selector)?void 0:g.type)==="SvgSelector")b={id:d.source,svg:d.selector.value};else if((null==(_=d.selector)?void 0:_.type)==="FragmentSelector"&&null!=(y=d.selector)&&y.value.includes("xywh=")&&"Canvas"==d.source.type&&d.source.id){let h=null==(A=d.selector)?void 0:A.value.split("xywh=");if(h&&h[1]){let[g,_,y,A]=h[1].split(",").map(d=>Number(d));b={id:d.source.id,rect:{x:g,y:_,w:y,h:A}}}}}return b},du=window.OpenSeadragon;if(!du&&!(du=eH))throw Error("OpenSeadragon is missing.");let dd="http://www.w3.org/2000/svg";du.Viewer&&(du.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new helpers_a(this)),this._svgOverlayInfo});let helpers_a=function(d){let h=this;this._viewer=d,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(dd,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(dd,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){h.resize()}),this._viewer.addHandler("open",function(){h.resize()}),this._viewer.addHandler("rotate",function(){h.resize()}),this._viewer.addHandler("flip",function(){h.resize()}),this._viewer.addHandler("resize",function(){h.resize()}),this.resize()};helpers_a.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let d=this._viewer.viewport.pixelFromPoint(new du.Point(0,0),!0),h=this._viewer.viewport.getZoom(!0),g=this._viewer.viewport.getRotation(),_=this._viewer.viewport.getFlip(),y=this._viewer.viewport._containerInnerSize.x,A=y*h,b=A;_&&(A=-A,d.x=-d.x+y),this._node.setAttribute("transform","translate("+d.x+","+d.y+") scale("+A+","+b+") rotate("+g+")")},onClick:function(d,h){new du.MouseTracker({element:d,clickHandler:h}).setTracking(!0)}};let dh={parseAnnotationTarget:helpers_u,createOpenSeadragonRect:function(d,h,g){let _,y,A=40,b=40;h.rect&&(_=h.rect.x,y=h.rect.y,A=h.rect.w,b=h.rect.h),h.point&&(_=h.point.x,y=h.point.y),helpers_u.svg;let k=1/d.width;return new eH.Rect(_*k-A*k/2*(g-1),y*k-b*k/2*(g-1),A*k*g,b*k*g)}};var dp=ul}}]);