"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{4470:function(h){var g=Object.prototype.hasOwnProperty,_=Object.prototype.toString,y=Object.defineProperty,A=Object.getOwnPropertyDescriptor,isArray=function(h){return"function"==typeof Array.isArray?Array.isArray(h):"[object Array]"===_.call(h)},isPlainObject=function(h){if(!h||"[object Object]"!==_.call(h))return!1;var y,A=g.call(h,"constructor"),b=h.constructor&&h.constructor.prototype&&g.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!A&&!b)return!1;for(y in h);return void 0===y||g.call(h,y)},setProperty=function(h,g){y&&"__proto__"===g.name?y(h,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):h[g.name]=g.newValue},getProperty=function(h,_){if("__proto__"===_){if(!g.call(h,_))return;if(A)return A(h,_).value}return h[_]};h.exports=function extend(){var h,g,_,y,A,b,k=arguments[0],w=1,R=arguments.length,B=!1;for("boolean"==typeof k&&(B=k,k=arguments[1]||{},w=2),(null==k||"object"!=typeof k&&"function"!=typeof k)&&(k={});w<R;++w)if(h=arguments[w],null!=h)for(g in h)_=getProperty(k,g),k!==(y=getProperty(h,g))&&(B&&y&&(isPlainObject(y)||(A=isArray(y)))?(A?(A=!1,b=_&&isArray(_)?_:[]):b=_&&isPlainObject(_)?_:{},setProperty(k,{name:g,newValue:extend(B,b,y)})):void 0!==y&&setProperty(k,{name:g,newValue:y}));return k}},4921:function(h,g,_){var y;function u(h){return void 0===h||h}function v(h){let g=Array(h);for(let _=0;_<h;_++)g[_]=x();return g}function x(){return Object.create(null)}function aa(h,g){return g.length-h.length}function C(h){return"string"==typeof h}function D(h){return"object"==typeof h}function E(h){return"function"==typeof h}function F(h,g){var _=A;if(h&&(g&&(h=G(h,g)),this.H&&(h=G(h,this.H)),this.J&&1<h.length&&(h=G(h,this.J)),_||""===_)){if(g=h.split(_),this.filter){h=this.filter,_=g.length;let y=[];for(let A=0,b=0;A<_;A++){let _=g[A];_&&!h[_]&&(y[b++]=_)}h=y}else h=g}return h}let A=/[\p{Z}\p{S}\p{P}\p{C}]+/u,b=/[\u0300-\u036f]/g;function I(h,g){let _=Object.keys(h),y=_.length,A=[],b="",k=0;for(let w=0,R,B;w<y;w++)(B=h[R=_[w]])?(A[k++]=J(g?"(?!\\b)"+R+"(\\b|_)":R),A[k++]=B):b+=(b?"|":"")+R;return b&&(A[k++]=J(g?"(?!\\b)("+b+")(\\b|_)":"("+b+")"),A[k]=""),A}function G(h,g){for(let _=0,y=g.length;_<y&&(h=h.replace(g[_],g[_+1]));_+=2);return h}function J(h){return RegExp(h,"g")}function da(h){let g="",_="";for(let y=0,A=h.length,b;y<A;y++)(b=h[y])!==_&&(g+=_=b);return g}function ea(h){return F.call(this,(""+h).toLowerCase(),!1)}let k={},w={};function ia(h){L(h,"add"),L(h,"append"),L(h,"search"),L(h,"update"),L(h,"remove")}function L(h,g){h[g+"Async"]=function(){let h;let _=this,y=arguments;var A=y[y.length-1];return E(A)&&(h=A,delete y[y.length-1]),A=new Promise(function(h){setTimeout(function(){_.async=!0;let A=_[g].apply(_,y);_.async=!1,h(A)})}),h?(A.then(h),this):A}}function ja(h,g,_,y){let A=h.length,b=[],k,w,R=0;y&&(y=[]);for(let B=A-1;0<=B;B--){let H=h[B],z=H.length,$=x(),j=!k;for(let h=0;h<z;h++){let z=H[h],q=z.length;if(q)for(let h=0,H,W;h<q;h++)if(W=z[h],k){if(k[W]){if(!B){if(_)_--;else if(b[R++]=W,R===g)return b}(B||y)&&($[W]=1),j=!0}if(y&&(H=(w[W]||0)+1,w[W]=H,H<A)){let h=y[H-2]||(y[H-2]=[]);h[h.length]=W}}else $[W]=1}if(y)k||(w=$);else if(!j)return[];k=$}if(y)for(let h=y.length-1,A,w;0<=h;h--){w=(A=y[h]).length;for(let h=0,y;h<w;h++)if(!k[y=A[h]]){if(_)_--;else if(b[R++]=y,R===g)return b;k[y]=1}}return b}function M(h){this.l=!0!==h&&h,this.cache=x(),this.h=[]}function la(h,g,_){D(h)&&(h=h.query);let y=this.cache.get(h);return y||(y=this.search(h,g,_),this.cache.set(h,y)),y}M.prototype.set=function(h,g){if(!this.cache[h]){var _=this.h.length;for(_===this.l?delete this.cache[this.h[_-1]]:_++,--_;0<_;_--)this.h[_]=this.h[_-1];this.h[0]=h}this.cache[h]=g},M.prototype.get=function(h){let g=this.cache[h];if(this.l&&g&&(h=this.h.indexOf(h))){let g=this.h[h-1];this.h[h-1]=this.h[h],this.h[h]=g}return g};let R={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function oa(h,g,_,y,A,b,k,w){setTimeout(function(){let R=h(_?_+"."+y:y,JSON.stringify(k));R&&R.then?R.then(function(){g.export(h,g,_,A,b+1,w)}):g.export(h,g,_,A,b+1,w)})}function N(h,g){if(!(this instanceof N))return new N(h);if(h){C(h)?h=R[h]:(_=h.preset)&&(h=Object.assign({},_[_],h)),_=h.charset;var _,y=h.lang;C(_)&&(-1===_.indexOf(":")&&(_+=":default"),_=w[_]),C(y)&&(y=k[y])}else h={};let A,b,B=h.context||{};if(this.encode=h.encode||_&&_.encode||ea,this.register=g||x(),this.D=A=h.resolution||9,this.G=g=_&&_.G||h.tokenize||"strict",this.depth="strict"===g&&B.depth,this.l=u(B.bidirectional),this.s=b=u(h.optimize),this.m=u(h.fastupdate),this.B=h.minlength||1,this.C=h.boost,this.map=b?v(A):x(),this.A=A=B.resolution||1,this.h=b?v(A):x(),this.F=_&&_.F||h.rtl,this.H=(g=h.matcher||y&&y.H)&&I(g,!1),this.J=(g=h.stemmer||y&&y.J)&&I(g,!0),_=g=h.filter||y&&y.filter){_=g,y=x();for(let h=0,g=_.length;h<g;h++)y[_[h]]=1;_=y}this.filter=_,this.cache=(g=h.cache)&&new M(g)}function O(h,g,_,y,A){return _&&1<h?g+(y||0)<=h?_+(A||0):(h-1)/(g+(y||0))*(_+(A||0))+1|0:0}function P(h,g,_,y,A,b,k){let w=k?h.h:h.map;(!g[_]||k&&!g[_][k])&&(h.s&&(w=w[y]),k?((g=g[_]||(g[_]=x()))[k]=1,w=w[k]||(w[k]=x())):g[_]=1,w=w[_]||(w[_]=[]),h.s||(w=w[y]||(w[y]=[])),b&&w.includes(A)||(w[w.length]=A,h.m&&((h=h.register[A]||(h.register[A]=[]))[h.length]=w)))}function pa(h,g,_,y,A,b,k,w){let R=[],B=w?h.h:h.map;if(h.s||(B=ra(B,k,w,h.l)),B){let _=0,H=Math.min(B.length,w?h.A:h.D);for(let g=0,z=0,$,j;g<H&&(!($=B[g])||(h.s&&($=ra($,k,w,h.l)),A&&$&&b&&((j=$.length)<=A?(A-=j,$=null):($=$.slice(A),A=0)),!$||(R[_++]=$,!b||!((z+=$.length)>=y))));g++);if(_)return b?qa(R,y,0):void(g[g.length]=R)}return!_&&R}function qa(h,g,_){return h=1===h.length?h[0]:[].concat.apply([],h),_||h.length>g?h.slice(_,_+g):h}function ra(h,g,_,y){return h=_?(h=h[(y=y&&g>_)?g:_])&&h[y?_:g]:h[g]}function Q(h,g,_,y,A){let b=0;if(h.constructor===Array){if(A)-1!==(g=h.indexOf(g))?1<h.length&&(h.splice(g,1),b++):b++;else{A=Math.min(h.length,_);for(let k=0,w;k<A;k++)(w=h[k])&&(b=Q(w,g,_,y,A),y||b||delete h[k])}}else for(let k in h)(b=Q(h[k],g,_,y,A))||delete h[k];return b}function sa(h){h=h.data;var g=self._index;let _=h.args;var y=h.task;"init"===y?(y=h.options||{},h=h.factory,g=y.encode,y.cache=!1,g&&0===g.indexOf("function")&&(y.encode=Function("return "+g)()),h?(Function("return "+h)()(self),self._index=new self.FlexSearch.Index(y),delete self.FlexSearch):self._index=new N(y)):(h=h.id,g=g[y].apply(g,_),postMessage("search"===y?{id:h,msg:g}:{id:h}))}(y=N.prototype).append=function(h,g){return this.add(h,g,!0)},y.add=function(h,g,_,y){if(g&&(h||0===h)){if(!y&&!_&&this.register[h])return this.update(h,g);if(y=(g=this.encode(g)).length){let B=x(),H=x(),z=this.depth,$=this.D;for(let j=0;j<y;j++){let q=g[this.F?y-1-j:j];var A=q.length;if(q&&A>=this.B&&(z||!H[q])){var b=O($,y,j),k="";switch(this.G){case"full":if(2<A){for(b=0;b<A;b++)for(var w=A;w>b;w--)if(w-b>=this.B){var R=O($,y,j,A,b);P(this,H,k=q.substring(b,w),R,h,_)}break}case"reverse":if(1<A){for(w=A-1;0<w;w--)(k=q[w]+k).length>=this.B&&P(this,H,k,O($,y,j,A,w),h,_);k=""}case"forward":if(1<A){for(w=0;w<A;w++)(k+=q[w]).length>=this.B&&P(this,H,k,b,h,_);break}default:if(this.C&&(b=Math.min(b/this.C(g,q,j)|0,$-1)),P(this,H,q,b,h,_),z&&1<y&&j<y-1){for(A=x(),k=this.A,b=q,w=Math.min(z+1,y-j),A[b]=1,R=1;R<w;R++)if((q=g[this.F?y-1-j-R:j+R])&&q.length>=this.B&&!A[q]){A[q]=1;let g=this.l&&q>b;P(this,B,g?b:q,O(k+(y/2>k?0:1),y,j,w-1,R-1),h,_,g?q:b)}}}}}this.m||(this.register[h]=1)}}return this},y.search=function(h,g,_){let y,A,b;_||(!g&&D(h)?h=(_=h).query:D(g)&&(_=g));let k=[],w,R,B=0;if(_){h=_.query||h,g=_.limit,B=_.offset||0;var H=_.context;R=_.suggest}if(h&&1<(w=(h=this.encode(""+h)).length)){_=x();var z=[];for(let g=0,y=0,A;g<w;g++)if((A=h[g])&&A.length>=this.B&&!_[A]){if(!this.s&&!R&&!this.map[A])return k;z[y++]=A,_[A]=1}w=(h=z).length}if(!w)return k;for(g||(g=100),H=this.depth&&1<w&&!1!==H,_=0,H?(y=h[0],_=1):1<w&&h.sort(aa);_<w;_++){if(b=h[_],H?(A=pa(this,k,R,g,B,2===w,b,y),R&&!1===A&&k.length||(y=b)):A=pa(this,k,R,g,B,1===w,b),A)return A;if(R&&_===w-1){if(!(z=k.length)){if(H){H=0,_=-1;continue}return k}if(1===z)return qa(k[0],g,B)}}return ja(k,g,B,R)},y.contain=function(h){return!!this.register[h]},y.update=function(h,g){return this.remove(h).add(h,g)},y.remove=function(h,g){let _=this.register[h];if(_){if(this.m)for(let g=0,y;g<_.length;g++)(y=_[g]).splice(y.indexOf(h),1);else Q(this.map,h,this.D,this.s),this.depth&&Q(this.h,h,this.A,this.s);if(g||delete this.register[h],this.cache){g=this.cache;for(let _=0,y;_<g.h.length;_++)y=g.h[_],g.cache[y].includes(h)&&(g.h.splice(_--,1),delete g.cache[y])}}return this},y.searchCache=la,y.export=function(h,g,_,y,A,b){let k,w,R=!0;switch(void 0===b&&(R=new Promise(h=>{b=h})),A||(A=0)){case 0:if(k="reg",this.m)for(let h in w=x(),this.register)w[h]=1;else w=this.register;break;case 1:k="cfg",w={doc:0,opt:this.s?1:0};break;case 2:k="map",w=this.map;break;case 3:k="ctx",w=this.h;break;default:void 0===_&&b&&b();return}return oa(h,g||this,_,k,y,A,w,b),R},y.import=function(h,g){if(g)switch(C(g)&&(g=JSON.parse(g)),h){case"cfg":this.s=!!g.opt;break;case"reg":this.m=!1,this.register=g;break;case"map":this.map=g;break;case"ctx":this.h=g}},ia(N.prototype);let B=0;function S(h){var g;if(!(this instanceof S))return new S(h);h?E(g=h.encode)&&(h.encode=g.toString()):h={},(g=(self||window)._factory)&&(g=g.toString());let y="undefined"==typeof window&&self.exports,A=this;this.o=function(h,g,y){let A;try{A=g?new(_(5789)).Worker("//node/node.js"):h?new Worker(URL.createObjectURL(new Blob(["onmessage="+sa.toString()],{type:"text/javascript"}))):new Worker(C(y)?y:"worker/worker.js",{type:"module"})}catch(h){}return A}(g,y,h.worker),this.h=x(),this.o&&(y?this.o.on("message",function(h){A.h[h.id](h.msg),delete A.h[h.id]}):this.o.onmessage=function(h){h=h.data,A.h[h.id](h.msg),delete A.h[h.id]},this.o.postMessage({task:"init",factory:g,options:h}))}function T(h){S.prototype[h]=S.prototype[h+"Async"]=function(){let g;let _=this,y=[].slice.call(arguments);var A=y[y.length-1];return E(A)&&(g=A,y.splice(y.length-1,1)),A=new Promise(function(g){setTimeout(function(){_.h[++B]=g,_.o.postMessage({task:h,id:B,args:y})})}),g?(A.then(g),this):A}}function U(h){if(!(this instanceof U))return new U(h);var g,_=h.document||h.doc||h;this.K=[],this.h=[],this.A=[],this.register=x(),this.key=(g=_.key||_.id)&&V(g,this.A)||"id",this.m=u(h.fastupdate),this.C=(g=_.store)&&!0!==g&&[],this.store=g&&x(),this.I=(g=_.tag)&&V(g,this.A),this.l=g&&x(),this.cache=(g=h.cache)&&new M(g),h.cache=!1,this.o=h.worker,this.async=!1,g=x();let y=_.index||_.field||_;C(y)&&(y=[y]);for(let _=0,A,b;_<y.length;_++)C(A=y[_])||(b=A,A=A.field),b=D(b)?Object.assign({},h,b):h,this.o&&(g[A]=new S(b),g[A].o||(this.o=!1)),this.o||(g[A]=new N(b,this.register)),this.K[_]=V(A,this.A),this.h[_]=A;if(this.C)for(C(h=_.store)&&(h=[h]),_=0;_<h.length;_++)this.C[_]=V(h[_],this.A);this.index=g}function V(h,g){let _=h.split(":"),y=0;for(let A=0;A<_.length;A++)0<=(h=_[A]).indexOf("[]")&&(h=h.substring(0,h.length-2))&&(g[y]=!0),h&&(_[y++]=h);return y<_.length&&(_.length=y),1<y?_:_[0]}function X(h,g){if(C(g))h=h[g];else for(let _=0;h&&_<g.length;_++)h=h[g[_]];return h}function va(h,g,_,y){let A=this.l[h],b=A&&A.length-_;if(b&&0<b)return(b>g||_)&&(A=A.slice(_,_+g)),y&&(A=wa.call(this,A)),{tag:h,result:A}}function wa(h){let g=Array(h.length);for(let _=0,y;_<h.length;_++)y=h[_],g[_]={id:y,doc:this.store[y]};return g}T("add"),T("append"),T("search"),T("update"),T("remove"),(y=U.prototype).add=function(h,g,_){if(D(h)&&(h=X(g=h,this.key)),g&&(h||0===h)){if(!_&&this.register[h])return this.update(h,g);for(let y=0,A,b;y<this.h.length;y++)b=this.h[y],C(A=this.K[y])&&(A=[A]),function Z(h,g,_,y,A,b,k,w){if(h=h[k]){if(y===g.length-1){if(h.constructor===Array){if(_[y]){for(g=0;g<h.length;g++)A.add(b,h[g],!0,!0);return}h=h.join(" ")}A.add(b,h,w,!0)}else if(h.constructor===Array)for(k=0;k<h.length;k++)Z(h,g,_,y,A,b,k,w);else k=g[++y],Z(h,g,_,y,A,b,k,w)}}(g,A,this.A,0,this.index[b],h,A[0],_);if(this.I){let y=X(g,this.I),A=x();C(y)&&(y=[y]);for(let g=0,b,k;g<y.length;g++)if(!A[b=y[g]]&&(A[b]=1,k=this.l[b]||(this.l[b]=[]),!_||!k.includes(h))&&(k[k.length]=h,this.m)){let g=this.register[h]||(this.register[h]=[]);g[g.length]=k}}if(this.store&&(!_||!this.store[h])){let _;if(this.C){_=x();for(let h=0,y;h<this.C.length;h++)C(y=this.C[h])?_[y]=g[y]:function Y(h,g,_,y,A){if(h=h[A],y===_.length-1)g[A]=h;else if(h){if(h.constructor===Array)for(g=g[A]=Array(h.length),A=0;A<h.length;A++)Y(h,g,_,y,A);else g=g[A]||(g[A]=x()),A=_[++y],Y(h,g,_,y,A)}}(g,_,y,0,y[0])}this.store[h]=_||g}}return this},y.append=function(h,g){return this.add(h,g,!0)},y.update=function(h,g){return this.remove(h).add(h,g)},y.remove=function(h){if(D(h)&&(h=X(h,this.key)),this.register[h]){for(var g=0;g<this.h.length&&(this.index[this.h[g]].remove(h,!this.o),!this.m);g++);if(this.I&&!this.m)for(let _ in this.l){g=this.l[_];let y=g.indexOf(h);-1!==y&&(1<g.length?g.splice(y,1):delete this.l[_])}this.store&&delete this.store[h],delete this.register[h]}return this},y.search=function(h,g,_,y){_||(!g&&D(h)?(_=h,h=""):D(g)&&(_=g,g=0));let A=[],b=[],k,w,R,B,H,z,$=0;if(_){if(_.constructor===Array)R=_,_=null;else{if(h=_.query||h,R=(k=_.pluck)||_.index||_.field,B=_.tag,w=this.store&&_.enrich,H="and"===_.bool,g=_.limit||g||100,z=_.offset||0,B&&(C(B)&&(B=[B]),!h)){for(let h=0,_;h<B.length;h++)(_=va.call(this,B[h],g,z,w))&&(A[A.length]=_,$++);return $?A:[]}C(R)&&(R=[R])}}R||(R=this.h),H=H&&(1<R.length||B&&1<B.length);let j=!y&&(this.o||this.async)&&[];for(let k=0,q,W,K;k<R.length;k++){let ee;if(C(W=R[k])||(W=(ee=W).field,h=ee.query||h,g=ee.limit||g,w=ee.enrich||w),j)j[k]=this.index[W].searchAsync(h,g,ee||_);else{if(K=(q=y?y[k]:this.index[W].search(h,g,ee||_))&&q.length,B&&K){let h=[],_=0;H&&(h[0]=[q]);for(let g=0,y,A;g<B.length;g++)y=B[g],(K=(A=this.l[y])&&A.length)&&(_++,h[h.length]=H?[A]:A);_&&(K=(q=H?ja(h,g||100,z||0):function(h,g){let _=x(),y=x(),A=[];for(let g=0;g<h.length;g++)_[h[g]]=1;for(let h=0,b;h<g.length;h++){b=g[h];for(let h=0,g;h<b.length;h++)_[g=b[h]]&&!y[g]&&(y[g]=1,A[A.length]=g)}return A}(q,h)).length)}if(K)b[$]=W,A[$++]=q;else if(H)return[]}}if(j){let y=this;return new Promise(function(A){Promise.all(j).then(function(b){A(y.search(h,g,_,b))})})}if(!$)return[];if(k&&(!w||!this.store))return A[0];for(let h=0,g;h<b.length;h++){if((g=A[h]).length&&w&&(g=wa.call(this,g)),k)return g;A[h]={field:b[h],result:g}}return A},y.contain=function(h){return!!this.register[h]},y.get=function(h){return this.store[h]},y.set=function(h,g){return this.store[h]=g,this},y.searchCache=la,y.export=function(h,g,_,y,A,b){let k;if(void 0===b&&(k=new Promise(h=>{b=h})),A||(A=0),y||(y=0),y<this.h.length){let _=this.h[y],k=this.index[_];g=this,setTimeout(function(){k.export(h,g,A?_:"",y,A++,b)||(y++,A=1,g.export(h,g,_,y,A,b))})}else{let g,k;switch(A){case 1:g="tag",k=this.l,_=null;break;case 2:g="store",k=this.store,_=null;break;default:b();return}oa(h,this,_,g,y,A,k,b)}return k},y.import=function(h,g){if(g)switch(C(g)&&(g=JSON.parse(g)),h){case"tag":this.l=g;break;case"reg":this.m=!1,this.register=g;for(let h=0,_;h<this.h.length;h++)(_=this.index[this.h[h]]).register=g,_.m=!1;break;case"store":this.store=g;break;default:h=h.split(".");let _=h[0];h=h[1],_&&h&&this.index[_].import(h,g)}},ia(U.prototype);let H=[J("[\xe0\xe1\xe2\xe3\xe4\xe5]"),"a",J("[\xe8\xe9\xea\xeb]"),"e",J("[\xec\xed\xee\xef]"),"i",J("[\xf2\xf3\xf4\xf5\xf6ő]"),"o",J("[\xf9\xfa\xfb\xfcű]"),"u",J("[\xfdŷ\xff]"),"y",J("\xf1"),"n",J("[\xe7c]"),"k",J("\xdf"),"s",J(" & ")," and "];function xa(h){var g=h=""+h;return g.normalize&&(g=g.normalize("NFD").replace(b,"")),F.call(this,g.toLowerCase(),!h.normalize&&H)}let z=/[^a-z0-9]+/,$={b:"p",v:"f",w:"f",z:"s",x:"s",ß:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Aa(h){h=xa.call(this,h).join(" ");let g=[];if(h){let _=h.split(z),y=_.length;for(let A=0,b,k=0;A<y;A++)if((h=_[A])&&(!this.filter||!this.filter[h])){let _=$[b=h[0]]||b,y=_;for(let g=1;g<h.length;g++){b=h[g];let A=$[b]||b;A&&A!==y&&(_+=A,y=A)}g[k++]=_}}return g}let j=[J("ae"),"a",J("oe"),"o",J("sh"),"s",J("th"),"t",J("ph"),"f",J("pf"),"f",J("(?![aeo])h(?![aeo])"),"",J("(?!^[aeo])h(?!^[aeo])"),""];function Ea(h,g){return h&&(2<(h=Aa.call(this,h).join(" ")).length&&(h=G(h,j)),g||(1<h.length&&(h=da(h)),h&&(h=h.split(" ")))),h||[]}let q=J("(?!\\b)[aeo]");w["latin:default"]={encode:ea,F:!1,G:""},w["latin:simple"]={encode:xa,F:!1,G:""},w["latin:balance"]={encode:Aa,F:!1,G:"strict"},w["latin:advanced"]={encode:Ea,F:!1,G:""},w["latin:extra"]={encode:function(h){return h&&(1<(h=Ea.call(this,h,!0)).length&&(h=h.replace(q,"")),1<h.length&&(h=da(h)),h&&(h=h.split(" "))),h||[]},F:!1,G:""},g.Z={Index:N,Document:U,Worker:S,registerCharset:function(h,g){w[h]=g},registerLanguage:function(h,g){k[h]=g}}},9821:function(h,g,_){let y=_(4579).parse,A=_(7799).compile,b=_(7094).segment,k=_(1105);h.exports={parse:y,compile:A,segment:b,hls:k}},7799:function(h){function CompilerError(h,g){this.message=h,this.error=g}function convertTimestamp(h){let g=pad(Math.floor(h/60/60),2),_=pad(Math.floor(h/60)%60,2),y=pad(Math.floor(h%60),2),A=pad(Math.floor(1e3*(h%1).toFixed(4)),3);return`${g}:${_}:${y}.${A}`}function pad(h,g){let _=`${h}`;for(;_.length<g;)_=`0${_}`;return _}CompilerError.prototype=Object.create(Error.prototype),h.exports={CompilerError,compile:function(h){if(!h)throw new CompilerError("Input must be non-null");if("object"!=typeof h)throw new CompilerError("Input must be an object");if(Array.isArray(h))throw new CompilerError("Input cannot be array");if(!h.valid)throw new CompilerError("Input must be valid");let g="WEBVTT\n";if(h.meta){if("object"!=typeof h.meta||Array.isArray(h.meta))throw new CompilerError("Metadata must be an object");Object.entries(h.meta).forEach(h=>{if("string"!=typeof h[1])throw new CompilerError(`Metadata value for "${h[0]}" must be string`);g+=`${h[0]}: ${h[1]}
`})}let _=null;return h.cues.forEach((h,y)=>{if(_&&_>h.start)throw new CompilerError(`Cue number ${y} is not in chronological order`);_=h.start,g+="\n"+function(h){if("object"!=typeof h)throw new CompilerError("Cue malformed: not of type object");if("string"!=typeof h.identifier&&"number"!=typeof h.identifier&&null!==h.identifier)throw new CompilerError(`Cue malformed: identifier value is not a string.
    ${JSON.stringify(h)}`);if(isNaN(h.start))throw new CompilerError(`Cue malformed: null start value.
    ${JSON.stringify(h)}`);if(isNaN(h.end))throw new CompilerError(`Cue malformed: null end value.
    ${JSON.stringify(h)}`);if(h.start>=h.end)throw new CompilerError(`Cue malformed: start timestamp greater than end
    ${JSON.stringify(h)}`);if("string"!=typeof h.text)throw new CompilerError(`Cue malformed: null text value.
    ${JSON.stringify(h)}`);if("string"!=typeof h.styles)throw new CompilerError(`Cue malformed: null styles value.
    ${JSON.stringify(h)}`);let g="";h.identifier.length>0&&(g+=`${h.identifier}
`);let _=convertTimestamp(h.start),y=convertTimestamp(h.end);return g+(`${_} --> ${y}`+(h.styles?` ${h.styles}`:""))+`
${h.text}`}(h)+"\n"}),g}}},1105:function(h,g,_){let y=_(7094).segment;function pad(h,g){let _="0".repeat(Math.max(0,g-h.toString().length));return`${_}${h}`}function printableTimestamp(h){let g=(h%1).toFixed(3);h=Math.round(h-g);let _=Math.floor(h/3600),y=Math.floor((h-3600*_)/60),A=h-3600*_-60*y,b=`${pad(_,2)}:`;return`${b}${pad(y,2)}:${pad(A,2)}.${pad(1e3*g,3)}`}h.exports={hlsSegment:function(h,g,_){void 0===_&&(_="900000");let A=y(h,g),b=[];return A.forEach((h,g)=>{let y=`WEBVTT
X-TIMESTAMP-MAP=MPEGTS:${_},LOCAL:00:00:00.000

${function(h){let g=[];return h.forEach(h=>{g.push(function(h){let g=[];h.identifier&&g.push(h.identifier);let _=printableTimestamp(h.start),y=printableTimestamp(h.end),A=h.styles?`${h.styles}`:"";return g.push(`${_} --> ${y} ${A}`),g.push(h.text),g.join("\n")}(h))}),g.join("\n\n")}(h.cues)}
`,A=`${g}.vtt`;b.push({filename:A,content:y})}),b},hlsSegmentPlaylist:function(h,g){let _;let A=y(h,g),b=function(h){let g=[];return h.forEach((h,_)=>{g.push(`#EXTINF:${h.duration.toFixed(5)},
${_}.vtt`)}),g.join("\n")}(A),k=Math.round((_=0,A.forEach(h=>{h.duration>_&&(_=h.duration)}),_)),w=`#EXTM3U
#EXT-X-TARGETDURATION:${k}
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
${b}
#EXT-X-ENDLIST
`;return w}}},4579:function(h){function ParserError(h,g){this.message=h,this.error=g}ParserError.prototype=Object.create(Error.prototype);let g=/([0-9]+)?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;function parseTimestamp(h){let _=h.match(g);return 3600*parseFloat(_[1]||0)+(60*parseFloat(_[2])+parseFloat(_[3]))}h.exports={ParserError,parse:function(h,_){_||(_={});let{meta:y=!1,strict:A=!0}=_;if("string"!=typeof h)throw new ParserError("Input must be a string");h=(h=(h=h.trim()).replace(/\r\n/g,"\n")).replace(/\r/g,"\n");let b=h.split("\n\n"),k=b.shift();if(!k.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');let w=k.split("\n"),R=w[0].replace("WEBVTT","");if(R.length>0&&" "!==R[0]&&"	"!==R[0])throw new ParserError("Header comment must start with space or tab");if(0===b.length&&1===w.length)return{valid:!0,strict:A,cues:[],errors:[]};if(!y&&w.length>1&&""!==w[1])throw new ParserError("Missing blank line after signature");let{cues:B,errors:H}=function(h,_){let y=[],A=h.map((h,A)=>{try{return function(h,_,y){var A,b;let k="",w=0,R=.01,B="",H="",z=h.split("\n").filter(Boolean);if(z.length>0&&z[0].trim().startsWith("NOTE"))return null;if(1===z.length&&!z[0].includes("-->"))throw new ParserError(`Cue identifier cannot be standalone (cue #${_})`);if(z.length>1&&!(z[0].includes("-->")||z[1].includes("-->"))){let h=`Cue identifier needs to be followed by timestamp (cue #${_})`;throw new ParserError(h)}z.length>1&&z[1].includes("-->")&&(k=z.shift());let $="string"==typeof z[0]&&z[0].split(" --> ");if(2!==$.length||(A=$[0],!g.test(A))||(b=$[1],!g.test(b)))throw new ParserError(`Invalid cue timestamp (cue #${_})`);if(w=parseTimestamp($[0]),R=parseTimestamp($[1]),y){if(w>R)throw new ParserError(`Start timestamp greater than end (cue #${_})`);if(R<=w)throw new ParserError(`End must be greater than start (cue #${_})`)}if(!y&&R<w)throw new ParserError(`End must be greater or equal to start when not strict (cue #${_})`);return H=$[1].replace(g,"").trim(),z.shift(),!!(B=z.join("\n"))&&{identifier:k,start:w,end:R,text:B,styles:H}}(h,A,_)}catch(h){return y.push(h),null}}).filter(Boolean);return{cues:A,errors:y}}(b,A);if(A&&H.length>0)throw H[0];let z=y?function(h){let g={};return h.slice(1).forEach(h=>{let _=h.indexOf(":"),y=h.slice(0,_).trim(),A=h.slice(_+1).trim();g[y]=A}),Object.keys(g).length>0?g:null}(w):null,$={valid:0===H.length,strict:A,cues:B,errors:H};return y&&($.meta=z),$}}},7094:function(h,g,_){let y=_(4579).parse;h.exports={segment:function(h,g){g=g||10;let _=y(h),A=[],b=[],k=null,w=0,R=0;return _.cues.forEach((h,y)=>{let B=0===y,H=y===_.cues.length-1,z=h.start,$=h.end,j=H?1/0:_.cues[y+1].start,q=B?$:$-z,W=B?0:z-_.cues[y-1].end;w=w+q+W,A.length,k&&(b.push(k),w+=k.end-R,k=null),b.push(h);let K=j-$<g&&W<g&&w>g;if(function(h,g,_,y){return(y<=g||y+(g-y%g)+h<_)&&_-h>=g}(R,g,j,W)){var ee,et,en,er;let h;let _=(ee=g,et=w,en=R,h=ee,et>ee&&(h=(er=et-ee)+(ee-er%ee)),h=H?parseFloat(($-en).toFixed(2)):Math.round(h));A.push({duration:_,cues:b}),R+=_,w=0,b=[]}else K=!1;K&&(k=h)}),A}}},3679:function(h,g,_){let y,A,b,k;_.r(g),_.d(g,{Helpers:function(){return dS},Image:function(){return Tr},Primitives:function(){return nM.default},Scroll:function(){return Fi},Slider:function(){return sX.default},Viewer:function(){return ul},default:function(){return dC}});var w,R,B,H,z,$,j,q,W,K,ee,et,en,er,ei,es,el,ec,eu,ed,eh,ep,ef,em,eg,eE,e_,eT,ev,ey,eA,eb,ek,eS,eC,ex,eI,ew,eO,eN,eR,eD,eL,eM,eP,eF,eB={};_.r(eB),_.d(eB,{boolean:function(){return nY},booleanish:function(){return nq},commaOrSpaceSeparated:function(){return nZ},commaSeparated:function(){return nJ},number:function(){return nX},overloadedBoolean:function(){return nW},spaceSeparated:function(){return nK}});var eU={};_.r(eU),_.d(eU,{attentionMarkers:function(){return aM},contentInitial:function(){return aw},disable:function(){return aP},document:function(){return aI},flow:function(){return aN},flowInitial:function(){return aO},insideSpan:function(){return aL},string:function(){return aR},text:function(){return aD}});var eH=_(9203),eG=_(4511),ez=_(6744),e$=_(7294),eV=_.t(e$,2),eQ="http://library.stanford.edu/iiif/image-api/compliance.html#level2",ej="http://library.stanford.edu/iiif/image-api/conformance.html#level2",eY="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",eq="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",eW="http://iiif.io/api/image/1/level2.json",eX="http://iiif.io/api/image/1/profiles/level2.json",eK="http://iiif.io/api/image/2/level2.json",eJ="http://iiif.io/api/image/2/profiles/level2.json",eZ="level2",e0="http://iiif.io/api/image/2/level2",e1=[e0,eQ,ej,eY,eq,eW,eX,eK,eJ,eZ],e2=([...e1],["http://iiif.io/api/image/2/level0","http://iiif.io/api/image/2/level1",e0,"http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/compliance.html#level1",eQ,"http://library.stanford.edu/iiif/image-api/conformance.html#level0","http://library.stanford.edu/iiif/image-api/conformance.html#level1",ej,"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",eY,"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",eq,"http://iiif.io/api/image/1/level0.json","http://iiif.io/api/image/1/profiles/level0.json","http://iiif.io/api/image/1/level1.json","http://iiif.io/api/image/1/profiles/level1.json",eW,eX,"http://iiif.io/api/image/2/level0.json","http://iiif.io/api/image/2/profiles/level0.json","http://iiif.io/api/image/2/level1.json","http://iiif.io/api/image/2/profiles/level1.json",eK,eJ,"level0","level1",eZ]);function chunk_NJNTZ6QT_r(h){for(let g in h)(typeof h[g]>"u"||null===h[g])&&delete h[g];return h}function chunk_NJNTZ6QT_i(h){return Array.isArray(h)?h:h?[h]:[]}var e3=Object.defineProperty,chunk_D22QKJZO_e=(h,g,_)=>g in h?e3(h,g,{enumerable:!0,configurable:!0,writable:!0,value:_}):h[g]=_,chunk_D22QKJZO_f=(h,g,_)=>(chunk_D22QKJZO_e(h,"symbol"!=typeof g?g+"":g,_),_),e4=["sc:Collection","sc:Manifest","sc:Canvas","sc:AnnotationList","oa:Annotation","sc:Range","sc:Layer","sc:Sequence","oa:Choice","Service","ContentResource"],e5=class t{constructor(h,g={}){chunk_D22QKJZO_f(this,"traversals"),chunk_D22QKJZO_f(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...h},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...g}}static all(h){return new t({collection:[h],manifest:[h],canvas:[h],annotationList:[h],sequence:[h],annotation:[h],contentResource:[h],choice:[h],range:[h],service:[h],layer:[h]})}traverseCollection(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(h))),this.traversals.collection)}traverseCollectionItems(h){if(this.options.mergeMemberProperties){let g=[...(h.manifests||[]).map(h=>"string"==typeof h?{"@id":h,"@type":"sc:Manifest"}:h),...(h.collections||[]).map(h=>"string"==typeof h?{"@id":h,"@type":"sc:Collection"}:h),...h.members||[]];delete h.collections,delete h.manifests,h.members=g}return h.manifests&&(h.manifests=h.manifests.map(h=>this.traverseManifest("string"==typeof h?{"@id":h,"@type":"sc:Manifest"}:h))),h.collections&&(h.collections=h.collections.map(h=>this.traverseCollection("string"==typeof h?{"@id":h,"@type":"sc:Collection"}:h))),h.members&&(h.members=h.members.map(h=>"string"==typeof h?h:this.traverseUnknown(h))),h}traverseManifest(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(h))),this.traversals.manifest)}traverseManifestItems(h){return h.sequences&&(h.sequences=h.sequences.map(h=>this.traverseSequence(h))),h.structures&&(h.structures=h.structures.map(h=>this.traverseRange(h))),h}traverseSequence(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(h))),this.traversals.sequence)}traverseSequenceItems(h){return h.canvases&&(h.canvases=h.canvases.map(h=>this.traverseCanvas(h))),h}traverseCanvas(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(h))),this.traversals.canvas)}traverseCanvasItems(h){return h.images&&(h.images=h.images.map(h=>this.traverseAnnotation(h))),h.otherContent&&(h.otherContent=h.otherContent.map(h=>this.traverseAnnotationList(h))),h}traverseRange(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(h))),this.traversals.range)}traverseRangeItems(h){if(this.options.mergeMemberProperties){let g=[...(h.ranges||[]).map(h=>"string"==typeof h?{"@id":h,"@type":"sc:Range"}:h),...(h.canvases||[]).map(h=>"string"==typeof h?{"@id":h,"@type":"sc:Canvas"}:h),...h.members||[]];delete h.ranges,delete h.canvases,h.members=g.length?g.map(h=>this.traverseUnknown(h)):void 0}return h}traverseAnnotationList(h){let g="string"==typeof h?{"@id":h,"@type":"sc:AnnotationList"}:h;return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems(g)),this.traversals.annotationList)}traverseAnnotationListItems(h){return h.resources&&(h.resources=h.resources.map(h=>this.traverseAnnotation(h))),h}traverseAnnotation(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(h))),this.traversals.annotation)}traverseAnnotationItems(h){return h.resource&&(Array.isArray(h.resource)?h.resource=h.resource.map(h=>this.traverseContentResource(h)):h.resource=this.traverseContentResource(h.resource)),h.on,h}traverseLayer(h){return this.traverseType(this.traverseLinking(this.traverseLayerItems(h)),this.traversals.layer)}traverseLayerItems(h){return h.otherContent&&(h.otherContent=h.otherContent.map(h=>this.traverseAnnotationList(h))),h}traverseChoice(h){return this.traverseType(this.traverseChoiceItems(h),this.traversals.choice)}traverseChoiceItems(h){return h.default&&"rdf:nil"!==h.default&&(h.default=this.traverseContentResource(h.default)),h.item&&"rdf:nil"!==h.item&&(h.item=h.item.map(h=>this.traverseContentResource(h))),h}traverseService(h){return this.traverseType(this.traverseLinking(h),this.traversals.service)}traverseContentResource(h){return"oa:Choice"===h["@type"]?this.traverseChoice(h):this.traverseType(this.traverseDescriptive(this.traverseLinking(h)),this.traversals.contentResource)}traverseUnknown(h){if(!h["@type"]||"string"==typeof h)return h;switch(function(h){if(typeof h>"u"||null===h)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(h))throw Error("Array is not a valid entity");if("object"!=typeof h)throw Error(`${typeof h} is not a valid entity`);if("string"==typeof h["@type"]){let g=e4.indexOf(h["@type"]);if(-1!==g)return e4[g]}if(h.profile)return"Service";if(h.format||h["@type"])return"ContentResource";throw Error("Resource type is not known")}(h)){case"sc:Collection":return this.traverseCollection(h);case"sc:Manifest":return this.traverseManifest(h);case"sc:Canvas":return this.traverseCanvas(h);case"sc:Sequence":return this.traverseSequence(h);case"sc:Range":return this.traverseRange(h);case"oa:Annotation":return this.traverseAnnotation(h);case"sc:AnnotationList":return this.traverseAnnotationList(h);case"sc:Layer":return this.traverseLayer(h);case"Service":return this.traverseService(h);case"oa:Choice":return this.traverseChoice(h);case"ContentResource":return this.traverseContentResource(h)}return h.profile?this.traverseService(h):h}traverseImageResource(h){let g=Array.isArray(h),_=Array.isArray(h)?h:[h],y=[];for(let h of _)"string"==typeof h?y.push(this.traverseContentResource({"@id":h,"@type":"dctypes:Image"})):y.push(this.traverseContentResource(h));return g||this.options.convertPropsToArray?y:y[0]}traverseDescriptive(h){return h.thumbnail&&(h.thumbnail=this.traverseImageResource(h.thumbnail)),h.logo&&(h.logo=this.traverseImageResource(h.logo)),h}traverseOneOrMoreServices(h){let g=Array.isArray(h),_=Array.isArray(h)?h:[h],y=[];for(let h of _)y.push(this.traverseService(h));return g||this.options.convertPropsToArray?y:y[0]}traverseLinking(h){return h.related&&(h.related=this.traverseOneOrManyType(h.related,this.traversals.contentResource)),h.rendering&&(h.rendering=this.traverseOneOrManyType(h.rendering,this.traversals.contentResource)),h.service&&(h.service=this.traverseOneOrMoreServices(h.service)),h.seeAlso&&(h.seeAlso=this.traverseOneOrManyType(h.seeAlso,this.traversals.contentResource)),h.within&&("string"==typeof h.within||(h.within=this.traverseOneOrManyType(h.within,this.traversals.contentResource))),h.startCanvas&&("string"==typeof h.startCanvas?h.startCanvas=this.traverseType({"@id":h.startCanvas,"@type":"sc:Canvas"},this.traversals.canvas):h.startCanvas&&this.traverseType(h.startCanvas,this.traversals.canvas)),h.contentLayer&&("string"==typeof h.contentLayer?h.contentLayer=this.traverseLayer({"@id":h.contentLayer,"@type":"sc:Layer"}):h.contentLayer=this.traverseLayer(h.contentLayer)),h}traverseOneOrManyType(h,g){if(!Array.isArray(h)){if(!this.options.convertPropsToArray)return this.traverseType(h,g);h=[h]}return h.map(h=>this.traverseType(h,g))}traverseType(h,g){return g.reduce((h,g)=>{let _=g(h);return typeof _>"u"&&!this.options.allowUndefinedReturn?h:_},h)}},e6=["http://iiif.io/api/image/2/level1","http://iiif.io/api/image/2/level2","http://library.stanford.edu/iiif/image-api/compliance.html#level1","http://library.stanford.edu/iiif/image-api/compliance.html#level2","http://library.stanford.edu/iiif/image-api/conformance.html#level1","http://library.stanford.edu/iiif/image-api/conformance.html#level2","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2","http://iiif.io/api/image/1/level1.json","http://iiif.io/api/image/1/profiles/level1.json","http://iiif.io/api/image/1/level2.json","http://iiif.io/api/image/1/profiles/level2.json","http://iiif.io/api/image/2/level1.json","http://iiif.io/api/image/2/profiles/level1.json","http://iiif.io/api/image/2/level2.json","http://iiif.io/api/image/2/profiles/level2.json","level1","level2"],e8={attributionLabel:"Attribution",providerId:"http://example.org/provider",providerName:"Unknown"};function chunk_BMMVY4QT_h(h,g="none"){if(!h)return{none:[""]};let _=function(h){if("string"==typeof h)return[h];if(!h)return[];let g=Array.isArray(h)?h:[h],_=[];for(let h of g){if("string"==typeof h){_.push(h);continue}_.push({"@language":h["@language"]||h.language,"@value":h["@value"]||h.value})}return _}(h),y={};for(let h of _){if("string"==typeof h){y[g]=y[g]?y[g]:[],y[g].push(h||"");continue}if(!h["@language"]){y[g]=y[g]?y[g]:[],y[g].push(h["@value"]||"");continue}let _=h["@language"];y[_]=y[_]?y[_]:[],y[_].push(h["@value"]||"")}return 0===Object.keys(y).length?{none:[""]}:y}function chunk_BMMVY4QT_(h){for(let g of["sc","oa","dcterms","dctypes","iiif"])if(h.startsWith(`${g}:`))return h.slice(g.length+1);return h}var e9=["Collection","Manifest","Annotation","AnnotationPage","Range","Service"];function chunk_BMMVY4QT_g(h){let g=h["@id"]||h.id,_=h["@type"]||h.type,y=h.profile||void 0,A=h["@context"]||void 0;if(y){let h=function(h){switch(h){case"http://iiif.io/api/image/2/level0.json":case"http://iiif.io/api/image/2/level1.json":case"http://iiif.io/api/image/2/level2.json":return"ImageService2";case"http://iiif.io/api/auth/1/kiosk":case"http://iiif.io/api/auth/1/login":case"http://iiif.io/api/auth/1/clickthrough":case"http://iiif.io/api/auth/1/external":case"http://iiif.io/api/auth/0/kiosk":case"http://iiif.io/api/auth/0/login":case"http://iiif.io/api/auth/0/clickthrough":case"http://iiif.io/api/auth/0/external":return"AuthCookieService1";case"http://iiif.io/api/auth/1/token":case"http://iiif.io/api/auth/0/token":return"AuthTokenService1";case"http://iiif.io/api/auth/1/logout":case"http://iiif.io/api/auth/0/logout":return"AuthLogoutService1";case"http://iiif.io/api/search/1/search":case"http://iiif.io/api/search/0/search":return"SearchService1";case"http://iiif.io/api/search/1/autocomplete":case"http://iiif.io/api/search/0/autocomplete":return"AutoCompleteService1"}}(y);if(h)return h}if(A){let h=function(h){for(let g of Array.isArray(h)?h:[h])switch(g){case"http://iiif.io/api/image/2/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2":return"ImageService2";case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":return"ImageService1";case"http://iiif.io/api/annex/openannotation/context.json":return"ImageApiSelector"}}(A);if(h)return h}if(_){if(Array.isArray(_)){if(-1!==_.indexOf("oa:CssStylesheet"))return"CssStylesheet";if(-1!==_.indexOf("cnt:ContentAsText"))return"TextualBody";_=_[0]}for(let h of["sc","oa","dcterms","dctypes","iiif"])if(_.startsWith(`${h}:`)){_=_.slice(h.length+1);break}switch(_){case"Layer":return"AnnotationCollection";case"AnnotationList":return"AnnotationPage";case"cnt:ContentAsText":return"TextualBody"}}if(_&&-1!==e9.indexOf(_))return _;if(h.format){if(h.format.startsWith("image/"))return"Image";if(h.format.startsWith("text/")||"application/pdf"===h.format)return"Text";if(h.format.startsWith("application/"))return"Dataset"}return g&&(g.endsWith(".jpg")||g.endsWith(".png")||g.endsWith(".jpeg"))?"Image":_||"unknown"}var e7=/http(s)?:\/\/(creativecommons.org|rightsstatements.org)[^"'\\<\n]+/gm,te=["http://iiif.io/api/presentation/2/context.json","http://iiif.io/api/image/2/context.json","http://iiif.io/api/image/1/context.json","http://library.stanford.edu/iiif/image-api/1.1/context.json","http://iiif.io/api/search/1/context.json","http://iiif.io/api/search/0/context.json","http://iiif.io/api/auth/1/context.json","http://iiif.io/api/auth/0/context.json","http://iiif.io/api/annex/openannotation/context.json"],tt=0;function chunk_BMMVY4QT_x(h,g){let _=encodeURI(h.id||h["@id"]||"").trim();return _&&g?`${_}/${g}`:_||(tt++,`http://example.org/${h["@type"]}${g?`/${g}`:""}/${tt}`)}function chunk_BMMVY4QT_p(h){let g,_=[...h.behavior||[]];return h.viewingHint&&_.push(h.viewingHint),Array.isArray(h.motivation)?g=h.motivation.map(chunk_BMMVY4QT_):h.motivation&&(g=chunk_BMMVY4QT_(h.motivation)),{"@context":h["@context"]?function(h){if(h){let g=Array.isArray(h)?h:[h],_=[];for(let h of g)"http://iiif.io/api/presentation/2/context.json"===h&&_.push("http://iiif.io/api/presentation/3/context.json"),-1===te.indexOf(h)&&_.push(h);if(g.length)return 1===_.length?_[0]:_}}(h["@context"]):void 0,id:(h["@id"]||chunk_BMMVY4QT_x(h)).trim(),type:chunk_BMMVY4QT_g(h),behavior:_.length?_:void 0,height:h.height?h.height:void 0,width:h.width?h.width:void 0,motivation:g,viewingDirection:h.viewingDirection,profile:h.profile,format:h.format?h.format:void 0,duration:void 0,timeMode:void 0}}function chunk_BMMVY4QT_f(h){var g,_;let[y,A]=function(h,g="Rights/License",_="none"){let y=null,A=[];for(let b of Array.isArray(h)?h:[h]){let h=b?function(h){let g=h.match(e7);return g?g[0]:h}(b):void 0;if(h&&(-1!==h.indexOf("creativecommons.org")||-1!==h.indexOf("rightsstatements.org"))){y=h.startsWith("https://")?`http://${h.slice(8)}`:h;continue}h&&A.push({label:{[_]:[g]},value:{[_]:[h]}})}return[y,A]}(h.license),b=[...h.metadata&&(g=h.metadata)?g.map(h=>({label:chunk_BMMVY4QT_h(h.label),value:chunk_BMMVY4QT_h(h.value)})):[],...A];return{rights:y,metadata:b.length?b:void 0,label:h.label?chunk_BMMVY4QT_h(h.label):void 0,requiredStatement:h.attribution?{label:chunk_BMMVY4QT_h(e8.attributionLabel),value:chunk_BMMVY4QT_h(h.attribution)}:void 0,navDate:h.navDate,summary:h.description?chunk_BMMVY4QT_h(h.description):void 0,thumbnail:(_=h.thumbnail)&&(Array.isArray(_)?_:[_]).map(h=>"string"==typeof h?{id:h,type:"Image"}:("unknown"===h.type&&(h.type="Image"),h))}}function chunk_BMMVY4QT_l(h){let g=h.related?Array.isArray(h.related)?h.related:[h.related]:[],_=h.contentLayer;return{provider:h.logo||g.length?[{id:e8.providerId,type:"Agent",homepage:g.length?[g[0]]:void 0,logo:h.logo?Array.isArray(h.logo)?h.logo:[h.logo]:void 0,label:chunk_BMMVY4QT_h(e8.providerName)}]:void 0,partOf:function(h){if(!h.within)return;let g=Array.isArray(h.within)?h.within:[h.within],_=[];for(let y of g)"string"==typeof y?y&&"sc:Manifest"===h["@type"]&&_.push({id:y,type:"Collection"}):y["@id"]&&_.push({id:y["@id"],type:chunk_BMMVY4QT_g(y)});return _.length?_:void 0}(h),rendering:h.rendering,seeAlso:h.seeAlso,start:h.startCanvas,service:h.service?chunk_NJNTZ6QT_i(h.service):void 0,supplementary:_?[_]:void 0}}function T(h){return"Choice"===h.type?h:chunk_BMMVY4QT_E(h)}function chunk_BMMVY4QT_E(h){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(h),...chunk_BMMVY4QT_f(h),...chunk_BMMVY4QT_l(h),chars:h.chars,format:h.format?h.format:void 0,language:h.language})}var tn=new e5({collection:[function(h){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(h),...chunk_BMMVY4QT_f(h),...chunk_BMMVY4QT_l(h),items:h.members})}],manifest:[function(h){let g=[],_=[],y;for(let A of h.sequences||[])A.canvases.length&&g.push(...A.canvases),A.behavior&&_.push(...A.behavior),A.startCanvas&&(y=A.startCanvas);let A=chunk_BMMVY4QT_p(h);return _.length&&(A.behavior?A.behavior.push(..._):A.behavior=_),chunk_NJNTZ6QT_r({...A,...chunk_BMMVY4QT_f(h),...chunk_BMMVY4QT_l(h),start:y,items:g,structures:function(h){if(!h)return h;let g=new Map;for(let _ of h)g.set(_.id,_);let _=[];for(let y of h)if(y.items){let h=y.items.map(h=>"string"==typeof h?(_.push(h),g.get(h)||h):h&&h.id?(_.push(h.id),g.get(h.id)||h):h);y.items=h}return h.filter(h=>-1===_.indexOf(h.id))}(h.structures)})}],canvas:[function(h){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(h),...chunk_BMMVY4QT_f(h),...chunk_BMMVY4QT_l(h),annotations:h.otherContent&&h.otherContent.length?h.otherContent:void 0,items:h.images&&h.images.length?[{id:chunk_BMMVY4QT_x(h,"annotation-page"),type:"AnnotationPage",items:h.images}]:void 0})}],annotationList:[function(h){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(h),...chunk_BMMVY4QT_f(h),...chunk_BMMVY4QT_l(h),items:h.resources&&h.resources.length?h.resources:void 0})}],sequence:[function(h){return h.canvases&&0!==h.canvases.length?{canvases:h.canvases,behavior:h.viewingHint?[h.viewingHint]:[],startCanvas:h.startCanvas}:{canvases:[],behavior:[]}}],annotation:[function(h){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(h),...chunk_BMMVY4QT_f(h),...chunk_BMMVY4QT_l(h),target:function e(h){if(Array.isArray(h)){if(h.length>1)return{type:"List",items:h.map(e)};h=h[0]}if("string"==typeof h)return encodeURI(h).trim();if(!("@type"in h))return encodeURI(h["@id"]).trim();{let g;if("string"==typeof h.full)g=h.full;else if("dctypes:Image"===h.full["@type"])g={id:h.full["@id"],type:"Image"};else if("sc:Canvas"===h.full["@type"])g={id:h.full["@id"],type:"Canvas"};else throw Error(`Unsupported source type on annotation: ${h.full["@type"]}`);return{type:"SpecificResource",source:g,selector:function chunk_BMMVY4QT_y(h){if((Array.isArray(h["@type"])&&h["@type"].includes("oa:SvgSelector")||"oa:SvgSelector"==h["@type"])&&("chars"in h||"value"in h))return{type:"SvgSelector",value:"chars"in h?h.chars:h.value};if("oa:FragmentSelector"===h["@type"])return{type:"FragmentSelector",value:h.value};if("oa:Choice"===h["@type"])return[chunk_BMMVY4QT_y(h.default),...(Array.isArray(h.item)?h.item:[h.item]).map(chunk_BMMVY4QT_y)];if("iiif:ImageApiSelector"==h["@type"])return{type:"ImageApiSelector",region:"region"in h?h.region:void 0,rotation:"rotation"in h?h.rotation:void 0};throw Error(`Unsupported selector type: ${h["@type"]}`)}(h.selector)}}}(h.on),body:Array.isArray(h.resource)?h.resource.map(T):T(h.resource)})}],contentResource:[chunk_BMMVY4QT_E],choice:[function(h){let g=[];return h.default&&"rdf:nil"!==h.default&&g.push(h.default),h.item&&"rdf:nil"!==h.item&&g.push(...h.item),chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(h),...chunk_BMMVY4QT_f(h),items:g})}],range:[function(h){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(h),...chunk_BMMVY4QT_f(h),...chunk_BMMVY4QT_l(h),items:h.members})}],service:[function(h){let{"@id":g,"@type":_,"@context":y,profile:A,...b}=h,k={};return g&&(k["@id"]=g),k["@type"]=chunk_BMMVY4QT_g(h),"unknown"===k["@type"]&&(y&&y.length&&(k["@context"]=y),k["@type"]="Service"),A&&(k.profile=function chunk_BMMVY4QT_L(h){return Array.isArray(h)?chunk_BMMVY4QT_L(h.find(h=>"string"==typeof h)):-1!==e1.indexOf(h)?"level2":-1!==e6.indexOf(h)?"level1":-1!==e2.indexOf(h)?"level0":"string"==typeof h?h:void 0}(A)),chunk_NJNTZ6QT_r({...k,...b})}],layer:[function(h){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(h),...chunk_BMMVY4QT_f(h),...chunk_BMMVY4QT_l(h)})}]});function chunk_W3DWL6UZ_v(h){return"string"!=typeof h&&(h&&!h.type&&"source"in h?(h.type="SpecificResource",!0):!!h&&"SpecificResource"===h.type)}function chunk_W3DWL6UZ_o(...h){return g=>h.reduce((h,g)=>g(h),g)}var tr=["Collection","Manifest","Canvas","AnnotationPage","AnnotationCollection","Annotation","ContentResource","Range","Service","Selector","Agent"],ta=class a{constructor(h,g={}){chunk_D22QKJZO_f(this,"traversals"),chunk_D22QKJZO_f(this,"options"),chunk_D22QKJZO_f(this,"_traverseManifest",chunk_W3DWL6UZ_o(this.traverseManifestItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this),this.traverseManifestStructures.bind(this),this.traverseInlineAnnotationPages.bind(this))),chunk_D22QKJZO_f(this,"_traverseCanvas",chunk_W3DWL6UZ_o(this.traverseCanvasItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this),this.traverseInlineAnnotationPages.bind(this))),chunk_D22QKJZO_f(this,"_traverseAnnotationPage",chunk_W3DWL6UZ_o(this.traverseAnnotationPageItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this))),chunk_D22QKJZO_f(this,"_traverseRange",chunk_W3DWL6UZ_o(this.traverseRangeRanges.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this))),this.traversals={collection:[],manifest:[],canvas:[],annotationCollection:[],annotationPage:[],annotation:[],contentResource:[],choice:[],range:[],service:[],agent:[],specificResource:[],geoJson:[],...h},this.options={allowUndefinedReturn:!1,...g}}static all(h){return new a({collection:[h],manifest:[h],canvas:[h],annotationCollection:[h],annotationPage:[h],annotation:[h],contentResource:[h],choice:[h],range:[h],service:[h],geoJson:[h],specificResource:[h],agent:[h]})}traverseDescriptive(h){return h.thumbnail&&(h.thumbnail=chunk_NJNTZ6QT_i(h.thumbnail).map(g=>this.traverseType(g,{parent:h},this.traversals.contentResource))),h.provider&&(h.provider=h.provider.map(g=>this.traverseAgent(g,h))),h}traverseLinking(h){return h.seeAlso&&(h.seeAlso=h.seeAlso.map(g=>this.traverseType(g,{parent:h},this.traversals.contentResource))),h.service&&(h.service=chunk_NJNTZ6QT_i(h.service).map(h=>this.traverseService(h))),h.services&&(h.services=chunk_NJNTZ6QT_i(h.services).map(g=>this.traverseService(g,h))),h.logo&&(h.logo=h.logo.map(g=>this.traverseType(g,{parent:h},this.traversals.contentResource))),h.homepage&&(h.homepage=chunk_NJNTZ6QT_i(h.homepage).map(g=>this.traverseType(g,{parent:h},this.traversals.contentResource))),h.partOf&&(h.partOf=h.partOf.map(g=>"string"!=typeof g&&g.type?"Canvas"===g.type?this.traverseType(g,{parent:h},this.traversals.canvas):"AnnotationCollection"===g.type?this.traverseType(g,{parent:h},this.traversals.annotationCollection):"Collection"===g.type?this.traverseType(g,{parent:h},this.traversals.collection):this.traverseType(g,{parent:h},this.traversals.contentResource):this.traverseType(g,{parent:h},this.traversals.contentResource))),h.start&&(chunk_W3DWL6UZ_v(h.start)?h.start=this.traverseSpecificResource(h.start,"Canvas",h):h.start=this.traverseType(h.start,{parent:h},this.traversals.canvas)),h.rendering&&(h.rendering=h.rendering.map(g=>this.traverseType(g,{parent:h},this.traversals.contentResource))),h.supplementary&&(h.supplementary=h.supplementary.map(g=>this.traverseType(g,{parent:h},this.traversals.contentResource))),h}traverseCollectionItems(h){return h.items&&h.items.map(h=>"Collection"===h.type?this.traverseCollection(h):this.traverseManifest(h)),h}traverseCollection(h,g){return this.traverseType(this.traverseDescriptive(this.traverseInlineAnnotationPages(this.traverseLinking(this.traverseLinkedCanvases(this.traverseCollectionItems(h))))),{parent:g},this.traversals.collection)}traverseGeoJson(h,g){return this.traverseType(h,{parent:g},this.traversals.geoJson)}traverseNavPlace(h){return h.navPlace&&(h.navPlace=this.traverseGeoJson(h.navPlace,h)),h}traverseManifestItems(h){return h.items&&(h.items=h.items.map(h=>this.traverseCanvas(h))),h}traverseManifestStructures(h){return h.structures&&(h.structures=h.structures.map(h=>this.traverseRange(h))),h}traverseManifest(h,g){return this.traverseType(this._traverseManifest(h),{parent:g},this.traversals.manifest)}traverseCanvasItems(h){return h.items=(h.items||[]).map(g=>this.traverseAnnotationPage(g,h)),h}traverseInlineAnnotationPages(h){return"string"==typeof h||!h||h.annotations&&(h.annotations=h.annotations.map(g=>this.traverseAnnotationPage(g,h))),h}traverseCanvas(h,g){return this.traverseType(this._traverseCanvas(h),{parent:g},this.traversals.canvas)}traverseAnnotationPageItems(h){return h.items&&(h.items=h.items.map(g=>this.traverseAnnotation(g,h))),h}traverseAnnotationPage(h,g){return this.traverseType(this._traverseAnnotationPage(h),{parent:g},this.traversals.annotationPage)}traverseAnnotationBody(h){return Array.isArray(h.body)?h.body=h.body.map(g=>this.traverseContentResource(g,h)):h.body&&(h.body=this.traverseContentResource(h.body,h)),h}traverseLinkedCanvases(h){return h.placeholderCanvas&&(h.placeholderCanvas=this.traverseCanvas(h.placeholderCanvas)),h.accompanyingCanvas&&(h.accompanyingCanvas=this.traverseCanvas(h.accompanyingCanvas)),h}traverseAnnotation(h,g){return this.traverseType(this.traverseLinking(this.traverseAnnotationBody(this.traverseDescriptive(h))),{parent:g},this.traversals.annotation)}traverseContentResourceLinking(h){return"string"==typeof h||!h||h&&h.service&&(h.service=chunk_NJNTZ6QT_i(h.service||[]).map(g=>this.traverseService(g,h))),h}traverseContentResource(h,g){return"Choice"===h.type&&(h.items=h.items.map(g=>this.traverseContentResource(g,h))),chunk_W3DWL6UZ_v(h)?this.traverseSpecificResource(h,"ContentResource"):this.traverseType(this.traverseInlineAnnotationPages(this.traverseContentResourceLinking(h)),{parent:g},this.traversals.contentResource)}traverseSpecificResource(h,g,_){let y=h.source;return"string"==typeof h.source&&(y={id:h.source,type:g||"unknown"}),this.traverseType({...h,source:"Canvas"===g||"Canvas"===y.type?this.traverseType(y,{parent:_},this.traversals.canvas):"ContentResource"===g?this.traverseContentResource(y,{parent:_}):this.traverseUnknown(y,{parent:_,typeHint:g})},{parent:_},this.traversals.specificResource)}traverseRangeRanges(h){return h.items&&(h.items=h.items.map(g=>"string"==typeof g?this.traverseCanvas({id:g,type:"Canvas"},h):chunk_W3DWL6UZ_v(g)?this.traverseSpecificResource(g,"Canvas",h):"Manifest"===g.type?this.traverseManifest(g,h):this.traverseRange(g,h))),h}traverseRange(h,g){return this.traverseType(this._traverseRange(h),{parent:g},this.traversals.range)}traverseAgent(h,g){return this.traverseType(this.traverseDescriptive(this.traverseLinking(h)),{parent:g},this.traversals.agent)}traverseType(h,g,_){return _.reduce((h,_)=>{let y=_(h,g);return typeof y>"u"&&!this.options.allowUndefinedReturn?h:y},h)}traverseService(h,g){let _=Object.assign({},h);return _&&_.service&&(_.service=chunk_NJNTZ6QT_i(_.service).map(h=>this.traverseService(h))),this.traverseType(_,{parent:g},this.traversals.service)}traverseUnknown(h,{parent:g,typeHint:_}={}){let y=function(h,g){if(typeof h>"u"||null===h)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(h))throw Error("Array is not a valid entity");if("object"!=typeof h){if(g)return g;throw Error(`${typeof h} is not a valid entity`)}if("string"==typeof h.type){let g=tr.indexOf(h.type);if(-1!==g)return tr[g]}if(h.profile)return"Service";throw Error("Resource type is not known")}(h,_);switch(y){case"Collection":return this.traverseCollection(h,g);case"Manifest":return this.traverseManifest(h,g);case"Canvas":return this.traverseCanvas(h,g);case"AnnotationPage":return this.traverseAnnotationPage(h,g);case"Annotation":return this.traverseAnnotation(h,g);case"ContentResource":return this.traverseContentResource(h,g);case"Range":return this.traverseRange(h,g);case"Service":return this.traverseService(h,g);case"Agent":return this.traverseAgent(h,g);default:throw Error(`Unknown or unsupported resource type of ${y}`)}}},ts={},tl="iiif-parser:hasPart",tc="iiif-parser:partOf",tu="iiif-parser:isExternal",td="__$UNSET$__",th="__$UNWRAP$__",tp=[];function chunk_AXOUQGO3_oe(h,g){if(g&&g["@explicit"]){let _={};for(let y of Object.keys(g))y===tc||"@explicit"===y||(function(h){if(h===ts||0===Object.keys(h).length)return!0;for(let g in h)return!1;return!0}(g[y])?_[y]=h[y]:_[y]=g[y]);return _}return h}Object.freeze(tp),Object.freeze(ts);var tf={id:"https://iiif-parser/annotation-page",type:"AnnotationPage",behavior:tp,label:null,thumbnail:tp,summary:null,requiredStatement:null,metadata:tp,rights:null,provider:tp,items:tp,seeAlso:tp,homepage:tp,rendering:tp,service:tp},tm={id:"https://iiif-parser/empty-canvas",type:"Canvas",label:null,behavior:tp,thumbnail:tp,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tp,rights:null,navDate:null,provider:tp,items:tp,annotations:tp,seeAlso:tp,homepage:tp,partOf:tp,rendering:tp,service:tp,duration:0,height:0,width:0},tg={id:"https://iiif-parser/empty-collection",type:"Collection",label:null,viewingDirection:"left-to-right",behavior:tp,thumbnail:tp,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tp,rights:null,navDate:null,provider:tp,items:tp,annotations:tp,seeAlso:tp,homepage:tp,partOf:tp,rendering:tp,service:tp,services:tp},tE={id:"https://iiif-parser/empty-manifest",type:"Manifest",annotations:tp,behavior:tp,homepage:tp,items:tp,label:null,metadata:tp,navDate:null,provider:tp,partOf:tp,accompanyingCanvas:null,placeholderCanvas:null,rendering:tp,requiredStatement:null,rights:null,seeAlso:tp,service:tp,services:tp,start:null,structures:tp,summary:null,thumbnail:tp,viewingDirection:"left-to-right"},t_={id:"https://iiif-parser/empty-canvas",type:"Range",label:null,behavior:tp,thumbnail:tp,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tp,rights:null,navDate:null,provider:tp,items:tp,annotations:tp,seeAlso:tp,homepage:tp,partOf:tp,rendering:tp,service:tp,start:null,supplementary:null,viewingDirection:"left-to-right"},tT={id:"https://iiif-parser/empty-agent",type:"Agent",label:{},logo:tp,seeAlso:tp,homepage:tp},tv={id:"https://iiif-parser/empty-service",type:"UnknownService"};function chunk_AXOUQGO3_Z(h,g){if("string"==typeof h)return{id:h,type:g};if(!h.id)throw Error(`Invalid resource does not have an ID (${JSON.stringify(h)}, ${g})`);return h}function chunk_AXOUQGO3_W(h,g,_){if("string"==typeof h)return h;if(g.id!==h.id||g.type!==h.type){if("ImageService3"===g.type)return g;if("ImageService3"===h.type)return h;throw Error(`Can only merge entities with identical identifiers and type! ${g.type}(${g.id}) => ${h.type}(${h.id})`)}return function chunk_AXOUQGO3_$(h,g,_){if(!g)return h;if(Array.isArray(h)){if(!Array.isArray(g))throw Error("Cannot merge array with non-array");let _=[...h];for(let y of g)if(y["@id"]&&!y.id&&(y.id=y["@id"]),y["@type"]&&!y.type&&(y.type=y["@type"]),null!=y){if(Array.isArray(y))_.push(y);else if("object"==typeof y&&y.id&&y.type){let h=_.findIndex(h=>h.id===y.id&&h.type===y.type);h>=0&&(_[h]=chunk_AXOUQGO3_$(_[h],y))}else -1===h.indexOf(y)&&_.push(y)}return _}if("object"==typeof h){if(Array.isArray(g)||"object"!=typeof g)throw Error("Cannot merge object with non-object");let y={...h},A=[],b=[],k=Object.keys(h).filter(h=>h!==tl&&"id"!==h&&"type"!==h),w={},R={};for(let[h,_]of Object.entries(g)){if(h===tl||"id"===h||"type"===h)continue;let g=y[h];g===_?b.push(h):g!==tp&&g?(g&&_&&(w[h]=g,R[h]=_),y[h]=chunk_AXOUQGO3_$(g,_),y[h]===w[h]&&(b.push(h),delete w[h])):(A.push(h),y[h]=_)}if(_&&(_.parent&&_.parent.id||_.isTopLevel)){let g=[],B={};if(_.parent?B[tc]=_.parent.id:_.isTopLevel&&(B[tc]=h.id),y[tl]&&y[tl].length){let h=!(y[tl]||[]).find(h=>h["@explicit"]),_=A.length>0||b.length!==k.length;if(h&&_)for(let h of y[tl]){let _={...h},y=Object.keys(w);if(_){for(let h of(_["@explicit"]=!0,k))h!==tl&&(_[h]=ts);for(let h of y)_[h]=w[h]}g.push(_)}else g.push(...y[tl]);if(_){let h=Object.keys(R);for(let h of(B["@explicit"]=!0,A))B[h]=ts;for(let h of b)B[h]=ts;for(let g of h)B[g]=R[g]}}B.id=y.id,B.type=y.type,g.push(B),y[tl]=g}return y}return h||g}({...h},g,_)}function chunk_AXOUQGO3_U(h){return g=>"string"==typeof g?{id:g,type:h}:g.id?g.type?g:{type:h,...g}:{id:`vault://${function(h){let g=JSON.stringify(h),_=5381,y=g.length;for(;y;)_=33*_^g.charCodeAt(--y);let A=(_>>>0).toString(16);return A.length%2?"0"+A:A}(g)}`,type:h,...g}}function chunk_AXOUQGO3_E(h){return g=>({...h,...g})}function chunk_AXOUQGO3_D(h){return Array.isArray(h)?h:[h]}function chunk_AXOUQGO3_fe(h){return h.body&&(h.body=chunk_AXOUQGO3_D(h.body)),h.seeAlso&&(h.seeAlso=chunk_AXOUQGO3_D(h.seeAlso)),h.audience&&(h.audience=chunk_AXOUQGO3_D(h.audience)),h.accessibility&&(h.accessibility=chunk_AXOUQGO3_D(h.accessibility)),h.motivation&&(h.motivation=chunk_AXOUQGO3_D(h.motivation)),h}function chunk_AXOUQGO3_ee(h,{typeHint:g,partOfTypeHint:_}={}){let y;if("string"==typeof h&&(h={id:h,type:g||"unknown"}),chunk_W3DWL6UZ_v(h))return"string"==typeof h.source&&(h.source={id:h.source,type:g||"unknown"}),"Canvas"===h.source.type&&h.source.partOf&&"string"==typeof h.source.partOf&&(h.source.partOf=[{id:h.source.partOf,type:_||"Manifest"}]),h;if(-1!==(h.id||"").indexOf("#")){let[g,_]=(h.id||"").split("#");h.id=g,_&&(y={type:"FragmentSelector",value:_})}return{type:"SpecificResource",source:h,selector:y}}function chunk_AXOUQGO3_pe(h){let g=Object.assign({},h);return h&&h.items&&(g.items=h.items.map(h=>"string"==typeof h||"Canvas"===h.type?chunk_AXOUQGO3_ee(h):h)),g}function chunk_AXOUQGO3_ye(h){let g=Object.assign({},h);return g.start?(g.start=chunk_AXOUQGO3_ee(g.start,{typeHint:"Canvas"}),g):h}function chunk_AXOUQGO3_me(h){let g=Object.assign({},h);return g.target?(g.target=function chunk_AXOUQGO3_(h,g={}){if(Array.isArray(h))return chunk_AXOUQGO3_(h[0]);if("string"==typeof h){let[_,y]=h.split("#");return y?{type:"SpecificResource",source:{id:_,type:g.typeHint||"Unknown"},selector:{type:"FragmentSelector",value:y}}:{type:"SpecificResource",source:{id:_,type:g.typeMap&&g.typeMap[_]||g.typeHint||"Unknown"}}}if("Choice"===h.type||"List"===h.type||"Composite"===h.type||"Independents"===h.type)return chunk_AXOUQGO3_(h.items[0]);if(!h.type&&"source"in h&&(h.type="SpecificResource"),"SpecificResource"===h.type)return"Canvas"===h.source.type&&h.source.partOf&&"string"==typeof h.source.partOf&&(h.source.partOf=[{id:h.source.partOf,type:"Manifest"}]),h.selector?{type:"SpecificResource",source:h.source,selector:h.selector}:{type:"SpecificResource",source:h.source};if(h.id){"Canvas"===h.type&&h.partOf&&"string"==typeof h.partOf&&(h.partOf=[{id:h.partOf,type:"Manifest"}]);let[g,_]=h.id.split("#");return _?{type:"SpecificResource",source:{...h,id:g},selector:{type:"FragmentSelector",value:_}}:{type:"SpecificResource",source:{...h,id:g}}}return{type:"SpecificResource",source:h}}(g.target,{typeHint:"Canvas"}),g):h}function chunk_AXOUQGO3_ve(h){return h}function chunk_AXOUQGO3_q(h){return typeof h.items>"u"&&(h[tu]=!0),h}function Fe(h){let g=h&&h["@context"]&&("http://iiif.io/api/presentation/2/context.json"===h["@context"]||-1!==h["@context"].indexOf("http://iiif.io/api/presentation/2/context.json")||"http://www.shared-canvas.org/ns/context.json"===h["@context"])||"http://iiif.io/api/image/2/context.json"===h["@context"]?tn.traverseUnknown(h):h,_={Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}},y={},t=(h,y)=>{let A=_[h]?_[h]:{};return(_,b)=>{let k=chunk_AXOUQGO3_Z(_,y||h);return k&&k.id&&h?(A[k.id]=A[k.id]?chunk_AXOUQGO3_W(A[k.id],k,{parent:b.parent,isTopLevel:g.id===k.id}):chunk_AXOUQGO3_W({id:k.id,type:k.type},k,{parent:b.parent,isTopLevel:g.id===k.id}),{id:k.id,type:"ContentResource"===h?h:k.type}):k}},a=(h,g)=>_=>{let{id:A,type:b}=chunk_AXOUQGO3_Z(_,g||h);if(typeof A>"u")throw Error("Found invalid entity without an ID.");return"ContentResource"===h||"Service"===h?y[A]=h:y[A]=b,_},A=new ta({collection:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_E(tg),a("Collection"),t("Collection")],manifest:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_E(tE),chunk_AXOUQGO3_ye,a("Manifest"),t("Manifest")],canvas:[chunk_AXOUQGO3_E(tm),a("Canvas"),t("Canvas")],annotationPage:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_U("AnnotationPage"),chunk_AXOUQGO3_E(tf),a("AnnotationPage"),t("AnnotationPage")],annotation:[chunk_AXOUQGO3_U("Annotation"),chunk_AXOUQGO3_fe,chunk_AXOUQGO3_me,a("Annotation"),t("Annotation")],contentResource:[chunk_AXOUQGO3_U("ContentResource"),a("ContentResource"),t("ContentResource")],range:[chunk_AXOUQGO3_E(t_),chunk_AXOUQGO3_pe,a("Range","Canvas"),t("Range","Canvas")],agent:[chunk_AXOUQGO3_E(tT),a("Agent"),t("Agent")],specificResource:[chunk_AXOUQGO3_ve],service:[h=>{_.Service=_.Service?_.Service:{};let g=h.id||h["@id"],y=function(h){let g=Object.assign({},h);if(g["@id"]&&(g.id=g["@id"]),g["@type"]&&(g.type=g["@type"]),g.service){let h=[];for(let _ of(g.service=Array.isArray(g.service)?g.service:[g.service],g.service))h.push({id:_["@id"]||_.id,type:_["@type"]||_.type});g.service=h}return Object.assign({},tv,g)}(h);return y&&y.id&&(_.Service[y.id]?_.Service[g]=chunk_AXOUQGO3_W(_.Service[g],y):_.Service[g]=y),h}]}).traverseUnknown(g);return{entities:_,resource:A,mapping:y}}function $e(h,g,_){if(!g.type||!g.id)throw Error("Unknown entity");if(!_[g.type])throw Error(`Serializer not found for ${g.type}`);return function r(y,A,b=0){let k=_[y.type];if(!k)return td;if(b>20)throw Error("Circular reference: "+y.id+" "+y.type);let[w,R]=function chunk_AXOUQGO3_F(h,g,_){let y=function chunk_AXOUQGO3_L(h,g){let _=g||"unknown";if(!h)return;if("string"==typeof h)return{id:h,type:_};if(chunk_W3DWL6UZ_v(h))return chunk_AXOUQGO3_L(h.source,g);let y=_&&"unknown"!==_?_:h.type||h["@type"],A=h.id||h["@id"];if(y&&-1!==y.indexOf(":")&&(y=y.split(":").pop()),A&&y)return{id:A,type:y}}(g);if(!y)return[void 0,void 0];let A=h.requests[y.id],b=y.type||h.mapping[y.id];if(!b||A&&A.resourceUri&&(!h.entities[b]||!h.entities[b][A.resourceUri]))return[void 0,void 0];let k=h.entities[b][A?A.resourceUri:y.id];if(y.type&&!k)return chunk_AXOUQGO3_F(h,{id:y.id},_);if(k&&k[tl]){let h=k[tl].find(h=>_?h[tc]===_.id:h[tc]===k.id);return[chunk_AXOUQGO3_oe(k,h),k]}return[k,k]}(h,y.type?y:y.id,A)||(y.id&&y.type?y:null);if(!w)return td;let B=k(w,h,{parent:A,isTopLevel:g.id===y.id,fullResource:R}),H=B.next();for(;!H.done;){let h=H.value,g=td;if(h){if(Array.isArray(h)){let _=[];for(let g of h)_.push(r(g,y,b+1));g=_}else g=r(h,y,b+1)}H=B.next(g)}return H.value===td?td:function(h){let g={};for(let[_,y]of h){if(_===th&&y!==td)return y;y!==td&&"u">typeof y&&null!==y&&(g[_]=y)}return g}(H.value)}(g)}function chunk_AXOUQGO3_P(h,{allowSourceString:g=!0,allowString:_=!1,allowedStringType:y}={}){let t=h=>{if(g&&h&&h.source&&"string"!=typeof h.source){let g=Object.keys(h.source);if(h.source.id&&h.source.type&&2===g.length)return{...h,source:h.source.id}}return h};if(h){if(h.source&&h.source.partOf)return t(h);let g=Object.keys(h);if(2===g.length&&h.type&&h.source||3===g.length&&h.type&&h.source&&-1!==g.indexOf("selector")&&!h.selector)return _&&(!y||y===h.source.type)?h.source.id:"ContentResource"===h.source.type?{type:"SpecificResource",source:h.source.id}:h.source;if(h.selector&&!Array.isArray(h.selector)&&"string"!=typeof h.selector&&"FragmentSelector"===h.selector.type){let g=`${h.source.id}#${h.selector.value}`;return _?g:{id:g,type:h.source.type}}}return t(h)}function chunk_AXOUQGO3_O(h){if(!h)return;let g=Object.keys(h);if(0!==g.length){if(1===g.length){let _=g[0];if(!_)return"";let y=(h[_]||[]).join("");return"@none"===_||"none"===_||"en"===_?y:{"@language":_,"@value":y}}return g.map(g=>({"@language":g,"@value":(h[g]||[]).join("")}))}}function chunk_AXOUQGO3_h(h,g=!1){if(h)return h.length>1&&!g?h:h[0]||void 0}function chunk_AXOUQGO3_he(h){if(h){if("string"==typeof h)return{"@id":h};if("@id"in h){let g={...h};return delete g["@type"],g}return{"@context":"http://iiif.io/api/image/2/context.json","@id":h.id,profile:`http://iiif.io/api/image/2/profiles/${h.profile}.json`}}}function chunk_AXOUQGO3_N(h,g){return[["@id",h.id],["@type",g],["format",h.format],["height",h.height],["width",h.width],["viewingDirection","left-to-right"!==h.viewingDirection?h.viewingDirection:void 0],["license",h.license?h.license:void 0]]}function*chunk_AXOUQGO3_b(h){let g=h.provider?yield h.provider[0]:void 0;return[["label",chunk_AXOUQGO3_O(h.label)],["metadata",h.metadata&&h.metadata.length?h.metadata.map(h=>({label:chunk_AXOUQGO3_O(h.label)||"",value:chunk_AXOUQGO3_O(h.value)||""})):void 0],["description",chunk_AXOUQGO3_O(h.summary)],["thumbnail",chunk_AXOUQGO3_h((yield h.thumbnail))],["navDate",h.navDate],["logo",g?chunk_AXOUQGO3_h(g.logo):void 0],["homepage",g?g.homepage:void 0],["attribution",h.requiredStatement?chunk_AXOUQGO3_O(h.requiredStatement.value):void 0]]}function*chunk_AXOUQGO3_k(h){let g=h.start&&h.start.type&&"SpecificResource"===h.start.type?chunk_AXOUQGO3_P(h.start):h.start;return[["seeAlso",chunk_AXOUQGO3_h((yield h.seeAlso))],["service",chunk_AXOUQGO3_h((h.service||[]).map(chunk_AXOUQGO3_he))],["rendering",chunk_AXOUQGO3_h((yield h.rendering))],["startCanvas",g?g.id:void 0]]}var ty={Manifest:function*(h,g,{isTopLevel:_}){return[..._?[["@context","http://iiif.io/api/presentation/2/context.json"]]:[],...chunk_AXOUQGO3_N(h,"sc:Manifest"),...yield*chunk_AXOUQGO3_b(h),...yield*chunk_AXOUQGO3_k(h),["sequences",[{"@id":`${h.id}/sequence0`,"@type":"sc:Sequence",canvases:yield h.items}]],["structures",(yield h.structures)]]},Canvas:function*(h){let g=(yield h.items)[0];return[...chunk_AXOUQGO3_N(h,"sc:Canvas"),...yield*chunk_AXOUQGO3_b(h),...yield*chunk_AXOUQGO3_k(h),["images",g?[g.resources]:void 0],["annotations",h.annotations&&h.annotations.length?chunk_AXOUQGO3_h((yield h.annotations)):void 0]]},AnnotationPage:function*(h){return[...chunk_AXOUQGO3_N(h,"sc:AnnotationList"),...yield*chunk_AXOUQGO3_b(h),["resources",h.items&&h.items.length?chunk_AXOUQGO3_h((yield h.items)):void 0]]},Annotation:function*(h){return[["@id",h.id],["@type","oa:Annotation"],["motivation","sc:painting"],["on",function chunk_AXOUQGO3_ne(h){return Array.isArray(h)?h.map(h=>chunk_AXOUQGO3_ne(h)):"string"==typeof h?h:h.type&&"Canvas"===h.type?h.id:h}(h.target)],["resource",chunk_AXOUQGO3_h((yield h.body),!0)]]},ContentResource:function*(h){return"Image"===h.type?[...chunk_AXOUQGO3_N(h,"dctypes:Image"),...yield*chunk_AXOUQGO3_b(h),...yield*chunk_AXOUQGO3_k(h)]:[...chunk_AXOUQGO3_N(h,void 0),...yield*chunk_AXOUQGO3_b(h)]},AnnotationCollection:function*(h){return[["@id",h.id],["@type","sc:Layer"],["label",chunk_AXOUQGO3_O(h.label)]]},Collection:function*(h){return[...chunk_AXOUQGO3_N(h,"sc:Collection"),...yield*chunk_AXOUQGO3_b(h),...yield*chunk_AXOUQGO3_k(h),["members",(yield*h.items)]]},Range:function*(h){let g=[],_=[];if(h.items)for(let y of h.items){let A="SpecificResource"===y.type?y.source:y;if(A){let b=yield A;g.push({"@id":function(h){if(h&&"SpecificResource"===h.type){let g=h.id,_=h.selector?Array.isArray(h.selector)?h.selector[0]:h.selector:void 0;return _&&"FragmentSelector"===_.type&&(g+="#"+_.value),g}return h?.id}(y),"@type":A.type,label:b?b.label:void 0,within:h.id}),"Canvas"===A.type&&_.push(A.id)}}return[...chunk_AXOUQGO3_N(h,"sc:Range"),...yield*chunk_AXOUQGO3_b(h),...yield*chunk_AXOUQGO3_k(h),["canvases",_.length===g.length?_:void 0],["members",_.length!==g.length?g:void 0]]}};function chunk_AXOUQGO3_x(h){return[["id",h.id?.startsWith("vault://")?void 0:h.id],["type",h.type],["format",h.format],["profile",h.profile],["height",h.height||void 0],["width",h.width||void 0],["duration",h.duration||void 0],["viewingDirection","left-to-right"!==h.viewingDirection?h.viewingDirection:void 0],["behavior",h.behavior&&h.behavior.length?h.behavior:void 0],["timeMode",h.timeMode],["motivation",Array.isArray(h.motivation)?h.motivation[0]:h.motivation],[tl,td]]}function chunk_AXOUQGO3_d(h){if(h===td||!h||0===h.length)return;let g=h.filter(h=>h!==td);if(0!==g.length)return g}function chunk_AXOUQGO3_re(h){if(h&&h.type&&"ImageService2"===h.type){let{id:g,type:_,profile:y,...A}=h,b="string"==typeof y?y:Array.isArray(y)?y.find(h=>"string"==typeof h):"";return{"@id":g,"@type":_,profile:b?b.startsWith("http")?b:`http://iiif.io/api/image/2/${b}.json`:"http://iiif.io/api/image/2/level0.json",...A}}return h}function chunk_AXOUQGO3_ie(h){if(Array.isArray(h)||(h=h?[h]:[]),!(!h||0===h.length))return h.map(chunk_AXOUQGO3_re)}function*chunk_AXOUQGO3_S(h){return[["label",h.label],["metadata",chunk_AXOUQGO3_d(h.metadata)],["summary",h.summary],["requiredStatement",h.requiredStatement],["rights",Array.isArray(h.rights)?h.rights[0]||void 0:h.rights||void 0],["navDate",h.navDate],["language",h.language],["thumbnail",chunk_AXOUQGO3_d((yield h.thumbnail))],["placeholderCanvas",(yield h.placeholderCanvas)],["accompanyingCanvas",(yield h.accompanyingCanvas)],["provider",chunk_AXOUQGO3_d((yield h.provider))]]}function*chunk_AXOUQGO3_R(h,g){let _=[];for(let y of h.partOf||[])"Manifest"===y.type&&"Manifest"===g.type||_.push((yield y));return[["seeAlso",chunk_AXOUQGO3_d((yield h.seeAlso))],["service",chunk_AXOUQGO3_d(chunk_AXOUQGO3_ie(h.service))],["services",chunk_AXOUQGO3_d(chunk_AXOUQGO3_ie(h.services))],["rendering",chunk_AXOUQGO3_d((yield h.rendering))],["supplementary",chunk_AXOUQGO3_d((yield h.supplementary))],["homepage",chunk_AXOUQGO3_d((yield h.homepage))],["logo",chunk_AXOUQGO3_d((yield h.logo))],["partOf",chunk_AXOUQGO3_d(_)],["start",h.start?chunk_AXOUQGO3_P(h.start):h.start]]}var tA={Manifest:function*(h,g,{isTopLevel:_}){return _?[["@context",h["@context"]?h["@context"]:"http://iiif.io/api/presentation/3/context.json"],...chunk_AXOUQGO3_x(h),...yield*chunk_AXOUQGO3_S(h),...yield*chunk_AXOUQGO3_R(h),["items",(yield h.items)],["structures",chunk_AXOUQGO3_d((yield h.structures))],["annotations",chunk_AXOUQGO3_d((yield h.annotations))],["navPlace",h.navPlace]]:[...chunk_AXOUQGO3_x(h),...yield*chunk_AXOUQGO3_S(h)]},Canvas:function*(h,g,{parent:_}){return _&&"Manifest"!==_.type&&"Canvas"!==_.type?[["id",h.id]]:[...chunk_AXOUQGO3_x(h),...yield*chunk_AXOUQGO3_S(h),...yield*chunk_AXOUQGO3_R(h,_),["items",(yield h.items)],["annotations",chunk_AXOUQGO3_d((yield h.annotations))],["navPlace",h.navPlace]]},Agent:function*(h){return[["id",h.id],["type","Agent"],["label",h.label],...yield*chunk_AXOUQGO3_R(h)]},AnnotationPage:function*(h){let g=Object.entries(h).map(([h,g])=>[h,Array.isArray(g)?chunk_AXOUQGO3_d(g):g]).filter(([h,g])=>"items"!==h&&"id"!==h&&h!==tl&&h!==tc&&h!==tu),_=yield h.items;return[["id",h.id?.startsWith("vault://")?void 0:h.id],...g,...yield*chunk_AXOUQGO3_R(h),["items",_.length||!1===h[tu]?_:td]]},Service:function*(h){return[[th,chunk_AXOUQGO3_re(h)]]},Annotation:function*(h){let g=Object.entries(h).map(([h,g])=>"motivation"===h?[h,Array.isArray(g)?g[0]:g]:"target"===h?[h,chunk_AXOUQGO3_P(g,{allowString:!0,allowSourceString:!0,allowedStringType:"Canvas"})]:[h,Array.isArray(g)?chunk_AXOUQGO3_d(g):g]).filter(([h])=>"body"!==h&&h!==tl&&h!==tu),_;if(Array.isArray(h.body)){let g=[];for(let _ of h.body)if(_&&chunk_W3DWL6UZ_v(_)){let h={..._};"Canvas"!==_.source.type?h.source=yield _.source:h.source=_.source,g.push(chunk_AXOUQGO3_P(h,{allowSourceString:!0}))}else g.push((yield _));_=g}else h.body&&chunk_W3DWL6UZ_v(h.body)?(_={...h.body}).source=yield h.body.source:_=yield h.body;return[...g,...yield*chunk_AXOUQGO3_S(h),...yield*chunk_AXOUQGO3_R(h),["body",1===_.length?_[0]:_]]},ContentResource:function*(h){return function(h,g){let _=Object.keys(g),y=h.map(([h])=>h);for(let A of _)A===tl||A===tu||-1===y.indexOf(A)&&"u">typeof g[A]&&h.push([A,g[A]]);return h}([...chunk_AXOUQGO3_x(h),...yield*chunk_AXOUQGO3_S(h),...yield*chunk_AXOUQGO3_R(h),["annotations",chunk_AXOUQGO3_d((yield h.annotations))],["items",chunk_AXOUQGO3_d((yield h.items))]],h)},AnnotationCollection:function*(h){return[["id",h.id],["type","AnnotationCollection"],["label",h.label]]},Collection:function*(h,g,{isTopLevel:_}){return _?[["@context","http://iiif.io/api/presentation/3/context.json"],...chunk_AXOUQGO3_x(h),...yield*chunk_AXOUQGO3_S(h),...yield*chunk_AXOUQGO3_R(h),["items",chunk_AXOUQGO3_d((yield h.items))],["navPlace",h.navPlace]]:[...chunk_AXOUQGO3_x(h),...yield*chunk_AXOUQGO3_S(h)]},Range:function*(h){let g=[];for(let _ of h.items)"Range"===_.type?g.push((yield _)):_&&"SpecificResource"===_.type?g.push(chunk_AXOUQGO3_P(_)):g.push(_);return[...chunk_AXOUQGO3_x(h),...yield*chunk_AXOUQGO3_S(h),...yield*chunk_AXOUQGO3_R(h),["items",g],["annotations",chunk_AXOUQGO3_d((yield h.annotations))],["navPlace",h.navPlace]]}};let tb="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var tk={randomUUID:tb};let tS=new Uint8Array(16),tC=[];for(let h=0;h<256;++h)tC.push((h+256).toString(16).slice(1));var esm_browser_v4=function(h,g,_){if(tk.randomUUID&&!g&&!h)return tk.randomUUID();h=h||{};let A=h.random||(h.rng||function(){if(!y&&!(y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(tS)})();if(A[6]=15&A[6]|64,A[8]=63&A[8]|128,g){_=_||0;for(let h=0;h<16;++h)g[_+h]=A[h];return g}return function(h,g=0){return tC[h[g+0]]+tC[h[g+1]]+tC[h[g+2]]+tC[h[g+3]]+"-"+tC[h[g+4]]+tC[h[g+5]]+"-"+tC[h[g+6]]+tC[h[g+7]]+"-"+tC[h[g+8]]+tC[h[g+9]]+"-"+tC[h[g+10]]+tC[h[g+11]]+tC[h[g+12]]+tC[h[g+13]]+tC[h[g+14]]+tC[h[g+15]]}(A)};let tx=window.OpenSeadragon;if(!tx&&!(tx=eH))throw Error("OpenSeadragon is missing.");let tI="http://www.w3.org/2000/svg";tx.Viewer&&(tx.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new image_ve(this)),this._svgOverlayInfo});let image_ve=function(h){let g=this;this._viewer=h,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(tI,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(tI,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){g.resize()}),this._viewer.addHandler("open",function(){g.resize()}),this._viewer.addHandler("rotate",function(){g.resize()}),this._viewer.addHandler("flip",function(){g.resize()}),this._viewer.addHandler("resize",function(){g.resize()}),this.resize()};image_ve.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let h=this._viewer.viewport.pixelFromPoint(new tx.Point(0,0),!0),g=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),y=this._viewer.viewport.getFlip(),A=this._viewer.viewport._containerInnerSize.x,b=A*g,k=b;y&&(b=-b,h.x=-h.x+A),this._node.setAttribute("transform","translate("+h.x+","+h.y+") scale("+b+","+k+") rotate("+_+")")},onClick:function(h,g){new tx.MouseTracker({element:h,clickHandler:g}).setTracking(!0)}};let Je=h=>fetch(`${h.replace(/\/$/,"")}/info.json`).then(h=>h.json()).then(h=>h).catch(g=>{console.error(`The IIIF tilesource ${h.replace(/\/$/,"")}/info.json failed to load: ${g}`)}),Ge=h=>{let g,_;return Array.isArray(h)&&(g=h[0])&&(_="@id"in g?g["@id"]:g.id),_};var tw=((w=tw||{}).TiledImage="tiledImage",w.SimpleImage="simpleImage",w);let Xe=h=>{let g=Array.isArray(null==h?void 0:h.service)&&(null==h?void 0:h.service.length)>0,_=g?Ge(null==h?void 0:h.service):null==h?void 0:h.id,y=g?tw.TiledImage:tw.SimpleImage;return{uri:_,imageType:y}},image_Ke=(h,g)=>{let _=g?tw.TiledImage:tw.SimpleImage;return{uri:h,imageType:_}},{styled:tO,css:tN,keyframes:tR,createTheme:tD}=(0,ez.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),tL=tO("div",{display:"flex",flexDirection:"column",alignItems:"center"}),tM=tO("p",{fontWeight:"bold",fontSize:"x-large"}),tP=tO("span",{fontSize:"medium"}),st=({error:h})=>{let{message:g}=h;return e$.createElement(tL,{role:"alert"},e$.createElement(tM,{"data-testid":"headline"},"Something went wrong"),g&&e$.createElement(tP,null,`Error message: ${g}`," "))},tF=tO("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),tB=tO("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),tU=tO("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${tF}`]:{display:"block"}},false:{[`${tF}`]:{display:"none"}}}}});var image_y=function(h){return function(){let g={type:h,getType:()=>h,toString:()=>h};return(h,_)=>({...g,...void 0!==h&&{payload:h},...void 0!==_&&{meta:_}})}},tH="@iiif/IMPORT_ENTITIES",tG="@iiif/MODIFY_ENTITY_FIELD",tz="@iiif/REORDER_ENTITY_FIELD",t$="@iiif/ADD_REFERENCE",tV="@iiif/UPDATE_REFERENCE",tQ="@iiif/REMOVE_REFERENCE",tj="@iiif/ADD_METADATA",tY="@iiif/REMOVE_METADATA",tq="@iiif/UPDATE_METADATA",tW="@iiif/REORDER_METADATA",tX=image_y(tH)(),tK=image_y(tG)(),tJ=image_y(tz)(),tZ=image_y(t$)(),t0=image_y(tQ)(),t1=image_y(tV)(),t2=image_y(tj)(),t3=image_y(tq)(),t4={importEntities:tX,modifyEntityField:tK,reorderEntityField:tJ,addReference:tZ,removeReference:t0,updateReference:t1,addMetadata:t2,removeMetadata:image_y(tY)(),updateMetadata:t3,reorderMetadata:image_y(tW)()},t5="@iiif/ADD_MAPPING",t6="@iiif/ADD_MAPPINGS",t8=image_y(t5)(),t9=image_y(t6)(),t7="RESOURCE_ERROR",ne="RESOURCE_LOADING",nt="RESOURCE_READY",nn="@iiif/REQUEST_RESOURCE",nr="@iiif/REQUEST_ERROR",na="@iiif/REQUEST_MISMATCH",no="@iiif/REQUEST_COMPLETE",ns=image_y(nn)(),nl=image_y(nr)(),nc=image_y(na)(),nu=image_y(no)(),nd="@iiif/BATCH",nh=image_y(nd)(),At=(h,g)=>{let{entities:_,resource:y,mapping:A}=Fe(g);if(void 0===y.id)return[nl({id:h,message:"ID is not defined in resource."})];let b=[tX({entities:_}),t9({mapping:A})];return y.id!==h&&(b.push(t8({id:h,type:y.type})),b.push(nc({requestId:h,actualId:y.id}))),b.push(nu({id:h})),b},np=Number.isNaN||function(h){return"number"==typeof h&&h!=h};function image_re(h,g){if(!Array.isArray(h)||!Array.isArray(g))return h===g;if(h.length!==g.length)return!1;for(let A=0;A<h.length;A++){var _,y;if(!((_=h[A])===(y=g[A])||np(_)&&np(y)))return!1}return!0}function image_U(h,g,_){let y=h.iiif.requests[g],A=h.iiif.mapping[g];if(!A||!h.iiif.entities[A][y.resourceUri])return;let b=h.iiif.entities[A][y.resourceUri];if(b&&b[tl]){let h=b[tl].find(h=>h[tc]===b.id);return chunk_AXOUQGO3_oe(b,h)}return b}function image_ie(h,g,{waitTimeout:_=30}={}){return(y,A)=>{let b=h.getStore(),k=b.getState(),w=k.iiif.requests[y];if(w){if(w.loadingState===nt){let h=image_U(k,y);if(h)return h}switch(w.loadingState){case t7:break;case ne:return(async()=>{let h,g=!1;try{let A=await Promise.race([new Promise((_,A)=>{g||(h=b.subscribe(()=>{let h=b.getState();if(h.iiif.requests[y].loadingState===t7){A();return}if(h.iiif.requests[y].loadingState===nt){let g=image_U(h,y);g?_(g):A()}}))}),new Promise((h,y)=>setTimeout(()=>{g=!0,y()},6e4*_))]);if(h&&h(),A)return A}catch{h&&h()}})()}}h.dispatch(ns({id:y}));let c=g=>{if(!g)return;g.id||g["@id"]||(g["@type"]&&(g["@id"]=y),g.id=y);let _=At(y,g);return h.dispatch(nh({actions:_})),image_U(b.getState(),y)};try{let _=g(y,A);return _&&"function"==typeof _.then?(async()=>{try{return c(await _)}catch(g){throw h.dispatch(nl({id:y,message:g.toString()})),g}})():c(_)}catch(g){throw h.dispatch(nl({id:y,message:g.toString()})),g}}}function ke(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let nf={};var image_ne=h=>{let g;let _=new Set,n=(h,y)=>{let A="function"==typeof h?h(g):h;if(!Object.is(A,g)){let h=g;g=y??("object"!=typeof A||null===A)?A:Object.assign({},g,A),_.forEach(_=>_(g,h))}},i=()=>g,y={setState:n,getState:i,getInitialState:()=>A,subscribe:h=>(_.add(h),()=>_.delete(h)),destroy:()=>{(nf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),_.clear()}},A=g=h(n,i,y);return y},It=h=>h?image_ne(h):image_ne,nm="@iiif/SET_META_VALUE",ng="@iiif/SET_META_VALUE_DYNAMIC",nE="@iiif/UNSET_META_VALUE",n_={setMetaValue:image_y(nm)(),setMetaValueDynamic:image_y(ng)(),unsetMetaValue:image_y(nE)()};let nT={};var kt=(h,g)=>(_,y,A)=>(A.dispatch=g=>(_(_=>h(_,g),!1,g),g),A.dispatchFromDevtools=!0,{dispatch:(...h)=>A.dispatch(...h),...g}),nv=new Map,image_k=h=>{let g=nv.get(h);return g?Object.fromEntries(Object.entries(g.stores).map(([h,g])=>[h,g.getState()])):{}},Ft=(h,g,_)=>{if(void 0===h)return{type:"untracked",connection:g.connect(_)};let y=nv.get(_.name);if(y)return{type:"tracked",store:h,...y};let A={connection:g.connect(_),stores:{}};return nv.set(_.name,A),{type:"tracked",store:h,...A}},Lt=(h,g={})=>(_,y,A)=>{let b;let{enabled:k,anonymousActionType:w,store:R,...B}=g;try{b=(k??(nT?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!b)return(nT?"production":void 0)!=="production"&&k&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),h(_,y,A);let{connection:H,...z}=Ft(R,b,B),$=!0;A.setState=(h,g,b)=>{let k=_(h,g);if(!$)return k;let z=void 0===b?{type:w||"anonymous"}:"string"==typeof b?{type:b}:b;return void 0===R?null==H||H.send(z,y()):null==H||H.send({...z,type:`${R}/${z.type}`},{...image_k(B.name),[R]:A.getState()}),k};let m=(...h)=>{let g=$;$=!1,_(...h),$=g},j=h(A.setState,y,A);if("untracked"===z.type?null==H||H.init(j):(z.stores[z.store]=A,null==H||H.init(Object.fromEntries(Object.entries(z.stores).map(([h,g])=>[h,h===z.store?j:g.getState()])))),A.dispatchFromDevtools&&"function"==typeof A.dispatch){let h=!1,g=A.dispatch;A.dispatch=(..._)=>{(nT?"production":void 0)==="production"||"__setState"!==_[0].type||h||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),h=!0),g(..._)}}return H.subscribe(h=>{var g;switch(h.type){case"ACTION":if("string"!=typeof h.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return image_V(h.payload,h=>{if("__setState"===h.type){if(void 0===R){m(h.state);return}1!==Object.keys(h.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let g=h.state[R];if(null==g)return;JSON.stringify(A.getState())!==JSON.stringify(g)&&m(g);return}A.dispatchFromDevtools&&"function"==typeof A.dispatch&&A.dispatch(h)});case"DISPATCH":switch(h.payload.type){case"RESET":return m(j),void 0===R?null==H?void 0:H.init(A.getState()):null==H?void 0:H.init(image_k(B.name));case"COMMIT":if(void 0===R){null==H||H.init(A.getState());break}return null==H?void 0:H.init(image_k(B.name));case"ROLLBACK":return image_V(h.state,h=>{if(void 0===R){m(h),null==H||H.init(A.getState());return}m(h[R]),null==H||H.init(image_k(B.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return image_V(h.state,h=>{if(void 0===R){m(h);return}JSON.stringify(A.getState())!==JSON.stringify(h[R])&&m(h[R])});case"IMPORT_STATE":{let{nextLiftedState:_}=h.payload,y=null==(g=_.computedStates.slice(-1)[0])?void 0:g.state;if(!y)return;m(void 0===R?y:y[R]),null==H||H.send(null,_);break}case"PAUSE_RECORDING":return $=!$}return}}),j},image_V=(h,g)=>{let _;try{_=JSON.parse(h)}catch(h){console.error("[zustand devtools middleware] Could not parse the received json",h)}void 0!==_&&g(_)},zt=h=>(g,_,y)=>{let A=y.subscribe;return y.subscribe=(h,g,_)=>{let b=h;if(g){let A=(null==_?void 0:_.equalityFn)||Object.is,k=h(y.getState());b=_=>{let y=h(_);if(!A(k,y)){let h=k;g(k=y,h)}},null!=_&&_.fireImmediately&&g(k,k)}return A(b)},h(g,_,y)};function image_$(h,g,_,y){return!(!h[_]||!h[_][g]||!h[_][g][y]||!Array.isArray(h[_][g][y]))}function image_l(h){return h.payload}function image_B(h,g){return typeof h>"u"?g:h}function Ue(h={}){let g=Object.keys(h);return function(_={},y){let A=!1,b={};for(let k=0;k<g.length;k++){let w=g[k];b[w]=h[w](_[w],y),A=A||b[w]!==_[w]}return A?b:_}}var ny=Ue({mapping:(h={},g)=>{switch(g.type){case t5:return{...h,[g.payload.id]:g.payload.type};case t6:return{...h,...g.payload.mapping};default:return h}},entities:(h=ke(),g)=>{var _;let r=(_,y)=>({...h,[image_l(g).type]:{...h[image_l(g).type],[image_l(g).id]:{..._,...y}}});switch(g.type){case tG:{if(!h[image_l(g).type]||!h[image_l(g).type][image_l(g).id])return h;let _=h[image_l(g).type][image_l(g).id];return"string"==typeof _?h:r(_,{[image_l(g).key]:image_l(g).value})}case tz:{if(!image_$(h,image_l(g).id,image_l(g).type,image_l(g).key))return h;let _=h[image_l(g).type][image_l(g).id];if("string"==typeof _)return h;let y=Array.from(_[image_l(g).key]),[A]=y.splice(image_l(g).startIndex,1);return y.splice(image_l(g).endIndex,0,A),r(_,{[image_l(g).key]:y})}case tH:{let _=Object.keys(image_l(g).entities),y={...h};for(let A of _){let _=image_l(g).entities[A],b={...h[A]||{}},k=!1,w=Object.keys(_||{})||[];if(_&&w){for(let g of w)k=!0,b[g]=h[A][g]?function(h,g){let _={},y=[];for(let[A,b]of Object.entries(h||{})){y.push(A);let h=(g||{})[A];if(!h||0===h.length){_[A]=b;continue}_[A]=h}for(let[h,A]of Object.entries(g||{}))-1===y.indexOf(h)&&(_[h]=A);return _}(h[A][g],_[g]):_[g];k&&(y[A]=b)}}return y}case t$:{if(!image_$(h,image_l(g).id,image_l(g).type,image_l(g).key))return h;let _=h[image_l(g).type][image_l(g).id],y=Array.from(_[image_l(g).key]);return y.splice(image_B(image_l(g).index,y.length+1),0,image_l(g).reference),r(_,{[image_l(g).key]:y})}case tV:case tQ:{if(!image_$(h,image_l(g).id,image_l(g).type,image_l(g).key))return h;let y=h[image_l(g).type][image_l(g).id],A=Array.from(y[image_l(g).key]),b=image_B(image_l(g).index,A.findIndex(h=>h&&h.id===image_l(g).reference.id));return -1===b||(null==(_=A[b])?void 0:_.id)!==image_l(g).reference.id?h:(g.type===tV?A.splice(b,1,image_l(g).reference):A.splice(b,1),r(y,{[image_l(g).key]:A}))}case tj:{let _=h[image_l(g).type][image_l(g).id];if(!_)return h;let y=Array.from(_.metadata||[]),A=image_l(g);return y.splice(image_B(g.payload.beforeIndex,y.length+1),0,{label:A.label,value:A.label}),r(_,{metadata:y})}case tW:{let _=h[image_l(g).type][image_l(g).id];if("string"==typeof _||!_)return h;let y=Array.from(_.metadata||[]),[A]=y.splice(image_l(g).startIndex,1);return y.splice(image_l(g).endIndex,0,A),r(_,{metadata:y})}case tq:case tY:{let _=h[image_l(g).type][image_l(g).id],y=Array.from(_.metadata||[]),A=image_l(g).atIndex;return typeof A>"u"||-1===A||!y[A]?h:(g.type===tq?y.splice(A,1,{label:image_l(g).label,value:image_l(g).value}):y.splice(A,1),r(_,{metadata:y}))}default:return h}},requests:(h={},g)=>{switch(g.type){case nn:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...h,[g.payload.id]:{requestUri:g.payload.id,loadingState:ne,uriMismatch:!1,resourceUri:g.payload.id}};case na:return{...h,[g.payload.requestId]:{...h[g.payload.requestId]||{},uriMismatch:!0,resourceUri:g.payload.actualId},[g.payload.actualId]:{requestUri:g.payload.requestId,loadingState:h[g.payload.requestId].loadingState,uriMismatch:!0,resourceUri:g.payload.actualId}};case nr:return{...h,[g.payload.id]:{...h[g.payload.id]||{},loadingState:t7,error:g.payload.message}};case no:return{...h,[g.payload.id]:{...h[g.payload.id]||{},loadingState:nt,error:void 0}}}return h},meta:(h={},g)=>{let{id:_,updateValue:y,value:A,meta:b,key:k}=g&&g.payload||{};switch(g.type){case nm:return{...h,[_]:{...h[_]||{},[b]:{...h[_]&&h[_][b]||{},[k]:A}}};case ng:return{...h,[_]:{...h[_]||{},[b]:{...h[_]&&h[_][b]||{},[k]:y(h[_]&&h[_][b]?h[_][b][k]:void 0)}}};case nE:return h[_]&&h[_][b]&&h[_][b][k]?{...h,[_]:{...h[_]||{},[b]:{...h[_]&&h[_][b]||{},[k]:void 0}}}:h;default:return h}}}),nA=Object.defineProperty,Jt=(h,g,_)=>g in h?nA(h,g,{enumerable:!0,configurable:!0,writable:!0,value:_}):h[g]=_,image_R=(h,g,_)=>(Jt(h,"symbol"!=typeof g?g+"":g,_),_);function image_S(h,g,_,y=!0){g[nS]=g[nS]||[],g[nS].push(h);let A=new Map;Object.defineProperty(g,h,{enumerable:y,get(){if(typeof g[nb][h]>"u")return;let y=g[nb][h];if(!y)return y;let b=_.get(g[nb][h],{parent:this.id?{id:this.id,type:this.type}:void 0});return A.has(b)||(A.clear(),A.set(b,image_O(b,_))),A.get(b)},set(y){g[nb][h]!==y&&(this[nk]?_.modifyEntityField({id:this.id,type:this.type},h,function ze(h){return Array.isArray(h)?h.map(h=>ze(h)):h&&h.type?{id:h.id,type:h.type}:h}(y)):this[nb][h]=y)}})}var nb=Symbol.for("_refs_"),nk=Symbol.for("_reactive_"),nS=Symbol.for("_defined_"),nC=Symbol.for("_parent_");function image_O(h,g,_=!1,y){if(Array.isArray(h))return h.map(h=>image_O(h,g,_));if(!h||!h.type||!h.id)return h;let A=function(h,g=!1,_){let y={id:"",type:"unknown",[nS]:[],[nb]:{},[nC]:null,[nk]:null,is(h){return"string"==typeof h?this.id===h:!!h.id&&h.id===this.id},reactive(){if(!this[nk])return this[nk]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let h=this.unwrap();for(let g of Object.keys(h||{}))this[nS].includes(g)?this[nb][g]=h[g]:this[g]=h[g]}},unreactive(){this[nk]&&(this[nk](),this[nk]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let g=this[nC];return h.get(this.id,{parent:g?{id:g,type:"unknown"}:void 0})},toPresentation3(){return h.toPresentation3(this.unwrap())},toPresentation2(){return h.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(g,_=!0){return h.subscribe(()=>this.id?h.get(this.id):null,g,_)}};return image_S("items",y,h),image_S("annotations",y,h),image_S("structures",y,h),image_S("seeAlso",y,h),image_S("rendering",y,h),image_S("partOf",y,h),image_S("start",y,h,!1),image_S("supplementary",y,h),image_S("homepage",y,h),image_S("thumbnail",y,h),image_S("placeholderCanvas",y,h,!1),image_S("accompanyingCanvas",y,h,!1),image_S("provider",y,h),image_S("body",y,h),image_S("logo",y,h),y}(g,_),b=Object.create(A),k=Object.assign(b,h);return _&&k.reactive(),k}function image_ae(h){switch(h){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return h}var nx=class{constructor(h,g){var _;image_R(this,"options"),image_R(this,"store"),image_R(this,"emitter"),image_R(this,"isBatching",!1),image_R(this,"batchQueue",[]),image_R(this,"remoteFetcher"),image_R(this,"staticFetcher"),image_R(this,"defaultFetcher",h=>fetch(h).then(h=>h.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},h||{}),this.store=g||function(h={}){var g;let{enableDevtools:_=!1,iiifStoreName:y="iiif",defaultState:A={iiif:{entities:ke(),meta:{},mapping:{},requests:{}}},customReducers:b={}}=h,k=(g=Ue({[y]:ny,...b}),(h,_)=>_&&_.type===nd?_.payload.actions.reduce(g,h):_&&"@iiif/BATCH_IMPORT"===_.type?{...h,iiif:{...h.iiif,..._.payload.state}}:g(h,_)),w="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?Lt:(h,g)=>h;return It(zt(w(kt(k,A),{enabled:_})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:_=_||new Map,on:function(h,g){var y=_.get(h);y?y.push(g):_.set(h,[g])},off:function(h,g){var y=_.get(h);y&&(g?y.splice(y.indexOf(g)>>>0,1):_.set(h,[]))},emit:function(h,g){var y=_.get(h);y&&y.slice().map(function(h){h(g)}),(y=_.get("*"))&&y.slice().map(function(_){_(h,g)})}},this.remoteFetcher=image_ie(this,this.options.customFetcher),this.staticFetcher=image_ie(this,(h,g)=>g)}batch(h){this.isBatching=!0;try{h(this),this.isBatching=!1,this.dispatch(nh({actions:this.batchQueue}))}catch(h){throw this.batchQueue=[],this.isBatching=!1,h}this.batchQueue=[]}async asyncBatch(h){this.isBatching=!0;try{await h(this),this.isBatching=!1,this.dispatch(nh({actions:this.batchQueue}))}catch(h){throw this.batchQueue=[],this.isBatching=!1,h}this.batchQueue=[]}modifyEntityField(h,g,_){this.dispatch(t4.modifyEntityField({id:h.id,type:h.type,key:g,value:_}))}dispatch(h){if(this.isBatching)this.batchQueue.push(h);else{if(h.type===nd){for(let g of h.payload.actions)this.emitter.emit(g.type,{action:g,state:this.store.getState()});this.store.dispatch(h);let g=this.getState();for(let _ of h.payload.actions)this.emitter.emit(`after:${_.type}`,{action:_,state:g});return}this.emitter.emit(h.type,{action:h,state:this.store.getState()}),this.store.dispatch(h);let g=this.store.getState();this.emitter.emit(`after:${h.type}`,{action:h,state:g});return}}on(h,g){return this.emitter.on(h,g),()=>{this.emitter.off(h,g)}}serialize(h,g){return $e(this.getState().iiif,h,g)}toPresentation2(h){return this.serialize(h,ty)}toPresentation3(h){return this.serialize(h,tA)}hydrate(h,g,_={}){return this.get(h,g,{..._,skipSelfReturn:!1})}get(h,g,_={}){"string"!=typeof g&&(_=g||{},g=void 0);let{skipSelfReturn:y=!0}=_||{},A=_.parent?"string"==typeof _.parent?_.parent:_.parent.id:void 0;if(Array.isArray(h))return h.map(h=>this.get(h,_));let b=this.getState();if(chunk_W3DWL6UZ_v(h)&&!_.preserveSpecificResources&&(h=h.source),"string"==typeof h){let _=image_ae(g||b.iiif.mapping[h]);if(!_)return y?null:{id:h,type:"unknown"};h={id:h,type:_}}if(h&&h.partOf&&!A&&!_.skipPartOfCheck){let g=Array.isArray(h.partOf)?h.partOf[0]:h.partOf;g&&("string"==typeof g&&(A=g),"string"==typeof g.id&&(A=g.id))}let k=image_ae(g||(null==h?void 0:h.type)),w=null==h?void 0:h.id,R=b.iiif.entities[k];if(!R){let g=b.iiif.requests[w];return g&&g.resourceUri!==w?this.get(g.resourceUri,_):y?null:h}let B=R[h.id];if(B&&B[tl]){let h=B[tl].find(h=>A?h[tc]===A:h[tc]===B.id);return chunk_AXOUQGO3_oe(B,h)}return R[h.id]||(y?null:h)}select(h){return h(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(h,g){if(typeof h>"u")return this.get(g,{skipSelfReturn:!1});if("function"==typeof h)try{let _=h(this.get(g,{skipSelfReturn:!1})),i=h=>this.deep(h,_);return i.size=Array.isArray(_)?_.length:1,i}catch{let i=h=>this.deep(h,void 0);return i.size=0,i}let r=g=>this.deep(g,h);return r.size=Array.isArray(h)?h.length:1,r}loadManifest(h,g){let _="string"==typeof h?h:h.id;return this.load(_,g)}loadCollection(h,g){let _="string"==typeof h?h:h.id;return this.load(_,g)}load(h,g){let _="string"==typeof h?h:h.id;return g?Promise.resolve(this.staticFetcher(_,g)):Promise.resolve(this.remoteFetcher(_))}loadSync(h,g){let _="string"==typeof h?h:h.id;return this.staticFetcher(_,g)}loadManifestSync(h,g){let _="string"==typeof h?h:h.id;return this.loadSync(_,g)}loadCollectionSync(h,g){let _="string"==typeof h?h:h.id;return this.loadSync(_,g)}areInputsEqual(h,g){return image_re(h,g)}subscribe(h,g,_){return typeof _>"u"&&(typeof g>"u"||!1===g||!0===g)&&(_=g,g=h,h=h=>h),this.store.subscribe(h,h=>g(h,this),{equalityFn:image_re,fireImmediately:!_})}async ensureLoaded(h){let g="string"==typeof h?h:h.id;this.requestStatus(g)||await this.load(g)}requestStatus(h){return this.select(g=>g.iiif.requests[h])}getResourceMeta(h,g){let _=this.getState().iiif.meta[h];if(_)return g?_[g]:_}getObject(h,g,_={}){let{reactive:y,...A}=_;return image_O(this.get(h,g,A),this,y)}async loadObject(h,g){return image_O(await this.load(h,g),this)}async loadManifestObject(h,g){return image_O(await this.loadManifest(h,g),this)}async loadCollectionObject(h,g){return image_O(await this.loadCollection(h,g),this)}wrapObject(h){return image_O(this.get(h,{skipSelfReturn:!1}),this)}isWrapped(h){return!!h[nS]}setMetaValue([h,g,_],y){this.dispatch("function"==typeof y?n_.setMetaValueDynamic({id:h,meta:g,key:_,updateValue:y}):n_.setMetaValue({id:h,meta:g,key:_,value:y}))}};let nI={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}},nw=(R=null==(ep=null==(eh=null==nI?void 0:nI.informationPanel)?void 0:eh.vtt)?void 0:ep.autoScroll,b={...nI.informationPanel.vtt.autoScroll},"object"==typeof R&&(b="enabled"in R?R:{enabled:!0,settings:R}),!1===R&&(b.enabled=!1),function({behavior:h,block:g}){let _=["auto","instant","smooth"],y=["center","end","nearest","start"];if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`);if(!y.includes(g))throw TypeError(`'${g}' not in ${y.join(" | ")}`)}(b.settings),b),nO={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:nI,customDisplays:[],plugins:[],isAutoScrollEnabled:nw.enabled,isAutoScrolling:!1,isInformationOpen:null==(ef=null==nI?void 0:nI.informationPanel)?void 0:ef.open,isLoaded:!1,isUserScrolling:void 0,vault:new nx,contentSearchVault:new nx,openSeadragonViewer:null,viewerId:esm_browser_v4()},nN=e$.createContext(nO),nR=e$.createContext(nO);function image_le(){let h=e$.useContext(nN);if(void 0===h)throw Error("useViewerState must be used within a ViewerProvider");return h}function image_$e(){let h=e$.useContext(nR);if(void 0===h)throw Error("useViewerDispatch must be used within a ViewerProvider");return h}let nD=tO("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),image_C=({className:h,id:g,label:_,children:y})=>{let A=_.toLowerCase().replace(/\s/g,"-");return e$.createElement(nD,{id:g,className:h,"data-testid":"openseadragon-button","data-button":A},e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${g}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},e$.createElement("title",{id:`${g}-svg-title`},_),y))},nL=tO("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),cr=()=>e$.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),lr=()=>e$.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),ur=()=>e$.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),dr=()=>e$.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),image_ue=()=>e$.createElement(e$.Fragment,null,e$.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),e$.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),fr=({_cloverViewerHasPlaceholder:h,config:g})=>{let _=image_le(),{activeCanvas:y,plugins:A,vault:b}=_,k=b.get({id:y,type:"Canvas"});return e$.createElement(nL,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:h},g.showZoomControl&&e$.createElement(e$.Fragment,null,e$.createElement(image_C,{id:g.zoomInButton,label:"zoom in"},e$.createElement(cr,null)),e$.createElement(image_C,{id:g.zoomOutButton,label:"zoom out"},e$.createElement(lr,null))),g.showFullPageControl&&e$.createElement(image_C,{id:g.fullPageButton,label:"full page"},e$.createElement(ur,null)),g.showRotationControl&&e$.createElement(e$.Fragment,null,e$.createElement(image_C,{id:g.rotateRightButton,label:"rotate right"},e$.createElement(image_ue,null)),e$.createElement(image_C,{id:g.rotateLeftButton,label:"rotate left"},e$.createElement(image_ue,null))),g.showHomeControl&&e$.createElement(image_C,{id:g.homeButton,label:"reset"},e$.createElement(dr,null)),A.filter(h=>{var g;return null==(g=h.imageViewer)?void 0:g.controls}).map((h,g)=>{var _,y,A,b;let w=null==(y=null==(_=h.imageViewer)?void 0:_.controls)?void 0:y.component;return e$.createElement(w,{key:g,...null==(b=null==(A=null==h?void 0:h.imageViewer)?void 0:A.controls)?void 0:b.componentProps,canvas:k,useViewerDispatch:image_$e,useViewerState:image_le})}))},hr=({ariaLabel:h,config:g,uri:_,_cloverViewerHasPlaceholder:y,imageType:A,openSeadragonCallback:b})=>{let[k,w]=(0,e$.useState)(),[R,B]=(0,e$.useState)(),H=image_$e(),z=(0,e$.useRef)(!1);return(0,e$.useEffect)(()=>(z.current||(z.current=!0,R||B(eH(g))),()=>null==R?void 0:R.destroy()),[]),(0,e$.useEffect)(()=>{R&&b&&b(R)},[R,b]),(0,e$.useEffect)(()=>{R&&_!==k&&(null==R||R.forceRedraw(),w(_))},[R,k,_]),(0,e$.useEffect)(()=>{if(k&&R)switch(A){case"simpleImage":null==R||R.addSimpleImage({url:k});break;case"tiledImage":Je(k).then(h=>{try{if(!h)throw Error(`No tile source found for ${k}`);null==R||R.addTiledImage({tileSource:h,success:()=>{"function"==typeof H&&H({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(h){console.error(h)}});break;default:null==R||R.close(),console.warn(`Unable to render ${k} in OpenSeadragon as type: "${A}"`)}},[A,k]),e$.createElement(tU,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":g.id,hasNavigator:g.showNavigator},e$.createElement(fr,{_cloverViewerHasPlaceholder:y,config:g}),g.showNavigator&&e$.createElement(tF,{id:g.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),e$.createElement(tB,{id:g.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...h&&{"aria-label":h}}))},mr=(h,g="none")=>{if(!h)return null;if("string"==typeof h)return[h];if(!h[g]){let g=Object.getOwnPropertyNames(h);if(g.length>0)return h[g[0]]}return h[g]&&Array.isArray(h[g])?h[g]:null},gr=(h,g="none",_=", ")=>{let y=mr(h,g);return Array.isArray(y)?y.join(`${_}`):y},Tr=({_cloverViewerHasPlaceholder:h=!1,body:g,instanceId:_,isTiledImage:y=!1,label:A,src:b="",openSeadragonCallback:k,openSeadragonConfig:w={}})=>{let R=_||esm_browser_v4(),B="string"==typeof A?A:gr(A),H={id:`openseadragon-${R}`,navigatorId:`openseadragon-navigator-${R}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${R}`,homeButton:`reset-${R}`,rotateLeftButton:`rotateLeft-${R}`,rotateRightButton:`rotateRight-${R}`,zoomInButton:`zoomIn-${R}`,zoomOutButton:`zoomOut-${R}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...w},{imageType:z,uri:$}=g?Xe(g):image_Ke(b,y);return $?e$.createElement(eG.SV,{FallbackComponent:st},e$.createElement(hr,{_cloverViewerHasPlaceholder:h,ariaLabel:B,config:H,imageType:z,key:R,uri:$,openSeadragonCallback:k})):null};var nM=_(1830),nP=_(1036),nF=_(3041),nB=_(1675),nU=_(3686),nH=_(4921),nG=_(2168);let nz="object"==typeof self?self:globalThis,deserializer=(h,g)=>{let as=(g,_)=>(h.set(_,g),g),unpair=_=>{if(h.has(_))return h.get(_);let[y,A]=g[_];switch(y){case 0:case -1:return as(A,_);case 1:{let h=as([],_);for(let g of A)h.push(unpair(g));return h}case 2:{let h=as({},_);for(let[g,_]of A)h[unpair(g)]=unpair(_);return h}case 3:return as(new Date(A),_);case 4:{let{source:h,flags:g}=A;return as(new RegExp(h,g),_)}case 5:{let h=as(new Map,_);for(let[g,_]of A)h.set(unpair(g),unpair(_));return h}case 6:{let h=as(new Set,_);for(let g of A)h.add(unpair(g));return h}case 7:{let{name:h,message:g}=A;return as(new nz[h](g),_)}case 8:return as(BigInt(A),_);case"BigInt":return as(Object(BigInt(A)),_)}return as(new nz[y](A),_)};return unpair},deserialize=h=>deserializer(new Map,h)(0),{toString:n$}={},{keys:nV}=Object,typeOf=h=>{let g=typeof h;if("object"!==g||!h)return[0,g];let _=n$.call(h).slice(8,-1);switch(_){case"Array":return[1,""];case"Object":return[2,""];case"Date":return[3,""];case"RegExp":return[4,""];case"Map":return[5,""];case"Set":return[6,""]}return _.includes("Array")?[1,_]:_.includes("Error")?[7,_]:[2,_]},shouldSkip=([h,g])=>0===h&&("function"===g||"symbol"===g),serializer=(h,g,_,y)=>{let as=(h,g)=>{let A=y.push(h)-1;return _.set(g,A),A},pair=y=>{if(_.has(y))return _.get(y);let[A,b]=typeOf(y);switch(A){case 0:{let g=y;switch(b){case"bigint":A=8,g=y.toString();break;case"function":case"symbol":if(h)throw TypeError("unable to serialize "+b);g=null;break;case"undefined":return as([-1],y)}return as([A,g],y)}case 1:{if(b)return as([b,[...y]],y);let h=[],g=as([A,h],y);for(let g of y)h.push(pair(g));return g}case 2:{if(b)switch(b){case"BigInt":return as([b,y.toString()],y);case"Boolean":case"Number":case"String":return as([b,y.valueOf()],y)}if(g&&"toJSON"in y)return pair(y.toJSON());let _=[],k=as([A,_],y);for(let g of nV(y))(h||!shouldSkip(typeOf(y[g])))&&_.push([pair(g),pair(y[g])]);return k}case 3:return as([A,y.toISOString()],y);case 4:{let{source:h,flags:g}=y;return as([A,{source:h,flags:g}],y)}case 5:{let g=[],_=as([A,g],y);for(let[_,A]of y)(h||!(shouldSkip(typeOf(_))||shouldSkip(typeOf(A))))&&g.push([pair(_),pair(A)]);return _}case 6:{let g=[],_=as([A,g],y);for(let _ of y)(h||!shouldSkip(typeOf(_)))&&g.push(pair(_));return _}}let{message:k}=y;return as([A,{name:b,message:k}],y)};return pair},serialize=(h,{json:g,lossy:_}={})=>{let y=[];return serializer(!(g||_),!!g,new Map,y)(h),y};var nQ="function"==typeof structuredClone?(h,g)=>g&&("json"in g||"lossy"in g)?deserialize(serialize(h,g)):structuredClone(h):(h,g)=>deserialize(serialize(h,g));let Schema=class Schema{constructor(h,g,_){this.property=h,this.normal=g,_&&(this.space=_)}};function merge(h,g){let _={},y={},A=-1;for(;++A<h.length;)Object.assign(_,h[A].property),Object.assign(y,h[A].normal);return new Schema(_,y,g)}function normalize(h){return h.toLowerCase()}Schema.prototype.property={},Schema.prototype.normal={},Schema.prototype.space=null;let Info=class Info{constructor(h,g){this.property=h,this.attribute=g}};Info.prototype.space=null,Info.prototype.boolean=!1,Info.prototype.booleanish=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.number=!1,Info.prototype.commaSeparated=!1,Info.prototype.spaceSeparated=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.mustUseProperty=!1,Info.prototype.defined=!1;let nj=0,nY=increment(),nq=increment(),nW=increment(),nX=increment(),nK=increment(),nJ=increment(),nZ=increment();function increment(){return 2**++nj}let n0=Object.keys(eB);let DefinedInfo=class DefinedInfo extends Info{constructor(h,g,_,y){var A,b;let k=-1;if(super(h,g),y&&(this.space=y),"number"==typeof _)for(;++k<n0.length;){let h=n0[k];A=n0[k],(b=(_&eB[h])===eB[h])&&(this[A]=b)}}};DefinedInfo.prototype.defined=!0;let n1={}.hasOwnProperty;function create(h){let g;let _={},y={};for(g in h.properties)if(n1.call(h.properties,g)){let A=h.properties[g],b=new DefinedInfo(g,h.transform(h.attributes||{},g),A,h.space);h.mustUseProperty&&h.mustUseProperty.includes(g)&&(b.mustUseProperty=!0),_[g]=b,y[normalize(g)]=g,y[normalize(b.attribute)]=g}return new Schema(_,y,h.space)}let n2=create({space:"xlink",transform:(h,g)=>"xlink:"+g.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),n3=create({space:"xml",transform:(h,g)=>"xml:"+g.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(h,g){return g in h?h[g]:g}function caseInsensitiveTransform(h,g){return caseSensitiveTransform(h,g.toLowerCase())}let n4=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),n5=create({transform:(h,g)=>"role"===g?g:"aria-"+g.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:nq,ariaAutoComplete:null,ariaBusy:nq,ariaChecked:nq,ariaColCount:nX,ariaColIndex:nX,ariaColSpan:nX,ariaControls:nK,ariaCurrent:null,ariaDescribedBy:nK,ariaDetails:null,ariaDisabled:nq,ariaDropEffect:nK,ariaErrorMessage:null,ariaExpanded:nq,ariaFlowTo:nK,ariaGrabbed:nq,ariaHasPopup:null,ariaHidden:nq,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nK,ariaLevel:nX,ariaLive:null,ariaModal:nq,ariaMultiLine:nq,ariaMultiSelectable:nq,ariaOrientation:null,ariaOwns:nK,ariaPlaceholder:null,ariaPosInSet:nX,ariaPressed:nq,ariaReadOnly:nq,ariaRelevant:null,ariaRequired:nq,ariaRoleDescription:nK,ariaRowCount:nX,ariaRowIndex:nX,ariaRowSpan:nX,ariaSelected:nq,ariaSetSize:nX,ariaSort:null,ariaValueMax:nX,ariaValueMin:nX,ariaValueNow:nX,ariaValueText:null,role:null}}),n6=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nJ,acceptCharset:nK,accessKey:nK,action:null,allow:null,allowFullScreen:nY,allowPaymentRequest:nY,allowUserMedia:nY,alt:null,as:null,async:nY,autoCapitalize:null,autoComplete:nK,autoFocus:nY,autoPlay:nY,blocking:nK,capture:nY,charSet:null,checked:nY,cite:null,className:nK,cols:nX,colSpan:null,content:null,contentEditable:nq,controls:nY,controlsList:nK,coords:nX|nJ,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nY,defer:nY,dir:null,dirName:null,disabled:nY,download:nW,draggable:nq,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nY,formTarget:null,headers:nK,height:nX,hidden:nY,high:nX,href:null,hrefLang:null,htmlFor:nK,httpEquiv:nK,id:null,imageSizes:null,imageSrcSet:null,inert:nY,inputMode:null,integrity:null,is:null,isMap:nY,itemId:null,itemProp:nK,itemRef:nK,itemScope:nY,itemType:nK,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nY,low:nX,manifest:null,max:null,maxLength:nX,media:null,method:null,min:null,minLength:nX,multiple:nY,muted:nY,name:null,nonce:null,noModule:nY,noValidate:nY,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nY,optimum:nX,pattern:null,ping:nK,placeholder:null,playsInline:nY,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nY,referrerPolicy:null,rel:nK,required:nY,reversed:nY,rows:nX,rowSpan:nX,sandbox:nK,scope:null,scoped:nY,seamless:nY,selected:nY,shape:null,size:nX,sizes:null,slot:null,span:nX,spellCheck:nq,src:null,srcDoc:null,srcLang:null,srcSet:null,start:nX,step:null,style:null,tabIndex:nX,target:null,title:null,translate:null,type:null,typeMustMatch:nY,useMap:null,value:nq,width:nX,wrap:null,align:null,aLink:null,archive:nK,axis:null,background:null,bgColor:null,border:nX,borderColor:null,bottomMargin:nX,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nY,declare:nY,event:null,face:null,frame:null,frameBorder:null,hSpace:nX,leftMargin:nX,link:null,longDesc:null,lowSrc:null,marginHeight:nX,marginWidth:nX,noResize:nY,noHref:nY,noShade:nY,noWrap:nY,object:null,profile:null,prompt:null,rev:null,rightMargin:nX,rules:null,scheme:null,scrolling:nq,standby:null,summary:null,text:null,topMargin:nX,valueType:null,version:null,vAlign:null,vLink:null,vSpace:nX,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nY,disableRemotePlayback:nY,prefix:null,property:null,results:nX,security:null,unselectable:null}}),n8=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:nZ,accentHeight:nX,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:nX,amplitude:nX,arabicForm:null,ascent:nX,attributeName:null,attributeType:null,azimuth:nX,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:nX,by:null,calcMode:null,capHeight:nX,className:nK,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:nX,diffuseConstant:nX,direction:null,display:null,dur:null,divisor:nX,dominantBaseline:null,download:nY,dx:null,dy:null,edgeMode:null,editable:null,elevation:nX,enableBackground:null,end:null,event:null,exponent:nX,externalResourcesRequired:null,fill:null,fillOpacity:nX,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:nJ,g2:nJ,glyphName:nJ,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:nX,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:nX,horizOriginX:nX,horizOriginY:nX,id:null,ideographic:nX,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:nX,k:nX,k1:nX,k2:nX,k3:nX,k4:nX,kernelMatrix:nZ,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:nX,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:nX,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:nX,overlineThickness:nX,paintOrder:null,panose1:null,path:null,pathLength:nX,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nK,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:nX,pointsAtY:nX,pointsAtZ:nX,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nZ,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nZ,rev:nZ,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nZ,requiredFeatures:nZ,requiredFonts:nZ,requiredFormats:nZ,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:nX,specularExponent:nX,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:nX,strikethroughThickness:nX,string:null,stroke:null,strokeDashArray:nZ,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:nX,strokeOpacity:nX,strokeWidth:null,style:null,surfaceScale:nX,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nZ,tabIndex:nX,tableValues:null,target:null,targetX:nX,targetY:nX,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nZ,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:nX,underlineThickness:nX,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:nX,values:null,vAlphabetic:nX,vMathematical:nX,vectorEffect:null,vHanging:nX,vIdeographic:nX,version:null,vertAdvY:nX,vertOriginX:nX,vertOriginY:nX,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:nX,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),n9=merge([n3,n2,n4,n5,n6],"html"),n7=merge([n3,n2,n4,n5,n8],"svg");function parse(h){let g=[],_=String(h||""),y=_.indexOf(","),A=0,b=!1;for(;!b;){-1===y&&(y=_.length,b=!0);let h=_.slice(A,y).trim();(h||!b)&&g.push(h),A=y+1,y=_.indexOf(",",A)}return g}function comma_separated_tokens_stringify(h,g){let _=g||{},y=""===h[h.length-1]?[...h,""]:h;return y.join((_.padRight?" ":"")+","+(!1===_.padLeft?"":" ")).trim()}let re=/[#.]/g,rt=/^data[-\w.:]+$/i,rn=/-[a-z]/g,rr=/[A-Z]/g;function find(h,g){let _=normalize(g),y=g,A=Info;if(_ in h.normal)return h.property[h.normal[_]];if(_.length>4&&"data"===_.slice(0,4)&&rt.test(g)){if("-"===g.charAt(4)){let h=g.slice(5).replace(rn,camelcase);y="data"+h.charAt(0).toUpperCase()+h.slice(1)}else{let h=g.slice(4);if(!rn.test(h)){let _=h.replace(rr,kebab);"-"!==_.charAt(0)&&(_="-"+_),g="data"+_}}A=DefinedInfo}return new A(y,g)}function kebab(h){return"-"+h.toLowerCase()}function camelcase(h){return h.charAt(1).toUpperCase()}function space_separated_tokens_parse(h){let g=String(h||"").trim();return g?g.split(/[ \t\n\r\f]+/g):[]}function space_separated_tokens_stringify(h){return h.join(" ").trim()}let rl={}.hasOwnProperty;function createH(h,g,_){let y=_&&function(h){let g={},_=-1;for(;++_<h.length;)g[h[_].toLowerCase()]=h[_];return g}(_);return function(_,A,...b){let k,w=-1;if(null==_)k={type:"root",children:[]},b.unshift(A);else if((k=function(h,g){let _,y;let A=h||"",b={},k=0;for(;k<A.length;){re.lastIndex=k;let h=re.exec(A),g=A.slice(k,h?h.index:A.length);g&&(_?"#"===_?b.id=g:Array.isArray(b.className)?b.className.push(g):b.className=[g]:y=g,k+=g.length),h&&(_=h[0],k++)}return{type:"element",tagName:y||g||"div",properties:b,children:[]}}(_,g)).tagName=k.tagName.toLowerCase(),y&&rl.call(y,k.tagName)&&(k.tagName=y[k.tagName]),function(h){if(null===h||"object"!=typeof h||Array.isArray(h))return!0;if("string"!=typeof h.type)return!1;let g=Object.keys(h);for(let _ of g){let g=h[_];if(g&&"object"==typeof g){if(!Array.isArray(g))return!0;for(let h of g)if("number"!=typeof h&&"string"!=typeof h)return!0}}return!!("children"in h&&Array.isArray(h.children))}(A))b.unshift(A);else{let g;for(g in A)rl.call(A,g)&&function(h,g,_,y){let A;let b=find(h,_),k=-1;if(null!=y){if("number"==typeof y){if(Number.isNaN(y))return;A=y}else A="boolean"==typeof y?y:"string"==typeof y?b.spaceSeparated?space_separated_tokens_parse(y):b.commaSeparated?parse(y):b.commaOrSpaceSeparated?space_separated_tokens_parse(parse(y).join(" ")):parsePrimitive(b,b.property,y):Array.isArray(y)?y.concat():"style"===b.property?function(h){let g;let _=[];for(g in h)rl.call(h,g)&&_.push([g,h[g]].join(": "));return _.join("; ")}(y):String(y);if(Array.isArray(A)){let h=[];for(;++k<A.length;){let g=parsePrimitive(b,b.property,A[k]);h[k]=g}A=h}if("className"===b.property&&Array.isArray(g.className)){let h=A;A=g.className.concat(h)}g[b.property]=A}}(h,k.properties,g,A[g])}for(;++w<b.length;)!function addChild(h,g){let _=-1;if(null==g);else if("string"==typeof g||"number"==typeof g)h.push({type:"text",value:String(g)});else if(Array.isArray(g))for(;++_<g.length;)addChild(h,g[_]);else if("object"==typeof g&&"type"in g)"root"===g.type?addChild(h,g.children):h.push(g);else throw Error("Expected node, nodes, or string, got `"+g+"`")}(k.children,b[w]);return"element"===k.type&&"template"===k.tagName&&(k.content={type:"root",children:k.children},k.children=[]),k}}function parsePrimitive(h,g,_){if("string"==typeof _){if(h.number&&_&&!Number.isNaN(Number(_)))return Number(_);if((h.boolean||h.overloadedBoolean)&&(""===_||normalize(_)===normalize(g)))return!0}return _}let rc=createH(n9,"div"),ru=createH(n7,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]);function next(h,g){let _=h.indexOf("\r",g),y=h.indexOf("\n",g);return -1===y?_:-1===_||_+1===y?y:_<y?_:y}let rd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rh={}.hasOwnProperty,rp=Object.prototype;function one(h,g){let _;switch(g.nodeName){case"#comment":return _={type:"comment",value:g.data},patch(h,g,_),_;case"#document":case"#document-fragment":{let y="mode"in g&&("quirks"===g.mode||"limited-quirks"===g.mode);if(_={type:"root",children:lib_all(h,g.childNodes),data:{quirksMode:y}},h.file&&h.location){let g=String(h.file),y=function(h){let g=String(h),_=[];return{toOffset:function(h){if(h&&"number"==typeof h.line&&"number"==typeof h.column&&!Number.isNaN(h.line)&&!Number.isNaN(h.column)){for(;_.length<h.line;){let h=_[_.length-1],y=next(g,h),A=-1===y?g.length+1:y+1;if(h===A)break;_.push(A)}let y=(h.line>1?_[h.line-2]:0)+h.column-1;if(y<_[h.line-1])return y}},toPoint:function(h){if("number"==typeof h&&h>-1&&h<=g.length){let y=0;for(;;){let A=_[y];if(void 0===A){let h=next(g,_[y-1]);A=-1===h?g.length+1:h+1,_[y]=A}if(A>h)return{line:y+1,column:h-(y>0?_[y-1]:0)+1,offset:h};y++}}}}}(g),A=y.toPoint(0),b=y.toPoint(g.length);_.position={start:A,end:b}}return _}case"#documentType":return patch(h,g,_={type:"doctype"}),_;case"#text":return _={type:"text",value:g.value},patch(h,g,_),_;default:return function(h,g){let _=h.schema;h.schema=g.namespaceURI===rd.svg?n7:n9;let y=-1,A={};for(;++y<g.attrs.length;){let h=g.attrs[y],_=(h.prefix?h.prefix+":":"")+h.name;rh.call(rp,_)||(A[_]=h.value)}let b="svg"===h.schema.space?ru:rc,k=b(g.tagName,A,lib_all(h,g.childNodes));if(patch(h,g,k),"template"===k.tagName){let _=g.sourceCodeLocation,y=_&&_.startTag&&position(_.startTag),A=_&&_.endTag&&position(_.endTag),b=one(h,g.content);y&&A&&h.file&&(b.position={start:y.end,end:A.start}),k.content=b}return h.schema=_,k}(h,g)}}function lib_all(h,g){let _=-1,y=[];for(;++_<g.length;){let A=one(h,g[_]);y.push(A)}return y}function patch(h,g,_){if("sourceCodeLocation"in g&&g.sourceCodeLocation&&h.file){let y=function(h,g,_){let y=position(_);if("element"===g.type){let A=g.children[g.children.length-1];if(y&&!_.endTag&&A&&A.position&&A.position.end&&(y.end=Object.assign({},A.position.end)),h.verbose){let y;let A={};if(_.attrs)for(y in _.attrs)rh.call(_.attrs,y)&&(A[find(h.schema,y).property]=position(_.attrs[y]));_.startTag;let b=position(_.startTag),k=_.endTag?position(_.endTag):void 0,w={opening:b};k&&(w.closing=k),w.properties=A,g.data={position:w}}}return y}(h,_,g.sourceCodeLocation);y&&(h.location=!0,_.position=y)}}function position(h){let g=point({line:h.startLine,column:h.startCol,offset:h.startOffset}),_=point({line:h.endLine,column:h.endCol,offset:h.endOffset});return g||_?{start:g,end:_}:void 0}function point(h){return h.line&&h.column?h:void 0}let rf={}.hasOwnProperty;function zwitch(h,g){let _=g||{};function one(g,..._){let y=one.invalid,A=one.handlers;if(g&&rf.call(g,h)){let _=String(g[h]);y=rf.call(A,_)?A[_]:one.unknown}if(y)return y.call(this,g,..._)}return one.handlers=_.handlers||{},one.invalid=_.invalid,one.unknown=_.unknown,one}let rm={},rg={}.hasOwnProperty,rE=zwitch("type",{handlers:{root:function(h,g){let _={nodeName:"#document",mode:(h.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return _.childNodes=hast_util_to_parse5_lib_all(h.children,_,g),lib_patch(h,_),_},element:function(h,g){let _;let y=g;"element"===h.type&&"svg"===h.tagName.toLowerCase()&&"html"===g.space&&(y=n7);let A=[];if(h.properties){for(_ in h.properties)if("children"!==_&&rg.call(h.properties,_)){let g=function(h,g,_){let y=find(h,g);if(!1===_||null==_||"number"==typeof _&&Number.isNaN(_)||!_&&y.boolean)return;Array.isArray(_)&&(_=y.commaSeparated?comma_separated_tokens_stringify(_):space_separated_tokens_stringify(_));let A={name:y.attribute,value:!0===_?"":String(_)};if(y.space&&"html"!==y.space&&"svg"!==y.space){let h=A.name.indexOf(":");h<0?A.prefix="":(A.name=A.name.slice(h+1),A.prefix=y.attribute.slice(0,h)),A.namespace=rd[y.space]}return A}(y,_,h.properties[_]);g&&A.push(g)}}let b=y.space,k={nodeName:h.tagName,tagName:h.tagName,attrs:A,namespaceURI:rd[b],childNodes:[],parentNode:null};return k.childNodes=hast_util_to_parse5_lib_all(h.children,k,y),lib_patch(h,k),"template"===h.tagName&&h.content&&(k.content=function(h,g){let _={nodeName:"#document-fragment",childNodes:[]};return _.childNodes=hast_util_to_parse5_lib_all(h.children,_,g),lib_patch(h,_),_}(h.content,y)),k},text:function(h){let g={nodeName:"#text",value:h.value,parentNode:null};return lib_patch(h,g),g},comment:function(h){let g={nodeName:"#comment",data:h.value,parentNode:null};return lib_patch(h,g),g},doctype:function(h){let g={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return lib_patch(h,g),g}}});function hast_util_to_parse5_lib_all(h,g,_){let y=-1,A=[];if(h)for(;++y<h.length;){let b=rE(h[y],_);b.parentNode=g,A.push(b)}return A}function lib_patch(h,g){let _=h.position;_&&_.start&&_.end&&(_.start.offset,_.end.offset,g.sourceCodeLocation={startLine:_.start.line,startCol:_.start.column,startOffset:_.start.offset,endLine:_.end.line,endCol:_.end.column,endOffset:_.end.offset})}let r_=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],rT=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);(B=em=em||(em={}))[B.EOF=-1]="EOF",B[B.NULL=0]="NULL",B[B.TABULATION=9]="TABULATION",B[B.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",B[B.LINE_FEED=10]="LINE_FEED",B[B.FORM_FEED=12]="FORM_FEED",B[B.SPACE=32]="SPACE",B[B.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",B[B.QUOTATION_MARK=34]="QUOTATION_MARK",B[B.NUMBER_SIGN=35]="NUMBER_SIGN",B[B.AMPERSAND=38]="AMPERSAND",B[B.APOSTROPHE=39]="APOSTROPHE",B[B.HYPHEN_MINUS=45]="HYPHEN_MINUS",B[B.SOLIDUS=47]="SOLIDUS",B[B.DIGIT_0=48]="DIGIT_0",B[B.DIGIT_9=57]="DIGIT_9",B[B.SEMICOLON=59]="SEMICOLON",B[B.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",B[B.EQUALS_SIGN=61]="EQUALS_SIGN",B[B.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",B[B.QUESTION_MARK=63]="QUESTION_MARK",B[B.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",B[B.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",B[B.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",B[B.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",B[B.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",B[B.GRAVE_ACCENT=96]="GRAVE_ACCENT",B[B.LATIN_SMALL_A=97]="LATIN_SMALL_A",B[B.LATIN_SMALL_F=102]="LATIN_SMALL_F",B[B.LATIN_SMALL_X=120]="LATIN_SMALL_X",B[B.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",B[B.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER";let rv={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(h){return h>=55296&&h<=57343}function isControlCodePoint(h){return 32!==h&&10!==h&&13!==h&&9!==h&&12!==h&&h>=1&&h<=31||h>=127&&h<=159}function isUndefinedCodePoint(h){return h>=64976&&h<=65007||rT.has(h)}(H=eg=eg||(eg={})).controlCharacterInInputStream="control-character-in-input-stream",H.noncharacterInInputStream="noncharacter-in-input-stream",H.surrogateInInputStream="surrogate-in-input-stream",H.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",H.endTagWithAttributes="end-tag-with-attributes",H.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",H.unexpectedSolidusInTag="unexpected-solidus-in-tag",H.unexpectedNullCharacter="unexpected-null-character",H.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",H.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",H.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",H.missingEndTagName="missing-end-tag-name",H.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",H.unknownNamedCharacterReference="unknown-named-character-reference",H.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",H.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",H.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",H.eofBeforeTagName="eof-before-tag-name",H.eofInTag="eof-in-tag",H.missingAttributeValue="missing-attribute-value",H.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",H.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",H.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",H.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",H.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",H.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",H.missingDoctypePublicIdentifier="missing-doctype-public-identifier",H.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",H.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",H.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",H.cdataInHtmlContent="cdata-in-html-content",H.incorrectlyOpenedComment="incorrectly-opened-comment",H.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",H.eofInDoctype="eof-in-doctype",H.nestedComment="nested-comment",H.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",H.eofInComment="eof-in-comment",H.incorrectlyClosedComment="incorrectly-closed-comment",H.eofInCdata="eof-in-cdata",H.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",H.nullCharacterReference="null-character-reference",H.surrogateCharacterReference="surrogate-character-reference",H.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",H.controlCharacterReference="control-character-reference",H.noncharacterCharacterReference="noncharacter-character-reference",H.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",H.missingDoctypeName="missing-doctype-name",H.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",H.duplicateAttribute="duplicate-attribute",H.nonConformingDoctype="non-conforming-doctype",H.missingDoctype="missing-doctype",H.misplacedDoctype="misplaced-doctype",H.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",H.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",H.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",H.openElementsLeftAfterEof="open-elements-left-after-eof",H.abandonedHeadElementChild="abandoned-head-element-child",H.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",H.nestedNoscriptInHead="nested-noscript-in-head",H.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";let Preprocessor=class Preprocessor{constructor(h){this.handler=h,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(h){let{line:g,col:_,offset:y}=this;return{code:h,startLine:g,endLine:g,startCol:_,endCol:_,startOffset:y,endOffset:y}}_err(h){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(h)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(h){if(this.pos!==this.html.length-1){let g=this.html.charCodeAt(this.pos+1);if(g>=56320&&g<=57343)return this.pos++,this._addGap(),(h-55296)*1024+9216+g}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,em.EOF;return this._err(eg.surrogateInInputStream),h}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(h,g){this.html.length>0?this.html+=h:this.html=h,this.endOfChunkHit=!1,this.lastChunkWritten=g}insertHtmlAtCurrentPos(h){this.html=this.html.substring(0,this.pos+1)+h+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(h,g){if(this.pos+h.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(g)return this.html.startsWith(h,this.pos);for(let g=0;g<h.length;g++){let _=32|this.html.charCodeAt(this.pos+g);if(_!==h.charCodeAt(g))return!1}return!0}peek(h){let g=this.pos+h;if(g>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,em.EOF;let _=this.html.charCodeAt(g);return _===em.CARRIAGE_RETURN?em.LINE_FEED:_}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,em.EOF;let h=this.html.charCodeAt(this.pos);if(h===em.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,em.LINE_FEED;if(h===em.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,isSurrogate(h)&&(h=this._processSurrogate(h));let g=null===this.handler.onParseError||h>31&&h<127||h===em.LINE_FEED||h===em.CARRIAGE_RETURN||h>159&&h<64976;return g||this._checkForProblematicCharacters(h),h}_checkForProblematicCharacters(h){isControlCodePoint(h)?this._err(eg.controlCharacterInInputStream):isUndefinedCodePoint(h)&&this._err(eg.noncharacterInInputStream)}retreat(h){for(this.pos-=h;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};function getTokenAttr(h,g){for(let _=h.attrs.length-1;_>=0;_--)if(h.attrs[_].name===g)return h.attrs[_].value;return null}(z=eE=eE||(eE={}))[z.CHARACTER=0]="CHARACTER",z[z.NULL_CHARACTER=1]="NULL_CHARACTER",z[z.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",z[z.START_TAG=3]="START_TAG",z[z.END_TAG=4]="END_TAG",z[z.COMMENT=5]="COMMENT",z[z.DOCTYPE=6]="DOCTYPE",z[z.EOF=7]="EOF",z[z.HIBERNATION=8]="HIBERNATION";var ry=new Uint16Array('ᵁ<\xd5ıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\x00\x00\x00\x00\x00\x00ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig耻\xc6䃆P耻&䀦cute耻\xc1䃁reve;䄂Āiyx}rc耻\xc2䃂;䐐r;쀀\ud835\udd04rave耻\xc0䃀pha;䎑acr;䄀d;橓Āgp\x9d\xa1on;䄄f;쀀\ud835\udd38plyFunction;恡ing耻\xc5䃅Ācs\xbe\xc3r;쀀\ud835\udc9cign;扔ilde耻\xc3䃃ml耻\xc4䃄Ѐaceforsu\xe5\xfb\xfeėĜĢħĪĀcr\xea\xf2kslash;或Ŷ\xf6\xf8;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀\ud835\udd05pf;쀀\ud835\udd39eve;䋘c\xf2ēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻\xa9䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻\xc7䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷\xf2ſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀\ud835\udc9epĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀\ud835\udd07Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\x00\x00\x00͔͂\x00Ѕf;쀀\ud835\udd3bƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegra\xecȹoɴ͹\x00\x00ͻ\xbb͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔e\xe5ˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\x00\x00ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\x00ц\x00ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\x00ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀\ud835\udc9frok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻\xd0䃐cute耻\xc9䃉ƀaiyӒӗӜron;䄚rc耻\xca䃊;䐭ot;䄖r;쀀\ud835\udd08rave耻\xc8䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\x00\x00ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀\ud835\udd3csilon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻\xcb䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀\ud835\udd09lledɓ֗\x00\x00֣mallSquare;旼erySmallSquare;斪Ͱֺ\x00ֿ\x00\x00ׄf;쀀\ud835\udd3dAll;戀riertrf;愱c\xf2׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀\ud835\udd0a;拙pf;쀀\ud835\udd3eeater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀\ud835\udca2;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\x00ڲf;愍izontalLine;攀Āctۃۅ\xf2کrok;䄦mpńېۘownHum\xf0įqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻\xcd䃍Āiyܓܘrc耻\xce䃎;䐘ot;䄰r;愑rave耻\xcc䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lie\xf3ϝǴ݉\x00ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀\ud835\udd40a;䎙cr;愐ilde;䄨ǫޚ\x00ޞcy;䐆l耻\xcf䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀\ud835\udd0dpf;쀀\ud835\udd41ǣ߇\x00ߌr;쀀\ud835\udca5rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀\ud835\udd0epf;쀀\ud835\udd42cr;쀀\ud835\udca6րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\x00ࣃbleBracket;柦nǔࣈ\x00࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ight\xe1Μs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀\ud835\udd0fĀ;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊight\xe1οight\xe1ϊf;쀀\ud835\udd43erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂ\xf2ࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀\ud835\udd10nusPlus;戓pf;쀀\ud835\udd44c\xf2੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘\xeb૙eryThi\xee૙tedĀGL૸ଆreaterGreate\xf2ٳessLes\xf3ੈLine;䀊r;쀀\ud835\udd11ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀\ud835\udca9ilde耻\xd1䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻\xd3䃓Āiy෎ීrc耻\xd4䃔;䐞blac;䅐r;쀀\ud835\udd12rave耻\xd2䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀\ud835\udd46enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀\ud835\udcaaash耻\xd8䃘iŬื฼de耻\xd5䃕es;樷ml耻\xd6䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀\ud835\udd13i;䎦;䎠usMinus;䂱Āipຢອncareplan\xe5ڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀\ud835\udcab;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀\ud835\udd14pf;愚cr;쀀\ud835\udcac؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻\xae䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r\xbbཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\x00စbleBracket;柧nǔည\x00နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀\ud835\udd16ortȀDLRUᄪᄴᄾᅉownArrow\xbbОeftArrow\xbb࢚ightArrow\xbb࿝pArrow;憑gma;䎣allCircle;战pf;쀀\ud835\udd4aɲᅭ\x00\x00ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀\ud835\udcaear;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Th\xe1ྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et\xbbሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻\xde䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀\ud835\udd17Āeiቻ኉ǲኀ\x00ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀\ud835\udd4bipleDot;惛Āctዖዛr;쀀\ud835\udcafrok;䅦ૡዷጎጚጦ\x00ጬጱ\x00\x00\x00\x00\x00ጸጽ፷ᎅ\x00᏿ᐄᐊᐐĀcrዻጁute耻\xda䃚rĀ;oጇገ憟cir;楉rǣጓ\x00጖y;䐎ve;䅬Āiyጞጣrc耻\xdb䃛;䐣blac;䅰r;쀀\ud835\udd18rave耻\xd9䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀\ud835\udd4cЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥own\xe1ϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀\ud835\udcb0ilde;䅨ml耻\xdc䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀\ud835\udd19pf;쀀\ud835\udd4dcr;쀀\ud835\udcb1dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀\ud835\udd1apf;쀀\ud835\udd4ecr;쀀\ud835\udcb2Ȁfiosᓋᓐᓒᓘr;쀀\ud835\udd1b;䎞pf;쀀\ud835\udd4fcr;쀀\ud835\udcb3ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻\xdd䃝Āiyᔉᔍrc;䅶;䐫r;쀀\ud835\udd1cpf;쀀\ud835\udd50cr;쀀\ud835\udcb4ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\x00ᕛoWidt\xe8૙a;䎖r;愨pf;愤cr;쀀\ud835\udcb5௡ᖃᖊᖐ\x00ᖰᖶᖿ\x00\x00\x00\x00ᗆᗛᗫᙟ᙭\x00ᚕ᚛ᚲᚹ\x00ᚾcute耻\xe1䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻\xe2䃢te肻\xb4̆;䐰lig耻\xe6䃦Ā;r\xb2ᖺ;쀀\ud835\udd1erave耻\xe0䃠ĀepᗊᗖĀfpᗏᗔsym;愵\xe8ᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\x00\x00ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e\xbbᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢\xbb\xb9arr;捼Āgpᙣᙧon;䄅f;쀀\ud835\udd52΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒ\xf1ᚃing耻\xe5䃥ƀctyᚡᚦᚨr;쀀\ud835\udcb6;䀪mpĀ;e዁ᚯ\xf1ʈilde耻\xe3䃣ml耻\xe4䃤Āciᛂᛈonin\xf4ɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e\xbbᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰s\xe9ᜌno\xf5ēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀\ud835\udd1fg΀costuvwឍឝឳេ៕៛៞ƀaiuបពរ\xf0ݠrc;旯p\xbb፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\x00\x00ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄e\xe5ᑄ\xe5ᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\x00ᠳƲᠯ\x00ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀\ud835\udd53Ā;tᏋᡣom\xbbᏌtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻\xa6䂦Ȁceioᥑᥖᥚᥠr;쀀\ud835\udcb7mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t\xbb᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\x00᧨ᨑᨕᨲ\x00ᨷᩐ\x00\x00᪴\x00\x00᫁\x00\x00ᬡᬮ᭍᭒\x00᯽\x00ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁\xeeړȀaeiu᧰᧻ᨁᨅǰ᧵\x00᧸s;橍on;䄍dil耻\xe7䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻\xb8ƭptyv;榲t脀\xa2;eᨭᨮ䂢r\xe4Ʋr;쀀\ud835\udd20ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark\xbbᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\x00\x00᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟\xbbཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it\xbb᪼ˬ᫇᫔᫺\x00ᬊonĀ;eᫍᫎ䀺Ā;q\xc7\xc6ɭ᫙\x00\x00᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁\xeeᅠeĀmx᫱᫶ent\xbb᫩e\xf3ɍǧ᫾\x00ᬇĀ;dኻᬂot;橭n\xf4Ɇƀfryᬐᬔᬗ;쀀\ud835\udd54o\xe4ɔ脀\xa9;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀\ud835\udcb8Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\x00\x00᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\x00\x00ᯒre\xe3᭳u\xe3᭵ee;拎edge;拏en耻\xa4䂤earrowĀlrᯮ᯳eft\xbbᮀight\xbbᮽe\xe4ᯝĀciᰁᰇonin\xf4Ƿnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍r\xf2΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸\xf2ᄳhĀ;vᱚᱛ怐\xbbऊūᱡᱧarow;椏a\xe3̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻\xb0䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀\ud835\udd21arĀlrᲳᲵ\xbbࣜ\xbbသʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀\xf7;o᳧ᳰntimes;拇n\xf8᳷cy;䑒cɯᴆ\x00\x00ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀\ud835\udd55ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedg\xe5\xfanƀadhᄮᵝᵧownarrow\xf3ᲃarpoonĀlrᵲᵶef\xf4Ჴigh\xf4ᲶŢᵿᶅkaro\xf7གɯᶊ\x00\x00ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀\ud835\udcb9;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃r\xf2Щa\xf2ྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴo\xf4ᲉĀcsḎḔute耻\xe9䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻\xea䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀\ud835\udd22ƀ;rsṐṑṗ檚ave耻\xe8䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et\xbbẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀\ud835\udd56ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on\xbbớ;䏵ȀcsuvỪỳἋἣĀioữḱrc\xbbḮɩỹ\x00\x00ỻ\xedՈantĀglἂἆtr\xbbṝess\xbbṺƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯o\xf4͒ĀahὉὋ;䎷耻\xf0䃰Āmrὓὗl耻\xeb䃫o;悬ƀcipὡὤὧl;䀡s\xf4ծĀeoὬὴctatio\xeeՙnential\xe5չৡᾒ\x00ᾞ\x00ᾡᾧ\x00\x00ῆῌ\x00ΐ\x00ῦῪ \x00 ⁚llingdotse\xf1Ṅy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\x00\x00᾽g;耀ﬀig;耀ﬄ;쀀\ud835\udd23lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\x00ῳf;쀀\ud835\udd57ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\x00⁐β•‥‧‪‬\x00‮耻\xbd䂽;慓耻\xbc䂼;慕;慙;慛Ƴ‴\x00‶;慔;慖ʴ‾⁁\x00\x00⁃耻\xbe䂾;慗;慜5;慘ƶ⁌\x00⁎;慚;慝8;慞l;恄wn;挢cr;쀀\ud835\udcbbࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lan\xf4٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀\ud835\udd24Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox\xbbℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀\ud835\udd58Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\x00↎pro\xf8₞r;楸qĀlqؿ↖les\xf3₈i\xed٫Āen↣↭rtneqq;쀀≩︀\xc5↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽r\xf2ΠȀilmr⇐⇔⇗⇛rs\xf0ᒄf\xbb․il\xf4کĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it\xbb∊lip;怦con;抹r;쀀\ud835\udd25sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀\ud835\udd59bar;怕ƀclt≯≴≸r;쀀\ud835\udcbdas\xe8⇴rok;䄧Ābp⊂⊇ull;恃hen\xbbᱛૡ⊣\x00⊪\x00⊸⋅⋎\x00⋕⋳\x00\x00⋸⌢⍧⍢⍿\x00⎆⎪⎴cute耻\xed䃭ƀ;iyݱ⊰⊵rc耻\xee䃮;䐸Ācx⊼⊿y;䐵cl耻\xa1䂡ĀfrΟ⋉;쀀\ud835\udd26rave耻\xec䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓in\xe5ގar\xf4ܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝do\xf4⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙er\xf3ᕣ\xe3⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀\ud835\udd5aa;䎹uest耻\xbf䂿Āci⎊⎏r;쀀\ud835\udcbenʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\x00⎼cy;䑖l耻\xef䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀\ud835\udd27ath;䈷pf;쀀\ud835\udd5bǣ⏬\x00⏱r;쀀\ud835\udcbfrcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀\ud835\udd28reen;䄸cy;䑅cy;䑜pf;쀀\ud835\udd5ccr;쀀\ud835\udcc0஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼r\xf2৆\xf2Εail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\x00⒪\x00⒱\x00\x00\x00\x00\x00⒵Ⓔ\x00ⓆⓈⓍ\x00⓹ute;䄺mptyv;榴ra\xeeࡌbda;䎻gƀ;dlࢎⓁⓃ;榑\xe5ࢎ;檅uo耻\xab䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝\xeb≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼\xecࢰ\xe2┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□a\xe9⓶arpoonĀdu▯▴own\xbbњp\xbb०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoon\xf3྘quigarro\xf7⇰hreetimes;拋ƀ;qs▋ও◺lan\xf4বʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋ppro\xf8Ⓠot;拖qĀgq♃♅\xf4উgt\xf2⒌\xf4ছi\xedলƀilr♕࣡♚sht;楼;쀀\ud835\udd29Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖r\xf2◁orne\xf2ᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che\xbb⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox\xbb⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽r\xebࣁgƀlmr⛿✍✔eftĀar০✇ight\xe1৲apsto;柼ight\xe1৽parrowĀlr✥✩ef\xf4⓭ight;憬ƀafl✶✹✽r;榅;쀀\ud835\udd5dus;樭imes;樴š❋❏st;戗\xe1ፎƀ;ef❗❘᠀旊nge\xbb❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇r\xf2ࢨorne\xf2ᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀\ud835\udcc1mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹re\xe5◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀\xc5⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻\xaf䂯Āet⡗⡙;時Ā;e⡞⡟朠se\xbb⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻ow\xeeҌef\xf4ए\xf0Ꮡker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle\xbbᘦr;쀀\ud835\udd2ao;愧ƀcdn⢯⢴⣉ro耻\xb5䂵Ȁ;acdᑤ⢽⣀⣄s\xf4ᚧir;櫰ot肻\xb7Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛\xf2−\xf0ઁĀdp⣩⣮els;抧f;쀀\ud835\udd5eĀct⣸⣽r;쀀\ud835\udcc2pos\xbbᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la\xbb˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉ro\xf8඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\x00⧣p肻\xa0ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\x00⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸ui\xf6ୣĀei⩊⩎ar;椨\xed஘istĀ;s஠டr;쀀\ud835\udd2bȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lan\xf4௢i\xed௪Ā;rஶ⪁\xbbஷƀAap⪊⪍⪑r\xf2⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹r\xf2⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro\xf7⫁ightarro\xf7⪐ƀ;qs఻⪺⫪lan\xf4ౕĀ;sౕ⫴\xbbశi\xedౝĀ;rవ⫾iĀ;eచథi\xe4ඐĀpt⬌⬑f;쀀\ud835\udd5f膀\xac;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lle\xec୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳u\xe5ಥĀ;cಘ⭸Ā;eಒ⭽\xf1ಘȀAait⮈⮋⮝⮧r\xf2⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow\xbb⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉u\xe5൅;쀀\ud835\udcc3ortɭ⬅\x00\x00⯖ar\xe1⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭\xe5೸\xe5ഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗ\xf1സȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇ\xecௗlde耻\xf1䃱\xe7ృiangleĀlrⱒⱜeftĀ;eచⱚ\xf1దightĀ;eೋⱥ\xf1೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00ⴭ\x00ⴸⵈⵠⵥ⵲ⶄᬇ\x00\x00ⶍⶫ\x00ⷈⷎ\x00ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻\xf3䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻\xf4䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀\ud835\udd2cͯ⵹\x00\x00⵼\x00ⶂn;䋛ave耻\xf2䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨr\xf2᪀Āir⶝ⶠr;榾oss;榻n\xe5๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀\ud835\udd60ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨r\xf2᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f\xbbⷿ耻\xaa䂪耻\xba䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧\xf2⸁ash耻\xf8䃸l;折iŬⸯ⸴de耻\xf5䃵esĀ;aǛ⸺s;樶ml耻\xf6䃶bar;挽ૡ⹞\x00⹽\x00⺀⺝\x00⺢⺹\x00\x00⻋ຜ\x00⼓\x00\x00⼫⾼\x00⿈rȀ;astЃ⹧⹲຅脀\xb6;l⹭⹮䂶le\xecЃɩ⹸\x00\x00⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀\ud835\udd2dƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕ma\xf4੶ne;明ƀ;tv⺿⻀⻈䏀chfork\xbb´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎\xf6⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻\xb1ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀\ud835\udd61nd耻\xa3䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷u\xe5໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾ppro\xf8⽃urlye\xf1໙\xf1໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨i\xedໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺\xf0⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴\xef໻rel;抰Āci⿀⿅r;쀀\ud835\udcc5;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀\ud835\udd2epf;쀀\ud835\udd62rime;恗cr;쀀\ud835\udcc6ƀaeo⿸〉〓tĀei⿾々rnion\xf3ڰnt;樖stĀ;e【】䀿\xf1Ἑ\xf4༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがr\xf2Ⴓ\xf2ϝail;検ar\xf2ᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕i\xe3ᅮmptyv;榳gȀ;del࿑らるろ;榒;榥\xe5࿑uo耻\xbb䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞\xeb≝\xf0✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶al\xf3༞ƀabrョリヮr\xf2៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗\xec࿲\xe2ヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜn\xe5Ⴛar\xf4ྩt;断ƀilrㅩဣㅮsht;楽;쀀\ud835\udd2fĀaoㅷㆆrĀduㅽㅿ\xbbѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭa\xe9トarpoonĀduㆻㆿow\xeeㅾp\xbb႒eftĀah㇊㇐rrow\xf3࿪arpoon\xf3Ցightarrows;應quigarro\xf7ニhreetimes;拌g;䋚ingdotse\xf1ἲƀahm㈍㈐㈓r\xf2࿪a\xf2Ց;怏oustĀ;a㈞㈟掱che\xbb㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾r\xebဃƀafl㉇㉊㉎r;榆;쀀\ud835\udd63us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒ar\xf2㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀\ud835\udcc7Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠re\xe5ㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\x00㍺㎤\x00\x00㏬㏰\x00㐨㑈㑚㒭㒱㓊㓱\x00㘖\x00\x00㘳cute;䅛qu\xef➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\x00㋼;檸on;䅡u\xe5ᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓i\xedሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒\xeb∨Ā;oਸ਼਴t耻\xa7䂧i;䀻war;椩mĀin㍩\xf0nu\xf3\xf1t;朶rĀ;o㍶⁕쀀\ud835\udd30Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\x00\x00㎜i\xe4ᑤara\xec⹯耻\xad䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲ar\xf2ᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetm\xe9㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀\ud835\udd64aĀdr㑍ЂesĀ;u㑔㑕晠it\xbb㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍\xf1ᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝\xf1ᆮƀ;afᅻ㒦ְrť㒫ֱ\xbbᅼar\xf2ᅈȀcemt㒹㒾㓂㓅r;쀀\ud835\udcc8tm\xee\xf1i\xec㐕ar\xe6ᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psilo\xeeỠh\xe9⺯s\xbb⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦ppro\xf8㋺urlye\xf1ᇾ\xf1ᇳƀaes㖂㖈㌛ppro\xf8㌚q\xf1㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻\xb9䂹耻\xb2䂲耻\xb3䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨\xeb∮Ā;oਫ਩war;椪lig耻\xdf䃟௡㙑㙝㙠ዎ㙳㙹\x00㙾㛂\x00\x00\x00\x00\x00㛛㜃\x00㜉㝬\x00\x00\x00㞇ɲ㙖\x00\x00㙛get;挖;䏄r\xeb๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀\ud835\udd31Ȁeiko㚆㚝㚵㚼ǲ㚋\x00㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮ppro\xf8዁im\xbbኬs\xf0ኞĀas㚺㚮\xf0዁rn耻\xfe䃾Ǭ̟㛆⋧es膀\xd7;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀\xe1⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀\ud835\udd65rk;櫚\xe1㍢rime;怴ƀaip㜏㜒㝤d\xe5ቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own\xbbᶻeftĀ;e⠀㜾\xf1म;扜ightĀ;e㊪㝋\xf1ၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀\ud835\udcc9;䑆cy;䑛rok;䅧Āio㞋㞎x\xf4᝷headĀlr㞗㞠eftarro\xf7ࡏightarrow\xbbཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶r\xf2ϭar;楣Ācr㟜㟢ute耻\xfa䃺\xf2ᅐrǣ㟪\x00㟭y;䑞ve;䅭Āiy㟵㟺rc耻\xfb䃻;䑃ƀabh㠃㠆㠋r\xf2Ꭽlac;䅱a\xf2ᏃĀir㠓㠘sht;楾;쀀\ud835\udd32rave耻\xf9䃹š㠧㠱rĀlr㠬㠮\xbbॗ\xbbႃlk;斀Āct㠹㡍ɯ㠿\x00\x00㡊rnĀ;e㡅㡆挜r\xbb㡆op;挏ri;旸Āal㡖㡚cr;䅫肻\xa8͉Āgp㡢㡦on;䅳f;쀀\ud835\udd66̀adhlsuᅋ㡸㡽፲㢑㢠own\xe1ᎳarpoonĀlr㢈㢌ef\xf4㠭igh\xf4㠯iƀ;hl㢙㢚㢜䏅\xbbᏺon\xbb㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\x00\x00㣁rnĀ;e㢼㢽挝r\xbb㢽op;挎ng;䅯ri;旹cr;쀀\ud835\udccaƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨\xbb᠓Āam㣯㣲r\xf2㢨l耻\xfc䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠r\xf2ϷarĀ;v㤦㤧櫨;櫩as\xe8ϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖app\xe1␕othin\xe7ẖƀhir㓫⻈㥙op\xf4⾵Ā;hᎷ㥢\xefㆍĀiu㥩㥭gm\xe1㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟et\xe1㚜iangleĀlr㦪㦯eft\xbbथight\xbbၑy;䐲ash\xbbံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨa\xf2ᑩr;쀀\ud835\udd33tr\xe9㦮suĀbp㧯㧱\xbbജ\xbb൙pf;쀀\ud835\udd67ro\xf0໻tr\xe9㦴Ācu㨆㨋r;쀀\ud835\udccbĀbp㨐㨘nĀEe㦀㨖\xbb㥾nĀEe㦒㨞\xbb㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀\ud835\udd34pf;쀀\ud835\udd68Ā;eᑹ㩦at\xe8ᑹcr;쀀\ud835\udcccૣណ㪇\x00㪋\x00㪐㪛\x00\x00㪝㪨㪫㪯\x00\x00㫃㫎\x00㫘ៜ៟tr\xe9៑r;쀀\ud835\udd35ĀAa㪔㪗r\xf2σr\xf2৶;䎾ĀAa㪡㪤r\xf2θr\xf2৫a\xf0✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀\ud835\udd69im\xe5ឲĀAa㫇㫊r\xf2ώr\xf2ਁĀcq㫒ីr;쀀\ud835\udccdĀpt៖㫜r\xe9។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻\xfd䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻\xa5䂥r;쀀\ud835\udd36cy;䑗pf;쀀\ud835\udd6acr;쀀\ud835\udcceĀcm㬦㬩y;䑎l耻\xff䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡tr\xe6ᕟa;䎶r;쀀\ud835\udd37cy;䐶grarr;懝pf;쀀\ud835\udd6bcr;쀀\ud835\udccfĀjn㮅㮇;怍j;怌'.split("").map(h=>h.charCodeAt(0))),rA=new Uint16Array("Ȁaglq	\x15\x18\x1bɭ\x0f\x00\x00\x12p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(h=>h.charCodeAt(0)));let rb=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),rk=null!==(e_=String.fromCodePoint)&&void 0!==e_?e_:function(h){let g="";return h>65535&&(h-=65536,g+=String.fromCharCode(h>>>10&1023|55296),h=56320|1023&h),g+=String.fromCharCode(h)};function isNumber(h){return h>=eT.ZERO&&h<=eT.NINE}($=eT||(eT={}))[$.NUM=35]="NUM",$[$.SEMI=59]="SEMI",$[$.EQUALS=61]="EQUALS",$[$.ZERO=48]="ZERO",$[$.NINE=57]="NINE",$[$.LOWER_A=97]="LOWER_A",$[$.LOWER_F=102]="LOWER_F",$[$.LOWER_X=120]="LOWER_X",$[$.LOWER_Z=122]="LOWER_Z",$[$.UPPER_A=65]="UPPER_A",$[$.UPPER_F=70]="UPPER_F",$[$.UPPER_Z=90]="UPPER_Z",(j=ev||(ev={}))[j.VALUE_LENGTH=49152]="VALUE_LENGTH",j[j.BRANCH_LENGTH=16256]="BRANCH_LENGTH",j[j.JUMP_TABLE=127]="JUMP_TABLE",(q=ey||(ey={}))[q.EntityStart=0]="EntityStart",q[q.NumericStart=1]="NumericStart",q[q.NumericDecimal=2]="NumericDecimal",q[q.NumericHex=3]="NumericHex",q[q.NamedEntity=4]="NamedEntity",(W=eA||(eA={}))[W.Legacy=0]="Legacy",W[W.Strict=1]="Strict",W[W.Attribute=2]="Attribute";let EntityDecoder=class EntityDecoder{constructor(h,g,_){this.decodeTree=h,this.emitCodePoint=g,this.errors=_,this.state=ey.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=eA.Strict}startEntity(h){this.decodeMode=h,this.state=ey.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(h,g){switch(this.state){case ey.EntityStart:if(h.charCodeAt(g)===eT.NUM)return this.state=ey.NumericStart,this.consumed+=1,this.stateNumericStart(h,g+1);return this.state=ey.NamedEntity,this.stateNamedEntity(h,g);case ey.NumericStart:return this.stateNumericStart(h,g);case ey.NumericDecimal:return this.stateNumericDecimal(h,g);case ey.NumericHex:return this.stateNumericHex(h,g);case ey.NamedEntity:return this.stateNamedEntity(h,g)}}stateNumericStart(h,g){return g>=h.length?-1:(32|h.charCodeAt(g))===eT.LOWER_X?(this.state=ey.NumericHex,this.consumed+=1,this.stateNumericHex(h,g+1)):(this.state=ey.NumericDecimal,this.stateNumericDecimal(h,g))}addToNumericResult(h,g,_,y){if(g!==_){let A=_-g;this.result=this.result*Math.pow(y,A)+parseInt(h.substr(g,A),y),this.consumed+=A}}stateNumericHex(h,g){let _=g;for(;g<h.length;){var y;let A=h.charCodeAt(g);if(!isNumber(A)&&(!((y=A)>=eT.UPPER_A)||!(y<=eT.UPPER_F))&&(!(y>=eT.LOWER_A)||!(y<=eT.LOWER_F)))return this.addToNumericResult(h,_,g,16),this.emitNumericEntity(A,3);g+=1}return this.addToNumericResult(h,_,g,16),-1}stateNumericDecimal(h,g){let _=g;for(;g<h.length;){let y=h.charCodeAt(g);if(!isNumber(y))return this.addToNumericResult(h,_,g,10),this.emitNumericEntity(y,2);g+=1}return this.addToNumericResult(h,_,g,10),-1}emitNumericEntity(h,g){var _,y,A;if(this.consumed<=g)return null===(_=this.errors)||void 0===_||_.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(h===eT.SEMI)this.consumed+=1;else if(this.decodeMode===eA.Strict)return 0;return this.emitCodePoint((y=this.result)>=55296&&y<=57343||y>1114111?65533:null!==(A=rb.get(y))&&void 0!==A?A:y,this.consumed),this.errors&&(h!==eT.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(h,g){let{decodeTree:_}=this,y=_[this.treeIndex],A=(y&ev.VALUE_LENGTH)>>14;for(;g<h.length;g++,this.excess++){let b=h.charCodeAt(g);if(this.treeIndex=determineBranch(_,y,this.treeIndex+Math.max(1,A),b),this.treeIndex<0)return 0===this.result||this.decodeMode===eA.Attribute&&(0===A||function(h){var g;return h===eT.EQUALS||(g=h)>=eT.UPPER_A&&g<=eT.UPPER_Z||g>=eT.LOWER_A&&g<=eT.LOWER_Z||isNumber(g)}(b))?0:this.emitNotTerminatedNamedEntity();if(0!=(A=((y=_[this.treeIndex])&ev.VALUE_LENGTH)>>14)){if(b===eT.SEMI)return this.emitNamedEntityData(this.treeIndex,A,this.consumed+this.excess);this.decodeMode!==eA.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var h;let{result:g,decodeTree:_}=this,y=(_[g]&ev.VALUE_LENGTH)>>14;return this.emitNamedEntityData(g,y,this.consumed),null===(h=this.errors)||void 0===h||h.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(h,g,_){let{decodeTree:y}=this;return this.emitCodePoint(1===g?y[h]&~ev.VALUE_LENGTH:y[h+1],_),3===g&&this.emitCodePoint(y[h+2],_),_}end(){var h;switch(this.state){case ey.NamedEntity:return 0!==this.result&&(this.decodeMode!==eA.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ey.NumericDecimal:return this.emitNumericEntity(0,2);case ey.NumericHex:return this.emitNumericEntity(0,3);case ey.NumericStart:return null===(h=this.errors)||void 0===h||h.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ey.EntityStart:return 0}}};function getDecoder(h){let g="",_=new EntityDecoder(h,h=>g+=rk(h));return function(h,y){let A=0,b=0;for(;(b=h.indexOf("&",b))>=0;){g+=h.slice(A,b),_.startEntity(y);let k=_.write(h,b+1);if(k<0){A=b+_.end();break}A=b+k,b=0===k?A+1:A}let k=g+h.slice(A);return g="",k}}function determineBranch(h,g,_,y){let A=(g&ev.BRANCH_LENGTH)>>7,b=g&ev.JUMP_TABLE;if(0===A)return 0!==b&&y===b?_:-1;if(b){let g=y-b;return g<0||g>=A?-1:h[_+g]-1}let k=_,w=k+A-1;for(;k<=w;){let g=k+w>>>1,_=h[g];if(_<y)k=g+1;else{if(!(_>y))return h[g+A];w=g-1}}return -1}getDecoder(ry),getDecoder(rA),(K=eb=eb||(eb={})).HTML="http://www.w3.org/1999/xhtml",K.MATHML="http://www.w3.org/1998/Math/MathML",K.SVG="http://www.w3.org/2000/svg",K.XLINK="http://www.w3.org/1999/xlink",K.XML="http://www.w3.org/XML/1998/namespace",K.XMLNS="http://www.w3.org/2000/xmlns/",(ee=ek=ek||(ek={})).TYPE="type",ee.ACTION="action",ee.ENCODING="encoding",ee.PROMPT="prompt",ee.NAME="name",ee.COLOR="color",ee.FACE="face",ee.SIZE="size",(et=eS=eS||(eS={})).NO_QUIRKS="no-quirks",et.QUIRKS="quirks",et.LIMITED_QUIRKS="limited-quirks",(en=eC=eC||(eC={})).A="a",en.ADDRESS="address",en.ANNOTATION_XML="annotation-xml",en.APPLET="applet",en.AREA="area",en.ARTICLE="article",en.ASIDE="aside",en.B="b",en.BASE="base",en.BASEFONT="basefont",en.BGSOUND="bgsound",en.BIG="big",en.BLOCKQUOTE="blockquote",en.BODY="body",en.BR="br",en.BUTTON="button",en.CAPTION="caption",en.CENTER="center",en.CODE="code",en.COL="col",en.COLGROUP="colgroup",en.DD="dd",en.DESC="desc",en.DETAILS="details",en.DIALOG="dialog",en.DIR="dir",en.DIV="div",en.DL="dl",en.DT="dt",en.EM="em",en.EMBED="embed",en.FIELDSET="fieldset",en.FIGCAPTION="figcaption",en.FIGURE="figure",en.FONT="font",en.FOOTER="footer",en.FOREIGN_OBJECT="foreignObject",en.FORM="form",en.FRAME="frame",en.FRAMESET="frameset",en.H1="h1",en.H2="h2",en.H3="h3",en.H4="h4",en.H5="h5",en.H6="h6",en.HEAD="head",en.HEADER="header",en.HGROUP="hgroup",en.HR="hr",en.HTML="html",en.I="i",en.IMG="img",en.IMAGE="image",en.INPUT="input",en.IFRAME="iframe",en.KEYGEN="keygen",en.LABEL="label",en.LI="li",en.LINK="link",en.LISTING="listing",en.MAIN="main",en.MALIGNMARK="malignmark",en.MARQUEE="marquee",en.MATH="math",en.MENU="menu",en.META="meta",en.MGLYPH="mglyph",en.MI="mi",en.MO="mo",en.MN="mn",en.MS="ms",en.MTEXT="mtext",en.NAV="nav",en.NOBR="nobr",en.NOFRAMES="noframes",en.NOEMBED="noembed",en.NOSCRIPT="noscript",en.OBJECT="object",en.OL="ol",en.OPTGROUP="optgroup",en.OPTION="option",en.P="p",en.PARAM="param",en.PLAINTEXT="plaintext",en.PRE="pre",en.RB="rb",en.RP="rp",en.RT="rt",en.RTC="rtc",en.RUBY="ruby",en.S="s",en.SCRIPT="script",en.SECTION="section",en.SELECT="select",en.SOURCE="source",en.SMALL="small",en.SPAN="span",en.STRIKE="strike",en.STRONG="strong",en.STYLE="style",en.SUB="sub",en.SUMMARY="summary",en.SUP="sup",en.TABLE="table",en.TBODY="tbody",en.TEMPLATE="template",en.TEXTAREA="textarea",en.TFOOT="tfoot",en.TD="td",en.TH="th",en.THEAD="thead",en.TITLE="title",en.TR="tr",en.TRACK="track",en.TT="tt",en.U="u",en.UL="ul",en.SVG="svg",en.VAR="var",en.WBR="wbr",en.XMP="xmp",(er=ex=ex||(ex={}))[er.UNKNOWN=0]="UNKNOWN",er[er.A=1]="A",er[er.ADDRESS=2]="ADDRESS",er[er.ANNOTATION_XML=3]="ANNOTATION_XML",er[er.APPLET=4]="APPLET",er[er.AREA=5]="AREA",er[er.ARTICLE=6]="ARTICLE",er[er.ASIDE=7]="ASIDE",er[er.B=8]="B",er[er.BASE=9]="BASE",er[er.BASEFONT=10]="BASEFONT",er[er.BGSOUND=11]="BGSOUND",er[er.BIG=12]="BIG",er[er.BLOCKQUOTE=13]="BLOCKQUOTE",er[er.BODY=14]="BODY",er[er.BR=15]="BR",er[er.BUTTON=16]="BUTTON",er[er.CAPTION=17]="CAPTION",er[er.CENTER=18]="CENTER",er[er.CODE=19]="CODE",er[er.COL=20]="COL",er[er.COLGROUP=21]="COLGROUP",er[er.DD=22]="DD",er[er.DESC=23]="DESC",er[er.DETAILS=24]="DETAILS",er[er.DIALOG=25]="DIALOG",er[er.DIR=26]="DIR",er[er.DIV=27]="DIV",er[er.DL=28]="DL",er[er.DT=29]="DT",er[er.EM=30]="EM",er[er.EMBED=31]="EMBED",er[er.FIELDSET=32]="FIELDSET",er[er.FIGCAPTION=33]="FIGCAPTION",er[er.FIGURE=34]="FIGURE",er[er.FONT=35]="FONT",er[er.FOOTER=36]="FOOTER",er[er.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",er[er.FORM=38]="FORM",er[er.FRAME=39]="FRAME",er[er.FRAMESET=40]="FRAMESET",er[er.H1=41]="H1",er[er.H2=42]="H2",er[er.H3=43]="H3",er[er.H4=44]="H4",er[er.H5=45]="H5",er[er.H6=46]="H6",er[er.HEAD=47]="HEAD",er[er.HEADER=48]="HEADER",er[er.HGROUP=49]="HGROUP",er[er.HR=50]="HR",er[er.HTML=51]="HTML",er[er.I=52]="I",er[er.IMG=53]="IMG",er[er.IMAGE=54]="IMAGE",er[er.INPUT=55]="INPUT",er[er.IFRAME=56]="IFRAME",er[er.KEYGEN=57]="KEYGEN",er[er.LABEL=58]="LABEL",er[er.LI=59]="LI",er[er.LINK=60]="LINK",er[er.LISTING=61]="LISTING",er[er.MAIN=62]="MAIN",er[er.MALIGNMARK=63]="MALIGNMARK",er[er.MARQUEE=64]="MARQUEE",er[er.MATH=65]="MATH",er[er.MENU=66]="MENU",er[er.META=67]="META",er[er.MGLYPH=68]="MGLYPH",er[er.MI=69]="MI",er[er.MO=70]="MO",er[er.MN=71]="MN",er[er.MS=72]="MS",er[er.MTEXT=73]="MTEXT",er[er.NAV=74]="NAV",er[er.NOBR=75]="NOBR",er[er.NOFRAMES=76]="NOFRAMES",er[er.NOEMBED=77]="NOEMBED",er[er.NOSCRIPT=78]="NOSCRIPT",er[er.OBJECT=79]="OBJECT",er[er.OL=80]="OL",er[er.OPTGROUP=81]="OPTGROUP",er[er.OPTION=82]="OPTION",er[er.P=83]="P",er[er.PARAM=84]="PARAM",er[er.PLAINTEXT=85]="PLAINTEXT",er[er.PRE=86]="PRE",er[er.RB=87]="RB",er[er.RP=88]="RP",er[er.RT=89]="RT",er[er.RTC=90]="RTC",er[er.RUBY=91]="RUBY",er[er.S=92]="S",er[er.SCRIPT=93]="SCRIPT",er[er.SECTION=94]="SECTION",er[er.SELECT=95]="SELECT",er[er.SOURCE=96]="SOURCE",er[er.SMALL=97]="SMALL",er[er.SPAN=98]="SPAN",er[er.STRIKE=99]="STRIKE",er[er.STRONG=100]="STRONG",er[er.STYLE=101]="STYLE",er[er.SUB=102]="SUB",er[er.SUMMARY=103]="SUMMARY",er[er.SUP=104]="SUP",er[er.TABLE=105]="TABLE",er[er.TBODY=106]="TBODY",er[er.TEMPLATE=107]="TEMPLATE",er[er.TEXTAREA=108]="TEXTAREA",er[er.TFOOT=109]="TFOOT",er[er.TD=110]="TD",er[er.TH=111]="TH",er[er.THEAD=112]="THEAD",er[er.TITLE=113]="TITLE",er[er.TR=114]="TR",er[er.TRACK=115]="TRACK",er[er.TT=116]="TT",er[er.U=117]="U",er[er.UL=118]="UL",er[er.SVG=119]="SVG",er[er.VAR=120]="VAR",er[er.WBR=121]="WBR",er[er.XMP=122]="XMP";let rS=new Map([[eC.A,ex.A],[eC.ADDRESS,ex.ADDRESS],[eC.ANNOTATION_XML,ex.ANNOTATION_XML],[eC.APPLET,ex.APPLET],[eC.AREA,ex.AREA],[eC.ARTICLE,ex.ARTICLE],[eC.ASIDE,ex.ASIDE],[eC.B,ex.B],[eC.BASE,ex.BASE],[eC.BASEFONT,ex.BASEFONT],[eC.BGSOUND,ex.BGSOUND],[eC.BIG,ex.BIG],[eC.BLOCKQUOTE,ex.BLOCKQUOTE],[eC.BODY,ex.BODY],[eC.BR,ex.BR],[eC.BUTTON,ex.BUTTON],[eC.CAPTION,ex.CAPTION],[eC.CENTER,ex.CENTER],[eC.CODE,ex.CODE],[eC.COL,ex.COL],[eC.COLGROUP,ex.COLGROUP],[eC.DD,ex.DD],[eC.DESC,ex.DESC],[eC.DETAILS,ex.DETAILS],[eC.DIALOG,ex.DIALOG],[eC.DIR,ex.DIR],[eC.DIV,ex.DIV],[eC.DL,ex.DL],[eC.DT,ex.DT],[eC.EM,ex.EM],[eC.EMBED,ex.EMBED],[eC.FIELDSET,ex.FIELDSET],[eC.FIGCAPTION,ex.FIGCAPTION],[eC.FIGURE,ex.FIGURE],[eC.FONT,ex.FONT],[eC.FOOTER,ex.FOOTER],[eC.FOREIGN_OBJECT,ex.FOREIGN_OBJECT],[eC.FORM,ex.FORM],[eC.FRAME,ex.FRAME],[eC.FRAMESET,ex.FRAMESET],[eC.H1,ex.H1],[eC.H2,ex.H2],[eC.H3,ex.H3],[eC.H4,ex.H4],[eC.H5,ex.H5],[eC.H6,ex.H6],[eC.HEAD,ex.HEAD],[eC.HEADER,ex.HEADER],[eC.HGROUP,ex.HGROUP],[eC.HR,ex.HR],[eC.HTML,ex.HTML],[eC.I,ex.I],[eC.IMG,ex.IMG],[eC.IMAGE,ex.IMAGE],[eC.INPUT,ex.INPUT],[eC.IFRAME,ex.IFRAME],[eC.KEYGEN,ex.KEYGEN],[eC.LABEL,ex.LABEL],[eC.LI,ex.LI],[eC.LINK,ex.LINK],[eC.LISTING,ex.LISTING],[eC.MAIN,ex.MAIN],[eC.MALIGNMARK,ex.MALIGNMARK],[eC.MARQUEE,ex.MARQUEE],[eC.MATH,ex.MATH],[eC.MENU,ex.MENU],[eC.META,ex.META],[eC.MGLYPH,ex.MGLYPH],[eC.MI,ex.MI],[eC.MO,ex.MO],[eC.MN,ex.MN],[eC.MS,ex.MS],[eC.MTEXT,ex.MTEXT],[eC.NAV,ex.NAV],[eC.NOBR,ex.NOBR],[eC.NOFRAMES,ex.NOFRAMES],[eC.NOEMBED,ex.NOEMBED],[eC.NOSCRIPT,ex.NOSCRIPT],[eC.OBJECT,ex.OBJECT],[eC.OL,ex.OL],[eC.OPTGROUP,ex.OPTGROUP],[eC.OPTION,ex.OPTION],[eC.P,ex.P],[eC.PARAM,ex.PARAM],[eC.PLAINTEXT,ex.PLAINTEXT],[eC.PRE,ex.PRE],[eC.RB,ex.RB],[eC.RP,ex.RP],[eC.RT,ex.RT],[eC.RTC,ex.RTC],[eC.RUBY,ex.RUBY],[eC.S,ex.S],[eC.SCRIPT,ex.SCRIPT],[eC.SECTION,ex.SECTION],[eC.SELECT,ex.SELECT],[eC.SOURCE,ex.SOURCE],[eC.SMALL,ex.SMALL],[eC.SPAN,ex.SPAN],[eC.STRIKE,ex.STRIKE],[eC.STRONG,ex.STRONG],[eC.STYLE,ex.STYLE],[eC.SUB,ex.SUB],[eC.SUMMARY,ex.SUMMARY],[eC.SUP,ex.SUP],[eC.TABLE,ex.TABLE],[eC.TBODY,ex.TBODY],[eC.TEMPLATE,ex.TEMPLATE],[eC.TEXTAREA,ex.TEXTAREA],[eC.TFOOT,ex.TFOOT],[eC.TD,ex.TD],[eC.TH,ex.TH],[eC.THEAD,ex.THEAD],[eC.TITLE,ex.TITLE],[eC.TR,ex.TR],[eC.TRACK,ex.TRACK],[eC.TT,ex.TT],[eC.U,ex.U],[eC.UL,ex.UL],[eC.SVG,ex.SVG],[eC.VAR,ex.VAR],[eC.WBR,ex.WBR],[eC.XMP,ex.XMP]]);function getTagID(h){var g;return null!==(g=rS.get(h))&&void 0!==g?g:ex.UNKNOWN}let rC=ex,rx={[eb.HTML]:new Set([rC.ADDRESS,rC.APPLET,rC.AREA,rC.ARTICLE,rC.ASIDE,rC.BASE,rC.BASEFONT,rC.BGSOUND,rC.BLOCKQUOTE,rC.BODY,rC.BR,rC.BUTTON,rC.CAPTION,rC.CENTER,rC.COL,rC.COLGROUP,rC.DD,rC.DETAILS,rC.DIR,rC.DIV,rC.DL,rC.DT,rC.EMBED,rC.FIELDSET,rC.FIGCAPTION,rC.FIGURE,rC.FOOTER,rC.FORM,rC.FRAME,rC.FRAMESET,rC.H1,rC.H2,rC.H3,rC.H4,rC.H5,rC.H6,rC.HEAD,rC.HEADER,rC.HGROUP,rC.HR,rC.HTML,rC.IFRAME,rC.IMG,rC.INPUT,rC.LI,rC.LINK,rC.LISTING,rC.MAIN,rC.MARQUEE,rC.MENU,rC.META,rC.NAV,rC.NOEMBED,rC.NOFRAMES,rC.NOSCRIPT,rC.OBJECT,rC.OL,rC.P,rC.PARAM,rC.PLAINTEXT,rC.PRE,rC.SCRIPT,rC.SECTION,rC.SELECT,rC.SOURCE,rC.STYLE,rC.SUMMARY,rC.TABLE,rC.TBODY,rC.TD,rC.TEMPLATE,rC.TEXTAREA,rC.TFOOT,rC.TH,rC.THEAD,rC.TITLE,rC.TR,rC.TRACK,rC.UL,rC.WBR,rC.XMP]),[eb.MATHML]:new Set([rC.MI,rC.MO,rC.MN,rC.MS,rC.MTEXT,rC.ANNOTATION_XML]),[eb.SVG]:new Set([rC.TITLE,rC.FOREIGN_OBJECT,rC.DESC]),[eb.XLINK]:new Set,[eb.XML]:new Set,[eb.XMLNS]:new Set};function isNumberedHeader(h){return h===rC.H1||h===rC.H2||h===rC.H3||h===rC.H4||h===rC.H5||h===rC.H6}eC.STYLE,eC.SCRIPT,eC.XMP,eC.IFRAME,eC.NOEMBED,eC.NOFRAMES,eC.PLAINTEXT;let rI=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);(ei=eI||(eI={}))[ei.DATA=0]="DATA",ei[ei.RCDATA=1]="RCDATA",ei[ei.RAWTEXT=2]="RAWTEXT",ei[ei.SCRIPT_DATA=3]="SCRIPT_DATA",ei[ei.PLAINTEXT=4]="PLAINTEXT",ei[ei.TAG_OPEN=5]="TAG_OPEN",ei[ei.END_TAG_OPEN=6]="END_TAG_OPEN",ei[ei.TAG_NAME=7]="TAG_NAME",ei[ei.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",ei[ei.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",ei[ei.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",ei[ei.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",ei[ei.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",ei[ei.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",ei[ei.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",ei[ei.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",ei[ei.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",ei[ei.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",ei[ei.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",ei[ei.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",ei[ei.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",ei[ei.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",ei[ei.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",ei[ei.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",ei[ei.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",ei[ei.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",ei[ei.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",ei[ei.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",ei[ei.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",ei[ei.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",ei[ei.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",ei[ei.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",ei[ei.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",ei[ei.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",ei[ei.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",ei[ei.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",ei[ei.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",ei[ei.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",ei[ei.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",ei[ei.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",ei[ei.BOGUS_COMMENT=40]="BOGUS_COMMENT",ei[ei.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",ei[ei.COMMENT_START=42]="COMMENT_START",ei[ei.COMMENT_START_DASH=43]="COMMENT_START_DASH",ei[ei.COMMENT=44]="COMMENT",ei[ei.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",ei[ei.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",ei[ei.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",ei[ei.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",ei[ei.COMMENT_END_DASH=49]="COMMENT_END_DASH",ei[ei.COMMENT_END=50]="COMMENT_END",ei[ei.COMMENT_END_BANG=51]="COMMENT_END_BANG",ei[ei.DOCTYPE=52]="DOCTYPE",ei[ei.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",ei[ei.DOCTYPE_NAME=54]="DOCTYPE_NAME",ei[ei.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",ei[ei.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",ei[ei.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",ei[ei.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",ei[ei.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",ei[ei.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",ei[ei.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",ei[ei.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",ei[ei.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",ei[ei.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",ei[ei.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",ei[ei.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",ei[ei.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",ei[ei.CDATA_SECTION=68]="CDATA_SECTION",ei[ei.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",ei[ei.CDATA_SECTION_END=70]="CDATA_SECTION_END",ei[ei.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",ei[ei.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",ei[ei.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",ei[ei.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",ei[ei.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",ei[ei.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",ei[ei.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",ei[ei.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END";let rw={DATA:eI.DATA,RCDATA:eI.RCDATA,RAWTEXT:eI.RAWTEXT,SCRIPT_DATA:eI.SCRIPT_DATA,PLAINTEXT:eI.PLAINTEXT,CDATA_SECTION:eI.CDATA_SECTION};function isAsciiDigit(h){return h>=em.DIGIT_0&&h<=em.DIGIT_9}function isAsciiUpper(h){return h>=em.LATIN_CAPITAL_A&&h<=em.LATIN_CAPITAL_Z}function isAsciiLetter(h){return h>=em.LATIN_SMALL_A&&h<=em.LATIN_SMALL_Z||isAsciiUpper(h)}function tokenizer_isAsciiAlphaNumeric(h){return isAsciiLetter(h)||isAsciiDigit(h)}function isAsciiUpperHexDigit(h){return h>=em.LATIN_CAPITAL_A&&h<=em.LATIN_CAPITAL_F}function isAsciiLowerHexDigit(h){return h>=em.LATIN_SMALL_A&&h<=em.LATIN_SMALL_F}function isWhitespace(h){return h===em.SPACE||h===em.LINE_FEED||h===em.TABULATION||h===em.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(h){return isWhitespace(h)||h===em.SOLIDUS||h===em.GREATER_THAN_SIGN}let Tokenizer=class Tokenizer{constructor(h,g){this.options=h,this.handler=g,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=eI.DATA,this.returnState=eI.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(g),this.currentLocation=this.getCurrentLocation(-1)}_err(h){var g,_;null===(_=(g=this.handler).onParseError)||void 0===_||_.call(g,this.preprocessor.getError(h))}getCurrentLocation(h){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-h,startOffset:this.preprocessor.offset-h,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let h=this._consume();this._ensureHibernation()||this._callState(h)}this.inLoop=!1}}pause(){this.paused=!0}resume(h){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==h||h())}write(h,g,_){this.active=!0,this.preprocessor.write(h,g),this._runParsingLoop(),this.paused||null==_||_()}insertHtmlAtCurrentPos(h){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(h),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(h){this.consumedAfterSnapshot-=h,this.preprocessor.retreat(h)}_reconsumeInState(h,g){this.state=h,this._callState(g)}_advanceBy(h){this.consumedAfterSnapshot+=h;for(let g=0;g<h;g++)this.preprocessor.advance()}_consumeSequenceIfMatch(h,g){return!!this.preprocessor.startsWith(h,g)&&(this._advanceBy(h.length-1),!0)}_createStartTagToken(){this.currentToken={type:eE.START_TAG,tagName:"",tagID:ex.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:eE.END_TAG,tagName:"",tagID:ex.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(h){this.currentToken={type:eE.COMMENT,data:"",location:this.getCurrentLocation(h)}}_createDoctypeToken(h){this.currentToken={type:eE.DOCTYPE,name:h,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(h,g){this.currentCharacterToken={type:h,chars:g,location:this.currentLocation}}_createAttr(h){this.currentAttr={name:h,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var h,g;let _=this.currentToken;if(null===getTokenAttr(_,this.currentAttr.name)){if(_.attrs.push(this.currentAttr),_.location&&this.currentLocation){let y=null!==(h=(g=_.location).attrs)&&void 0!==h?h:g.attrs=Object.create(null);y[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(eg.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(h){this._emitCurrentCharacterToken(h.location),this.currentToken=null,h.location&&(h.location.endLine=this.preprocessor.line,h.location.endCol=this.preprocessor.col+1,h.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let h=this.currentToken;this.prepareToken(h),h.tagID=getTagID(h.tagName),h.type===eE.START_TAG?(this.lastStartTagName=h.tagName,this.handler.onStartTag(h)):(h.attrs.length>0&&this._err(eg.endTagWithAttributes),h.selfClosing&&this._err(eg.endTagWithTrailingSolidus),this.handler.onEndTag(h)),this.preprocessor.dropParsedChunk()}emitCurrentComment(h){this.prepareToken(h),this.handler.onComment(h),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(h){this.prepareToken(h),this.handler.onDoctype(h),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(h){if(this.currentCharacterToken){switch(h&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=h.startLine,this.currentCharacterToken.location.endCol=h.startCol,this.currentCharacterToken.location.endOffset=h.startOffset),this.currentCharacterToken.type){case eE.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case eE.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case eE.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){let h=this.getCurrentLocation(0);h&&(h.endLine=h.startLine,h.endCol=h.startCol,h.endOffset=h.startOffset),this._emitCurrentCharacterToken(h),this.handler.onEof({type:eE.EOF,location:h}),this.active=!1}_appendCharToCurrentCharacterToken(h,g){if(this.currentCharacterToken){if(this.currentCharacterToken.type!==h)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=g;return}}this._createCharacterToken(h,g)}_emitCodePoint(h){let g=isWhitespace(h)?eE.WHITESPACE_CHARACTER:h===em.NULL?eE.NULL_CHARACTER:eE.CHARACTER;this._appendCharToCurrentCharacterToken(g,String.fromCodePoint(h))}_emitChars(h){this._appendCharToCurrentCharacterToken(eE.CHARACTER,h)}_matchNamedCharacterReference(h){let g=null,_=0,y=!1;for(let b=0,k=ry[0];b>=0&&!((b=determineBranch(ry,k,b+1,h))<0);h=this._consume()){_+=1,k=ry[b];let w=k&ev.VALUE_LENGTH;if(w){var A;let k=(w>>14)-1;if(h!==em.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((A=this.preprocessor.peek(1))===em.EQUALS_SIGN||tokenizer_isAsciiAlphaNumeric(A))?(g=[em.AMPERSAND],b+=k):(g=0===k?[ry[b]&~ev.VALUE_LENGTH]:1===k?[ry[++b]]:[ry[++b],ry[++b]],_=0,y=h!==em.SEMICOLON),0===k){this._consume();break}}}return this._unconsume(_),y&&!this.preprocessor.endOfChunkHit&&this._err(eg.missingSemicolonAfterCharacterReference),this._unconsume(1),g}_isCharacterReferenceInAttribute(){return this.returnState===eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===eI.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===eI.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(h){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(h):this._emitCodePoint(h)}_callState(h){switch(this.state){case eI.DATA:this._stateData(h);break;case eI.RCDATA:this._stateRcdata(h);break;case eI.RAWTEXT:this._stateRawtext(h);break;case eI.SCRIPT_DATA:this._stateScriptData(h);break;case eI.PLAINTEXT:this._statePlaintext(h);break;case eI.TAG_OPEN:this._stateTagOpen(h);break;case eI.END_TAG_OPEN:this._stateEndTagOpen(h);break;case eI.TAG_NAME:this._stateTagName(h);break;case eI.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(h);break;case eI.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(h);break;case eI.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(h);break;case eI.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(h);break;case eI.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(h);break;case eI.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(h);break;case eI.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(h);break;case eI.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(h);break;case eI.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(h);break;case eI.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(h);break;case eI.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(h);break;case eI.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(h);break;case eI.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(h);break;case eI.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(h);break;case eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(h);break;case eI.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(h);break;case eI.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(h);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(h);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(h);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(h);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(h);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(h);break;case eI.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(h);break;case eI.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(h);break;case eI.ATTRIBUTE_NAME:this._stateAttributeName(h);break;case eI.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(h);break;case eI.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(h);break;case eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(h);break;case eI.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(h);break;case eI.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(h);break;case eI.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(h);break;case eI.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(h);break;case eI.BOGUS_COMMENT:this._stateBogusComment(h);break;case eI.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(h);break;case eI.COMMENT_START:this._stateCommentStart(h);break;case eI.COMMENT_START_DASH:this._stateCommentStartDash(h);break;case eI.COMMENT:this._stateComment(h);break;case eI.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(h);break;case eI.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(h);break;case eI.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(h);break;case eI.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(h);break;case eI.COMMENT_END_DASH:this._stateCommentEndDash(h);break;case eI.COMMENT_END:this._stateCommentEnd(h);break;case eI.COMMENT_END_BANG:this._stateCommentEndBang(h);break;case eI.DOCTYPE:this._stateDoctype(h);break;case eI.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(h);break;case eI.DOCTYPE_NAME:this._stateDoctypeName(h);break;case eI.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(h);break;case eI.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(h);break;case eI.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(h);break;case eI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(h);break;case eI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(h);break;case eI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(h);break;case eI.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(h);break;case eI.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(h);break;case eI.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(h);break;case eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(h);break;case eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(h);break;case eI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(h);break;case eI.BOGUS_DOCTYPE:this._stateBogusDoctype(h);break;case eI.CDATA_SECTION:this._stateCdataSection(h);break;case eI.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(h);break;case eI.CDATA_SECTION_END:this._stateCdataSectionEnd(h);break;case eI.CHARACTER_REFERENCE:this._stateCharacterReference(h);break;case eI.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(h);break;case eI.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(h);break;case eI.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(h);break;case eI.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(h);break;case eI.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(h);break;case eI.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(h);break;case eI.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(h);break;default:throw Error("Unknown state")}}_stateData(h){switch(h){case em.LESS_THAN_SIGN:this.state=eI.TAG_OPEN;break;case em.AMPERSAND:this.returnState=eI.DATA,this.state=eI.CHARACTER_REFERENCE;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitCodePoint(h);break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateRcdata(h){switch(h){case em.AMPERSAND:this.returnState=eI.RCDATA,this.state=eI.CHARACTER_REFERENCE;break;case em.LESS_THAN_SIGN:this.state=eI.RCDATA_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateRawtext(h){switch(h){case em.LESS_THAN_SIGN:this.state=eI.RAWTEXT_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateScriptData(h){switch(h){case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(h)}}_statePlaintext(h){switch(h){case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateTagOpen(h){if(isAsciiLetter(h))this._createStartTagToken(),this.state=eI.TAG_NAME,this._stateTagName(h);else switch(h){case em.EXCLAMATION_MARK:this.state=eI.MARKUP_DECLARATION_OPEN;break;case em.SOLIDUS:this.state=eI.END_TAG_OPEN;break;case em.QUESTION_MARK:this._err(eg.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=eI.BOGUS_COMMENT,this._stateBogusComment(h);break;case em.EOF:this._err(eg.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(eg.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=eI.DATA,this._stateData(h)}}_stateEndTagOpen(h){if(isAsciiLetter(h))this._createEndTagToken(),this.state=eI.TAG_NAME,this._stateTagName(h);else switch(h){case em.GREATER_THAN_SIGN:this._err(eg.missingEndTagName),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(eg.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=eI.BOGUS_COMMENT,this._stateBogusComment(h)}}_stateTagName(h){let g=this.currentToken;switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_ATTRIBUTE_NAME;break;case em.SOLIDUS:this.state=eI.SELF_CLOSING_START_TAG;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentTagToken();break;case em.NULL:this._err(eg.unexpectedNullCharacter),g.tagName+="�";break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:g.tagName+=String.fromCodePoint(isAsciiUpper(h)?h+32:h)}}_stateRcdataLessThanSign(h){h===em.SOLIDUS?this.state=eI.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=eI.RCDATA,this._stateRcdata(h))}_stateRcdataEndTagOpen(h){isAsciiLetter(h)?(this.state=eI.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(h)):(this._emitChars("</"),this.state=eI.RCDATA,this._stateRcdata(h))}handleSpecialEndTag(h){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let g=this.currentToken;g.tagName=this.lastStartTagName;let _=this.preprocessor.peek(this.lastStartTagName.length);switch(_){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=eI.BEFORE_ATTRIBUTE_NAME,!1;case em.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=eI.SELF_CLOSING_START_TAG,!1;case em.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=eI.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(h){this.handleSpecialEndTag(h)&&(this._emitChars("</"),this.state=eI.RCDATA,this._stateRcdata(h))}_stateRawtextLessThanSign(h){h===em.SOLIDUS?this.state=eI.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=eI.RAWTEXT,this._stateRawtext(h))}_stateRawtextEndTagOpen(h){isAsciiLetter(h)?(this.state=eI.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(h)):(this._emitChars("</"),this.state=eI.RAWTEXT,this._stateRawtext(h))}_stateRawtextEndTagName(h){this.handleSpecialEndTag(h)&&(this._emitChars("</"),this.state=eI.RAWTEXT,this._stateRawtext(h))}_stateScriptDataLessThanSign(h){switch(h){case em.SOLIDUS:this.state=eI.SCRIPT_DATA_END_TAG_OPEN;break;case em.EXCLAMATION_MARK:this.state=eI.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=eI.SCRIPT_DATA,this._stateScriptData(h)}}_stateScriptDataEndTagOpen(h){isAsciiLetter(h)?(this.state=eI.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(h)):(this._emitChars("</"),this.state=eI.SCRIPT_DATA,this._stateScriptData(h))}_stateScriptDataEndTagName(h){this.handleSpecialEndTag(h)&&(this._emitChars("</"),this.state=eI.SCRIPT_DATA,this._stateScriptData(h))}_stateScriptDataEscapeStart(h){h===em.HYPHEN_MINUS?(this.state=eI.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=eI.SCRIPT_DATA,this._stateScriptData(h))}_stateScriptDataEscapeStartDash(h){h===em.HYPHEN_MINUS?(this.state=eI.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=eI.SCRIPT_DATA,this._stateScriptData(h))}_stateScriptDataEscaped(h){switch(h){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateScriptDataEscapedDash(h){switch(h){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_ESCAPED,this._emitCodePoint(h)}}_stateScriptDataEscapedDashDash(h){switch(h){case em.HYPHEN_MINUS:this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case em.GREATER_THAN_SIGN:this.state=eI.SCRIPT_DATA,this._emitChars(">");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_ESCAPED,this._emitCodePoint(h)}}_stateScriptDataEscapedLessThanSign(h){h===em.SOLIDUS?this.state=eI.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(h)?(this._emitChars("<"),this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(h)):(this._emitChars("<"),this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(h))}_stateScriptDataEscapedEndTagOpen(h){isAsciiLetter(h)?(this.state=eI.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(h)):(this._emitChars("</"),this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(h))}_stateScriptDataEscapedEndTagName(h){this.handleSpecialEndTag(h)&&(this._emitChars("</"),this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(h))}_stateScriptDataDoubleEscapeStart(h){if(this.preprocessor.startsWith(rv.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(rv.SCRIPT.length))){this._emitCodePoint(h);for(let h=0;h<rv.SCRIPT.length;h++)this._emitCodePoint(this._consume());this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=eI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(h))}_stateScriptDataDoubleEscaped(h){switch(h){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateScriptDataDoubleEscapedDash(h){switch(h){case em.HYPHEN_MINUS:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(h)}}_stateScriptDataDoubleEscapedDashDash(h){switch(h){case em.HYPHEN_MINUS:this._emitChars("-");break;case em.LESS_THAN_SIGN:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case em.GREATER_THAN_SIGN:this.state=eI.SCRIPT_DATA,this._emitChars(">");break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("�");break;case em.EOF:this._err(eg.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(h)}}_stateScriptDataDoubleEscapedLessThanSign(h){h===em.SOLIDUS?(this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(h))}_stateScriptDataDoubleEscapeEnd(h){if(this.preprocessor.startsWith(rv.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(rv.SCRIPT.length))){this._emitCodePoint(h);for(let h=0;h<rv.SCRIPT.length;h++)this._emitCodePoint(this._consume());this.state=eI.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=eI.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(h))}_stateBeforeAttributeName(h){switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.SOLIDUS:case em.GREATER_THAN_SIGN:case em.EOF:this.state=eI.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(h);break;case em.EQUALS_SIGN:this._err(eg.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=eI.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=eI.ATTRIBUTE_NAME,this._stateAttributeName(h)}}_stateAttributeName(h){switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:case em.SOLIDUS:case em.GREATER_THAN_SIGN:case em.EOF:this._leaveAttrName(),this.state=eI.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(h);break;case em.EQUALS_SIGN:this._leaveAttrName(),this.state=eI.BEFORE_ATTRIBUTE_VALUE;break;case em.QUOTATION_MARK:case em.APOSTROPHE:case em.LESS_THAN_SIGN:this._err(eg.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(h);break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.name+="�";break;default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(h)?h+32:h)}}_stateAfterAttributeName(h){switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.SOLIDUS:this.state=eI.SELF_CLOSING_START_TAG;break;case em.EQUALS_SIGN:this.state=eI.BEFORE_ATTRIBUTE_VALUE;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentTagToken();break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=eI.ATTRIBUTE_NAME,this._stateAttributeName(h)}}_stateBeforeAttributeValue(h){switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.QUOTATION_MARK:this.state=eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case em.APOSTROPHE:this.state=eI.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingAttributeValue),this.state=eI.DATA,this.emitCurrentTagToken();break;default:this.state=eI.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(h)}}_stateAttributeValueDoubleQuoted(h){switch(h){case em.QUOTATION_MARK:this.state=eI.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case em.AMPERSAND:this.returnState=eI.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=eI.CHARACTER_REFERENCE;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.value+="�";break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(h)}}_stateAttributeValueSingleQuoted(h){switch(h){case em.APOSTROPHE:this.state=eI.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case em.AMPERSAND:this.returnState=eI.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=eI.CHARACTER_REFERENCE;break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.value+="�";break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(h)}}_stateAttributeValueUnquoted(h){switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this._leaveAttrValue(),this.state=eI.BEFORE_ATTRIBUTE_NAME;break;case em.AMPERSAND:this.returnState=eI.ATTRIBUTE_VALUE_UNQUOTED,this.state=eI.CHARACTER_REFERENCE;break;case em.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=eI.DATA,this.emitCurrentTagToken();break;case em.NULL:this._err(eg.unexpectedNullCharacter),this.currentAttr.value+="�";break;case em.QUOTATION_MARK:case em.APOSTROPHE:case em.LESS_THAN_SIGN:case em.EQUALS_SIGN:case em.GRAVE_ACCENT:this._err(eg.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(h);break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(h)}}_stateAfterAttributeValueQuoted(h){switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this._leaveAttrValue(),this.state=eI.BEFORE_ATTRIBUTE_NAME;break;case em.SOLIDUS:this._leaveAttrValue(),this.state=eI.SELF_CLOSING_START_TAG;break;case em.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=eI.DATA,this.emitCurrentTagToken();break;case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this._err(eg.missingWhitespaceBetweenAttributes),this.state=eI.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(h)}}_stateSelfClosingStartTag(h){switch(h){case em.GREATER_THAN_SIGN:{let h=this.currentToken;h.selfClosing=!0,this.state=eI.DATA,this.emitCurrentTagToken();break}case em.EOF:this._err(eg.eofInTag),this._emitEOFToken();break;default:this._err(eg.unexpectedSolidusInTag),this.state=eI.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(h)}}_stateBogusComment(h){let g=this.currentToken;switch(h){case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentComment(g);break;case em.EOF:this.emitCurrentComment(g),this._emitEOFToken();break;case em.NULL:this._err(eg.unexpectedNullCharacter),g.data+="�";break;default:g.data+=String.fromCodePoint(h)}}_stateMarkupDeclarationOpen(h){this._consumeSequenceIfMatch(rv.DASH_DASH,!0)?(this._createCommentToken(rv.DASH_DASH.length+1),this.state=eI.COMMENT_START):this._consumeSequenceIfMatch(rv.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(rv.DOCTYPE.length+1),this.state=eI.DOCTYPE):this._consumeSequenceIfMatch(rv.CDATA_START,!0)?this.inForeignNode?this.state=eI.CDATA_SECTION:(this._err(eg.cdataInHtmlContent),this._createCommentToken(rv.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=eI.BOGUS_COMMENT):this._ensureHibernation()||(this._err(eg.incorrectlyOpenedComment),this._createCommentToken(2),this.state=eI.BOGUS_COMMENT,this._stateBogusComment(h))}_stateCommentStart(h){switch(h){case em.HYPHEN_MINUS:this.state=eI.COMMENT_START_DASH;break;case em.GREATER_THAN_SIGN:{this._err(eg.abruptClosingOfEmptyComment),this.state=eI.DATA;let h=this.currentToken;this.emitCurrentComment(h);break}default:this.state=eI.COMMENT,this._stateComment(h)}}_stateCommentStartDash(h){let g=this.currentToken;switch(h){case em.HYPHEN_MINUS:this.state=eI.COMMENT_END;break;case em.GREATER_THAN_SIGN:this._err(eg.abruptClosingOfEmptyComment),this.state=eI.DATA,this.emitCurrentComment(g);break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(g),this._emitEOFToken();break;default:g.data+="-",this.state=eI.COMMENT,this._stateComment(h)}}_stateComment(h){let g=this.currentToken;switch(h){case em.HYPHEN_MINUS:this.state=eI.COMMENT_END_DASH;break;case em.LESS_THAN_SIGN:g.data+="<",this.state=eI.COMMENT_LESS_THAN_SIGN;break;case em.NULL:this._err(eg.unexpectedNullCharacter),g.data+="�";break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(g),this._emitEOFToken();break;default:g.data+=String.fromCodePoint(h)}}_stateCommentLessThanSign(h){let g=this.currentToken;switch(h){case em.EXCLAMATION_MARK:g.data+="!",this.state=eI.COMMENT_LESS_THAN_SIGN_BANG;break;case em.LESS_THAN_SIGN:g.data+="<";break;default:this.state=eI.COMMENT,this._stateComment(h)}}_stateCommentLessThanSignBang(h){h===em.HYPHEN_MINUS?this.state=eI.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=eI.COMMENT,this._stateComment(h))}_stateCommentLessThanSignBangDash(h){h===em.HYPHEN_MINUS?this.state=eI.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=eI.COMMENT_END_DASH,this._stateCommentEndDash(h))}_stateCommentLessThanSignBangDashDash(h){h!==em.GREATER_THAN_SIGN&&h!==em.EOF&&this._err(eg.nestedComment),this.state=eI.COMMENT_END,this._stateCommentEnd(h)}_stateCommentEndDash(h){let g=this.currentToken;switch(h){case em.HYPHEN_MINUS:this.state=eI.COMMENT_END;break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(g),this._emitEOFToken();break;default:g.data+="-",this.state=eI.COMMENT,this._stateComment(h)}}_stateCommentEnd(h){let g=this.currentToken;switch(h){case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentComment(g);break;case em.EXCLAMATION_MARK:this.state=eI.COMMENT_END_BANG;break;case em.HYPHEN_MINUS:g.data+="-";break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(g),this._emitEOFToken();break;default:g.data+="--",this.state=eI.COMMENT,this._stateComment(h)}}_stateCommentEndBang(h){let g=this.currentToken;switch(h){case em.HYPHEN_MINUS:g.data+="--!",this.state=eI.COMMENT_END_DASH;break;case em.GREATER_THAN_SIGN:this._err(eg.incorrectlyClosedComment),this.state=eI.DATA,this.emitCurrentComment(g);break;case em.EOF:this._err(eg.eofInComment),this.emitCurrentComment(g),this._emitEOFToken();break;default:g.data+="--!",this.state=eI.COMMENT,this._stateComment(h)}}_stateDoctype(h){switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_DOCTYPE_NAME;break;case em.GREATER_THAN_SIGN:this.state=eI.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(h);break;case em.EOF:{this._err(eg.eofInDoctype),this._createDoctypeToken(null);let h=this.currentToken;h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break}default:this._err(eg.missingWhitespaceBeforeDoctypeName),this.state=eI.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(h)}}_stateBeforeDoctypeName(h){if(isAsciiUpper(h))this._createDoctypeToken(String.fromCharCode(h+32)),this.state=eI.DOCTYPE_NAME;else switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.NULL:this._err(eg.unexpectedNullCharacter),this._createDoctypeToken("�"),this.state=eI.DOCTYPE_NAME;break;case em.GREATER_THAN_SIGN:{this._err(eg.missingDoctypeName),this._createDoctypeToken(null);let h=this.currentToken;h.forceQuirks=!0,this.emitCurrentDoctype(h),this.state=eI.DATA;break}case em.EOF:{this._err(eg.eofInDoctype),this._createDoctypeToken(null);let h=this.currentToken;h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(h)),this.state=eI.DOCTYPE_NAME}}_stateDoctypeName(h){let g=this.currentToken;switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.AFTER_DOCTYPE_NAME;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentDoctype(g);break;case em.NULL:this._err(eg.unexpectedNullCharacter),g.name+="�";break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:g.name+=String.fromCodePoint(isAsciiUpper(h)?h+32:h)}}_stateAfterDoctypeName(h){let g=this.currentToken;switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentDoctype(g);break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(rv.PUBLIC,!1)?this.state=eI.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(rv.SYSTEM,!1)?this.state=eI.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(eg.invalidCharacterSequenceAfterDoctypeName),g.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(h))}}_stateAfterDoctypePublicKeyword(h){let g=this.currentToken;switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case em.QUOTATION_MARK:this._err(eg.missingWhitespaceAfterDoctypePublicKeyword),g.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:this._err(eg.missingWhitespaceAfterDoctypePublicKeyword),g.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypePublicIdentifier),g.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(g);break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypePublicIdentifier),g.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateBeforeDoctypePublicIdentifier(h){let g=this.currentToken;switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.QUOTATION_MARK:g.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:g.publicId="",this.state=eI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypePublicIdentifier),g.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(g);break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypePublicIdentifier),g.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateDoctypePublicIdentifierDoubleQuoted(h){let g=this.currentToken;switch(h){case em.QUOTATION_MARK:this.state=eI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),g.publicId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypePublicIdentifier),g.forceQuirks=!0,this.emitCurrentDoctype(g),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:g.publicId+=String.fromCodePoint(h)}}_stateDoctypePublicIdentifierSingleQuoted(h){let g=this.currentToken;switch(h){case em.APOSTROPHE:this.state=eI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),g.publicId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypePublicIdentifier),g.forceQuirks=!0,this.emitCurrentDoctype(g),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:g.publicId+=String.fromCodePoint(h)}}_stateAfterDoctypePublicIdentifier(h){let g=this.currentToken;switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case em.GREATER_THAN_SIGN:this.state=eI.DATA,this.emitCurrentDoctype(g);break;case em.QUOTATION_MARK:this._err(eg.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),g.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:this._err(eg.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),g.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateBetweenDoctypePublicAndSystemIdentifiers(h){let g=this.currentToken;switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.GREATER_THAN_SIGN:this.emitCurrentDoctype(g),this.state=eI.DATA;break;case em.QUOTATION_MARK:g.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:g.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateAfterDoctypeSystemKeyword(h){let g=this.currentToken;switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:this.state=eI.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case em.QUOTATION_MARK:this._err(eg.missingWhitespaceAfterDoctypeSystemKeyword),g.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:this._err(eg.missingWhitespaceAfterDoctypeSystemKeyword),g.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(g);break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateBeforeDoctypeSystemIdentifier(h){let g=this.currentToken;switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.QUOTATION_MARK:g.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case em.APOSTROPHE:g.systemId="",this.state=eI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case em.GREATER_THAN_SIGN:this._err(eg.missingDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eI.DATA,this.emitCurrentDoctype(g);break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(eg.missingQuoteBeforeDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateDoctypeSystemIdentifierDoubleQuoted(h){let g=this.currentToken;switch(h){case em.QUOTATION_MARK:this.state=eI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),g.systemId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypeSystemIdentifier),g.forceQuirks=!0,this.emitCurrentDoctype(g),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:g.systemId+=String.fromCodePoint(h)}}_stateDoctypeSystemIdentifierSingleQuoted(h){let g=this.currentToken;switch(h){case em.APOSTROPHE:this.state=eI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case em.NULL:this._err(eg.unexpectedNullCharacter),g.systemId+="�";break;case em.GREATER_THAN_SIGN:this._err(eg.abruptDoctypeSystemIdentifier),g.forceQuirks=!0,this.emitCurrentDoctype(g),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:g.systemId+=String.fromCodePoint(h)}}_stateAfterDoctypeSystemIdentifier(h){let g=this.currentToken;switch(h){case em.SPACE:case em.LINE_FEED:case em.TABULATION:case em.FORM_FEED:break;case em.GREATER_THAN_SIGN:this.emitCurrentDoctype(g),this.state=eI.DATA;break;case em.EOF:this._err(eg.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(eg.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=eI.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateBogusDoctype(h){let g=this.currentToken;switch(h){case em.GREATER_THAN_SIGN:this.emitCurrentDoctype(g),this.state=eI.DATA;break;case em.NULL:this._err(eg.unexpectedNullCharacter);break;case em.EOF:this.emitCurrentDoctype(g),this._emitEOFToken()}}_stateCdataSection(h){switch(h){case em.RIGHT_SQUARE_BRACKET:this.state=eI.CDATA_SECTION_BRACKET;break;case em.EOF:this._err(eg.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateCdataSectionBracket(h){h===em.RIGHT_SQUARE_BRACKET?this.state=eI.CDATA_SECTION_END:(this._emitChars("]"),this.state=eI.CDATA_SECTION,this._stateCdataSection(h))}_stateCdataSectionEnd(h){switch(h){case em.GREATER_THAN_SIGN:this.state=eI.DATA;break;case em.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=eI.CDATA_SECTION,this._stateCdataSection(h)}}_stateCharacterReference(h){h===em.NUMBER_SIGN?this.state=eI.NUMERIC_CHARACTER_REFERENCE:tokenizer_isAsciiAlphaNumeric(h)?(this.state=eI.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(h)):(this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this._reconsumeInState(this.returnState,h))}_stateNamedCharacterReference(h){let g=this._matchNamedCharacterReference(h);if(this._ensureHibernation());else if(g){for(let h=0;h<g.length;h++)this._flushCodePointConsumedAsCharacterReference(g[h]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this.state=eI.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(h){tokenizer_isAsciiAlphaNumeric(h)?this._flushCodePointConsumedAsCharacterReference(h):(h===em.SEMICOLON&&this._err(eg.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,h))}_stateNumericCharacterReference(h){this.charRefCode=0,h===em.LATIN_SMALL_X||h===em.LATIN_CAPITAL_X?this.state=eI.HEXADEMICAL_CHARACTER_REFERENCE_START:isAsciiDigit(h)?(this.state=eI.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(h)):(this._err(eg.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(em.NUMBER_SIGN),this._reconsumeInState(this.returnState,h))}_stateHexademicalCharacterReferenceStart(h){isAsciiDigit(h)||isAsciiUpperHexDigit(h)||isAsciiLowerHexDigit(h)?(this.state=eI.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(h)):(this._err(eg.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(em.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(em.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(h){isAsciiUpperHexDigit(h)?this.charRefCode=16*this.charRefCode+h-55:isAsciiLowerHexDigit(h)?this.charRefCode=16*this.charRefCode+h-87:isAsciiDigit(h)?this.charRefCode=16*this.charRefCode+h-48:h===em.SEMICOLON?this.state=eI.NUMERIC_CHARACTER_REFERENCE_END:(this._err(eg.missingSemicolonAfterCharacterReference),this.state=eI.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(h))}_stateDecimalCharacterReference(h){isAsciiDigit(h)?this.charRefCode=10*this.charRefCode+h-48:h===em.SEMICOLON?this.state=eI.NUMERIC_CHARACTER_REFERENCE_END:(this._err(eg.missingSemicolonAfterCharacterReference),this.state=eI.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(h))}_stateNumericCharacterReferenceEnd(h){if(this.charRefCode===em.NULL)this._err(eg.nullCharacterReference),this.charRefCode=em.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(eg.characterReferenceOutsideUnicodeRange),this.charRefCode=em.REPLACEMENT_CHARACTER;else if(isSurrogate(this.charRefCode))this._err(eg.surrogateCharacterReference),this.charRefCode=em.REPLACEMENT_CHARACTER;else if(isUndefinedCodePoint(this.charRefCode))this._err(eg.noncharacterCharacterReference);else if(isControlCodePoint(this.charRefCode)||this.charRefCode===em.CARRIAGE_RETURN){this._err(eg.controlCharacterReference);let h=rI.get(this.charRefCode);void 0!==h&&(this.charRefCode=h)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,h)}};let rO=new Set([ex.DD,ex.DT,ex.LI,ex.OPTGROUP,ex.OPTION,ex.P,ex.RB,ex.RP,ex.RT,ex.RTC]),rN=new Set([...rO,ex.CAPTION,ex.COLGROUP,ex.TBODY,ex.TD,ex.TFOOT,ex.TH,ex.THEAD,ex.TR]),rR=new Map([[ex.APPLET,eb.HTML],[ex.CAPTION,eb.HTML],[ex.HTML,eb.HTML],[ex.MARQUEE,eb.HTML],[ex.OBJECT,eb.HTML],[ex.TABLE,eb.HTML],[ex.TD,eb.HTML],[ex.TEMPLATE,eb.HTML],[ex.TH,eb.HTML],[ex.ANNOTATION_XML,eb.MATHML],[ex.MI,eb.MATHML],[ex.MN,eb.MATHML],[ex.MO,eb.MATHML],[ex.MS,eb.MATHML],[ex.MTEXT,eb.MATHML],[ex.DESC,eb.SVG],[ex.FOREIGN_OBJECT,eb.SVG],[ex.TITLE,eb.SVG]]),rD=[ex.H1,ex.H2,ex.H3,ex.H4,ex.H5,ex.H6],rL=[ex.TR,ex.TEMPLATE,ex.HTML],rM=[ex.TBODY,ex.TFOOT,ex.THEAD,ex.TEMPLATE,ex.HTML],rP=[ex.TABLE,ex.TEMPLATE,ex.HTML],rF=[ex.TD,ex.TH];let OpenElementStack=class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(h,g,_){this.treeAdapter=g,this.handler=_,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=ex.UNKNOWN,this.current=h}_indexOf(h){return this.items.lastIndexOf(h,this.stackTop)}_isInTemplate(){return this.currentTagId===ex.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===eb.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(h,g){this.stackTop++,this.items[this.stackTop]=h,this.current=h,this.tagIDs[this.stackTop]=g,this.currentTagId=g,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(h,g,!0)}pop(){let h=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(h,!0)}replace(h,g){let _=this._indexOf(h);this.items[_]=g,_===this.stackTop&&(this.current=g)}insertAfter(h,g,_){let y=this._indexOf(h)+1;this.items.splice(y,0,g),this.tagIDs.splice(y,0,_),this.stackTop++,y===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,y===this.stackTop)}popUntilTagNamePopped(h){let g=this.stackTop+1;do g=this.tagIDs.lastIndexOf(h,g-1);while(g>0&&this.treeAdapter.getNamespaceURI(this.items[g])!==eb.HTML);this.shortenToLength(g<0?0:g)}shortenToLength(h){for(;this.stackTop>=h;){let g=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(g,this.stackTop<h)}}popUntilElementPopped(h){let g=this._indexOf(h);this.shortenToLength(g<0?0:g)}popUntilPopped(h,g){let _=this._indexOfTagNames(h,g);this.shortenToLength(_<0?0:_)}popUntilNumberedHeaderPopped(){this.popUntilPopped(rD,eb.HTML)}popUntilTableCellPopped(){this.popUntilPopped(rF,eb.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(h,g){for(let _=this.stackTop;_>=0;_--)if(h.includes(this.tagIDs[_])&&this.treeAdapter.getNamespaceURI(this.items[_])===g)return _;return -1}clearBackTo(h,g){let _=this._indexOfTagNames(h,g);this.shortenToLength(_+1)}clearBackToTableContext(){this.clearBackTo(rP,eb.HTML)}clearBackToTableBodyContext(){this.clearBackTo(rM,eb.HTML)}clearBackToTableRowContext(){this.clearBackTo(rL,eb.HTML)}remove(h){let g=this._indexOf(h);g>=0&&(g===this.stackTop?this.pop():(this.items.splice(g,1),this.tagIDs.splice(g,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(h,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===ex.BODY?this.items[1]:null}contains(h){return this._indexOf(h)>-1}getCommonAncestor(h){let g=this._indexOf(h)-1;return g>=0?this.items[g]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===ex.HTML}hasInScope(h){for(let g=this.stackTop;g>=0;g--){let _=this.tagIDs[g],y=this.treeAdapter.getNamespaceURI(this.items[g]);if(_===h&&y===eb.HTML)break;if(rR.get(_)===y)return!1}return!0}hasNumberedHeaderInScope(){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(isNumberedHeader(g)&&_===eb.HTML)break;if(rR.get(g)===_)return!1}return!0}hasInListItemScope(h){for(let g=this.stackTop;g>=0;g--){let _=this.tagIDs[g],y=this.treeAdapter.getNamespaceURI(this.items[g]);if(_===h&&y===eb.HTML)break;if((_===ex.UL||_===ex.OL)&&y===eb.HTML||rR.get(_)===y)return!1}return!0}hasInButtonScope(h){for(let g=this.stackTop;g>=0;g--){let _=this.tagIDs[g],y=this.treeAdapter.getNamespaceURI(this.items[g]);if(_===h&&y===eb.HTML)break;if(_===ex.BUTTON&&y===eb.HTML||rR.get(_)===y)return!1}return!0}hasInTableScope(h){for(let g=this.stackTop;g>=0;g--){let _=this.tagIDs[g],y=this.treeAdapter.getNamespaceURI(this.items[g]);if(y===eb.HTML){if(_===h)break;if(_===ex.TABLE||_===ex.TEMPLATE||_===ex.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let h=this.stackTop;h>=0;h--){let g=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(_===eb.HTML){if(g===ex.TBODY||g===ex.THEAD||g===ex.TFOOT)break;if(g===ex.TABLE||g===ex.HTML)return!1}}return!0}hasInSelectScope(h){for(let g=this.stackTop;g>=0;g--){let _=this.tagIDs[g],y=this.treeAdapter.getNamespaceURI(this.items[g]);if(y===eb.HTML){if(_===h)break;if(_!==ex.OPTION&&_!==ex.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;rO.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;rN.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(h){for(;this.currentTagId!==h&&rN.has(this.currentTagId);)this.pop()}};(es=ew=ew||(ew={}))[es.Marker=0]="Marker",es[es.Element=1]="Element";let rB={type:ew.Marker};let FormattingElementList=class FormattingElementList{constructor(h){this.treeAdapter=h,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(h,g){let _=[],y=g.length,A=this.treeAdapter.getTagName(h),b=this.treeAdapter.getNamespaceURI(h);for(let h=0;h<this.entries.length;h++){let g=this.entries[h];if(g.type===ew.Marker)break;let{element:k}=g;if(this.treeAdapter.getTagName(k)===A&&this.treeAdapter.getNamespaceURI(k)===b){let g=this.treeAdapter.getAttrList(k);g.length===y&&_.push({idx:h,attrs:g})}}return _}_ensureNoahArkCondition(h){if(this.entries.length<3)return;let g=this.treeAdapter.getAttrList(h),_=this._getNoahArkConditionCandidates(h,g);if(_.length<3)return;let y=new Map(g.map(h=>[h.name,h.value])),A=0;for(let h=0;h<_.length;h++){let g=_[h];g.attrs.every(h=>y.get(h.name)===h.value)&&(A+=1)>=3&&this.entries.splice(g.idx,1)}}insertMarker(){this.entries.unshift(rB)}pushElement(h,g){this._ensureNoahArkCondition(h),this.entries.unshift({type:ew.Element,element:h,token:g})}insertElementAfterBookmark(h,g){let _=this.entries.indexOf(this.bookmark);this.entries.splice(_,0,{type:ew.Element,element:h,token:g})}removeEntry(h){let g=this.entries.indexOf(h);g>=0&&this.entries.splice(g,1)}clearToLastMarker(){let h=this.entries.indexOf(rB);h>=0?this.entries.splice(0,h+1):this.entries.length=0}getElementEntryInScopeWithTagName(h){let g=this.entries.find(g=>g.type===ew.Marker||this.treeAdapter.getTagName(g.element)===h);return g&&g.type===ew.Element?g:null}getElementEntry(h){return this.entries.find(g=>g.type===ew.Element&&g.element===h)}};function createTextNode(h){return{nodeName:"#text",value:h,parentNode:null}}let rU={createDocument:()=>({nodeName:"#document",mode:eS.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(h,g,_)=>({nodeName:h,tagName:h,attrs:_,namespaceURI:g,childNodes:[],parentNode:null}),createCommentNode:h=>({nodeName:"#comment",data:h,parentNode:null}),appendChild(h,g){h.childNodes.push(g),g.parentNode=h},insertBefore(h,g,_){let y=h.childNodes.indexOf(_);h.childNodes.splice(y,0,g),g.parentNode=h},setTemplateContent(h,g){h.content=g},getTemplateContent:h=>h.content,setDocumentType(h,g,_,y){let A=h.childNodes.find(h=>"#documentType"===h.nodeName);A?(A.name=g,A.publicId=_,A.systemId=y):rU.appendChild(h,{nodeName:"#documentType",name:g,publicId:_,systemId:y,parentNode:null})},setDocumentMode(h,g){h.mode=g},getDocumentMode:h=>h.mode,detachNode(h){if(h.parentNode){let g=h.parentNode.childNodes.indexOf(h);h.parentNode.childNodes.splice(g,1),h.parentNode=null}},insertText(h,g){if(h.childNodes.length>0){let _=h.childNodes[h.childNodes.length-1];if(rU.isTextNode(_)){_.value+=g;return}}rU.appendChild(h,createTextNode(g))},insertTextBefore(h,g,_){let y=h.childNodes[h.childNodes.indexOf(_)-1];y&&rU.isTextNode(y)?y.value+=g:rU.insertBefore(h,createTextNode(g),_)},adoptAttributes(h,g){let _=new Set(h.attrs.map(h=>h.name));for(let y=0;y<g.length;y++)_.has(g[y].name)||h.attrs.push(g[y])},getFirstChild:h=>h.childNodes[0],getChildNodes:h=>h.childNodes,getParentNode:h=>h.parentNode,getAttrList:h=>h.attrs,getTagName:h=>h.tagName,getNamespaceURI:h=>h.namespaceURI,getTextNodeContent:h=>h.value,getCommentNodeContent:h=>h.data,getDocumentTypeNodeName:h=>h.name,getDocumentTypeNodePublicId:h=>h.publicId,getDocumentTypeNodeSystemId:h=>h.systemId,isTextNode:h=>"#text"===h.nodeName,isCommentNode:h=>"#comment"===h.nodeName,isDocumentTypeNode:h=>"#documentType"===h.nodeName,isElementNode:h=>Object.prototype.hasOwnProperty.call(h,"tagName"),setNodeSourceCodeLocation(h,g){h.sourceCodeLocation=g},getNodeSourceCodeLocation:h=>h.sourceCodeLocation,updateNodeSourceCodeLocation(h,g){h.sourceCodeLocation={...h.sourceCodeLocation,...g}}},rH="html",rG=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],rz=[...rG,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],r$=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),rV=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],rQ=[...rV,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(h,g){return g.some(g=>h.startsWith(g))}let rj={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},rY=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(h=>[h.toLowerCase(),h])),rq=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:eb.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:eb.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:eb.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:eb.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:eb.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:eb.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:eb.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:eb.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:eb.XML}],["xml:space",{prefix:"xml",name:"space",namespace:eb.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:eb.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:eb.XMLNS}]]),rW=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(h=>[h.toLowerCase(),h])),rX=new Set([ex.B,ex.BIG,ex.BLOCKQUOTE,ex.BODY,ex.BR,ex.CENTER,ex.CODE,ex.DD,ex.DIV,ex.DL,ex.DT,ex.EM,ex.EMBED,ex.H1,ex.H2,ex.H3,ex.H4,ex.H5,ex.H6,ex.HEAD,ex.HR,ex.I,ex.IMG,ex.LI,ex.LISTING,ex.MENU,ex.META,ex.NOBR,ex.OL,ex.P,ex.PRE,ex.RUBY,ex.S,ex.SMALL,ex.SPAN,ex.STRONG,ex.STRIKE,ex.SUB,ex.SUP,ex.TABLE,ex.TT,ex.U,ex.UL,ex.VAR]);function adjustTokenMathMLAttrs(h){for(let g=0;g<h.attrs.length;g++)if("definitionurl"===h.attrs[g].name){h.attrs[g].name="definitionURL";break}}function adjustTokenSVGAttrs(h){for(let g=0;g<h.attrs.length;g++){let _=rY.get(h.attrs[g].name);null!=_&&(h.attrs[g].name=_)}}function adjustTokenXMLAttrs(h){for(let g=0;g<h.attrs.length;g++){let _=rq.get(h.attrs[g].name);_&&(h.attrs[g].prefix=_.prefix,h.attrs[g].name=_.name,h.attrs[g].namespace=_.namespace)}}(el=eO||(eO={}))[el.INITIAL=0]="INITIAL",el[el.BEFORE_HTML=1]="BEFORE_HTML",el[el.BEFORE_HEAD=2]="BEFORE_HEAD",el[el.IN_HEAD=3]="IN_HEAD",el[el.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",el[el.AFTER_HEAD=5]="AFTER_HEAD",el[el.IN_BODY=6]="IN_BODY",el[el.TEXT=7]="TEXT",el[el.IN_TABLE=8]="IN_TABLE",el[el.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",el[el.IN_CAPTION=10]="IN_CAPTION",el[el.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",el[el.IN_TABLE_BODY=12]="IN_TABLE_BODY",el[el.IN_ROW=13]="IN_ROW",el[el.IN_CELL=14]="IN_CELL",el[el.IN_SELECT=15]="IN_SELECT",el[el.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",el[el.IN_TEMPLATE=17]="IN_TEMPLATE",el[el.AFTER_BODY=18]="AFTER_BODY",el[el.IN_FRAMESET=19]="IN_FRAMESET",el[el.AFTER_FRAMESET=20]="AFTER_FRAMESET",el[el.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",el[el.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let rK={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},rJ=new Set([ex.TABLE,ex.TBODY,ex.TFOOT,ex.THEAD,ex.TR]),rZ={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:rU,onParseError:null};let parser_Parser=class parser_Parser{constructor(h,g,_=null,y=null){this.fragmentContext=_,this.scriptHandler=y,this.currentToken=null,this.stopped=!1,this.insertionMode=eO.INITIAL,this.originalInsertionMode=eO.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...rZ,...h},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=g?g:this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=_?getTagID(this.treeAdapter.getTagName(_)):ex.UNKNOWN,this._setContextModes(null!=_?_:this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(h,g){let _=new this(g);return _.tokenizer.write(h,!0),_.document}static getFragmentParser(h,g){let _={...rZ,...g};null!=h||(h=_.treeAdapter.createElement(eC.TEMPLATE,eb.HTML,[]));let y=_.treeAdapter.createElement("documentmock",eb.HTML,[]),A=new this(_,y,h);return A.fragmentContextID===ex.TEMPLATE&&A.tmplInsertionModeStack.unshift(eO.IN_TEMPLATE),A._initTokenizerForFragmentParsing(),A._insertFakeRootElement(),A._resetInsertionMode(),A._findFormInFragmentContext(),A}getFragment(){let h=this.treeAdapter.getFirstChild(this.document),g=this.treeAdapter.createDocumentFragment();return this._adoptNodes(h,g),g}_err(h,g,_){var y;if(!this.onParseError)return;let A=null!==(y=h.location)&&void 0!==y?y:rK,b={code:g,startLine:A.startLine,startCol:A.startCol,startOffset:A.startOffset,endLine:_?A.startLine:A.endLine,endCol:_?A.startCol:A.endCol,endOffset:_?A.startOffset:A.endOffset};this.onParseError(b)}onItemPush(h,g,_){var y,A;null===(A=(y=this.treeAdapter).onItemPush)||void 0===A||A.call(y,h),_&&this.openElements.stackTop>0&&this._setContextModes(h,g)}onItemPop(h,g){var _,y;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(h,this.currentToken),null===(y=(_=this.treeAdapter).onItemPop)||void 0===y||y.call(_,h,this.openElements.current),g){let h,g;0===this.openElements.stackTop&&this.fragmentContext?(h=this.fragmentContext,g=this.fragmentContextID):{current:h,currentTagId:g}=this.openElements,this._setContextModes(h,g)}}_setContextModes(h,g){let _=h===this.document||this.treeAdapter.getNamespaceURI(h)===eb.HTML;this.currentNotInHTML=!_,this.tokenizer.inForeignNode=!_&&!this._isIntegrationPoint(g,h)}_switchToTextParsing(h,g){this._insertElement(h,eb.HTML),this.tokenizer.state=g,this.originalInsertionMode=this.insertionMode,this.insertionMode=eO.TEXT}switchToPlaintextParsing(){this.insertionMode=eO.TEXT,this.originalInsertionMode=eO.IN_BODY,this.tokenizer.state=rw.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let h=this.fragmentContext;for(;h;){if(this.treeAdapter.getTagName(h)===eC.FORM){this.formElement=h;break}h=this.treeAdapter.getParentNode(h)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===eb.HTML)switch(this.fragmentContextID){case ex.TITLE:case ex.TEXTAREA:this.tokenizer.state=rw.RCDATA;break;case ex.STYLE:case ex.XMP:case ex.IFRAME:case ex.NOEMBED:case ex.NOFRAMES:case ex.NOSCRIPT:this.tokenizer.state=rw.RAWTEXT;break;case ex.SCRIPT:this.tokenizer.state=rw.SCRIPT_DATA;break;case ex.PLAINTEXT:this.tokenizer.state=rw.PLAINTEXT}}_setDocumentType(h){let g=h.name||"",_=h.publicId||"",y=h.systemId||"";if(this.treeAdapter.setDocumentType(this.document,g,_,y),h.location){let g=this.treeAdapter.getChildNodes(this.document),_=g.find(h=>this.treeAdapter.isDocumentTypeNode(h));_&&this.treeAdapter.setNodeSourceCodeLocation(_,h.location)}}_attachElementToTree(h,g){if(this.options.sourceCodeLocationInfo){let _=g&&{...g,startTag:g};this.treeAdapter.setNodeSourceCodeLocation(h,_)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(h);else{let g=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(g,h)}}_appendElement(h,g){let _=this.treeAdapter.createElement(h.tagName,g,h.attrs);this._attachElementToTree(_,h.location)}_insertElement(h,g){let _=this.treeAdapter.createElement(h.tagName,g,h.attrs);this._attachElementToTree(_,h.location),this.openElements.push(_,h.tagID)}_insertFakeElement(h,g){let _=this.treeAdapter.createElement(h,eb.HTML,[]);this._attachElementToTree(_,null),this.openElements.push(_,g)}_insertTemplate(h){let g=this.treeAdapter.createElement(h.tagName,eb.HTML,h.attrs),_=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(g,_),this._attachElementToTree(g,h.location),this.openElements.push(g,h.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(_,null)}_insertFakeRootElement(){let h=this.treeAdapter.createElement(eC.HTML,eb.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(h,null),this.treeAdapter.appendChild(this.openElements.current,h),this.openElements.push(h,ex.HTML)}_appendCommentNode(h,g){let _=this.treeAdapter.createCommentNode(h.data);this.treeAdapter.appendChild(g,_),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(_,h.location)}_insertCharacters(h){let g,_;if(this._shouldFosterParentOnInsertion()?({parent:g,beforeElement:_}=this._findFosterParentingLocation(),_?this.treeAdapter.insertTextBefore(g,h.chars,_):this.treeAdapter.insertText(g,h.chars)):(g=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(g,h.chars)),!h.location)return;let y=this.treeAdapter.getChildNodes(g),A=_?y.lastIndexOf(_):y.length,b=y[A-1],k=this.treeAdapter.getNodeSourceCodeLocation(b);if(k){let{endLine:g,endCol:_,endOffset:y}=h.location;this.treeAdapter.updateNodeSourceCodeLocation(b,{endLine:g,endCol:_,endOffset:y})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(b,h.location)}_adoptNodes(h,g){for(let _=this.treeAdapter.getFirstChild(h);_;_=this.treeAdapter.getFirstChild(h))this.treeAdapter.detachNode(_),this.treeAdapter.appendChild(g,_)}_setEndLocation(h,g){if(this.treeAdapter.getNodeSourceCodeLocation(h)&&g.location){let _=g.location,y=this.treeAdapter.getTagName(h),A=g.type===eE.END_TAG&&y===g.tagName?{endTag:{..._},endLine:_.endLine,endCol:_.endCol,endOffset:_.endOffset}:{endLine:_.startLine,endCol:_.startCol,endOffset:_.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(h,A)}}shouldProcessStartTagTokenInForeignContent(h){let g,_;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(g=this.fragmentContext,_=this.fragmentContextID):{current:g,currentTagId:_}=this.openElements,(h.tagID!==ex.SVG||this.treeAdapter.getTagName(g)!==eC.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(g)!==eb.MATHML)&&(this.tokenizer.inForeignNode||(h.tagID===ex.MGLYPH||h.tagID===ex.MALIGNMARK)&&!this._isIntegrationPoint(_,g,eb.HTML)))}_processToken(h){switch(h.type){case eE.CHARACTER:this.onCharacter(h);break;case eE.NULL_CHARACTER:this.onNullCharacter(h);break;case eE.COMMENT:this.onComment(h);break;case eE.DOCTYPE:this.onDoctype(h);break;case eE.START_TAG:this._processStartTag(h);break;case eE.END_TAG:this.onEndTag(h);break;case eE.EOF:this.onEof(h);break;case eE.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(h)}}_isIntegrationPoint(h,g,_){let y=this.treeAdapter.getNamespaceURI(g),A=this.treeAdapter.getAttrList(g);return(!_||_===eb.HTML)&&function(h,g,_){if(g===eb.MATHML&&h===ex.ANNOTATION_XML){for(let h=0;h<_.length;h++)if(_[h].name===ek.ENCODING){let g=_[h].value.toLowerCase();return g===rj.TEXT_HTML||g===rj.APPLICATION_XML}}return g===eb.SVG&&(h===ex.FOREIGN_OBJECT||h===ex.DESC||h===ex.TITLE)}(h,y,A)||(!_||_===eb.MATHML)&&y===eb.MATHML&&(h===ex.MI||h===ex.MO||h===ex.MN||h===ex.MS||h===ex.MTEXT)}_reconstructActiveFormattingElements(){let h=this.activeFormattingElements.entries.length;if(h){let g=this.activeFormattingElements.entries.findIndex(h=>h.type===ew.Marker||this.openElements.contains(h.element)),_=g<0?h-1:g-1;for(let h=_;h>=0;h--){let g=this.activeFormattingElements.entries[h];this._insertElement(g.token,this.treeAdapter.getNamespaceURI(g.element)),g.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=eO.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(ex.P),this.openElements.popUntilTagNamePopped(ex.P)}_resetInsertionMode(){for(let h=this.openElements.stackTop;h>=0;h--)switch(0===h&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[h]){case ex.TR:this.insertionMode=eO.IN_ROW;return;case ex.TBODY:case ex.THEAD:case ex.TFOOT:this.insertionMode=eO.IN_TABLE_BODY;return;case ex.CAPTION:this.insertionMode=eO.IN_CAPTION;return;case ex.COLGROUP:this.insertionMode=eO.IN_COLUMN_GROUP;return;case ex.TABLE:this.insertionMode=eO.IN_TABLE;return;case ex.BODY:this.insertionMode=eO.IN_BODY;return;case ex.FRAMESET:this.insertionMode=eO.IN_FRAMESET;return;case ex.SELECT:this._resetInsertionModeForSelect(h);return;case ex.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case ex.HTML:this.insertionMode=this.headElement?eO.AFTER_HEAD:eO.BEFORE_HEAD;return;case ex.TD:case ex.TH:if(h>0){this.insertionMode=eO.IN_CELL;return}break;case ex.HEAD:if(h>0){this.insertionMode=eO.IN_HEAD;return}}this.insertionMode=eO.IN_BODY}_resetInsertionModeForSelect(h){if(h>0)for(let g=h-1;g>0;g--){let h=this.openElements.tagIDs[g];if(h===ex.TEMPLATE)break;if(h===ex.TABLE){this.insertionMode=eO.IN_SELECT_IN_TABLE;return}}this.insertionMode=eO.IN_SELECT}_isElementCausesFosterParenting(h){return rJ.has(h)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let h=this.openElements.stackTop;h>=0;h--){let g=this.openElements.items[h];switch(this.openElements.tagIDs[h]){case ex.TEMPLATE:if(this.treeAdapter.getNamespaceURI(g)===eb.HTML)return{parent:this.treeAdapter.getTemplateContent(g),beforeElement:null};break;case ex.TABLE:{let _=this.treeAdapter.getParentNode(g);if(_)return{parent:_,beforeElement:g};return{parent:this.openElements.items[h-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(h){let g=this._findFosterParentingLocation();g.beforeElement?this.treeAdapter.insertBefore(g.parent,h,g.beforeElement):this.treeAdapter.appendChild(g.parent,h)}_isSpecialElement(h,g){let _=this.treeAdapter.getNamespaceURI(h);return rx[_].has(g)}onCharacter(h){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(h),this.framesetOk=!1;return}switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,h);break;case eO.BEFORE_HTML:tokenBeforeHtml(this,h);break;case eO.BEFORE_HEAD:tokenBeforeHead(this,h);break;case eO.IN_HEAD:tokenInHead(this,h);break;case eO.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,h);break;case eO.AFTER_HEAD:tokenAfterHead(this,h);break;case eO.IN_BODY:case eO.IN_CAPTION:case eO.IN_CELL:case eO.IN_TEMPLATE:characterInBody(this,h);break;case eO.TEXT:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:this._insertCharacters(h);break;case eO.IN_TABLE:case eO.IN_TABLE_BODY:case eO.IN_ROW:characterInTable(this,h);break;case eO.IN_TABLE_TEXT:characterInTableText(this,h);break;case eO.IN_COLUMN_GROUP:tokenInColumnGroup(this,h);break;case eO.AFTER_BODY:tokenAfterBody(this,h);break;case eO.AFTER_AFTER_BODY:tokenAfterAfterBody(this,h)}}onNullCharacter(h){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){h.chars="�",this._insertCharacters(h);return}switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,h);break;case eO.BEFORE_HTML:tokenBeforeHtml(this,h);break;case eO.BEFORE_HEAD:tokenBeforeHead(this,h);break;case eO.IN_HEAD:tokenInHead(this,h);break;case eO.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,h);break;case eO.AFTER_HEAD:tokenAfterHead(this,h);break;case eO.TEXT:this._insertCharacters(h);break;case eO.IN_TABLE:case eO.IN_TABLE_BODY:case eO.IN_ROW:characterInTable(this,h);break;case eO.IN_COLUMN_GROUP:tokenInColumnGroup(this,h);break;case eO.AFTER_BODY:tokenAfterBody(this,h);break;case eO.AFTER_AFTER_BODY:tokenAfterAfterBody(this,h)}}onComment(h){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,h);return}switch(this.insertionMode){case eO.INITIAL:case eO.BEFORE_HTML:case eO.BEFORE_HEAD:case eO.IN_HEAD:case eO.IN_HEAD_NO_SCRIPT:case eO.AFTER_HEAD:case eO.IN_BODY:case eO.IN_TABLE:case eO.IN_CAPTION:case eO.IN_COLUMN_GROUP:case eO.IN_TABLE_BODY:case eO.IN_ROW:case eO.IN_CELL:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:case eO.IN_TEMPLATE:case eO.IN_FRAMESET:case eO.AFTER_FRAMESET:appendComment(this,h);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,h);break;case eO.AFTER_BODY:!function(h,g){h._appendCommentNode(g,h.openElements.items[0])}(this,h);break;case eO.AFTER_AFTER_BODY:case eO.AFTER_AFTER_FRAMESET:!function(h,g){h._appendCommentNode(g,h.document)}(this,h)}}onDoctype(h){switch(this.skipNextNewLine=!1,this.insertionMode){case eO.INITIAL:!function(h,g){h._setDocumentType(g);let _=g.forceQuirks?eS.QUIRKS:function(h){if(h.name!==rH)return eS.QUIRKS;let{systemId:g}=h;if(g&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===g.toLowerCase())return eS.QUIRKS;let{publicId:_}=h;if(null!==_){if(_=_.toLowerCase(),r$.has(_))return eS.QUIRKS;let h=null===g?rz:rG;if(hasPrefix(_,h))return eS.QUIRKS;if(hasPrefix(_,h=null===g?rV:rQ))return eS.LIMITED_QUIRKS}return eS.NO_QUIRKS}(g);g.name===rH&&null===g.publicId&&(null===g.systemId||"about:legacy-compat"===g.systemId)||h._err(g,eg.nonConformingDoctype),h.treeAdapter.setDocumentMode(h.document,_),h.insertionMode=eO.BEFORE_HTML}(this,h);break;case eO.BEFORE_HEAD:case eO.IN_HEAD:case eO.IN_HEAD_NO_SCRIPT:case eO.AFTER_HEAD:this._err(h,eg.misplacedDoctype);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,h)}}onStartTag(h){this.skipNextNewLine=!1,this.currentToken=h,this._processStartTag(h),h.selfClosing&&!h.ackSelfClosing&&this._err(h,eg.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(h){this.shouldProcessStartTagTokenInForeignContent(h)?function(h,g){if(function(h){let g=h.tagID,_=g===ex.FONT&&h.attrs.some(({name:h})=>h===ek.COLOR||h===ek.SIZE||h===ek.FACE);return _||rX.has(g)}(g))popUntilHtmlOrIntegrationPoint(h),h._startTagOutsideForeignContent(g);else{let _=h._getAdjustedCurrentElement(),y=h.treeAdapter.getNamespaceURI(_);y===eb.MATHML?adjustTokenMathMLAttrs(g):y===eb.SVG&&(function(h){let g=rW.get(h.tagName);null!=g&&(h.tagName=g,h.tagID=getTagID(h.tagName))}(g),adjustTokenSVGAttrs(g)),adjustTokenXMLAttrs(g),g.selfClosing?h._appendElement(g,y):h._insertElement(g,y),g.ackSelfClosing=!0}}(this,h):this._startTagOutsideForeignContent(h)}_startTagOutsideForeignContent(h){switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,h);break;case eO.BEFORE_HTML:h.tagID===ex.HTML?(this._insertElement(h,eb.HTML),this.insertionMode=eO.BEFORE_HEAD):tokenBeforeHtml(this,h);break;case eO.BEFORE_HEAD:!function(h,g){switch(g.tagID){case ex.HTML:startTagInBody(h,g);break;case ex.HEAD:h._insertElement(g,eb.HTML),h.headElement=h.openElements.current,h.insertionMode=eO.IN_HEAD;break;default:tokenBeforeHead(h,g)}}(this,h);break;case eO.IN_HEAD:startTagInHead(this,h);break;case eO.IN_HEAD_NO_SCRIPT:!function(h,g){switch(g.tagID){case ex.HTML:startTagInBody(h,g);break;case ex.BASEFONT:case ex.BGSOUND:case ex.HEAD:case ex.LINK:case ex.META:case ex.NOFRAMES:case ex.STYLE:startTagInHead(h,g);break;case ex.NOSCRIPT:h._err(g,eg.nestedNoscriptInHead);break;default:tokenInHeadNoScript(h,g)}}(this,h);break;case eO.AFTER_HEAD:!function(h,g){switch(g.tagID){case ex.HTML:startTagInBody(h,g);break;case ex.BODY:h._insertElement(g,eb.HTML),h.framesetOk=!1,h.insertionMode=eO.IN_BODY;break;case ex.FRAMESET:h._insertElement(g,eb.HTML),h.insertionMode=eO.IN_FRAMESET;break;case ex.BASE:case ex.BASEFONT:case ex.BGSOUND:case ex.LINK:case ex.META:case ex.NOFRAMES:case ex.SCRIPT:case ex.STYLE:case ex.TEMPLATE:case ex.TITLE:h._err(g,eg.abandonedHeadElementChild),h.openElements.push(h.headElement,ex.HEAD),startTagInHead(h,g),h.openElements.remove(h.headElement);break;case ex.HEAD:h._err(g,eg.misplacedStartTagForHeadElement);break;default:tokenAfterHead(h,g)}}(this,h);break;case eO.IN_BODY:startTagInBody(this,h);break;case eO.IN_TABLE:startTagInTable(this,h);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,h);break;case eO.IN_CAPTION:!function(h,g){let _=g.tagID;r0.has(_)?h.openElements.hasInTableScope(ex.CAPTION)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(ex.CAPTION),h.activeFormattingElements.clearToLastMarker(),h.insertionMode=eO.IN_TABLE,startTagInTable(h,g)):startTagInBody(h,g)}(this,h);break;case eO.IN_COLUMN_GROUP:startTagInColumnGroup(this,h);break;case eO.IN_TABLE_BODY:startTagInTableBody(this,h);break;case eO.IN_ROW:startTagInRow(this,h);break;case eO.IN_CELL:!function(h,g){let _=g.tagID;r0.has(_)?(h.openElements.hasInTableScope(ex.TD)||h.openElements.hasInTableScope(ex.TH))&&(h._closeTableCell(),startTagInRow(h,g)):startTagInBody(h,g)}(this,h);break;case eO.IN_SELECT:startTagInSelect(this,h);break;case eO.IN_SELECT_IN_TABLE:!function(h,g){let _=g.tagID;_===ex.CAPTION||_===ex.TABLE||_===ex.TBODY||_===ex.TFOOT||_===ex.THEAD||_===ex.TR||_===ex.TD||_===ex.TH?(h.openElements.popUntilTagNamePopped(ex.SELECT),h._resetInsertionMode(),h._processStartTag(g)):startTagInSelect(h,g)}(this,h);break;case eO.IN_TEMPLATE:!function(h,g){switch(g.tagID){case ex.BASE:case ex.BASEFONT:case ex.BGSOUND:case ex.LINK:case ex.META:case ex.NOFRAMES:case ex.SCRIPT:case ex.STYLE:case ex.TEMPLATE:case ex.TITLE:startTagInHead(h,g);break;case ex.CAPTION:case ex.COLGROUP:case ex.TBODY:case ex.TFOOT:case ex.THEAD:h.tmplInsertionModeStack[0]=eO.IN_TABLE,h.insertionMode=eO.IN_TABLE,startTagInTable(h,g);break;case ex.COL:h.tmplInsertionModeStack[0]=eO.IN_COLUMN_GROUP,h.insertionMode=eO.IN_COLUMN_GROUP,startTagInColumnGroup(h,g);break;case ex.TR:h.tmplInsertionModeStack[0]=eO.IN_TABLE_BODY,h.insertionMode=eO.IN_TABLE_BODY,startTagInTableBody(h,g);break;case ex.TD:case ex.TH:h.tmplInsertionModeStack[0]=eO.IN_ROW,h.insertionMode=eO.IN_ROW,startTagInRow(h,g);break;default:h.tmplInsertionModeStack[0]=eO.IN_BODY,h.insertionMode=eO.IN_BODY,startTagInBody(h,g)}}(this,h);break;case eO.AFTER_BODY:h.tagID===ex.HTML?startTagInBody(this,h):tokenAfterBody(this,h);break;case eO.IN_FRAMESET:!function(h,g){switch(g.tagID){case ex.HTML:startTagInBody(h,g);break;case ex.FRAMESET:h._insertElement(g,eb.HTML);break;case ex.FRAME:h._appendElement(g,eb.HTML),g.ackSelfClosing=!0;break;case ex.NOFRAMES:startTagInHead(h,g)}}(this,h);break;case eO.AFTER_FRAMESET:!function(h,g){switch(g.tagID){case ex.HTML:startTagInBody(h,g);break;case ex.NOFRAMES:startTagInHead(h,g)}}(this,h);break;case eO.AFTER_AFTER_BODY:h.tagID===ex.HTML?startTagInBody(this,h):tokenAfterAfterBody(this,h);break;case eO.AFTER_AFTER_FRAMESET:!function(h,g){switch(g.tagID){case ex.HTML:startTagInBody(h,g);break;case ex.NOFRAMES:startTagInHead(h,g)}}(this,h)}}onEndTag(h){this.skipNextNewLine=!1,this.currentToken=h,this.currentNotInHTML?function(h,g){if(g.tagID===ex.P||g.tagID===ex.BR){popUntilHtmlOrIntegrationPoint(h),h._endTagOutsideForeignContent(g);return}for(let _=h.openElements.stackTop;_>0;_--){let y=h.openElements.items[_];if(h.treeAdapter.getNamespaceURI(y)===eb.HTML){h._endTagOutsideForeignContent(g);break}let A=h.treeAdapter.getTagName(y);if(A.toLowerCase()===g.tagName){g.tagName=A,h.openElements.shortenToLength(_);break}}}(this,h):this._endTagOutsideForeignContent(h)}_endTagOutsideForeignContent(h){var g;switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,h);break;case eO.BEFORE_HTML:!function(h,g){let _=g.tagID;(_===ex.HTML||_===ex.HEAD||_===ex.BODY||_===ex.BR)&&tokenBeforeHtml(h,g)}(this,h);break;case eO.BEFORE_HEAD:!function(h,g){let _=g.tagID;_===ex.HEAD||_===ex.BODY||_===ex.HTML||_===ex.BR?tokenBeforeHead(h,g):h._err(g,eg.endTagWithoutMatchingOpenElement)}(this,h);break;case eO.IN_HEAD:!function(h,g){switch(g.tagID){case ex.HEAD:h.openElements.pop(),h.insertionMode=eO.AFTER_HEAD;break;case ex.BODY:case ex.BR:case ex.HTML:tokenInHead(h,g);break;case ex.TEMPLATE:templateEndTagInHead(h,g);break;default:h._err(g,eg.endTagWithoutMatchingOpenElement)}}(this,h);break;case eO.IN_HEAD_NO_SCRIPT:!function(h,g){switch(g.tagID){case ex.NOSCRIPT:h.openElements.pop(),h.insertionMode=eO.IN_HEAD;break;case ex.BR:tokenInHeadNoScript(h,g);break;default:h._err(g,eg.endTagWithoutMatchingOpenElement)}}(this,h);break;case eO.AFTER_HEAD:!function(h,g){switch(g.tagID){case ex.BODY:case ex.HTML:case ex.BR:tokenAfterHead(h,g);break;case ex.TEMPLATE:templateEndTagInHead(h,g);break;default:h._err(g,eg.endTagWithoutMatchingOpenElement)}}(this,h);break;case eO.IN_BODY:endTagInBody(this,h);break;case eO.TEXT:h.tagID===ex.SCRIPT&&(null===(g=this.scriptHandler)||void 0===g||g.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case eO.IN_TABLE:endTagInTable(this,h);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,h);break;case eO.IN_CAPTION:!function(h,g){let _=g.tagID;switch(_){case ex.CAPTION:case ex.TABLE:h.openElements.hasInTableScope(ex.CAPTION)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(ex.CAPTION),h.activeFormattingElements.clearToLastMarker(),h.insertionMode=eO.IN_TABLE,_===ex.TABLE&&endTagInTable(h,g));break;case ex.BODY:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TBODY:case ex.TD:case ex.TFOOT:case ex.TH:case ex.THEAD:case ex.TR:break;default:endTagInBody(h,g)}}(this,h);break;case eO.IN_COLUMN_GROUP:!function(h,g){switch(g.tagID){case ex.COLGROUP:h.openElements.currentTagId===ex.COLGROUP&&(h.openElements.pop(),h.insertionMode=eO.IN_TABLE);break;case ex.TEMPLATE:templateEndTagInHead(h,g);break;case ex.COL:break;default:tokenInColumnGroup(h,g)}}(this,h);break;case eO.IN_TABLE_BODY:endTagInTableBody(this,h);break;case eO.IN_ROW:endTagInRow(this,h);break;case eO.IN_CELL:!function(h,g){let _=g.tagID;switch(_){case ex.TD:case ex.TH:h.openElements.hasInTableScope(_)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(_),h.activeFormattingElements.clearToLastMarker(),h.insertionMode=eO.IN_ROW);break;case ex.TABLE:case ex.TBODY:case ex.TFOOT:case ex.THEAD:case ex.TR:h.openElements.hasInTableScope(_)&&(h._closeTableCell(),endTagInRow(h,g));break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:break;default:endTagInBody(h,g)}}(this,h);break;case eO.IN_SELECT:endTagInSelect(this,h);break;case eO.IN_SELECT_IN_TABLE:!function(h,g){let _=g.tagID;_===ex.CAPTION||_===ex.TABLE||_===ex.TBODY||_===ex.TFOOT||_===ex.THEAD||_===ex.TR||_===ex.TD||_===ex.TH?h.openElements.hasInTableScope(_)&&(h.openElements.popUntilTagNamePopped(ex.SELECT),h._resetInsertionMode(),h.onEndTag(g)):endTagInSelect(h,g)}(this,h);break;case eO.IN_TEMPLATE:h.tagID===ex.TEMPLATE&&templateEndTagInHead(this,h);break;case eO.AFTER_BODY:endTagAfterBody(this,h);break;case eO.IN_FRAMESET:h.tagID!==ex.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===ex.FRAMESET||(this.insertionMode=eO.AFTER_FRAMESET));break;case eO.AFTER_FRAMESET:h.tagID===ex.HTML&&(this.insertionMode=eO.AFTER_AFTER_FRAMESET);break;case eO.AFTER_AFTER_BODY:tokenAfterAfterBody(this,h)}}onEof(h){switch(this.insertionMode){case eO.INITIAL:tokenInInitialMode(this,h);break;case eO.BEFORE_HTML:tokenBeforeHtml(this,h);break;case eO.BEFORE_HEAD:tokenBeforeHead(this,h);break;case eO.IN_HEAD:tokenInHead(this,h);break;case eO.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,h);break;case eO.AFTER_HEAD:tokenAfterHead(this,h);break;case eO.IN_BODY:case eO.IN_TABLE:case eO.IN_CAPTION:case eO.IN_COLUMN_GROUP:case eO.IN_TABLE_BODY:case eO.IN_ROW:case eO.IN_CELL:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:eofInBody(this,h);break;case eO.TEXT:this._err(h,eg.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(h);break;case eO.IN_TABLE_TEXT:tokenInTableText(this,h);break;case eO.IN_TEMPLATE:eofInTemplate(this,h);break;case eO.AFTER_BODY:case eO.IN_FRAMESET:case eO.AFTER_FRAMESET:case eO.AFTER_AFTER_BODY:case eO.AFTER_AFTER_FRAMESET:stopParsing(this,h)}}onWhitespaceCharacter(h){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,h.chars.charCodeAt(0)===em.LINE_FEED)){if(1===h.chars.length)return;h.chars=h.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(h);return}switch(this.insertionMode){case eO.IN_HEAD:case eO.IN_HEAD_NO_SCRIPT:case eO.AFTER_HEAD:case eO.TEXT:case eO.IN_COLUMN_GROUP:case eO.IN_SELECT:case eO.IN_SELECT_IN_TABLE:case eO.IN_FRAMESET:case eO.AFTER_FRAMESET:this._insertCharacters(h);break;case eO.IN_BODY:case eO.IN_CAPTION:case eO.IN_CELL:case eO.IN_TEMPLATE:case eO.AFTER_BODY:case eO.AFTER_AFTER_BODY:case eO.AFTER_AFTER_FRAMESET:whitespaceCharacterInBody(this,h);break;case eO.IN_TABLE:case eO.IN_TABLE_BODY:case eO.IN_ROW:characterInTable(this,h);break;case eO.IN_TABLE_TEXT:whitespaceCharacterInTableText(this,h)}}};function callAdoptionAgency(h,g){for(let _=0;_<8;_++){let _=function(h,g){let _=h.activeFormattingElements.getElementEntryInScopeWithTagName(g.tagName);return _?h.openElements.contains(_.element)?h.openElements.hasInScope(g.tagID)||(_=null):(h.activeFormattingElements.removeEntry(_),_=null):genericEndTagInBody(h,g),_}(h,g);if(!_)break;let y=function(h,g){let _=null,y=h.openElements.stackTop;for(;y>=0;y--){let A=h.openElements.items[y];if(A===g.element)break;h._isSpecialElement(A,h.openElements.tagIDs[y])&&(_=A)}return _||(h.openElements.shortenToLength(y<0?0:y),h.activeFormattingElements.removeEntry(g)),_}(h,_);if(!y)break;h.activeFormattingElements.bookmark=_;let A=function(h,g,_){let y=g,A=h.openElements.getCommonAncestor(g);for(let b=0,k=A;k!==_;b++,k=A){A=h.openElements.getCommonAncestor(k);let _=h.activeFormattingElements.getElementEntry(k),w=_&&b>=3,R=!_||w;R?(w&&h.activeFormattingElements.removeEntry(_),h.openElements.remove(k)):(k=function(h,g){let _=h.treeAdapter.getNamespaceURI(g.element),y=h.treeAdapter.createElement(g.token.tagName,_,g.token.attrs);return h.openElements.replace(g.element,y),g.element=y,y}(h,_),y===g&&(h.activeFormattingElements.bookmark=_),h.treeAdapter.detachNode(y),h.treeAdapter.appendChild(k,y),y=k)}return y}(h,y,_.element),b=h.openElements.getCommonAncestor(_.element);h.treeAdapter.detachNode(A),b&&function(h,g,_){let y=h.treeAdapter.getTagName(g),A=getTagID(y);if(h._isElementCausesFosterParenting(A))h._fosterParentElement(_);else{let y=h.treeAdapter.getNamespaceURI(g);A===ex.TEMPLATE&&y===eb.HTML&&(g=h.treeAdapter.getTemplateContent(g)),h.treeAdapter.appendChild(g,_)}}(h,b,A),function(h,g,_){let y=h.treeAdapter.getNamespaceURI(_.element),{token:A}=_,b=h.treeAdapter.createElement(A.tagName,y,A.attrs);h._adoptNodes(g,b),h.treeAdapter.appendChild(g,b),h.activeFormattingElements.insertElementAfterBookmark(b,A),h.activeFormattingElements.removeEntry(_),h.openElements.remove(_.element),h.openElements.insertAfter(g,b,A.tagID)}(h,y,_)}}function appendComment(h,g){h._appendCommentNode(g,h.openElements.currentTmplContentOrNode)}function stopParsing(h,g){if(h.stopped=!0,g.location){let _=h.fragmentContext?0:2;for(let y=h.openElements.stackTop;y>=_;y--)h._setEndLocation(h.openElements.items[y],g);if(!h.fragmentContext&&h.openElements.stackTop>=0){let _=h.openElements.items[0],y=h.treeAdapter.getNodeSourceCodeLocation(_);if(y&&!y.endTag&&(h._setEndLocation(_,g),h.openElements.stackTop>=1)){let _=h.openElements.items[1],y=h.treeAdapter.getNodeSourceCodeLocation(_);y&&!y.endTag&&h._setEndLocation(_,g)}}}}function tokenInInitialMode(h,g){h._err(g,eg.missingDoctype,!0),h.treeAdapter.setDocumentMode(h.document,eS.QUIRKS),h.insertionMode=eO.BEFORE_HTML,h._processToken(g)}function tokenBeforeHtml(h,g){h._insertFakeRootElement(),h.insertionMode=eO.BEFORE_HEAD,h._processToken(g)}function tokenBeforeHead(h,g){h._insertFakeElement(eC.HEAD,ex.HEAD),h.headElement=h.openElements.current,h.insertionMode=eO.IN_HEAD,h._processToken(g)}function startTagInHead(h,g){switch(g.tagID){case ex.HTML:startTagInBody(h,g);break;case ex.BASE:case ex.BASEFONT:case ex.BGSOUND:case ex.LINK:case ex.META:h._appendElement(g,eb.HTML),g.ackSelfClosing=!0;break;case ex.TITLE:h._switchToTextParsing(g,rw.RCDATA);break;case ex.NOSCRIPT:h.options.scriptingEnabled?h._switchToTextParsing(g,rw.RAWTEXT):(h._insertElement(g,eb.HTML),h.insertionMode=eO.IN_HEAD_NO_SCRIPT);break;case ex.NOFRAMES:case ex.STYLE:h._switchToTextParsing(g,rw.RAWTEXT);break;case ex.SCRIPT:h._switchToTextParsing(g,rw.SCRIPT_DATA);break;case ex.TEMPLATE:h._insertTemplate(g),h.activeFormattingElements.insertMarker(),h.framesetOk=!1,h.insertionMode=eO.IN_TEMPLATE,h.tmplInsertionModeStack.unshift(eO.IN_TEMPLATE);break;case ex.HEAD:h._err(g,eg.misplacedStartTagForHeadElement);break;default:tokenInHead(h,g)}}function templateEndTagInHead(h,g){h.openElements.tmplCount>0?(h.openElements.generateImpliedEndTagsThoroughly(),h.openElements.currentTagId!==ex.TEMPLATE&&h._err(g,eg.closingOfElementWithOpenChildElements),h.openElements.popUntilTagNamePopped(ex.TEMPLATE),h.activeFormattingElements.clearToLastMarker(),h.tmplInsertionModeStack.shift(),h._resetInsertionMode()):h._err(g,eg.endTagWithoutMatchingOpenElement)}function tokenInHead(h,g){h.openElements.pop(),h.insertionMode=eO.AFTER_HEAD,h._processToken(g)}function tokenInHeadNoScript(h,g){let _=g.type===eE.EOF?eg.openElementsLeftAfterEof:eg.disallowedContentInNoscriptInHead;h._err(g,_),h.openElements.pop(),h.insertionMode=eO.IN_HEAD,h._processToken(g)}function tokenAfterHead(h,g){h._insertFakeElement(eC.BODY,ex.BODY),h.insertionMode=eO.IN_BODY,modeInBody(h,g)}function modeInBody(h,g){switch(g.type){case eE.CHARACTER:characterInBody(h,g);break;case eE.WHITESPACE_CHARACTER:whitespaceCharacterInBody(h,g);break;case eE.COMMENT:appendComment(h,g);break;case eE.START_TAG:startTagInBody(h,g);break;case eE.END_TAG:endTagInBody(h,g);break;case eE.EOF:eofInBody(h,g)}}function whitespaceCharacterInBody(h,g){h._reconstructActiveFormattingElements(),h._insertCharacters(g)}function characterInBody(h,g){h._reconstructActiveFormattingElements(),h._insertCharacters(g),h.framesetOk=!1}function areaStartTagInBody(h,g){h._reconstructActiveFormattingElements(),h._appendElement(g,eb.HTML),h.framesetOk=!1,g.ackSelfClosing=!0}function isHiddenInput(h){let g=getTokenAttr(h,ek.TYPE);return null!=g&&"hidden"===g.toLowerCase()}function noembedStartTagInBody(h,g){h._switchToTextParsing(g,rw.RAWTEXT)}function genericStartTagInBody(h,g){h._reconstructActiveFormattingElements(),h._insertElement(g,eb.HTML)}function startTagInBody(h,g){switch(g.tagID){case ex.I:case ex.S:case ex.B:case ex.U:case ex.EM:case ex.TT:case ex.BIG:case ex.CODE:case ex.FONT:case ex.SMALL:case ex.STRIKE:case ex.STRONG:h._reconstructActiveFormattingElements(),h._insertElement(g,eb.HTML),h.activeFormattingElements.pushElement(h.openElements.current,g);break;case ex.A:!function(h,g){let _=h.activeFormattingElements.getElementEntryInScopeWithTagName(eC.A);_&&(callAdoptionAgency(h,g),h.openElements.remove(_.element),h.activeFormattingElements.removeEntry(_)),h._reconstructActiveFormattingElements(),h._insertElement(g,eb.HTML),h.activeFormattingElements.pushElement(h.openElements.current,g)}(h,g);break;case ex.H1:case ex.H2:case ex.H3:case ex.H4:case ex.H5:case ex.H6:h.openElements.hasInButtonScope(ex.P)&&h._closePElement(),isNumberedHeader(h.openElements.currentTagId)&&h.openElements.pop(),h._insertElement(g,eb.HTML);break;case ex.P:case ex.DL:case ex.OL:case ex.UL:case ex.DIV:case ex.DIR:case ex.NAV:case ex.MAIN:case ex.MENU:case ex.ASIDE:case ex.CENTER:case ex.FIGURE:case ex.FOOTER:case ex.HEADER:case ex.HGROUP:case ex.DIALOG:case ex.DETAILS:case ex.ADDRESS:case ex.ARTICLE:case ex.SECTION:case ex.SUMMARY:case ex.FIELDSET:case ex.BLOCKQUOTE:case ex.FIGCAPTION:h.openElements.hasInButtonScope(ex.P)&&h._closePElement(),h._insertElement(g,eb.HTML);break;case ex.LI:case ex.DD:case ex.DT:!function(h,g){h.framesetOk=!1;let _=g.tagID;for(let g=h.openElements.stackTop;g>=0;g--){let y=h.openElements.tagIDs[g];if(_===ex.LI&&y===ex.LI||(_===ex.DD||_===ex.DT)&&(y===ex.DD||y===ex.DT)){h.openElements.generateImpliedEndTagsWithExclusion(y),h.openElements.popUntilTagNamePopped(y);break}if(y!==ex.ADDRESS&&y!==ex.DIV&&y!==ex.P&&h._isSpecialElement(h.openElements.items[g],y))break}h.openElements.hasInButtonScope(ex.P)&&h._closePElement(),h._insertElement(g,eb.HTML)}(h,g);break;case ex.BR:case ex.IMG:case ex.WBR:case ex.AREA:case ex.EMBED:case ex.KEYGEN:areaStartTagInBody(h,g);break;case ex.HR:h.openElements.hasInButtonScope(ex.P)&&h._closePElement(),h._appendElement(g,eb.HTML),h.framesetOk=!1,g.ackSelfClosing=!0;break;case ex.RB:case ex.RTC:h.openElements.hasInScope(ex.RUBY)&&h.openElements.generateImpliedEndTags(),h._insertElement(g,eb.HTML);break;case ex.RT:case ex.RP:h.openElements.hasInScope(ex.RUBY)&&h.openElements.generateImpliedEndTagsWithExclusion(ex.RTC),h._insertElement(g,eb.HTML);break;case ex.PRE:case ex.LISTING:h.openElements.hasInButtonScope(ex.P)&&h._closePElement(),h._insertElement(g,eb.HTML),h.skipNextNewLine=!0,h.framesetOk=!1;break;case ex.XMP:h.openElements.hasInButtonScope(ex.P)&&h._closePElement(),h._reconstructActiveFormattingElements(),h.framesetOk=!1,h._switchToTextParsing(g,rw.RAWTEXT);break;case ex.SVG:h._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(g),adjustTokenXMLAttrs(g),g.selfClosing?h._appendElement(g,eb.SVG):h._insertElement(g,eb.SVG),g.ackSelfClosing=!0;break;case ex.HTML:0===h.openElements.tmplCount&&h.treeAdapter.adoptAttributes(h.openElements.items[0],g.attrs);break;case ex.BASE:case ex.LINK:case ex.META:case ex.STYLE:case ex.TITLE:case ex.SCRIPT:case ex.BGSOUND:case ex.BASEFONT:case ex.TEMPLATE:startTagInHead(h,g);break;case ex.BODY:!function(h,g){let _=h.openElements.tryPeekProperlyNestedBodyElement();_&&0===h.openElements.tmplCount&&(h.framesetOk=!1,h.treeAdapter.adoptAttributes(_,g.attrs))}(h,g);break;case ex.FORM:!function(h,g){let _=h.openElements.tmplCount>0;h.formElement&&!_||(h.openElements.hasInButtonScope(ex.P)&&h._closePElement(),h._insertElement(g,eb.HTML),_||(h.formElement=h.openElements.current))}(h,g);break;case ex.NOBR:h._reconstructActiveFormattingElements(),h.openElements.hasInScope(ex.NOBR)&&(callAdoptionAgency(h,g),h._reconstructActiveFormattingElements()),h._insertElement(g,eb.HTML),h.activeFormattingElements.pushElement(h.openElements.current,g);break;case ex.MATH:h._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(g),adjustTokenXMLAttrs(g),g.selfClosing?h._appendElement(g,eb.MATHML):h._insertElement(g,eb.MATHML),g.ackSelfClosing=!0;break;case ex.TABLE:h.treeAdapter.getDocumentMode(h.document)!==eS.QUIRKS&&h.openElements.hasInButtonScope(ex.P)&&h._closePElement(),h._insertElement(g,eb.HTML),h.framesetOk=!1,h.insertionMode=eO.IN_TABLE;break;case ex.INPUT:h._reconstructActiveFormattingElements(),h._appendElement(g,eb.HTML),isHiddenInput(g)||(h.framesetOk=!1),g.ackSelfClosing=!0;break;case ex.PARAM:case ex.TRACK:case ex.SOURCE:h._appendElement(g,eb.HTML),g.ackSelfClosing=!0;break;case ex.IMAGE:g.tagName=eC.IMG,g.tagID=ex.IMG,areaStartTagInBody(h,g);break;case ex.BUTTON:h.openElements.hasInScope(ex.BUTTON)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(ex.BUTTON)),h._reconstructActiveFormattingElements(),h._insertElement(g,eb.HTML),h.framesetOk=!1;break;case ex.APPLET:case ex.OBJECT:case ex.MARQUEE:h._reconstructActiveFormattingElements(),h._insertElement(g,eb.HTML),h.activeFormattingElements.insertMarker(),h.framesetOk=!1;break;case ex.IFRAME:h.framesetOk=!1,h._switchToTextParsing(g,rw.RAWTEXT);break;case ex.SELECT:h._reconstructActiveFormattingElements(),h._insertElement(g,eb.HTML),h.framesetOk=!1,h.insertionMode=h.insertionMode===eO.IN_TABLE||h.insertionMode===eO.IN_CAPTION||h.insertionMode===eO.IN_TABLE_BODY||h.insertionMode===eO.IN_ROW||h.insertionMode===eO.IN_CELL?eO.IN_SELECT_IN_TABLE:eO.IN_SELECT;break;case ex.OPTION:case ex.OPTGROUP:h.openElements.currentTagId===ex.OPTION&&h.openElements.pop(),h._reconstructActiveFormattingElements(),h._insertElement(g,eb.HTML);break;case ex.NOEMBED:noembedStartTagInBody(h,g);break;case ex.FRAMESET:!function(h,g){let _=h.openElements.tryPeekProperlyNestedBodyElement();h.framesetOk&&_&&(h.treeAdapter.detachNode(_),h.openElements.popAllUpToHtmlElement(),h._insertElement(g,eb.HTML),h.insertionMode=eO.IN_FRAMESET)}(h,g);break;case ex.TEXTAREA:h._insertElement(g,eb.HTML),h.skipNextNewLine=!0,h.tokenizer.state=rw.RCDATA,h.originalInsertionMode=h.insertionMode,h.framesetOk=!1,h.insertionMode=eO.TEXT;break;case ex.NOSCRIPT:h.options.scriptingEnabled?noembedStartTagInBody(h,g):genericStartTagInBody(h,g);break;case ex.PLAINTEXT:h.openElements.hasInButtonScope(ex.P)&&h._closePElement(),h._insertElement(g,eb.HTML),h.tokenizer.state=rw.PLAINTEXT;break;case ex.COL:case ex.TH:case ex.TD:case ex.TR:case ex.HEAD:case ex.FRAME:case ex.TBODY:case ex.TFOOT:case ex.THEAD:case ex.CAPTION:case ex.COLGROUP:break;default:genericStartTagInBody(h,g)}}function genericEndTagInBody(h,g){let _=g.tagName,y=g.tagID;for(let g=h.openElements.stackTop;g>0;g--){let A=h.openElements.items[g],b=h.openElements.tagIDs[g];if(y===b&&(y!==ex.UNKNOWN||h.treeAdapter.getTagName(A)===_)){h.openElements.generateImpliedEndTagsWithExclusion(y),h.openElements.stackTop>=g&&h.openElements.shortenToLength(g);break}if(h._isSpecialElement(A,b))break}}function endTagInBody(h,g){switch(g.tagID){case ex.A:case ex.B:case ex.I:case ex.S:case ex.U:case ex.EM:case ex.TT:case ex.BIG:case ex.CODE:case ex.FONT:case ex.NOBR:case ex.SMALL:case ex.STRIKE:case ex.STRONG:callAdoptionAgency(h,g);break;case ex.P:h.openElements.hasInButtonScope(ex.P)||h._insertFakeElement(eC.P,ex.P),h._closePElement();break;case ex.DL:case ex.UL:case ex.OL:case ex.DIR:case ex.DIV:case ex.NAV:case ex.PRE:case ex.MAIN:case ex.MENU:case ex.ASIDE:case ex.BUTTON:case ex.CENTER:case ex.FIGURE:case ex.FOOTER:case ex.HEADER:case ex.HGROUP:case ex.DIALOG:case ex.ADDRESS:case ex.ARTICLE:case ex.DETAILS:case ex.SECTION:case ex.SUMMARY:case ex.LISTING:case ex.FIELDSET:case ex.BLOCKQUOTE:case ex.FIGCAPTION:!function(h,g){let _=g.tagID;h.openElements.hasInScope(_)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(_))}(h,g);break;case ex.LI:h.openElements.hasInListItemScope(ex.LI)&&(h.openElements.generateImpliedEndTagsWithExclusion(ex.LI),h.openElements.popUntilTagNamePopped(ex.LI));break;case ex.DD:case ex.DT:!function(h,g){let _=g.tagID;h.openElements.hasInScope(_)&&(h.openElements.generateImpliedEndTagsWithExclusion(_),h.openElements.popUntilTagNamePopped(_))}(h,g);break;case ex.H1:case ex.H2:case ex.H3:case ex.H4:case ex.H5:case ex.H6:h.openElements.hasNumberedHeaderInScope()&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilNumberedHeaderPopped());break;case ex.BR:h._reconstructActiveFormattingElements(),h._insertFakeElement(eC.BR,ex.BR),h.openElements.pop(),h.framesetOk=!1;break;case ex.BODY:!function(h,g){if(h.openElements.hasInScope(ex.BODY)&&(h.insertionMode=eO.AFTER_BODY,h.options.sourceCodeLocationInfo)){let _=h.openElements.tryPeekProperlyNestedBodyElement();_&&h._setEndLocation(_,g)}}(h,g);break;case ex.HTML:h.openElements.hasInScope(ex.BODY)&&(h.insertionMode=eO.AFTER_BODY,endTagAfterBody(h,g));break;case ex.FORM:!function(h){let g=h.openElements.tmplCount>0,{formElement:_}=h;g||(h.formElement=null),(_||g)&&h.openElements.hasInScope(ex.FORM)&&(h.openElements.generateImpliedEndTags(),g?h.openElements.popUntilTagNamePopped(ex.FORM):_&&h.openElements.remove(_))}(h);break;case ex.APPLET:case ex.OBJECT:case ex.MARQUEE:!function(h,g){let _=g.tagID;h.openElements.hasInScope(_)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(_),h.activeFormattingElements.clearToLastMarker())}(h,g);break;case ex.TEMPLATE:templateEndTagInHead(h,g);break;default:genericEndTagInBody(h,g)}}function eofInBody(h,g){h.tmplInsertionModeStack.length>0?eofInTemplate(h,g):stopParsing(h,g)}function characterInTable(h,g){if(rJ.has(h.openElements.currentTagId))switch(h.pendingCharacterTokens.length=0,h.hasNonWhitespacePendingCharacterToken=!1,h.originalInsertionMode=h.insertionMode,h.insertionMode=eO.IN_TABLE_TEXT,g.type){case eE.CHARACTER:characterInTableText(h,g);break;case eE.WHITESPACE_CHARACTER:whitespaceCharacterInTableText(h,g)}else tokenInTable(h,g)}function startTagInTable(h,g){switch(g.tagID){case ex.TD:case ex.TH:case ex.TR:h.openElements.clearBackToTableContext(),h._insertFakeElement(eC.TBODY,ex.TBODY),h.insertionMode=eO.IN_TABLE_BODY,startTagInTableBody(h,g);break;case ex.STYLE:case ex.SCRIPT:case ex.TEMPLATE:startTagInHead(h,g);break;case ex.COL:h.openElements.clearBackToTableContext(),h._insertFakeElement(eC.COLGROUP,ex.COLGROUP),h.insertionMode=eO.IN_COLUMN_GROUP,startTagInColumnGroup(h,g);break;case ex.FORM:h.formElement||0!==h.openElements.tmplCount||(h._insertElement(g,eb.HTML),h.formElement=h.openElements.current,h.openElements.pop());break;case ex.TABLE:h.openElements.hasInTableScope(ex.TABLE)&&(h.openElements.popUntilTagNamePopped(ex.TABLE),h._resetInsertionMode(),h._processStartTag(g));break;case ex.TBODY:case ex.TFOOT:case ex.THEAD:h.openElements.clearBackToTableContext(),h._insertElement(g,eb.HTML),h.insertionMode=eO.IN_TABLE_BODY;break;case ex.INPUT:isHiddenInput(g)?h._appendElement(g,eb.HTML):tokenInTable(h,g),g.ackSelfClosing=!0;break;case ex.CAPTION:h.openElements.clearBackToTableContext(),h.activeFormattingElements.insertMarker(),h._insertElement(g,eb.HTML),h.insertionMode=eO.IN_CAPTION;break;case ex.COLGROUP:h.openElements.clearBackToTableContext(),h._insertElement(g,eb.HTML),h.insertionMode=eO.IN_COLUMN_GROUP;break;default:tokenInTable(h,g)}}function endTagInTable(h,g){switch(g.tagID){case ex.TABLE:h.openElements.hasInTableScope(ex.TABLE)&&(h.openElements.popUntilTagNamePopped(ex.TABLE),h._resetInsertionMode());break;case ex.TEMPLATE:templateEndTagInHead(h,g);break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TBODY:case ex.TD:case ex.TFOOT:case ex.TH:case ex.THEAD:case ex.TR:break;default:tokenInTable(h,g)}}function tokenInTable(h,g){let _=h.fosterParentingEnabled;h.fosterParentingEnabled=!0,modeInBody(h,g),h.fosterParentingEnabled=_}function whitespaceCharacterInTableText(h,g){h.pendingCharacterTokens.push(g)}function characterInTableText(h,g){h.pendingCharacterTokens.push(g),h.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(h,g){let _=0;if(h.hasNonWhitespacePendingCharacterToken)for(;_<h.pendingCharacterTokens.length;_++)tokenInTable(h,h.pendingCharacterTokens[_]);else for(;_<h.pendingCharacterTokens.length;_++)h._insertCharacters(h.pendingCharacterTokens[_]);h.insertionMode=h.originalInsertionMode,h._processToken(g)}let r0=new Set([ex.CAPTION,ex.COL,ex.COLGROUP,ex.TBODY,ex.TD,ex.TFOOT,ex.TH,ex.THEAD,ex.TR]);function startTagInColumnGroup(h,g){switch(g.tagID){case ex.HTML:startTagInBody(h,g);break;case ex.COL:h._appendElement(g,eb.HTML),g.ackSelfClosing=!0;break;case ex.TEMPLATE:startTagInHead(h,g);break;default:tokenInColumnGroup(h,g)}}function tokenInColumnGroup(h,g){h.openElements.currentTagId===ex.COLGROUP&&(h.openElements.pop(),h.insertionMode=eO.IN_TABLE,h._processToken(g))}function startTagInTableBody(h,g){switch(g.tagID){case ex.TR:h.openElements.clearBackToTableBodyContext(),h._insertElement(g,eb.HTML),h.insertionMode=eO.IN_ROW;break;case ex.TH:case ex.TD:h.openElements.clearBackToTableBodyContext(),h._insertFakeElement(eC.TR,ex.TR),h.insertionMode=eO.IN_ROW,startTagInRow(h,g);break;case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.TBODY:case ex.TFOOT:case ex.THEAD:h.openElements.hasTableBodyContextInTableScope()&&(h.openElements.clearBackToTableBodyContext(),h.openElements.pop(),h.insertionMode=eO.IN_TABLE,startTagInTable(h,g));break;default:startTagInTable(h,g)}}function endTagInTableBody(h,g){let _=g.tagID;switch(g.tagID){case ex.TBODY:case ex.TFOOT:case ex.THEAD:h.openElements.hasInTableScope(_)&&(h.openElements.clearBackToTableBodyContext(),h.openElements.pop(),h.insertionMode=eO.IN_TABLE);break;case ex.TABLE:h.openElements.hasTableBodyContextInTableScope()&&(h.openElements.clearBackToTableBodyContext(),h.openElements.pop(),h.insertionMode=eO.IN_TABLE,endTagInTable(h,g));break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TD:case ex.TH:case ex.TR:break;default:endTagInTable(h,g)}}function startTagInRow(h,g){switch(g.tagID){case ex.TH:case ex.TD:h.openElements.clearBackToTableRowContext(),h._insertElement(g,eb.HTML),h.insertionMode=eO.IN_CELL,h.activeFormattingElements.insertMarker();break;case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.TBODY:case ex.TFOOT:case ex.THEAD:case ex.TR:h.openElements.hasInTableScope(ex.TR)&&(h.openElements.clearBackToTableRowContext(),h.openElements.pop(),h.insertionMode=eO.IN_TABLE_BODY,startTagInTableBody(h,g));break;default:startTagInTable(h,g)}}function endTagInRow(h,g){switch(g.tagID){case ex.TR:h.openElements.hasInTableScope(ex.TR)&&(h.openElements.clearBackToTableRowContext(),h.openElements.pop(),h.insertionMode=eO.IN_TABLE_BODY);break;case ex.TABLE:h.openElements.hasInTableScope(ex.TR)&&(h.openElements.clearBackToTableRowContext(),h.openElements.pop(),h.insertionMode=eO.IN_TABLE_BODY,endTagInTableBody(h,g));break;case ex.TBODY:case ex.TFOOT:case ex.THEAD:(h.openElements.hasInTableScope(g.tagID)||h.openElements.hasInTableScope(ex.TR))&&(h.openElements.clearBackToTableRowContext(),h.openElements.pop(),h.insertionMode=eO.IN_TABLE_BODY,endTagInTableBody(h,g));break;case ex.BODY:case ex.CAPTION:case ex.COL:case ex.COLGROUP:case ex.HTML:case ex.TD:case ex.TH:break;default:endTagInTable(h,g)}}function startTagInSelect(h,g){switch(g.tagID){case ex.HTML:startTagInBody(h,g);break;case ex.OPTION:h.openElements.currentTagId===ex.OPTION&&h.openElements.pop(),h._insertElement(g,eb.HTML);break;case ex.OPTGROUP:h.openElements.currentTagId===ex.OPTION&&h.openElements.pop(),h.openElements.currentTagId===ex.OPTGROUP&&h.openElements.pop(),h._insertElement(g,eb.HTML);break;case ex.INPUT:case ex.KEYGEN:case ex.TEXTAREA:case ex.SELECT:h.openElements.hasInSelectScope(ex.SELECT)&&(h.openElements.popUntilTagNamePopped(ex.SELECT),h._resetInsertionMode(),g.tagID!==ex.SELECT&&h._processStartTag(g));break;case ex.SCRIPT:case ex.TEMPLATE:startTagInHead(h,g)}}function endTagInSelect(h,g){switch(g.tagID){case ex.OPTGROUP:h.openElements.stackTop>0&&h.openElements.currentTagId===ex.OPTION&&h.openElements.tagIDs[h.openElements.stackTop-1]===ex.OPTGROUP&&h.openElements.pop(),h.openElements.currentTagId===ex.OPTGROUP&&h.openElements.pop();break;case ex.OPTION:h.openElements.currentTagId===ex.OPTION&&h.openElements.pop();break;case ex.SELECT:h.openElements.hasInSelectScope(ex.SELECT)&&(h.openElements.popUntilTagNamePopped(ex.SELECT),h._resetInsertionMode());break;case ex.TEMPLATE:templateEndTagInHead(h,g)}}function eofInTemplate(h,g){h.openElements.tmplCount>0?(h.openElements.popUntilTagNamePopped(ex.TEMPLATE),h.activeFormattingElements.clearToLastMarker(),h.tmplInsertionModeStack.shift(),h._resetInsertionMode(),h.onEof(g)):stopParsing(h,g)}function endTagAfterBody(h,g){var _;if(g.tagID===ex.HTML){if(h.fragmentContext||(h.insertionMode=eO.AFTER_AFTER_BODY),h.options.sourceCodeLocationInfo&&h.openElements.tagIDs[0]===ex.HTML){h._setEndLocation(h.openElements.items[0],g);let y=h.openElements.items[1];!y||(null===(_=h.treeAdapter.getNodeSourceCodeLocation(y))||void 0===_?void 0:_.endTag)||h._setEndLocation(y,g)}}else tokenAfterBody(h,g)}function tokenAfterBody(h,g){h.insertionMode=eO.IN_BODY,modeInBody(h,g)}function tokenAfterAfterBody(h,g){h.insertionMode=eO.IN_BODY,modeInBody(h,g)}function popUntilHtmlOrIntegrationPoint(h){for(;h.treeAdapter.getNamespaceURI(h.openElements.current)!==eb.HTML&&!h._isIntegrationPoint(h.openElements.currentTagId,h.openElements.current);)h.openElements.pop()}let r1=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function getEscaper(h,g){return function(_){let y;let A=0,b="";for(;y=h.exec(_);)A!==y.index&&(b+=_.substring(A,y.index)),b+=g.get(y[0].charCodeAt(0)),A=y.index+1;return b+_.substring(A)}}null!=String.prototype.codePointAt||((h,g)=>(64512&h.charCodeAt(g))==55296?(h.charCodeAt(g)-55296)*1024+h.charCodeAt(g+1)-56320+65536:h.charCodeAt(g)),getEscaper(/[&<>'"]/g,r1),getEscaper(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),getEscaper(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),eC.AREA,eC.BASE,eC.BASEFONT,eC.BGSOUND,eC.BR,eC.COL,eC.EMBED,eC.FRAME,eC.HR,eC.IMG,eC.INPUT,eC.KEYGEN,eC.LINK,eC.META,eC.PARAM,eC.SOURCE,eC.TRACK,eC.WBR;let r2=lib_point("end"),r3=lib_point("start");function lib_point(h){return function(g){let _=g&&g.position&&g.position[h]||{};if("number"==typeof _.line&&_.line>0&&"number"==typeof _.column&&_.column>0)return{line:_.line,column:_.column,offset:"number"==typeof _.offset&&_.offset>-1?_.offset:void 0}}}let convert=function(h){if(null==h)return lib_ok;if("function"==typeof h)return castFactory(h);if("object"==typeof h)return Array.isArray(h)?function(h){let g=[],_=-1;for(;++_<h.length;)g[_]=convert(h[_]);return castFactory(function(...h){let _=-1;for(;++_<g.length;)if(g[_].apply(this,h))return!0;return!1})}(h):castFactory(function(g){let _;for(_ in h)if(g[_]!==h[_])return!1;return!0});if("string"==typeof h)return castFactory(function(g){return g&&g.type===h});throw Error("Expected function, string, or object as test")};function castFactory(h){return function(g,_,y){var A;return!!(null!==(A=g)&&"object"==typeof A&&"type"in A&&h.call(this,g,"number"==typeof _?_:void 0,y||void 0))}}function lib_ok(){return!0}let r4=[],r5=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,r6=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),r8={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function raw(h,g){let _=function(h){let g="root"===h.type?h.children[0]:h;return!!(g&&("doctype"===g.type||"element"===g.type&&"html"===g.tagName.toLowerCase()))}(h),y=zwitch("type",{handlers:{root:lib_root,element:hast_util_raw_lib_element,text:hast_util_raw_lib_text,comment:lib_comment,doctype:lib_doctype,raw:handleRaw},unknown}),A={parser:_?new parser_Parser(r8):parser_Parser.getFragmentParser(void 0,r8),handle(h){y(h,A)},stitches:!1,options:g||{}};y(h,A),resetTokenizer(A,r3());let b=_?A.parser.document:A.parser.getFragment(),k=function(h,g){let _=g||{};return one({file:_.file||void 0,location:!1,schema:"svg"===_.space?n7:n9,verbose:_.verbose||!1},h)}(b,{file:A.options.file});if(A.stitches){let h;h=function(h,g,_){if(h.value.stitch&&_&&void 0!==g){let y=_.children;return y[g]=h.value.stitch,g}},function(h,g,_,y){let A;"function"==typeof g&&"function"!=typeof _?(y=_,_=g):A=g;let b=convert(A),k=y?-1:1;(function factory(h,A,w){let R=h&&"object"==typeof h?h:{};if("string"==typeof R.type){let g="string"==typeof R.tagName?R.tagName:"string"==typeof R.name?R.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+h.type+(g?"<"+g+">":"")+")"})}return visit;function visit(){var R;let B,H,z,$=r4;if((!g||b(h,A,w[w.length-1]||void 0))&&!1===($=Array.isArray(R=_(h,w))?R:"number"==typeof R?[!0,R]:null==R?r4:[R])[0])return $;if("children"in h&&h.children&&h.children&&"skip"!==$[0])for(H=(y?h.children.length:-1)+k,z=w.concat(h);H>-1&&H<h.children.length;){let g=h.children[H];if(!1===(B=factory(g,H,z)())[0])return B;H="number"==typeof B[1]?B[1]:H+k}return $}})(h,void 0,[])()}(k,"comment",function(g,_){let y=_[_.length-1],A=y?y.children.indexOf(g):void 0;return h(g,A,y)},void 0)}return"root"===k.type&&1===k.children.length&&k.children[0].type===h.type?k.children[0]:k}function hast_util_raw_lib_all(h,g){let _=-1;if(h)for(;++_<h.length;)g.handle(h[_])}function lib_root(h,g){hast_util_raw_lib_all(h.children,g)}function hast_util_raw_lib_element(h,g){(function(h,g){let _=h.tagName.toLowerCase();if(g.parser.tokenizer.state===rw.PLAINTEXT)return;resetTokenizer(g,r3(h));let y=g.parser.openElements.current,A="namespaceURI"in y?y.namespaceURI:rd.html;A===rd.html&&"svg"===_&&(A=rd.svg);let b=function(h,g){let _=(g||rm).space;return rE(h,"svg"===_?n7:n9)}({...h,children:[]},{space:A===rd.svg?"svg":"html"}),k={type:eE.START_TAG,tagName:_,tagID:getTagID(_),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in b?b.attrs:[],location:createParse5Location(h)};g.parser.currentToken=k,g.parser._processToken(g.parser.currentToken),g.parser.tokenizer.lastStartTagName=_})(h,g),hast_util_raw_lib_all(h.children,g),function(h,g){let _=h.tagName.toLowerCase();if(!g.parser.tokenizer.inForeignNode&&r_.includes(_)||g.parser.tokenizer.state===rw.PLAINTEXT)return;resetTokenizer(g,r2(h));let y={type:eE.END_TAG,tagName:_,tagID:getTagID(_),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:createParse5Location(h)};g.parser.currentToken=y,g.parser._processToken(g.parser.currentToken),_===g.parser.tokenizer.lastStartTagName&&(g.parser.tokenizer.state===rw.RCDATA||g.parser.tokenizer.state===rw.RAWTEXT||g.parser.tokenizer.state===rw.SCRIPT_DATA)&&(g.parser.tokenizer.state=rw.DATA)}(h,g)}function hast_util_raw_lib_text(h,g){g.parser.tokenizer.state>4&&(g.parser.tokenizer.state=0);let _={type:eE.CHARACTER,chars:h.value,location:createParse5Location(h)};resetTokenizer(g,r3(h)),g.parser.currentToken=_,g.parser._processToken(g.parser.currentToken)}function lib_doctype(h,g){let _={type:eE.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:createParse5Location(h)};resetTokenizer(g,r3(h)),g.parser.currentToken=_,g.parser._processToken(g.parser.currentToken)}function lib_comment(h,g){let _=h.value,y={type:eE.COMMENT,data:_,location:createParse5Location(h)};resetTokenizer(g,r3(h)),g.parser.currentToken=y,g.parser._processToken(g.parser.currentToken)}function handleRaw(h,g){if(g.parser.tokenizer.preprocessor.html="",g.parser.tokenizer.preprocessor.pos=-1,g.parser.tokenizer.preprocessor.lastGapPos=-2,g.parser.tokenizer.preprocessor.gapStack=[],g.parser.tokenizer.preprocessor.skipNextNewLine=!1,g.parser.tokenizer.preprocessor.lastChunkWritten=!1,g.parser.tokenizer.preprocessor.endOfChunkHit=!1,g.parser.tokenizer.preprocessor.isEol=!1,setPoint(g,r3(h)),g.parser.tokenizer.write(g.options.tagfilter?h.value.replace(r5,"&lt;$1$2"):h.value,!1),g.parser.tokenizer._runParsingLoop(),72===g.parser.tokenizer.state||78===g.parser.tokenizer.state){g.parser.tokenizer.preprocessor.lastChunkWritten=!0;let h=g.parser.tokenizer._consume();g.parser.tokenizer._callState(h)}}function unknown(h,g){if(g.options.passThrough&&g.options.passThrough.includes(h.type))!function(h,g){g.stitches=!0;let _="children"in h?nQ({...h,children:[]}):nQ(h);if("children"in h&&"children"in _){let y=raw({type:"root",children:h.children},g.options);_.children=y.children}lib_comment({type:"comment",value:{stitch:_}},g)}(h,g);else{let g="";throw r6.has(h.type)&&(g=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),Error("Cannot compile `"+h.type+"` node"+g)}}function resetTokenizer(h,g){setPoint(h,g);let _=h.parser.tokenizer.currentCharacterToken;_&&_.location&&(_.location.endLine=h.parser.tokenizer.preprocessor.line,_.location.endCol=h.parser.tokenizer.preprocessor.col+1,_.location.endOffset=h.parser.tokenizer.preprocessor.offset+1,h.parser.currentToken=_,h.parser._processToken(h.parser.currentToken)),h.parser.tokenizer.paused=!1,h.parser.tokenizer.inLoop=!1,h.parser.tokenizer.active=!1,h.parser.tokenizer.returnState=rw.DATA,h.parser.tokenizer.charRefCode=-1,h.parser.tokenizer.consumedAfterSnapshot=-1,h.parser.tokenizer.currentLocation=null,h.parser.tokenizer.currentCharacterToken=null,h.parser.tokenizer.currentToken=null,h.parser.tokenizer.currentAttr={name:"",value:""}}function setPoint(h,g){if(g&&void 0!==g.offset){let _={startLine:g.line,startCol:g.column,startOffset:g.offset,endLine:-1,endCol:-1,endOffset:-1};h.parser.tokenizer.preprocessor.lineStartPos=-g.column+1,h.parser.tokenizer.preprocessor.droppedBufferSize=g.offset,h.parser.tokenizer.preprocessor.line=g.line,h.parser.tokenizer.currentLocation=_}}function createParse5Location(h){let g=r3(h)||{line:void 0,column:void 0,offset:void 0},_=r2(h)||{line:void 0,column:void 0,offset:void 0},y={startLine:g.line,startCol:g.column,startOffset:g.offset,endLine:_.line,endCol:_.column,endOffset:_.offset};return y}function rehypeRaw(h){return function(g,_){let y=raw(g,{...h,file:_});return y}}let r9=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],r7={nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},ie=["cent","copy","divide","gt","lt","not","para","times"],it={}.hasOwnProperty,ir={};for(A in r7)it.call(r7,A)&&(ir[r7[A]]=A);function formatSmart(h,g,_){let y,A=function(h,g,_){let y="&#x"+h.toString(16).toUpperCase();return _&&g&&!/[\dA-Fa-f]/.test(String.fromCharCode(g))?y:y+";"}(h,g,_.omitOptionalSemicolons);if((_.useNamedReferences||_.useShortestReferences)&&(y=function(h,g,_,y){let A=String.fromCharCode(h);if(it.call(ir,A)){let h=ir[A],b="&"+h;return _&&r9.includes(h)&&!ie.includes(h)&&(!y||g&&61!==g&&/[^\da-z]/i.test(String.fromCharCode(g)))?b:b+";"}return""}(h,g,_.omitOptionalSemicolons,_.attribute)),(_.useShortestReferences||!y)&&_.useShortestReferences){let y=function(h,g,_){let y="&#"+String(h);return _&&g&&!/\d/.test(String.fromCharCode(g))?y:y+";"}(h,g,_.omitOptionalSemicolons);y.length<A.length&&(A=y)}return y&&(!_.useShortestReferences||y.length<A.length)?y:A}function stringifyEntities(h,g){return function(h,g){if(h=h.replace(g.subset?function(h){let g=[],_=-1;for(;++_<h.length;)g.push(h[_].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return RegExp("(?:"+g.join("|")+")","g")}(g.subset):/["&'<>`]/g,basic),g.subset||g.escapeOnly)return h;return h.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(h,_,y){return g.format((h.charCodeAt(0)-55296)*1024+h.charCodeAt(1)-56320+65536,y.charCodeAt(_+2),g)}).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,basic);function basic(h,_,y){return g.format(h.charCodeAt(0),y.charCodeAt(_+1),g)}}(h,Object.assign({format:formatSmart},g))}let io=/^>|^->|<!--|-->|--!>|<!-$/g,is=[">"],il=["<",">"];function ccount(h,g){let _=String(h);if("string"!=typeof g)throw TypeError("Expected character");let y=0,A=_.indexOf(g);for(;-1!==A;)y++,A=_.indexOf(g,A+g.length);return y}let ic=/[ \t\n\f\r]/g;function whitespace(h){return"object"==typeof h?"text"===h.type&&lib_empty(h.value):lib_empty(h)}function lib_empty(h){return""===h.replace(ic,"")}let iu=siblings(1),id=siblings(-1),ih=[];function siblings(h){return function(g,_,y){let A=g?g.children:ih,b=(_||0)+h,k=A[b];if(!y)for(;k&&whitespace(k);)b+=h,k=A[b];return k}}let ip={}.hasOwnProperty;function omission(h){return function(g,_,y){return ip.call(h,g.tagName)&&h[g.tagName](g,_,y)}}let im=omission({body:function(h,g,_){let y=iu(_,g);return!y||"comment"!==y.type},caption:headOrColgroupOrCaption,colgroup:headOrColgroupOrCaption,dd:function(h,g,_){let y=iu(_,g);return!y||"element"===y.type&&("dt"===y.tagName||"dd"===y.tagName)},dt:function(h,g,_){let y=iu(_,g);return!!(y&&"element"===y.type&&("dt"===y.tagName||"dd"===y.tagName))},head:headOrColgroupOrCaption,html:function(h,g,_){let y=iu(_,g);return!y||"comment"!==y.type},li:function(h,g,_){let y=iu(_,g);return!y||"element"===y.type&&"li"===y.tagName},optgroup:function(h,g,_){let y=iu(_,g);return!y||"element"===y.type&&"optgroup"===y.tagName},option:function(h,g,_){let y=iu(_,g);return!y||"element"===y.type&&("option"===y.tagName||"optgroup"===y.tagName)},p:function(h,g,_){let y=iu(_,g);return y?"element"===y.type&&("address"===y.tagName||"article"===y.tagName||"aside"===y.tagName||"blockquote"===y.tagName||"details"===y.tagName||"div"===y.tagName||"dl"===y.tagName||"fieldset"===y.tagName||"figcaption"===y.tagName||"figure"===y.tagName||"footer"===y.tagName||"form"===y.tagName||"h1"===y.tagName||"h2"===y.tagName||"h3"===y.tagName||"h4"===y.tagName||"h5"===y.tagName||"h6"===y.tagName||"header"===y.tagName||"hgroup"===y.tagName||"hr"===y.tagName||"main"===y.tagName||"menu"===y.tagName||"nav"===y.tagName||"ol"===y.tagName||"p"===y.tagName||"pre"===y.tagName||"section"===y.tagName||"table"===y.tagName||"ul"===y.tagName):!_||!("element"===_.type&&("a"===_.tagName||"audio"===_.tagName||"del"===_.tagName||"ins"===_.tagName||"map"===_.tagName||"noscript"===_.tagName||"video"===_.tagName))},rp:rubyElement,rt:rubyElement,tbody:function(h,g,_){let y=iu(_,g);return!y||"element"===y.type&&("tbody"===y.tagName||"tfoot"===y.tagName)},td:cells,tfoot:function(h,g,_){return!iu(_,g)},th:cells,thead:function(h,g,_){let y=iu(_,g);return!!(y&&"element"===y.type&&("tbody"===y.tagName||"tfoot"===y.tagName))},tr:function(h,g,_){let y=iu(_,g);return!y||"element"===y.type&&"tr"===y.tagName}});function headOrColgroupOrCaption(h,g,_){let y=iu(_,g,!0);return!y||"comment"!==y.type&&!("text"===y.type&&whitespace(y.value.charAt(0)))}function rubyElement(h,g,_){let y=iu(_,g);return!y||"element"===y.type&&("rp"===y.tagName||"rt"===y.tagName)}function cells(h,g,_){let y=iu(_,g);return!y||"element"===y.type&&("td"===y.tagName||"th"===y.tagName)}let ig=omission({body:function(h){let g=iu(h,-1,!0);return!g||"comment"!==g.type&&!("text"===g.type&&whitespace(g.value.charAt(0)))&&!("element"===g.type&&("meta"===g.tagName||"link"===g.tagName||"script"===g.tagName||"style"===g.tagName||"template"===g.tagName))},colgroup:function(h,g,_){let y=id(_,g),A=iu(h,-1,!0);return!(_&&y&&"element"===y.type&&"colgroup"===y.tagName&&im(y,_.children.indexOf(y),_))&&!!(A&&"element"===A.type&&"col"===A.tagName)},head:function(h){let g=new Set;for(let _ of h.children)if("element"===_.type&&("base"===_.tagName||"title"===_.tagName)){if(g.has(_.tagName))return!1;g.add(_.tagName)}let _=h.children[0];return!_||"element"===_.type},html:function(h){let g=iu(h,-1);return!g||"comment"!==g.type},tbody:function(h,g,_){let y=id(_,g),A=iu(h,-1);return!(_&&y&&"element"===y.type&&("thead"===y.tagName||"tbody"===y.tagName)&&im(y,_.children.indexOf(y),_))&&!!(A&&"element"===A.type&&"tr"===A.tagName)}}),iE={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\x00	\n\f\r \"&'/<=>".split(""),"\x00	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\x00	\n\f\r \"&'<=>`".split("")],["\x00	\n\f\r \"&'<=>`".split(""),"\x00	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\x00&'".split(""),"\x00\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\x00"&'.split(""),"\x00\"&'`".split("")]]},i_=["<","&"];function text_text(h,g,_,y){return _&&"element"===_.type&&("script"===_.tagName||"style"===_.tagName)?h.value:stringifyEntities(h.value,Object.assign({},y.settings.characterReferences,{subset:i_}))}let iT=zwitch("type",{invalid:function(h){throw Error("Expected node, not `"+h+"`")},unknown:function(h){throw Error("Cannot compile unknown node `"+h.type+"`")},handlers:{comment:function(h,g,_,y){return y.settings.bogusComments?"<?"+stringifyEntities(h.value,Object.assign({},y.settings.characterReferences,{subset:is}))+">":"<!--"+h.value.replace(io,function(h){return stringifyEntities(h,Object.assign({},y.settings.characterReferences,{subset:il}))})+"-->"},doctype:function(h,g,_,y){return"<!"+(y.settings.upperDoctype?"DOCTYPE":"doctype")+(y.settings.tightDoctype?"":" ")+"html>"},element:function(h,g,_,y){let A;let b=y.schema,k="svg"!==b.space&&y.settings.omitOptionalTags,w="svg"===b.space?y.settings.closeEmptyElements:y.settings.voids.includes(h.tagName.toLowerCase()),R=[];"html"===b.space&&"svg"===h.tagName&&(y.schema=n7);let B=function(h,g){let _;let y=[],A=-1;if(g){for(_ in g)if(null!==g[_]&&void 0!==g[_]){let A=function(h,g,_){let y;let A=find(h.schema,g),b=h.settings.allowParseErrors&&"html"===h.schema.space?0:1,k=h.settings.allowDangerousCharacters?0:1,w=h.quote;if(A.overloadedBoolean&&(_===A.attribute||""===_)?_=!0:(A.boolean||A.overloadedBoolean&&"string"!=typeof _)&&(_=!!_),null==_||!1===_||"number"==typeof _&&Number.isNaN(_))return"";let R=stringifyEntities(A.attribute,Object.assign({},h.settings.characterReferences,{subset:iE.name[b][k]}));return!0===_?R:(_=Array.isArray(_)?(A.commaSeparated?comma_separated_tokens_stringify:space_separated_tokens_stringify)(_,{padLeft:!h.settings.tightCommaSeparatedLists}):String(_),h.settings.collapseEmptyAttributes&&!_)?R:(h.settings.preferUnquoted&&(y=stringifyEntities(_,Object.assign({},h.settings.characterReferences,{attribute:!0,subset:iE.unquoted[b][k]}))),y!==_&&(h.settings.quoteSmart&&ccount(_,w)>ccount(_,h.alternative)&&(w=h.alternative),y=w+stringifyEntities(_,Object.assign({},h.settings.characterReferences,{subset:("'"===w?iE.single:iE.double)[b][k],attribute:!0}))+w),R+(y?"="+y:y))}(h,_,g[_]);A&&y.push(A)}}for(;++A<y.length;){let g=h.settings.tightAttributes?y[A].charAt(y[A].length-1):void 0;A!==y.length-1&&'"'!==g&&"'"!==g&&(y[A]+=" ")}return y.join("")}(y,h.properties),H=y.all("html"===b.space&&"template"===h.tagName?h.content:h);return y.schema=b,H&&(w=!1),!B&&k&&ig(h,g,_)||(R.push("<",h.tagName,B?" "+B:""),w&&("svg"===b.space||y.settings.closeSelfClosing)&&(A=B.charAt(B.length-1),(!y.settings.tightSelfClosing||"/"===A||A&&'"'!==A&&"'"!==A)&&R.push(" "),R.push("/")),R.push(">")),R.push(H),w||k&&im(h,g,_)||R.push("</"+h.tagName+">"),R.join("")},raw:function(h,g,_,y){return y.settings.allowDangerousHtml?h.value:text_text(h,g,_,y)},root:function(h,g,_,y){return y.all(h)},text:text_text}}),iv={},iy={},iA=[];function hast_util_to_html_lib_one(h,g,_){return iT(h,g,_,this)}function hast_util_to_html_lib_all(h){let g=[],_=h&&h.children||iA,y=-1;for(;++y<_.length;)g[y]=this.one(_[y],y,h);return g.join("")}function rehypeStringify(h){let g={...this.data("settings"),...h};this.compiler=function(h){return function(h,g){let _=g||iv,y=_.quote||'"';if('"'!==y&&"'"!==y)throw Error("Invalid quote `"+y+"`, expected `'` or `\"`");let A={one:hast_util_to_html_lib_one,all:hast_util_to_html_lib_all,settings:{omitOptionalTags:_.omitOptionalTags||!1,allowParseErrors:_.allowParseErrors||!1,allowDangerousCharacters:_.allowDangerousCharacters||!1,quoteSmart:_.quoteSmart||!1,preferUnquoted:_.preferUnquoted||!1,tightAttributes:_.tightAttributes||!1,upperDoctype:_.upperDoctype||!1,tightDoctype:_.tightDoctype||!1,bogusComments:_.bogusComments||!1,tightCommaSeparatedLists:_.tightCommaSeparatedLists||!1,tightSelfClosing:_.tightSelfClosing||!1,collapseEmptyAttributes:_.collapseEmptyAttributes||!1,allowDangerousHtml:_.allowDangerousHtml||!1,voids:_.voids||r_,characterReferences:_.characterReferences||iy,closeSelfClosing:_.closeSelfClosing||!1,closeEmptyElements:_.closeEmptyElements||!1},schema:"svg"===_.space?n7:n9,quote:y,alternative:'"'===y?"'":'"'};return A.one(Array.isArray(h)?{type:"root",children:h}:h,void 0,void 0)}(h,g)}}let ib=regexCheck(/[A-Za-z]/),ik=regexCheck(/[\dA-Za-z]/),iS=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(h){return null!==h&&(h<32||127===h)}let iC=regexCheck(/\d/),ix=regexCheck(/[\dA-Fa-f]/),iI=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(h){return null!==h&&h<-2}function markdownLineEndingOrSpace(h){return null!==h&&(h<0||32===h)}function markdownSpace(h){return -2===h||-1===h||32===h}let iw=regexCheck(/\p{P}|\p{S}/u),iO=regexCheck(/\s/);function regexCheck(h){return function(g){return null!==g&&g>-1&&h.test(String.fromCharCode(g))}}let lib_convert=function(h){if(null==h)return unist_util_is_lib_ok;if("function"==typeof h)return lib_castFactory(h);if("object"==typeof h)return Array.isArray(h)?function(h){let g=[],_=-1;for(;++_<h.length;)g[_]=lib_convert(h[_]);return lib_castFactory(function(...h){let _=-1;for(;++_<g.length;)if(g[_].apply(this,h))return!0;return!1})}(h):lib_castFactory(function(g){let _;for(_ in h)if(g[_]!==h[_])return!1;return!0});if("string"==typeof h)return lib_castFactory(function(g){return g&&g.type===h});throw Error("Expected function, string, or object as test")};function lib_castFactory(h){return function(g,_,y){var A;return!!(null!==(A=g)&&"object"==typeof A&&"type"in A&&h.call(this,g,"number"==typeof _?_:void 0,y||void 0))}}function unist_util_is_lib_ok(){return!0}let iN=[];function lib_visitParents(h,g,_,y){let A;"function"==typeof g&&"function"!=typeof _?(y=_,_=g):A=g;let b=lib_convert(A),k=y?-1:1;(function factory(h,A,w){let R=h&&"object"==typeof h?h:{};if("string"==typeof R.type){let g="string"==typeof R.tagName?R.tagName:"string"==typeof R.name?R.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+h.type+(g?"<"+g+">":"")+")"})}return visit;function visit(){var R;let B,H,z,$=iN;if((!g||b(h,A,w[w.length-1]||void 0))&&!1===($=Array.isArray(R=_(h,w))?R:"number"==typeof R?[!0,R]:null==R?iN:[R])[0])return $;if("children"in h&&h.children&&h.children&&"skip"!==$[0])for(H=(y?h.children.length:-1)+k,z=w.concat(h);H>-1&&H<h.children.length;){let g=h.children[H];if(!1===(B=factory(g,H,z)())[0])return B;H="number"==typeof B[1]?B[1]:H+k}return $}})(h,void 0,[])()}let iR="phrasing",iD=["autolink","link","image","label"];function enterLiteralAutolink(h){this.enter({type:"link",title:null,url:"",children:[]},h)}function enterLiteralAutolinkValue(h){this.config.enter.autolinkProtocol.call(this,h)}function exitLiteralAutolinkHttp(h){this.config.exit.autolinkProtocol.call(this,h)}function exitLiteralAutolinkWww(h){this.config.exit.data.call(this,h);let g=this.stack[this.stack.length-1];g.type,g.url="http://"+this.sliceSerialize(h)}function exitLiteralAutolinkEmail(h){this.config.exit.autolinkEmail.call(this,h)}function exitLiteralAutolink(h){this.exit(h)}function transformGfmAutolinkLiterals(h){!function(h,g,_){let y=lib_convert((_||{}).ignore||[]),A=function(h){let g=[];if(!Array.isArray(h))throw TypeError("Expected find and replace tuple or list of tuples");let _=!h[0]||Array.isArray(h[0])?h:[h],y=-1;for(;++y<_.length;){var A;let h=_[y];g.push(["string"==typeof(A=h[0])?RegExp(function(h){if("string"!=typeof h)throw TypeError("Expected a string");return h.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(A),"g"):A,function(h){return"function"==typeof h?h:function(){return h}}(h[1])])}return g}(g),b=-1;for(;++b<A.length;)lib_visitParents(h,"text",visitor);function visitor(h,g){let _,k=-1;for(;++k<g.length;){let h=g[k],A=_?_.children:void 0;if(y(h,A?A.indexOf(h):void 0,_))return;_=h}if(_)return function(h,g){let _=g[g.length-1],y=A[b][0],k=A[b][1],w=0,R=_.children,B=R.indexOf(h),H=!1,z=[];y.lastIndex=0;let $=y.exec(h.value);for(;$;){let _=$.index,A={index:$.index,input:$.input,stack:[...g,h]},b=k(...$,A);if("string"==typeof b&&(b=b.length>0?{type:"text",value:b}:void 0),!1===b?y.lastIndex=_+1:(w!==_&&z.push({type:"text",value:h.value.slice(w,_)}),Array.isArray(b)?z.push(...b):b&&z.push(b),w=_+$[0].length,H=!0),!y.global)break;$=y.exec(h.value)}return H?(w<h.value.length&&z.push({type:"text",value:h.value.slice(w)}),_.children.splice(B,1,...z)):z=[h],B+z.length}(h,g)}}(h,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,findEmail]],{ignore:["link","linkReference"]})}function findUrl(h,g,_,y,A){let b="";if(!previous(A)||(/^w/i.test(g)&&(_=g+_,g="",b="http://"),!function(h){let g=h.split(".");return!(g.length<2||g[g.length-1]&&(/_/.test(g[g.length-1])||!/[a-zA-Z\d]/.test(g[g.length-1]))||g[g.length-2]&&(/_/.test(g[g.length-2])||!/[a-zA-Z\d]/.test(g[g.length-2])))}(_)))return!1;let k=function(h){let g=/[!"&'),.:;<>?\]}]+$/.exec(h);if(!g)return[h,void 0];h=h.slice(0,g.index);let _=g[0],y=_.indexOf(")"),A=ccount(h,"("),b=ccount(h,")");for(;-1!==y&&A>b;)h+=_.slice(0,y+1),y=(_=_.slice(y+1)).indexOf(")"),b++;return[h,_]}(_+y);if(!k[0])return!1;let w={type:"link",title:null,url:b+g+k[0],children:[{type:"text",value:g+k[0]}]};return k[1]?[w,{type:"text",value:k[1]}]:w}function findEmail(h,g,_,y){return!(!previous(y,!0)||/[-\d_]$/.test(_))&&{type:"link",title:null,url:"mailto:"+g+"@"+_,children:[{type:"text",value:g+"@"+_}]}}function previous(h,g){let _=h.input.charCodeAt(h.index-1);return(0===h.index||iO(_)||iw(_))&&(!g||47!==_)}function normalizeIdentifier(h){return h.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function enterFootnoteDefinition(h){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},h)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(h){let g=this.resume(),_=this.stack[this.stack.length-1];_.type,_.label=g,_.identifier=normalizeIdentifier(this.sliceSerialize(h)).toLowerCase()}function exitFootnoteDefinition(h){this.exit(h)}function enterFootnoteCall(h){this.enter({type:"footnoteReference",identifier:"",label:""},h)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(h){let g=this.resume(),_=this.stack[this.stack.length-1];_.type,_.label=g,_.identifier=normalizeIdentifier(this.sliceSerialize(h)).toLowerCase()}function exitFootnoteCall(h){this.exit(h)}function footnoteReference(h,g,_,y){let A=_.createTracker(y),b=A.move("[^"),k=_.enter("footnoteReference"),w=_.enter("reference");return b+=A.move(_.safe(_.associationId(h),{...A.current(),before:b,after:"]"})),w(),k(),b+=A.move("]")}function footnoteDefinition(h,g,_,y){let A=_.createTracker(y),b=A.move("[^"),k=_.enter("footnoteDefinition"),w=_.enter("label");return b+=A.move(_.safe(_.associationId(h),{...A.current(),before:b,after:"]"})),w(),b+=A.move("]:"+(h.children&&h.children.length>0?" ":"")),A.shift(4),b+=A.move(_.indentLines(_.containerFlow(h,A.current()),map)),k(),b}function map(h,g,_){return 0===g?h:(_?"":"    ")+h}footnoteReference.peek=function(){return"["};let iL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function enterStrikethrough(h){this.enter({type:"delete",children:[]},h)}function exitStrikethrough(h){this.exit(h)}function handleDelete(h,g,_,y){let A=_.createTracker(y),b=_.enter("strikethrough"),k=A.move("~~");return k+=_.containerPhrasing(h,{...A.current(),before:k,after:"~"})+A.move("~~"),b(),k}function defaultStringLength(h){return h.length}function toAlignment(h){let g="string"==typeof h?h.codePointAt(0):0;return 67===g||99===g?99:76===g||108===g?108:82===g||114===g?114:0}function blockquote_map(h,g,_){return">"+(_?"":" ")+h}function listInScope(h,g,_){if("string"==typeof g&&(g=[g]),!g||0===g.length)return _;let y=-1;for(;++y<g.length;)if(h.includes(g[y]))return!0;return!1}function hardBreak(h,g,_,y){let A=-1;for(;++A<_.unsafe.length;){var b,k;if("\n"===_.unsafe[A].character&&listInScope(b=_.stack,(k=_.unsafe[A]).inConstruct,!0)&&!listInScope(b,k.notInConstruct,!1))return/[ \t]/.test(y.before)?"":" "}return"\\\n"}function code_map(h,g,_){return(_?"":"    ")+h}function checkQuote(h){let g=h.options.quote||'"';if('"'!==g&&"'"!==g)throw Error("Cannot serialize title with `"+g+"` for `options.quote`, expected `\"`, or `'`");return g}function encodeCharacterReference(h){return"&#x"+h.toString(16).toUpperCase()+";"}function classifyCharacter(h){return null===h||markdownLineEndingOrSpace(h)||iO(h)?1:iw(h)?2:void 0}function encodeInfo(h,g,_){let y=classifyCharacter(h),A=classifyCharacter(g);return void 0===y?void 0===A?"_"===_?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===A?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===y?void 0===A?{inside:!1,outside:!1}:1===A?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===A?{inside:!1,outside:!1}:1===A?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function emphasis(h,g,_,y){let A=function(h){let g=h.options.emphasis||"*";if("*"!==g&&"_"!==g)throw Error("Cannot serialize emphasis with `"+g+"` for `options.emphasis`, expected `*`, or `_`");return g}(_),b=_.enter("emphasis"),k=_.createTracker(y),w=k.move(A),R=k.move(_.containerPhrasing(h,{after:A,before:w,...k.current()})),B=R.charCodeAt(0),H=encodeInfo(y.before.charCodeAt(y.before.length-1),B,A);H.inside&&(R=encodeCharacterReference(B)+R.slice(1));let z=R.charCodeAt(R.length-1),$=encodeInfo(y.after.charCodeAt(0),z,A);$.inside&&(R=R.slice(0,-1)+encodeCharacterReference(z));let j=k.move(A);return b(),_.attentionEncodeSurroundingInfo={after:$.outside,before:H.outside},w+R+j}function lib_visit(h,g,_,y){let A,b,k;"function"==typeof g&&"function"!=typeof _?(b=void 0,k=g,A=_):(b=g,k=_,A=y),lib_visitParents(h,b,function(h,g){let _=g[g.length-1],y=_?_.children.indexOf(h):void 0;return k(h,y,_)},A)}handleDelete.peek=function(){return"~"},emphasis.peek=function(h,g,_){return _.options.emphasis||"*"};let iM={};function lib_toString(h,g){let _=g||iM,y="boolean"!=typeof _.includeImageAlt||_.includeImageAlt,A="boolean"!=typeof _.includeHtml||_.includeHtml;return mdast_util_to_string_lib_one(h,y,A)}function mdast_util_to_string_lib_one(h,g,_){if(h&&"object"==typeof h){if("value"in h)return"html"!==h.type||_?h.value:"";if(g&&"alt"in h&&h.alt)return h.alt;if("children"in h)return mdast_util_to_string_lib_all(h.children,g,_)}return Array.isArray(h)?mdast_util_to_string_lib_all(h,g,_):""}function mdast_util_to_string_lib_all(h,g,_){let y=[],A=-1;for(;++A<h.length;)y[A]=mdast_util_to_string_lib_one(h[A],g,_);return y.join("")}function html_html(h){return h.value||""}function image_image(h,g,_,y){let A=checkQuote(_),b='"'===A?"Quote":"Apostrophe",k=_.enter("image"),w=_.enter("label"),R=_.createTracker(y),B=R.move("![");return B+=R.move(_.safe(h.alt,{before:B,after:"]",...R.current()}))+R.move("]("),w(),!h.url&&h.title||/[\0- \u007F]/.test(h.url)?(w=_.enter("destinationLiteral"),B+=R.move("<"),B+=R.move(_.safe(h.url,{before:B,after:">",...R.current()}))+R.move(">")):(w=_.enter("destinationRaw"),B+=R.move(_.safe(h.url,{before:B,after:h.title?" ":")",...R.current()}))),w(),h.title&&(w=_.enter(`title${b}`),B+=R.move(" "+A),B+=R.move(_.safe(h.title,{before:B,after:A,...R.current()}))+R.move(A),w()),B+=R.move(")"),k(),B}function imageReference(h,g,_,y){let A=h.referenceType,b=_.enter("imageReference"),k=_.enter("label"),w=_.createTracker(y),R=w.move("!["),B=_.safe(h.alt,{before:R,after:"]",...w.current()});R+=w.move(B+"]["),k();let H=_.stack;_.stack=[],k=_.enter("reference");let z=_.safe(_.associationId(h),{before:R,after:"]",...w.current()});return k(),_.stack=H,b(),"full"!==A&&B&&B===z?"shortcut"===A?R=R.slice(0,-1):R+=w.move("]"):R+=w.move(z+"]"),R}function inlineCode(h,g,_){let y=h.value||"",A="`",b=-1;for(;RegExp("(^|[^`])"+A+"([^`]|$)").test(y);)A+="`";for(/[^ \r\n]/.test(y)&&(/^[ \r\n]/.test(y)&&/[ \r\n]$/.test(y)||/^`|`$/.test(y))&&(y=" "+y+" ");++b<_.unsafe.length;){let h;let g=_.unsafe[b],A=_.compilePattern(g);if(g.atBreak)for(;h=A.exec(y);){let g=h.index;10===y.charCodeAt(g)&&13===y.charCodeAt(g-1)&&g--,y=y.slice(0,g)+" "+y.slice(h.index+1)}}return A+y+A}function formatLinkAsAutolink(h,g){let _=lib_toString(h);return!!(!g.options.resourceLink&&h.url&&!h.title&&h.children&&1===h.children.length&&"text"===h.children[0].type&&(_===h.url||"mailto:"+_===h.url)&&/^[a-z][a-z+.-]+:/i.test(h.url)&&!/[\0- <>\u007F]/.test(h.url))}function link_link(h,g,_,y){let A,b;let k=checkQuote(_),w='"'===k?"Quote":"Apostrophe",R=_.createTracker(y);if(formatLinkAsAutolink(h,_)){let g=_.stack;_.stack=[],A=_.enter("autolink");let y=R.move("<");return y+=R.move(_.containerPhrasing(h,{before:y,after:">",...R.current()}))+R.move(">"),A(),_.stack=g,y}A=_.enter("link"),b=_.enter("label");let B=R.move("[");return B+=R.move(_.containerPhrasing(h,{before:B,after:"](",...R.current()}))+R.move("]("),b(),!h.url&&h.title||/[\0- \u007F]/.test(h.url)?(b=_.enter("destinationLiteral"),B+=R.move("<"),B+=R.move(_.safe(h.url,{before:B,after:">",...R.current()}))+R.move(">")):(b=_.enter("destinationRaw"),B+=R.move(_.safe(h.url,{before:B,after:h.title?" ":")",...R.current()}))),b(),h.title&&(b=_.enter(`title${w}`),B+=R.move(" "+k),B+=R.move(_.safe(h.title,{before:B,after:k,...R.current()}))+R.move(k),b()),B+=R.move(")"),A(),B}function linkReference(h,g,_,y){let A=h.referenceType,b=_.enter("linkReference"),k=_.enter("label"),w=_.createTracker(y),R=w.move("["),B=_.containerPhrasing(h,{before:R,after:"]",...w.current()});R+=w.move(B+"]["),k();let H=_.stack;_.stack=[],k=_.enter("reference");let z=_.safe(_.associationId(h),{before:R,after:"]",...w.current()});return k(),_.stack=H,b(),"full"!==A&&B&&B===z?"shortcut"===A?R=R.slice(0,-1):R+=w.move("]"):R+=w.move(z+"]"),R}function checkBullet(h){let g=h.options.bullet||"*";if("*"!==g&&"+"!==g&&"-"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.bullet`, expected `*`, `+`, or `-`");return g}function checkRule(h){let g=h.options.rule||"*";if("*"!==g&&"-"!==g&&"_"!==g)throw Error("Cannot serialize rules with `"+g+"` for `options.rule`, expected `*`, `-`, or `_`");return g}html_html.peek=function(){return"<"},image_image.peek=function(){return"!"},imageReference.peek=function(){return"!"},inlineCode.peek=function(){return"`"},link_link.peek=function(h,g,_){return formatLinkAsAutolink(h,_)?"<":"["},linkReference.peek=function(){return"["};let iP=lib_convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function strong(h,g,_,y){let A=function(h){let g=h.options.strong||"*";if("*"!==g&&"_"!==g)throw Error("Cannot serialize strong with `"+g+"` for `options.strong`, expected `*`, or `_`");return g}(_),b=_.enter("strong"),k=_.createTracker(y),w=k.move(A+A),R=k.move(_.containerPhrasing(h,{after:A,before:w,...k.current()})),B=R.charCodeAt(0),H=encodeInfo(y.before.charCodeAt(y.before.length-1),B,A);H.inside&&(R=encodeCharacterReference(B)+R.slice(1));let z=R.charCodeAt(R.length-1),$=encodeInfo(y.after.charCodeAt(0),z,A);$.inside&&(R=R.slice(0,-1)+encodeCharacterReference(z));let j=k.move(A+A);return b(),_.attentionEncodeSurroundingInfo={after:$.outside,before:H.outside},w+R+j}strong.peek=function(h,g,_){return _.options.strong||"*"};let iF={blockquote:function(h,g,_,y){let A=_.enter("blockquote"),b=_.createTracker(y);b.move("> "),b.shift(2);let k=_.indentLines(_.containerFlow(h,b.current()),blockquote_map);return A(),k},break:hardBreak,code:function(h,g,_,y){let A=function(h){let g=h.options.fence||"`";if("`"!==g&&"~"!==g)throw Error("Cannot serialize code with `"+g+"` for `options.fence`, expected `` ` `` or `~`");return g}(_),b=h.value||"",k="`"===A?"GraveAccent":"Tilde";if(!1===_.options.fences&&h.value&&!h.lang&&/[^ \r\n]/.test(h.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(h.value)){let h=_.enter("codeIndented"),g=_.indentLines(b,code_map);return h(),g}let w=_.createTracker(y),R=A.repeat(Math.max(function(h,g){let _=String(h),y=_.indexOf(g),A=y,b=0,k=0;if("string"!=typeof g)throw TypeError("Expected substring");for(;-1!==y;)y===A?++b>k&&(k=b):b=1,A=y+g.length,y=_.indexOf(g,A);return k}(b,A)+1,3)),B=_.enter("codeFenced"),H=w.move(R);if(h.lang){let g=_.enter(`codeFencedLang${k}`);H+=w.move(_.safe(h.lang,{before:H,after:" ",encode:["`"],...w.current()})),g()}if(h.lang&&h.meta){let g=_.enter(`codeFencedMeta${k}`);H+=w.move(" "),H+=w.move(_.safe(h.meta,{before:H,after:"\n",encode:["`"],...w.current()})),g()}return H+=w.move("\n"),b&&(H+=w.move(b+"\n")),H+=w.move(R),B(),H},definition:function(h,g,_,y){let A=checkQuote(_),b='"'===A?"Quote":"Apostrophe",k=_.enter("definition"),w=_.enter("label"),R=_.createTracker(y),B=R.move("[");return B+=R.move(_.safe(_.associationId(h),{before:B,after:"]",...R.current()}))+R.move("]: "),w(),!h.url||/[\0- \u007F]/.test(h.url)?(w=_.enter("destinationLiteral"),B+=R.move("<"),B+=R.move(_.safe(h.url,{before:B,after:">",...R.current()}))+R.move(">")):(w=_.enter("destinationRaw"),B+=R.move(_.safe(h.url,{before:B,after:h.title?" ":"\n",...R.current()}))),w(),h.title&&(w=_.enter(`title${b}`),B+=R.move(" "+A),B+=R.move(_.safe(h.title,{before:B,after:A,...R.current()}))+R.move(A),w()),k(),B},emphasis:emphasis,hardBreak:hardBreak,heading:function(h,g,_,y){let A;let b=Math.max(Math.min(6,h.depth||1),1),k=_.createTracker(y);if(A=!1,lib_visit(h,function(h){if("value"in h&&/\r?\n|\r/.test(h.value)||"break"===h.type)return A=!0,!1}),(!h.depth||h.depth<3)&&lib_toString(h)&&(_.options.setext||A)){let g=_.enter("headingSetext"),y=_.enter("phrasing"),A=_.containerPhrasing(h,{...k.current(),before:"\n",after:"\n"});return y(),g(),A+"\n"+(1===b?"=":"-").repeat(A.length-(Math.max(A.lastIndexOf("\r"),A.lastIndexOf("\n"))+1))}let w="#".repeat(b),R=_.enter("headingAtx"),B=_.enter("phrasing");k.move(w+" ");let H=_.containerPhrasing(h,{before:"# ",after:"\n",...k.current()});return/^[\t ]/.test(H)&&(H=encodeCharacterReference(H.charCodeAt(0))+H.slice(1)),H=H?w+" "+H:w,_.options.closeAtx&&(H+=" "+w),B(),R(),H},html:html_html,image:image_image,imageReference:imageReference,inlineCode:inlineCode,link:link_link,linkReference:linkReference,list:function(h,g,_,y){let A=_.enter("list"),b=_.bulletCurrent,k=h.ordered?function(h){let g=h.options.bulletOrdered||".";if("."!==g&&")"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.bulletOrdered`, expected `.` or `)`");return g}(_):checkBullet(_),w=h.ordered?"."===k?")":".":function(h){let g=checkBullet(h),_=h.options.bulletOther;if(!_)return"*"===g?"-":"*";if("*"!==_&&"+"!==_&&"-"!==_)throw Error("Cannot serialize items with `"+_+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(_===g)throw Error("Expected `bullet` (`"+g+"`) and `bulletOther` (`"+_+"`) to be different");return _}(_),R=!!g&&!!_.bulletLastUsed&&k===_.bulletLastUsed;if(!h.ordered){let g=h.children?h.children[0]:void 0;if("*"!==k&&"-"!==k||!g||g.children&&g.children[0]||"list"!==_.stack[_.stack.length-1]||"listItem"!==_.stack[_.stack.length-2]||"list"!==_.stack[_.stack.length-3]||"listItem"!==_.stack[_.stack.length-4]||0!==_.indexStack[_.indexStack.length-1]||0!==_.indexStack[_.indexStack.length-2]||0!==_.indexStack[_.indexStack.length-3]||(R=!0),checkRule(_)===k&&g){let g=-1;for(;++g<h.children.length;){let _=h.children[g];if(_&&"listItem"===_.type&&_.children&&_.children[0]&&"thematicBreak"===_.children[0].type){R=!0;break}}}}R&&(k=w),_.bulletCurrent=k;let B=_.containerFlow(h,y);return _.bulletLastUsed=k,_.bulletCurrent=b,A(),B},listItem:function(h,g,_,y){let A=function(h){let g=h.options.listItemIndent||"one";if("tab"!==g&&"one"!==g&&"mixed"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return g}(_),b=_.bulletCurrent||checkBullet(_);g&&"list"===g.type&&g.ordered&&(b=("number"==typeof g.start&&g.start>-1?g.start:1)+(!1===_.options.incrementListMarker?0:g.children.indexOf(h))+b);let k=b.length+1;("tab"===A||"mixed"===A&&(g&&"list"===g.type&&g.spread||h.spread))&&(k=4*Math.ceil(k/4));let w=_.createTracker(y);w.move(b+" ".repeat(k-b.length)),w.shift(k);let R=_.enter("listItem"),B=_.indentLines(_.containerFlow(h,w.current()),function(h,g,_){return g?(_?"":" ".repeat(k))+h:(_?b:b+" ".repeat(k-b.length))+h});return R(),B},paragraph:function(h,g,_,y){let A=_.enter("paragraph"),b=_.enter("phrasing"),k=_.containerPhrasing(h,y);return b(),A(),k},root:function(h,g,_,y){let A=h.children.some(function(h){return iP(h)}),b=A?_.containerPhrasing:_.containerFlow;return b.call(_,h,y)},strong:strong,text:function(h,g,_,y){return _.safe(h.value,y)},thematicBreak:function(h,g,_){let y=(checkRule(_)+(_.options.ruleSpaces?" ":"")).repeat(function(h){let g=h.options.ruleRepetition||3;if(g<3)throw Error("Cannot serialize rules with repetition `"+g+"` for `options.ruleRepetition`, expected `3` or more");return g}(_));return _.options.ruleSpaces?y.slice(0,-1):y}};function enterTable(h){let g=h._align;this.enter({type:"table",align:g.map(function(h){return"none"===h?null:h}),children:[]},h),this.data.inTable=!0}function exitTable(h){this.exit(h),this.data.inTable=void 0}function enterRow(h){this.enter({type:"tableRow",children:[]},h)}function exit(h){this.exit(h)}function enterCell(h){this.enter({type:"tableCell",children:[]},h)}function exitCodeText(h){let g=this.resume();this.data.inTable&&(g=g.replace(/\\([\\|])/g,replace));let _=this.stack[this.stack.length-1];_.type,_.value=g,this.exit(h)}function replace(h,g){return"|"===g?g:h}function exitCheck(h){let g=this.stack[this.stack.length-2];g.type,g.checked="taskListCheckValueChecked"===h.type}function exitParagraphWithTaskListItem(h){let g=this.stack[this.stack.length-2];if(g&&"listItem"===g.type&&"boolean"==typeof g.checked){let h=this.stack[this.stack.length-1];h.type;let _=h.children[0];if(_&&"text"===_.type){let y;let A=g.children,b=-1;for(;++b<A.length;){let h=A[b];if("paragraph"===h.type){y=h;break}}y===h&&(_.value=_.value.slice(1),0===_.value.length?h.children.shift():h.position&&_.position&&"number"==typeof _.position.start.offset&&(_.position.start.column++,_.position.start.offset++,h.position.start=Object.assign({},_.position.start)))}}this.exit(h)}function listItemWithTaskListItem(h,g,_,y){let A=h.children[0],b="boolean"==typeof h.checked&&A&&"paragraph"===A.type,k="["+(h.checked?"x":" ")+"] ",w=_.createTracker(y);b&&w.move(k);let R=iF.listItem(h,g,_,{...y,...w.current()});return b&&(R=R.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(h){return h+k})),R}function splice(h,g,_,y){let A;let b=h.length,k=0;if(g=g<0?-g>b?0:b+g:g>b?b:g,_=_>0?_:0,y.length<1e4)(A=Array.from(y)).unshift(g,_),h.splice(...A);else for(_&&h.splice(g,_);k<y.length;)(A=y.slice(k,k+1e4)).unshift(g,0),h.splice(...A),k+=1e4,g+=1e4}function push(h,g){return h.length>0?(splice(h,h.length,0,g),h):g}let iB={}.hasOwnProperty;function combineExtensions(h){let g={},_=-1;for(;++_<h.length;)!function(h,g){let _;for(_ in g){let y;let A=iB.call(h,_)?h[_]:void 0,b=A||(h[_]={}),k=g[_];if(k)for(y in k){iB.call(b,y)||(b[y]=[]);let h=k[y];!function(h,g){let _=-1,y=[];for(;++_<g.length;)("after"===g[_].add?h:y).push(g[_]);splice(h,0,0,y)}(b[y],Array.isArray(h)?h:h?[h]:[])}}}(g,h[_]);return g}let iU={tokenize:function(h,g,_){let y=0;return function wwwPrefixInside(g){return(87===g||119===g)&&y<3?(y++,h.consume(g),wwwPrefixInside):46===g&&3===y?(h.consume(g),wwwPrefixAfter):_(g)};function wwwPrefixAfter(h){return null===h?_(h):g(h)}},partial:!0},iH={tokenize:function(h,g,_){let y,A,b;return domainInside;function domainInside(g){return 46===g||95===g?h.check(iz,domainAfter,domainAtPunctuation)(g):null===g||markdownLineEndingOrSpace(g)||iO(g)||45!==g&&iw(g)?domainAfter(g):(b=!0,h.consume(g),domainInside)}function domainAtPunctuation(g){return 95===g?y=!0:(A=y,y=void 0),h.consume(g),domainInside}function domainAfter(h){return A||y||!b?_(h):g(h)}},partial:!0},iG={tokenize:function(h,g){let _=0,y=0;return pathInside;function pathInside(A){return 40===A?(_++,h.consume(A),pathInside):41===A&&y<_?pathAtPunctuation(A):33===A||34===A||38===A||39===A||41===A||42===A||44===A||46===A||58===A||59===A||60===A||63===A||93===A||95===A||126===A?h.check(iz,g,pathAtPunctuation)(A):null===A||markdownLineEndingOrSpace(A)||iO(A)?g(A):(h.consume(A),pathInside)}function pathAtPunctuation(g){return 41===g&&y++,h.consume(g),pathInside}},partial:!0},iz={tokenize:function(h,g,_){return trail;function trail(y){return 33===y||34===y||39===y||41===y||42===y||44===y||46===y||58===y||59===y||63===y||95===y||126===y?(h.consume(y),trail):38===y?(h.consume(y),trailCharacterReferenceStart):93===y?(h.consume(y),trailBracketAfter):60===y||null===y||markdownLineEndingOrSpace(y)||iO(y)?g(y):_(y)}function trailBracketAfter(h){return null===h||40===h||91===h||markdownLineEndingOrSpace(h)||iO(h)?g(h):trail(h)}function trailCharacterReferenceStart(g){return ib(g)?function trailCharacterReferenceInside(g){return 59===g?(h.consume(g),trail):ib(g)?(h.consume(g),trailCharacterReferenceInside):_(g)}(g):_(g)}},partial:!0},i$={tokenize:function(h,g,_){return function(g){return h.consume(g),after};function after(h){return ik(h)?_(h):g(h)}},partial:!0},iV={name:"wwwAutolink",tokenize:function(h,g,_){let y=this;return function(g){return 87!==g&&119!==g||!previousWww.call(y,y.previous)||previousUnbalanced(y.events)?_(g):(h.enter("literalAutolink"),h.enter("literalAutolinkWww"),h.check(iU,h.attempt(iH,h.attempt(iG,wwwAfter),_),_)(g))};function wwwAfter(_){return h.exit("literalAutolinkWww"),h.exit("literalAutolink"),g(_)}},previous:previousWww},iQ={name:"protocolAutolink",tokenize:function(h,g,_){let y=this,A="",b=!1;return function(g){return(72===g||104===g)&&previousProtocol.call(y,y.previous)&&!previousUnbalanced(y.events)?(h.enter("literalAutolink"),h.enter("literalAutolinkHttp"),A+=String.fromCodePoint(g),h.consume(g),protocolPrefixInside):_(g)};function protocolPrefixInside(g){if(ib(g)&&A.length<5)return A+=String.fromCodePoint(g),h.consume(g),protocolPrefixInside;if(58===g){let _=A.toLowerCase();if("http"===_||"https"===_)return h.consume(g),protocolSlashesInside}return _(g)}function protocolSlashesInside(g){return 47===g?(h.consume(g),b)?afterProtocol:(b=!0,protocolSlashesInside):_(g)}function afterProtocol(g){return null===g||asciiControl(g)||markdownLineEndingOrSpace(g)||iO(g)||iw(g)?_(g):h.attempt(iH,h.attempt(iG,protocolAfter),_)(g)}function protocolAfter(_){return h.exit("literalAutolinkHttp"),h.exit("literalAutolink"),g(_)}},previous:previousProtocol},ij={name:"emailAutolink",tokenize:function(h,g,_){let y,A;let b=this;return function(g){return!gfmAtext(g)||!previousEmail.call(b,b.previous)||previousUnbalanced(b.events)?_(g):(h.enter("literalAutolink"),h.enter("literalAutolinkEmail"),function atext(g){return gfmAtext(g)?(h.consume(g),atext):64===g?(h.consume(g),emailDomain):_(g)}(g))};function emailDomain(g){return 46===g?h.check(i$,emailDomainAfter,emailDomainDot)(g):45===g||95===g||ik(g)?(A=!0,h.consume(g),emailDomain):emailDomainAfter(g)}function emailDomainDot(g){return h.consume(g),y=!0,emailDomain}function emailDomainAfter(k){return A&&y&&ib(b.previous)?(h.exit("literalAutolinkEmail"),h.exit("literalAutolink"),g(k)):_(k)}},previous:previousEmail},iY={},iq=48;for(;iq<123;)iY[iq]=ij,58==++iq?iq=65:91===iq&&(iq=97);function previousWww(h){return null===h||40===h||42===h||95===h||91===h||93===h||126===h||markdownLineEndingOrSpace(h)}function previousProtocol(h){return!ib(h)}function previousEmail(h){return!(47===h||gfmAtext(h))}function gfmAtext(h){return 43===h||45===h||46===h||95===h||ik(h)}function previousUnbalanced(h){let g=h.length,_=!1;for(;g--;){let y=h[g][1];if(("labelLink"===y.type||"labelImage"===y.type)&&!y._balanced){_=!0;break}if(y._gfmAutolinkLiteralWalkedInto){_=!1;break}}return h.length>0&&!_&&(h[h.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),_}function factorySpace(h,g,_,y){let A=y?y-1:Number.POSITIVE_INFINITY,b=0;return function(y){return markdownSpace(y)?(h.enter(_),function prefix(y){return markdownSpace(y)&&b++<A?(h.consume(y),prefix):(h.exit(_),g(y))}(y)):g(y)}}iY[43]=ij,iY[45]=ij,iY[46]=ij,iY[95]=ij,iY[72]=[ij,iQ],iY[104]=[ij,iQ],iY[87]=[ij,iV],iY[119]=[ij,iV];let iW={partial:!0,tokenize:function(h,g,_){return function(g){return markdownSpace(g)?factorySpace(h,after,"linePrefix")(g):after(g)};function after(h){return null===h||markdownLineEnding(h)?g(h):_(h)}}},iX={tokenize:function(h,g,_){let y=this;return factorySpace(h,function(h){let A=y.events[y.events.length-1];return A&&"gfmFootnoteDefinitionIndent"===A[1].type&&4===A[2].sliceSerialize(A[1],!0).length?g(h):_(h)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function tokenizePotentialGfmFootnoteCall(h,g,_){let y;let A=this,b=A.events.length,k=A.parser.gfmFootnotes||(A.parser.gfmFootnotes=[]);for(;b--;){let h=A.events[b][1];if("labelImage"===h.type){y=h;break}if("gfmFootnoteCall"===h.type||"labelLink"===h.type||"label"===h.type||"image"===h.type||"link"===h.type)break}return function(b){if(!y||!y._balanced)return _(b);let w=normalizeIdentifier(A.sliceSerialize({start:y.end,end:A.now()}));return 94===w.codePointAt(0)&&k.includes(w.slice(1))?(h.enter("gfmFootnoteCallLabelMarker"),h.consume(b),h.exit("gfmFootnoteCallLabelMarker"),g(b)):_(b)}}function resolveToPotentialGfmFootnoteCall(h,g){let _=h.length;for(;_--;)if("labelImage"===h[_][1].type&&"enter"===h[_][0]){h[_][1];break}h[_+1][1].type="data",h[_+3][1].type="gfmFootnoteCallLabelMarker";let y={type:"gfmFootnoteCall",start:Object.assign({},h[_+3][1].start),end:Object.assign({},h[h.length-1][1].end)},A={type:"gfmFootnoteCallMarker",start:Object.assign({},h[_+3][1].end),end:Object.assign({},h[_+3][1].end)};A.end.column++,A.end.offset++,A.end._bufferIndex++;let b={type:"gfmFootnoteCallString",start:Object.assign({},A.end),end:Object.assign({},h[h.length-1][1].start)},k={type:"chunkString",contentType:"string",start:Object.assign({},b.start),end:Object.assign({},b.end)},w=[h[_+1],h[_+2],["enter",y,g],h[_+3],h[_+4],["enter",A,g],["exit",A,g],["enter",b,g],["enter",k,g],["exit",k,g],["exit",b,g],h[h.length-2],h[h.length-1],["exit",y,g]];return h.splice(_,h.length-_+1,...w),h}function tokenizeGfmFootnoteCall(h,g,_){let y;let A=this,b=A.parser.gfmFootnotes||(A.parser.gfmFootnotes=[]),k=0;return function(g){return h.enter("gfmFootnoteCall"),h.enter("gfmFootnoteCallLabelMarker"),h.consume(g),h.exit("gfmFootnoteCallLabelMarker"),callStart};function callStart(g){return 94!==g?_(g):(h.enter("gfmFootnoteCallMarker"),h.consume(g),h.exit("gfmFootnoteCallMarker"),h.enter("gfmFootnoteCallString"),h.enter("chunkString").contentType="string",callData)}function callData(w){if(k>999||93===w&&!y||null===w||91===w||markdownLineEndingOrSpace(w))return _(w);if(93===w){h.exit("chunkString");let y=h.exit("gfmFootnoteCallString");return b.includes(normalizeIdentifier(A.sliceSerialize(y)))?(h.enter("gfmFootnoteCallLabelMarker"),h.consume(w),h.exit("gfmFootnoteCallLabelMarker"),h.exit("gfmFootnoteCall"),g):_(w)}return markdownLineEndingOrSpace(w)||(y=!0),k++,h.consume(w),92===w?callEscape:callData}function callEscape(g){return 91===g||92===g||93===g?(h.consume(g),k++,callData):callData(g)}}function tokenizeDefinitionStart(h,g,_){let y,A;let b=this,k=b.parser.gfmFootnotes||(b.parser.gfmFootnotes=[]),w=0;return function(g){return h.enter("gfmFootnoteDefinition")._container=!0,h.enter("gfmFootnoteDefinitionLabel"),h.enter("gfmFootnoteDefinitionLabelMarker"),h.consume(g),h.exit("gfmFootnoteDefinitionLabelMarker"),labelAtMarker};function labelAtMarker(g){return 94===g?(h.enter("gfmFootnoteDefinitionMarker"),h.consume(g),h.exit("gfmFootnoteDefinitionMarker"),h.enter("gfmFootnoteDefinitionLabelString"),h.enter("chunkString").contentType="string",labelInside):_(g)}function labelInside(g){if(w>999||93===g&&!A||null===g||91===g||markdownLineEndingOrSpace(g))return _(g);if(93===g){h.exit("chunkString");let _=h.exit("gfmFootnoteDefinitionLabelString");return y=normalizeIdentifier(b.sliceSerialize(_)),h.enter("gfmFootnoteDefinitionLabelMarker"),h.consume(g),h.exit("gfmFootnoteDefinitionLabelMarker"),h.exit("gfmFootnoteDefinitionLabel"),labelAfter}return markdownLineEndingOrSpace(g)||(A=!0),w++,h.consume(g),92===g?labelEscape:labelInside}function labelEscape(g){return 91===g||92===g||93===g?(h.consume(g),w++,labelInside):labelInside(g)}function labelAfter(g){return 58===g?(h.enter("definitionMarker"),h.consume(g),h.exit("definitionMarker"),k.includes(y)||k.push(y),factorySpace(h,whitespaceAfter,"gfmFootnoteDefinitionWhitespace")):_(g)}function whitespaceAfter(h){return g(h)}}function tokenizeDefinitionContinuation(h,g,_){return h.check(iW,g,h.attempt(iX,g,_))}function gfmFootnoteDefinitionEnd(h){h.exit("gfmFootnoteDefinition")}function resolveAll(h,g,_){let y=[],A=-1;for(;++A<h.length;){let b=h[A].resolveAll;b&&!y.includes(b)&&(g=b(g,_),y.push(b))}return g}let EditMap=class EditMap{constructor(){this.map=[]}add(h,g,_){!function(h,g,_,y){let A=0;if(0!==_||0!==y.length){for(;A<h.map.length;){if(h.map[A][0]===g){h.map[A][1]+=_,h.map[A][2].push(...y);return}A+=1}h.map.push([g,_,y])}}(this,h,g,_)}consume(h){if(this.map.sort(function(h,g){return h[0]-g[0]}),0===this.map.length)return;let g=this.map.length,_=[];for(;g>0;)g-=1,_.push(h.slice(this.map[g][0]+this.map[g][1]),this.map[g][2]),h.length=this.map[g][0];_.push([...h]),h.length=0;let y=_.pop();for(;y;)h.push(...y),y=_.pop();this.map.length=0}};function tokenizeTable(h,g,_){let y;let A=this,b=0,k=0;return function(h){let g=A.events.length-1;for(;g>-1;){let h=A.events[g][1].type;if("lineEnding"===h||"linePrefix"===h)g--;else break}let y=g>-1?A.events[g][1].type:null,b="tableHead"===y||"tableRow"===y?bodyRowStart:headRowBefore;return b===bodyRowStart&&A.parser.lazy[A.now().line]?_(h):b(h)};function headRowBefore(g){return h.enter("tableHead"),h.enter("tableRow"),124===g||(y=!0,k+=1),headRowBreak(g)}function headRowBreak(g){return null===g?_(g):markdownLineEnding(g)?k>1?(k=0,A.interrupt=!0,h.exit("tableRow"),h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),headDelimiterStart):_(g):markdownSpace(g)?factorySpace(h,headRowBreak,"whitespace")(g):(k+=1,y&&(y=!1,b+=1),124===g)?(h.enter("tableCellDivider"),h.consume(g),h.exit("tableCellDivider"),y=!0,headRowBreak):(h.enter("data"),headRowData(g))}function headRowData(g){return null===g||124===g||markdownLineEndingOrSpace(g)?(h.exit("data"),headRowBreak(g)):(h.consume(g),92===g?headRowEscape:headRowData)}function headRowEscape(g){return 92===g||124===g?(h.consume(g),headRowData):headRowData(g)}function headDelimiterStart(g){return(A.interrupt=!1,A.parser.lazy[A.now().line])?_(g):(h.enter("tableDelimiterRow"),y=!1,markdownSpace(g))?factorySpace(h,headDelimiterBefore,"linePrefix",A.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):headDelimiterBefore(g)}function headDelimiterBefore(g){return 45===g||58===g?headDelimiterValueBefore(g):124===g?(y=!0,h.enter("tableCellDivider"),h.consume(g),h.exit("tableCellDivider"),headDelimiterCellBefore):_(g)}function headDelimiterCellBefore(g){return markdownSpace(g)?factorySpace(h,headDelimiterValueBefore,"whitespace")(g):headDelimiterValueBefore(g)}function headDelimiterValueBefore(g){return 58===g?(k+=1,y=!0,h.enter("tableDelimiterMarker"),h.consume(g),h.exit("tableDelimiterMarker"),headDelimiterLeftAlignmentAfter):45===g?(k+=1,headDelimiterLeftAlignmentAfter(g)):null===g||markdownLineEnding(g)?headDelimiterCellAfter(g):_(g)}function headDelimiterLeftAlignmentAfter(g){return 45===g?(h.enter("tableDelimiterFiller"),function headDelimiterFiller(g){return 45===g?(h.consume(g),headDelimiterFiller):58===g?(y=!0,h.exit("tableDelimiterFiller"),h.enter("tableDelimiterMarker"),h.consume(g),h.exit("tableDelimiterMarker"),headDelimiterRightAlignmentAfter):(h.exit("tableDelimiterFiller"),headDelimiterRightAlignmentAfter(g))}(g)):_(g)}function headDelimiterRightAlignmentAfter(g){return markdownSpace(g)?factorySpace(h,headDelimiterCellAfter,"whitespace")(g):headDelimiterCellAfter(g)}function headDelimiterCellAfter(A){return 124===A?headDelimiterBefore(A):null===A||markdownLineEnding(A)?y&&b===k?(h.exit("tableDelimiterRow"),h.exit("tableHead"),g(A)):_(A):_(A)}function bodyRowStart(g){return h.enter("tableRow"),bodyRowBreak(g)}function bodyRowBreak(_){return 124===_?(h.enter("tableCellDivider"),h.consume(_),h.exit("tableCellDivider"),bodyRowBreak):null===_||markdownLineEnding(_)?(h.exit("tableRow"),g(_)):markdownSpace(_)?factorySpace(h,bodyRowBreak,"whitespace")(_):(h.enter("data"),bodyRowData(_))}function bodyRowData(g){return null===g||124===g||markdownLineEndingOrSpace(g)?(h.exit("data"),bodyRowBreak(g)):(h.consume(g),92===g?bodyRowEscape:bodyRowData)}function bodyRowEscape(g){return 92===g||124===g?(h.consume(g),bodyRowData):bodyRowData(g)}}function resolveTable(h,g){let _,y,A,b=-1,k=!0,w=0,R=[0,0,0,0],B=[0,0,0,0],H=!1,z=0,$=new EditMap;for(;++b<h.length;){let j=h[b],q=j[1];"enter"===j[0]?"tableHead"===q.type?(H=!1,0!==z&&(flushTableEnd($,g,z,_,y),y=void 0,z=0),_={type:"table",start:Object.assign({},q.start),end:Object.assign({},q.end)},$.add(b,0,[["enter",_,g]])):"tableRow"===q.type||"tableDelimiterRow"===q.type?(k=!0,A=void 0,R=[0,0,0,0],B=[0,b+1,0,0],H&&(H=!1,y={type:"tableBody",start:Object.assign({},q.start),end:Object.assign({},q.end)},$.add(b,0,[["enter",y,g]])),w="tableDelimiterRow"===q.type?2:y?3:1):w&&("data"===q.type||"tableDelimiterMarker"===q.type||"tableDelimiterFiller"===q.type)?(k=!1,0===B[2]&&(0!==R[1]&&(B[0]=B[1],A=flushCell($,g,R,w,void 0,A),R=[0,0,0,0]),B[2]=b)):"tableCellDivider"===q.type&&(k?k=!1:(0!==R[1]&&(B[0]=B[1],A=flushCell($,g,R,w,void 0,A)),B=[(R=B)[1],b,0,0])):"tableHead"===q.type?(H=!0,z=b):"tableRow"===q.type||"tableDelimiterRow"===q.type?(z=b,0!==R[1]?(B[0]=B[1],A=flushCell($,g,R,w,b,A)):0!==B[1]&&(A=flushCell($,g,B,w,b,A)),w=0):w&&("data"===q.type||"tableDelimiterMarker"===q.type||"tableDelimiterFiller"===q.type)&&(B[3]=b)}for(0!==z&&flushTableEnd($,g,z,_,y),$.consume(g.events),b=-1;++b<g.events.length;){let h=g.events[b];"enter"===h[0]&&"table"===h[1].type&&(h[1]._align=function(h,g){let _=!1,y=[];for(;g<h.length;){let A=h[g];if(_){if("enter"===A[0])"tableContent"===A[1].type&&y.push("tableDelimiterMarker"===h[g+1][1].type?"left":"none");else if("tableContent"===A[1].type){if("tableDelimiterMarker"===h[g-1][1].type){let h=y.length-1;y[h]="left"===y[h]?"center":"right"}}else if("tableDelimiterRow"===A[1].type)break}else"enter"===A[0]&&"tableDelimiterRow"===A[1].type&&(_=!0);g+=1}return y}(g.events,b))}return h}function flushCell(h,g,_,y,A,b){0!==_[0]&&(b.end=Object.assign({},getPoint(g.events,_[0])),h.add(_[0],0,[["exit",b,g]]));let k=getPoint(g.events,_[1]);if(b={type:1===y?"tableHeader":2===y?"tableDelimiter":"tableData",start:Object.assign({},k),end:Object.assign({},k)},h.add(_[1],0,[["enter",b,g]]),0!==_[2]){let A=getPoint(g.events,_[2]),b=getPoint(g.events,_[3]),k={type:"tableContent",start:Object.assign({},A),end:Object.assign({},b)};if(h.add(_[2],0,[["enter",k,g]]),2!==y){let y=g.events[_[2]],A=g.events[_[3]];if(y[1].end=Object.assign({},A[1].end),y[1].type="chunkText",y[1].contentType="text",_[3]>_[2]+1){let g=_[2]+1,y=_[3]-_[2]-1;h.add(g,y,[])}}h.add(_[3]+1,0,[["exit",k,g]])}return void 0!==A&&(b.end=Object.assign({},getPoint(g.events,A)),h.add(A,0,[["exit",b,g]]),b=void 0),b}function flushTableEnd(h,g,_,y,A){let b=[],k=getPoint(g.events,_);A&&(A.end=Object.assign({},k),b.push(["exit",A,g])),y.end=Object.assign({},k),b.push(["exit",y,g]),h.add(_+1,0,b)}function getPoint(h,g){let _=h[g],y="enter"===_[0]?"start":"end";return _[1][y]}let iK={name:"tasklistCheck",tokenize:function(h,g,_){let y=this;return function(g){return null===y.previous&&y._gfmTasklistFirstContentOfListItem?(h.enter("taskListCheck"),h.enter("taskListCheckMarker"),h.consume(g),h.exit("taskListCheckMarker"),inside):_(g)};function inside(g){return markdownLineEndingOrSpace(g)?(h.enter("taskListCheckValueUnchecked"),h.consume(g),h.exit("taskListCheckValueUnchecked"),close):88===g||120===g?(h.enter("taskListCheckValueChecked"),h.consume(g),h.exit("taskListCheckValueChecked"),close):_(g)}function close(g){return 93===g?(h.enter("taskListCheckMarker"),h.consume(g),h.exit("taskListCheckMarker"),h.exit("taskListCheck"),after):_(g)}function after(y){return markdownLineEnding(y)?g(y):markdownSpace(y)?h.check({tokenize:spaceThenNonSpace},g,_)(y):_(y)}}};function spaceThenNonSpace(h,g,_){return factorySpace(h,function(h){return null===h?_(h):g(h)},"whitespace")}let iJ={};function remarkGfm(h){let g=h||iJ,_=this.data(),y=_.micromarkExtensions||(_.micromarkExtensions=[]),A=_.fromMarkdownExtensions||(_.fromMarkdownExtensions=[]),b=_.toMarkdownExtensions||(_.toMarkdownExtensions=[]);y.push(combineExtensions([{text:iY},{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}},function(h){let g=(h||{}).singleTilde,_={name:"strikethrough",tokenize:function(h,_,y){let A=this.previous,b=this.events,k=0;return function(w){return 126===A&&"characterEscape"!==b[b.length-1][1].type?y(w):(h.enter("strikethroughSequenceTemporary"),function more(b){let w=classifyCharacter(A);if(126===b)return k>1?y(b):(h.consume(b),k++,more);if(k<2&&!g)return y(b);let R=h.exit("strikethroughSequenceTemporary"),B=classifyCharacter(b);return R._open=!B||2===B&&!!w,R._close=!w||2===w&&!!B,_(b)}(w))}},resolveAll:function(h,g){let _=-1;for(;++_<h.length;)if("enter"===h[_][0]&&"strikethroughSequenceTemporary"===h[_][1].type&&h[_][1]._close){let y=_;for(;y--;)if("exit"===h[y][0]&&"strikethroughSequenceTemporary"===h[y][1].type&&h[y][1]._open&&h[_][1].end.offset-h[_][1].start.offset==h[y][1].end.offset-h[y][1].start.offset){h[_][1].type="strikethroughSequence",h[y][1].type="strikethroughSequence";let A={type:"strikethrough",start:Object.assign({},h[y][1].start),end:Object.assign({},h[_][1].end)},b={type:"strikethroughText",start:Object.assign({},h[y][1].end),end:Object.assign({},h[_][1].start)},k=[["enter",A,g],["enter",h[y][1],g],["exit",h[y][1],g],["enter",b,g]],w=g.parser.constructs.insideSpan.null;w&&splice(k,k.length,0,resolveAll(w,h.slice(y+1,_),g)),splice(k,k.length,0,[["exit",b,g],["enter",h[_][1],g],["exit",h[_][1],g],["exit",A,g]]),splice(h,y-1,_-y+3,k),_=y+k.length-2;break}}for(_=-1;++_<h.length;)"strikethroughSequenceTemporary"===h[_][1].type&&(h[_][1].type="data");return h}};return null==g&&(g=!0),{text:{126:_},insideSpan:{null:[_]},attentionMarkers:{null:[126]}}}(g),{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}},{text:{91:iK}}])),A.push([{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}},{enter:{gfmFootnoteDefinition:enterFootnoteDefinition,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteCallString:enterFootnoteCallString},exit:{gfmFootnoteDefinition:exitFootnoteDefinition,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteCallString:exitFootnoteCallString}},{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}},{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}},{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}]),b.push({extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:iR,notInConstruct:iD},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:iR,notInConstruct:iD},{character:":",before:"[ps]",after:"\\/",inConstruct:iR,notInConstruct:iD}]},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition,footnoteReference}},{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:iL}],handlers:{delete:handleDelete}},function(h){let g=h||{},_=g.tableCellPadding,y=g.tablePipeAlign,A=g.stringLength,b=_?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(h,g,_){let y=iF.inlineCode(h,g,_);return _.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y},table:function(h,g,_,y){return serializeData(function(h,g,_){let y=h.children,A=-1,b=[],k=g.enter("table");for(;++A<y.length;)b[A]=handleTableRowAsData(y[A],g,_);return k(),b}(h,_,y),h.align)},tableCell:handleTableCell,tableRow:function(h,g,_,y){let A=handleTableRowAsData(h,_,y),b=serializeData([A]);return b.slice(0,b.indexOf("\n"))}}};function handleTableCell(h,g,_,y){let A=_.enter("tableCell"),k=_.enter("phrasing"),w=_.containerPhrasing(h,{...y,before:b,after:b});return k(),A(),w}function serializeData(h,g){return function(h,g={}){let _=(g.align||[]).concat(),y=g.stringLength||defaultStringLength,A=[],b=[],k=[],w=[],R=0,B=-1;for(;++B<h.length;){let _=[],A=[],z=-1;for(h[B].length>R&&(R=h[B].length);++z<h[B].length;){var H;let b=null==(H=h[B][z])?"":String(H);if(!1!==g.alignDelimiters){let h=y(b);A[z]=h,(void 0===w[z]||h>w[z])&&(w[z]=h)}_.push(b)}b[B]=_,k[B]=A}let z=-1;if("object"==typeof _&&"length"in _)for(;++z<R;)A[z]=toAlignment(_[z]);else{let h=toAlignment(_);for(;++z<R;)A[z]=h}z=-1;let $=[],j=[];for(;++z<R;){let h=A[z],_="",y="";99===h?(_=":",y=":"):108===h?_=":":114===h&&(y=":");let b=!1===g.alignDelimiters?1:Math.max(1,w[z]-_.length-y.length),k=_+"-".repeat(b)+y;!1!==g.alignDelimiters&&((b=_.length+b+y.length)>w[z]&&(w[z]=b),j[z]=b),$[z]=k}b.splice(1,0,$),k.splice(1,0,j),B=-1;let q=[];for(;++B<b.length;){let h=b[B],_=k[B];z=-1;let y=[];for(;++z<R;){let b=h[z]||"",k="",B="";if(!1!==g.alignDelimiters){let h=w[z]-(_[z]||0),g=A[z];114===g?k=" ".repeat(h):99===g?h%2?(k=" ".repeat(h/2+.5),B=" ".repeat(h/2-.5)):B=k=" ".repeat(h/2):B=" ".repeat(h)}!1===g.delimiterStart||z||y.push("|"),!1!==g.padding&&!(!1===g.alignDelimiters&&""===b)&&(!1!==g.delimiterStart||z)&&y.push(" "),!1!==g.alignDelimiters&&y.push(k),y.push(b),!1!==g.alignDelimiters&&y.push(B),!1!==g.padding&&y.push(" "),(!1!==g.delimiterEnd||z!==R-1)&&y.push("|")}q.push(!1===g.delimiterEnd?y.join("").replace(/ +$/,""):y.join(""))}return q.join("\n")}(h,{align:g,alignDelimiters:y,padding:_,stringLength:A})}function handleTableRowAsData(h,g,_){let y=h.children,A=-1,b=[],k=g.enter("tableRow");for(;++A<y.length;)b[A]=handleTableCell(y[A],h,g,_);return k(),b}}(g),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}]})}let SpliceBuffer=class SpliceBuffer{constructor(h){this.left=h?[...h]:[],this.right=[]}get(h){if(h<0||h>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+h+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return h<this.left.length?this.left[h]:this.right[this.right.length-h+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(h,g){let _=null==g?Number.POSITIVE_INFINITY:g;return _<this.left.length?this.left.slice(h,_):h>this.left.length?this.right.slice(this.right.length-_+this.left.length,this.right.length-h+this.left.length).reverse():this.left.slice(h).concat(this.right.slice(this.right.length-_+this.left.length).reverse())}splice(h,g,_){let y=g||0;this.setCursor(Math.trunc(h));let A=this.right.splice(this.right.length-y,Number.POSITIVE_INFINITY);return _&&chunkedPush(this.left,_),A.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(h){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(h)}pushMany(h){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,h)}unshift(h){this.setCursor(0),this.right.push(h)}unshiftMany(h){this.setCursor(0),chunkedPush(this.right,h.reverse())}setCursor(h){if(h!==this.left.length&&(!(h>this.left.length)||0!==this.right.length)&&(!(h<0)||0!==this.left.length)){if(h<this.left.length){let g=this.left.splice(h,Number.POSITIVE_INFINITY);chunkedPush(this.right,g.reverse())}else{let g=this.right.splice(this.left.length+this.right.length-h,Number.POSITIVE_INFINITY);chunkedPush(this.left,g.reverse())}}}};function chunkedPush(h,g){let _=0;if(g.length<1e4)h.push(...g);else for(;_<g.length;)h.push(...g.slice(_,_+1e4)),_+=1e4}function subtokenize(h){let g,_,y,A,b,k,w;let R={},B=-1,H=new SpliceBuffer(h);for(;++B<H.length;){for(;(B in R);)B=R[B];if(g=H.get(B),B&&"chunkFlow"===g[1].type&&"listItemPrefix"===H.get(B-1)[1].type&&((y=0)<(k=g[1]._tokenizer.events).length&&"lineEndingBlank"===k[y][1].type&&(y+=2),y<k.length&&"content"===k[y][1].type))for(;++y<k.length&&"content"!==k[y][1].type;)"chunkText"===k[y][1].type&&(k[y][1]._isInFirstContentOfListItem=!0,y++);if("enter"===g[0])g[1].contentType&&(Object.assign(R,function(h,g){let _,y;let A=h.get(g)[1],b=h.get(g)[2],k=g-1,w=[],R=A._tokenizer||b.parser[A.contentType](A.start),B=R.events,H=[],z={},$=-1,j=A,q=0,W=0,K=[W];for(;j;){for(;h.get(++k)[1]!==j;);w.push(k),!j._tokenizer&&(_=b.sliceStream(j),j.next||_.push(null),y&&R.defineSkip(j.start),j._isInFirstContentOfListItem&&(R._gfmTasklistFirstContentOfListItem=!0),R.write(_),j._isInFirstContentOfListItem&&(R._gfmTasklistFirstContentOfListItem=void 0)),y=j,j=j.next}for(j=A;++$<B.length;)"exit"===B[$][0]&&"enter"===B[$-1][0]&&B[$][1].type===B[$-1][1].type&&B[$][1].start.line!==B[$][1].end.line&&(W=$+1,K.push(W),j._tokenizer=void 0,j.previous=void 0,j=j.next);for(R.events=[],j?(j._tokenizer=void 0,j.previous=void 0):K.pop(),$=K.length;$--;){let g=B.slice(K[$],K[$+1]),_=w.pop();H.push([_,_+g.length-1]),h.splice(_,2,g)}for(H.reverse(),$=-1;++$<H.length;)z[q+H[$][0]]=q+H[$][1],q+=H[$][1]-H[$][0]-1;return z}(H,B)),B=R[B],w=!0);else if(g[1]._container){for(y=B,_=void 0;y--;)if("lineEnding"===(A=H.get(y))[1].type||"lineEndingBlank"===A[1].type)"enter"===A[0]&&(_&&(H.get(_)[1].type="lineEndingBlank"),A[1].type="lineEnding",_=y);else break;_&&(g[1].end={...H.get(_)[1].start},(b=H.slice(_,B)).unshift(g),H.splice(_,B-_+1,b))}}return splice(h,0,Number.POSITIVE_INFINITY,H.slice(0)),!w}let iZ={tokenize:function(h){let g;let _=h.attempt(this.parser.constructs.contentInitial,function(g){if(null===g){h.consume(g);return}return h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),factorySpace(h,_,"linePrefix")},function(_){return h.enter("paragraph"),function lineStart(_){let y=h.enter("chunkText",{contentType:"text",previous:g});return g&&(g.next=y),g=y,function data(g){if(null===g){h.exit("chunkText"),h.exit("paragraph"),h.consume(g);return}return markdownLineEnding(g)?(h.consume(g),h.exit("chunkText"),lineStart):(h.consume(g),data)}(_)}(_)});return _}},i0={tokenize:function(h){let g,_,y;let A=this,b=[],k=0;return start;function start(g){if(k<b.length){let _=b[k];return A.containerState=_[1],h.attempt(_[0].continuation,documentContinue,checkNewContainers)(g)}return checkNewContainers(g)}function documentContinue(h){if(k++,A.containerState._closeFlow){let _;A.containerState._closeFlow=void 0,g&&closeFlow();let y=A.events.length,b=y;for(;b--;)if("exit"===A.events[b][0]&&"chunkFlow"===A.events[b][1].type){_=A.events[b][1].end;break}exitContainers(k);let w=y;for(;w<A.events.length;)A.events[w][1].end={..._},w++;return splice(A.events,b+1,0,A.events.slice(y)),A.events.length=w,checkNewContainers(h)}return start(h)}function checkNewContainers(_){if(k===b.length){if(!g)return documentContinued(_);if(g.currentConstruct&&g.currentConstruct.concrete)return flowStart(_);A.interrupt=!!(g.currentConstruct&&!g._gfmTableDynamicInterruptHack)}return A.containerState={},h.check(i1,thereIsANewContainer,thereIsNoNewContainer)(_)}function thereIsANewContainer(h){return g&&closeFlow(),exitContainers(k),documentContinued(h)}function thereIsNoNewContainer(h){return A.parser.lazy[A.now().line]=k!==b.length,y=A.now().offset,flowStart(h)}function documentContinued(g){return A.containerState={},h.attempt(i1,containerContinue,flowStart)(g)}function containerContinue(h){return k++,b.push([A.currentConstruct,A.containerState]),documentContinued(h)}function flowStart(y){if(null===y){g&&closeFlow(),exitContainers(0),h.consume(y);return}return g=g||A.parser.flow(A.now()),h.enter("chunkFlow",{_tokenizer:g,contentType:"flow",previous:_}),function flowContinue(g){if(null===g){writeToChild(h.exit("chunkFlow"),!0),exitContainers(0),h.consume(g);return}return markdownLineEnding(g)?(h.consume(g),writeToChild(h.exit("chunkFlow")),k=0,A.interrupt=void 0,start):(h.consume(g),flowContinue)}(y)}function writeToChild(h,b){let w=A.sliceStream(h);if(b&&w.push(null),h.previous=_,_&&(_.next=h),_=h,g.defineSkip(h.start),g.write(w),A.parser.lazy[h.start.line]){let h,_,b=g.events.length;for(;b--;)if(g.events[b][1].start.offset<y&&(!g.events[b][1].end||g.events[b][1].end.offset>y))return;let w=A.events.length,R=w;for(;R--;)if("exit"===A.events[R][0]&&"chunkFlow"===A.events[R][1].type){if(h){_=A.events[R][1].end;break}h=!0}for(exitContainers(k),b=w;b<A.events.length;)A.events[b][1].end={..._},b++;splice(A.events,R+1,0,A.events.slice(w)),A.events.length=b}}function exitContainers(g){let _=b.length;for(;_-- >g;){let g=b[_];A.containerState=g[1],g[0].exit.call(A,h)}b.length=g}function closeFlow(){g.write([null]),_=void 0,g=void 0,A.containerState._closeFlow=void 0}}},i1={tokenize:function(h,g,_){return factorySpace(h,h.attempt(this.parser.constructs.document,g,_),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},i2={resolve:function(h){return subtokenize(h),h},tokenize:function(h,g){let _;return function(g){return h.enter("content"),_=h.enter("chunkContent",{contentType:"content"}),chunkInside(g)};function chunkInside(g){return null===g?contentEnd(g):markdownLineEnding(g)?h.check(i3,contentContinue,contentEnd)(g):(h.consume(g),chunkInside)}function contentEnd(_){return h.exit("chunkContent"),h.exit("content"),g(_)}function contentContinue(g){return h.consume(g),h.exit("chunkContent"),_.next=h.enter("chunkContent",{contentType:"content",previous:_}),_=_.next,chunkInside}}},i3={partial:!0,tokenize:function(h,g,_){let y=this;return function(g){return h.exit("chunkContent"),h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),factorySpace(h,prefixed,"linePrefix")};function prefixed(A){if(null===A||markdownLineEnding(A))return _(A);let b=y.events[y.events.length-1];return!y.parser.constructs.disable.null.includes("codeIndented")&&b&&"linePrefix"===b[1].type&&b[2].sliceSerialize(b[1],!0).length>=4?g(A):h.interrupt(y.parser.constructs.flow,_,g)(A)}}},i4={tokenize:function(h){let g=this,_=h.attempt(iW,function(y){if(null===y){h.consume(y);return}return h.enter("lineEndingBlank"),h.consume(y),h.exit("lineEndingBlank"),g.currentConstruct=void 0,_},h.attempt(this.parser.constructs.flowInitial,afterConstruct,factorySpace(h,h.attempt(this.parser.constructs.flow,afterConstruct,h.attempt(i2,afterConstruct)),"linePrefix")));return _;function afterConstruct(y){if(null===y){h.consume(y);return}return h.enter("lineEnding"),h.consume(y),h.exit("lineEnding"),g.currentConstruct=void 0,_}}},i5={resolveAll:createResolver()},i6=initializeFactory("string"),i8=initializeFactory("text");function initializeFactory(h){return{resolveAll:createResolver("text"===h?resolveAllLineSuffixes:void 0),tokenize:function(g){let _=this,y=this.parser.constructs[h],A=g.attempt(y,start,notText);return start;function start(h){return atBreak(h)?A(h):notText(h)}function notText(h){if(null===h){g.consume(h);return}return g.enter("data"),g.consume(h),data}function data(h){return atBreak(h)?(g.exit("data"),A(h)):(g.consume(h),data)}function atBreak(h){if(null===h)return!0;let g=y[h],A=-1;if(g)for(;++A<g.length;){let h=g[A];if(!h.previous||h.previous.call(_,_.previous))return!0}return!1}}}}function createResolver(h){return function(g,_){let y,A=-1;for(;++A<=g.length;)void 0===y?g[A]&&"data"===g[A][1].type&&(y=A,A++):g[A]&&"data"===g[A][1].type||(A!==y+2&&(g[y][1].end=g[A-1][1].end,g.splice(y+2,A-y-2),A=y+2),y=void 0);return h?h(g,_):g}}function resolveAllLineSuffixes(h,g){let _=0;for(;++_<=h.length;)if((_===h.length||"lineEnding"===h[_][1].type)&&"data"===h[_-1][1].type){let y;let A=h[_-1][1],b=g.sliceStream(A),k=b.length,w=-1,R=0;for(;k--;){let h=b[k];if("string"==typeof h){for(w=h.length;32===h.charCodeAt(w-1);)R++,w--;if(w)break;w=-1}else if(-2===h)y=!0,R++;else if(-1===h);else{k++;break}}if(R){let b={type:_===h.length||y||R<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:k?w:A.start._bufferIndex+w,_index:A.start._index+k,line:A.end.line,column:A.end.column-R,offset:A.end.offset-R},end:{...A.end}};A.end={...b.start},A.start.offset===A.end.offset?Object.assign(A,b):(h.splice(_,0,["enter",b,g],["exit",b,g]),_+=2)}_++}return h}let i9={name:"thematicBreak",tokenize:function(h,g,_){let y,A=0;return function(b){return h.enter("thematicBreak"),y=b,function atBreak(b){return b===y?(h.enter("thematicBreakSequence"),function sequence(g){return g===y?(h.consume(g),A++,sequence):(h.exit("thematicBreakSequence"),markdownSpace(g)?factorySpace(h,atBreak,"whitespace")(g):atBreak(g))}(b)):A>=3&&(null===b||markdownLineEnding(b))?(h.exit("thematicBreak"),g(b)):_(b)}(b)}}},i7={continuation:{tokenize:function(h,g,_){let y=this;return y.containerState._closeFlow=void 0,h.check(iW,function(_){return y.containerState.furtherBlankLines=y.containerState.furtherBlankLines||y.containerState.initialBlankLine,factorySpace(h,g,"listItemIndent",y.containerState.size+1)(_)},function(_){return y.containerState.furtherBlankLines||!markdownSpace(_)?(y.containerState.furtherBlankLines=void 0,y.containerState.initialBlankLine=void 0,notInCurrentItem(_)):(y.containerState.furtherBlankLines=void 0,y.containerState.initialBlankLine=void 0,h.attempt(at,g,notInCurrentItem)(_))});function notInCurrentItem(A){return y.containerState._closeFlow=!0,y.interrupt=void 0,factorySpace(h,h.attempt(i7,g,_),"linePrefix",y.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A)}}},exit:function(h){h.exit(this.containerState.type)},name:"list",tokenize:function(h,g,_){let y=this,A=y.events[y.events.length-1],b=A&&"linePrefix"===A[1].type?A[2].sliceSerialize(A[1],!0).length:0,k=0;return function(g){let A=y.containerState.type||(42===g||43===g||45===g?"listUnordered":"listOrdered");if("listUnordered"===A?!y.containerState.marker||g===y.containerState.marker:iC(g)){if(y.containerState.type||(y.containerState.type=A,h.enter(A,{_container:!0})),"listUnordered"===A)return h.enter("listItemPrefix"),42===g||45===g?h.check(i9,_,atMarker)(g):atMarker(g);if(!y.interrupt||49===g)return h.enter("listItemPrefix"),h.enter("listItemValue"),function inside(g){return iC(g)&&++k<10?(h.consume(g),inside):(!y.interrupt||k<2)&&(y.containerState.marker?g===y.containerState.marker:41===g||46===g)?(h.exit("listItemValue"),atMarker(g)):_(g)}(g)}return _(g)};function atMarker(g){return h.enter("listItemMarker"),h.consume(g),h.exit("listItemMarker"),y.containerState.marker=y.containerState.marker||g,h.check(iW,y.interrupt?_:onBlank,h.attempt(ae,endOfPrefix,otherPrefix))}function onBlank(h){return y.containerState.initialBlankLine=!0,b++,endOfPrefix(h)}function otherPrefix(g){return markdownSpace(g)?(h.enter("listItemPrefixWhitespace"),h.consume(g),h.exit("listItemPrefixWhitespace"),endOfPrefix):_(g)}function endOfPrefix(_){return y.containerState.size=b+y.sliceSerialize(h.exit("listItemPrefix"),!0).length,g(_)}}},ae={partial:!0,tokenize:function(h,g,_){let y=this;return factorySpace(h,function(h){let A=y.events[y.events.length-1];return!markdownSpace(h)&&A&&"listItemPrefixWhitespace"===A[1].type?g(h):_(h)},"listItemPrefixWhitespace",y.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},at={partial:!0,tokenize:function(h,g,_){let y=this;return factorySpace(h,function(h){let A=y.events[y.events.length-1];return A&&"listItemIndent"===A[1].type&&A[2].sliceSerialize(A[1],!0).length===y.containerState.size?g(h):_(h)},"listItemIndent",y.containerState.size+1)}},an={continuation:{tokenize:function(h,g,_){let y=this;return function(g){return markdownSpace(g)?factorySpace(h,contBefore,"linePrefix",y.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):contBefore(g)};function contBefore(y){return h.attempt(an,g,_)(y)}}},exit:function(h){h.exit("blockQuote")},name:"blockQuote",tokenize:function(h,g,_){let y=this;return function(g){if(62===g){let _=y.containerState;return _.open||(h.enter("blockQuote",{_container:!0}),_.open=!0),h.enter("blockQuotePrefix"),h.enter("blockQuoteMarker"),h.consume(g),h.exit("blockQuoteMarker"),after}return _(g)};function after(_){return markdownSpace(_)?(h.enter("blockQuotePrefixWhitespace"),h.consume(_),h.exit("blockQuotePrefixWhitespace"),h.exit("blockQuotePrefix"),g):(h.exit("blockQuotePrefix"),g(_))}}};function factoryDestination(h,g,_,y,A,b,k,w,R){let B=R||Number.POSITIVE_INFINITY,H=0;return function(g){return 60===g?(h.enter(y),h.enter(A),h.enter(b),h.consume(g),h.exit(b),enclosedBefore):null===g||32===g||41===g||asciiControl(g)?_(g):(h.enter(y),h.enter(k),h.enter(w),h.enter("chunkString",{contentType:"string"}),raw(g))};function enclosedBefore(_){return 62===_?(h.enter(b),h.consume(_),h.exit(b),h.exit(A),h.exit(y),g):(h.enter(w),h.enter("chunkString",{contentType:"string"}),enclosed(_))}function enclosed(g){return 62===g?(h.exit("chunkString"),h.exit(w),enclosedBefore(g)):null===g||60===g||markdownLineEnding(g)?_(g):(h.consume(g),92===g?enclosedEscape:enclosed)}function enclosedEscape(g){return 60===g||62===g||92===g?(h.consume(g),enclosed):enclosed(g)}function raw(A){return!H&&(null===A||41===A||markdownLineEndingOrSpace(A))?(h.exit("chunkString"),h.exit(w),h.exit(k),h.exit(y),g(A)):H<B&&40===A?(h.consume(A),H++,raw):41===A?(h.consume(A),H--,raw):null===A||32===A||40===A||asciiControl(A)?_(A):(h.consume(A),92===A?rawEscape:raw)}function rawEscape(g){return 40===g||41===g||92===g?(h.consume(g),raw):raw(g)}}function factoryLabel(h,g,_,y,A,b){let k;let w=this,R=0;return function(g){return h.enter(y),h.enter(A),h.consume(g),h.exit(A),h.enter(b),atBreak};function atBreak(B){return R>999||null===B||91===B||93===B&&!k||94===B&&!R&&"_hiddenFootnoteSupport"in w.parser.constructs?_(B):93===B?(h.exit(b),h.enter(A),h.consume(B),h.exit(A),h.exit(y),g):markdownLineEnding(B)?(h.enter("lineEnding"),h.consume(B),h.exit("lineEnding"),atBreak):(h.enter("chunkString",{contentType:"string"}),labelInside(B))}function labelInside(g){return null===g||91===g||93===g||markdownLineEnding(g)||R++>999?(h.exit("chunkString"),atBreak(g)):(h.consume(g),k||(k=!markdownSpace(g)),92===g?labelEscape:labelInside)}function labelEscape(g){return 91===g||92===g||93===g?(h.consume(g),R++,labelInside):labelInside(g)}}function factoryTitle(h,g,_,y,A,b){let k;return function(g){return 34===g||39===g||40===g?(h.enter(y),h.enter(A),h.consume(g),h.exit(A),k=40===g?41:g,begin):_(g)};function begin(_){return _===k?(h.enter(A),h.consume(_),h.exit(A),h.exit(y),g):(h.enter(b),atBreak(_))}function atBreak(g){return g===k?(h.exit(b),begin(k)):null===g?_(g):markdownLineEnding(g)?(h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),factorySpace(h,atBreak,"linePrefix")):(h.enter("chunkString",{contentType:"string"}),inside(g))}function inside(g){return g===k||null===g||markdownLineEnding(g)?(h.exit("chunkString"),atBreak(g)):(h.consume(g),92===g?escape:inside)}function escape(g){return g===k||92===g?(h.consume(g),inside):inside(g)}}function factoryWhitespace(h,g){let _;return function start(y){return markdownLineEnding(y)?(h.enter("lineEnding"),h.consume(y),h.exit("lineEnding"),_=!0,start):markdownSpace(y)?factorySpace(h,start,_?"linePrefix":"lineSuffix")(y):g(y)}}let ar={partial:!0,tokenize:function(h,g,_){return function(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(h,beforeMarker)(g):_(g)};function beforeMarker(g){return factoryTitle(h,titleAfter,_,"definitionTitle","definitionTitleMarker","definitionTitleString")(g)}function titleAfter(g){return markdownSpace(g)?factorySpace(h,titleAfterOptionalWhitespace,"whitespace")(g):titleAfterOptionalWhitespace(g)}function titleAfterOptionalWhitespace(h){return null===h||markdownLineEnding(h)?g(h):_(h)}}},al={name:"codeIndented",tokenize:function(h,g,_){let y=this;return function(g){return h.enter("codeIndented"),factorySpace(h,afterPrefix,"linePrefix",5)(g)};function afterPrefix(g){let A=y.events[y.events.length-1];return A&&"linePrefix"===A[1].type&&A[2].sliceSerialize(A[1],!0).length>=4?function atBreak(g){return null===g?after(g):markdownLineEnding(g)?h.attempt(ac,atBreak,after)(g):(h.enter("codeFlowValue"),function inside(g){return null===g||markdownLineEnding(g)?(h.exit("codeFlowValue"),atBreak(g)):(h.consume(g),inside)}(g))}(g):_(g)}function after(_){return h.exit("codeIndented"),g(_)}}},ac={partial:!0,tokenize:function(h,g,_){let y=this;return furtherStart;function furtherStart(g){return y.parser.lazy[y.now().line]?_(g):markdownLineEnding(g)?(h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),furtherStart):factorySpace(h,afterPrefix,"linePrefix",5)(g)}function afterPrefix(h){let A=y.events[y.events.length-1];return A&&"linePrefix"===A[1].type&&A[2].sliceSerialize(A[1],!0).length>=4?g(h):markdownLineEnding(h)?furtherStart(h):_(h)}}},au={name:"setextUnderline",resolveTo:function(h,g){let _,y,A,b=h.length;for(;b--;)if("enter"===h[b][0]){if("content"===h[b][1].type){_=b;break}"paragraph"===h[b][1].type&&(y=b)}else"content"===h[b][1].type&&h.splice(b,1),A||"definition"!==h[b][1].type||(A=b);let k={type:"setextHeading",start:{...h[y][1].start},end:{...h[h.length-1][1].end}};return h[y][1].type="setextHeadingText",A?(h.splice(y,0,["enter",k,g]),h.splice(A+1,0,["exit",h[_][1],g]),h[_][1].end={...h[A][1].end}):h[_][1]=k,h.push(["exit",k,g]),h},tokenize:function(h,g,_){let y;let A=this;return function(g){let b,k=A.events.length;for(;k--;)if("lineEnding"!==A.events[k][1].type&&"linePrefix"!==A.events[k][1].type&&"content"!==A.events[k][1].type){b="paragraph"===A.events[k][1].type;break}return!A.parser.lazy[A.now().line]&&(A.interrupt||b)?(h.enter("setextHeadingLine"),y=g,h.enter("setextHeadingLineSequence"),function inside(g){return g===y?(h.consume(g),inside):(h.exit("setextHeadingLineSequence"),markdownSpace(g)?factorySpace(h,after,"lineSuffix")(g):after(g))}(g)):_(g)};function after(y){return null===y||markdownLineEnding(y)?(h.exit("setextHeadingLine"),g(y)):_(y)}}},ad=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ah=["pre","script","style","textarea"],ap={partial:!0,tokenize:function(h,g,_){return function(y){return h.enter("lineEnding"),h.consume(y),h.exit("lineEnding"),h.attempt(iW,g,_)}}},af={partial:!0,tokenize:function(h,g,_){let y=this;return function(g){return markdownLineEnding(g)?(h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),after):_(g)};function after(h){return y.parser.lazy[y.now().line]?_(h):g(h)}}},am={partial:!0,tokenize:function(h,g,_){let y=this;return function(g){return null===g?_(g):(h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),lineStart)};function lineStart(h){return y.parser.lazy[y.now().line]?_(h):g(h)}}},ag={concrete:!0,name:"codeFenced",tokenize:function(h,g,_){let y;let A=this,b={partial:!0,tokenize:function(h,g,_){let b=0;return function(g){return h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),start};function start(g){return h.enter("codeFencedFence"),markdownSpace(g)?factorySpace(h,beforeSequenceClose,"linePrefix",A.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):beforeSequenceClose(g)}function beforeSequenceClose(g){return g===y?(h.enter("codeFencedFenceSequence"),function sequenceClose(g){return g===y?(b++,h.consume(g),sequenceClose):b>=w?(h.exit("codeFencedFenceSequence"),markdownSpace(g)?factorySpace(h,sequenceCloseAfter,"whitespace")(g):sequenceCloseAfter(g)):_(g)}(g)):_(g)}function sequenceCloseAfter(y){return null===y||markdownLineEnding(y)?(h.exit("codeFencedFence"),g(y)):_(y)}}},k=0,w=0;return function(g){return function(g){let b=A.events[A.events.length-1];return k=b&&"linePrefix"===b[1].type?b[2].sliceSerialize(b[1],!0).length:0,y=g,h.enter("codeFenced"),h.enter("codeFencedFence"),h.enter("codeFencedFenceSequence"),function sequenceOpen(g){return g===y?(w++,h.consume(g),sequenceOpen):w<3?_(g):(h.exit("codeFencedFenceSequence"),markdownSpace(g)?factorySpace(h,infoBefore,"whitespace")(g):infoBefore(g))}(g)}(g)};function infoBefore(b){return null===b||markdownLineEnding(b)?(h.exit("codeFencedFence"),A.interrupt?g(b):h.check(am,atNonLazyBreak,after)(b)):(h.enter("codeFencedFenceInfo"),h.enter("chunkString",{contentType:"string"}),function info(g){return null===g||markdownLineEnding(g)?(h.exit("chunkString"),h.exit("codeFencedFenceInfo"),infoBefore(g)):markdownSpace(g)?(h.exit("chunkString"),h.exit("codeFencedFenceInfo"),factorySpace(h,metaBefore,"whitespace")(g)):96===g&&g===y?_(g):(h.consume(g),info)}(b))}function metaBefore(g){return null===g||markdownLineEnding(g)?infoBefore(g):(h.enter("codeFencedFenceMeta"),h.enter("chunkString",{contentType:"string"}),function meta(g){return null===g||markdownLineEnding(g)?(h.exit("chunkString"),h.exit("codeFencedFenceMeta"),infoBefore(g)):96===g&&g===y?_(g):(h.consume(g),meta)}(g))}function atNonLazyBreak(g){return h.attempt(b,after,contentBefore)(g)}function contentBefore(g){return h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),contentStart}function contentStart(g){return k>0&&markdownSpace(g)?factorySpace(h,beforeContentChunk,"linePrefix",k+1)(g):beforeContentChunk(g)}function beforeContentChunk(g){return null===g||markdownLineEnding(g)?h.check(am,atNonLazyBreak,after)(g):(h.enter("codeFlowValue"),function contentChunk(g){return null===g||markdownLineEnding(g)?(h.exit("codeFlowValue"),beforeContentChunk(g)):(h.consume(g),contentChunk)}(g))}function after(_){return h.exit("codeFenced"),g(_)}}},aE=document.createElement("i");function decodeNamedCharacterReference(h){let g="&"+h+";";aE.innerHTML=g;let _=aE.textContent;return(59!==_.charCodeAt(_.length-1)||"semi"===h)&&_!==g&&_}let a_={name:"characterReference",tokenize:function(h,g,_){let y,A;let b=this,k=0;return function(g){return h.enter("characterReference"),h.enter("characterReferenceMarker"),h.consume(g),h.exit("characterReferenceMarker"),open};function open(g){return 35===g?(h.enter("characterReferenceMarkerNumeric"),h.consume(g),h.exit("characterReferenceMarkerNumeric"),numeric):(h.enter("characterReferenceValue"),y=31,A=ik,value(g))}function numeric(g){return 88===g||120===g?(h.enter("characterReferenceMarkerHexadecimal"),h.consume(g),h.exit("characterReferenceMarkerHexadecimal"),h.enter("characterReferenceValue"),y=6,A=ix,value):(h.enter("characterReferenceValue"),y=7,A=iC,value(g))}function value(w){if(59===w&&k){let y=h.exit("characterReferenceValue");return A!==ik||decodeNamedCharacterReference(b.sliceSerialize(y))?(h.enter("characterReferenceMarker"),h.consume(w),h.exit("characterReferenceMarker"),h.exit("characterReference"),g):_(w)}return A(w)&&k++<y?(h.consume(w),value):_(w)}}},aT={name:"characterEscape",tokenize:function(h,g,_){return function(g){return h.enter("characterEscape"),h.enter("escapeMarker"),h.consume(g),h.exit("escapeMarker"),inside};function inside(y){return iI(y)?(h.enter("characterEscapeValue"),h.consume(y),h.exit("characterEscapeValue"),h.exit("characterEscape"),g):_(y)}}},av={name:"lineEnding",tokenize:function(h,g){return function(_){return h.enter("lineEnding"),h.consume(_),h.exit("lineEnding"),factorySpace(h,g,"linePrefix")}}},ay={name:"labelEnd",resolveAll:function(h){let g=-1,_=[];for(;++g<h.length;){let y=h[g][1];if(_.push(h[g]),"labelImage"===y.type||"labelLink"===y.type||"labelEnd"===y.type){let h="labelImage"===y.type?4:2;y.type="data",g+=h}}return h.length!==_.length&&splice(h,0,h.length,_),h},resolveTo:function(h,g){let _,y,A,b,k=h.length,w=0;for(;k--;)if(_=h[k][1],y){if("link"===_.type||"labelLink"===_.type&&_._inactive)break;"enter"===h[k][0]&&"labelLink"===_.type&&(_._inactive=!0)}else if(A){if("enter"===h[k][0]&&("labelImage"===_.type||"labelLink"===_.type)&&!_._balanced&&(y=k,"labelLink"!==_.type)){w=2;break}}else"labelEnd"===_.type&&(A=k);let R={type:"labelLink"===h[y][1].type?"link":"image",start:{...h[y][1].start},end:{...h[h.length-1][1].end}},B={type:"label",start:{...h[y][1].start},end:{...h[A][1].end}},H={type:"labelText",start:{...h[y+w+2][1].end},end:{...h[A-2][1].start}};return b=push(b=[["enter",R,g],["enter",B,g]],h.slice(y+1,y+w+3)),b=push(b,[["enter",H,g]]),b=push(b,resolveAll(g.parser.constructs.insideSpan.null,h.slice(y+w+4,A-3),g)),b=push(b,[["exit",H,g],h[A-2],h[A-1],["exit",B,g]]),b=push(b,h.slice(A+1)),b=push(b,[["exit",R,g]]),splice(h,y,h.length,b),h},tokenize:function(h,g,_){let y,A;let b=this,k=b.events.length;for(;k--;)if(("labelImage"===b.events[k][1].type||"labelLink"===b.events[k][1].type)&&!b.events[k][1]._balanced){y=b.events[k][1];break}return function(g){return y?y._inactive?labelEndNok(g):(A=b.parser.defined.includes(normalizeIdentifier(b.sliceSerialize({start:y.end,end:b.now()}))),h.enter("labelEnd"),h.enter("labelMarker"),h.consume(g),h.exit("labelMarker"),h.exit("labelEnd"),after):_(g)};function after(g){return 40===g?h.attempt(aA,labelEndOk,A?labelEndOk:labelEndNok)(g):91===g?h.attempt(ab,labelEndOk,A?referenceNotFull:labelEndNok)(g):A?labelEndOk(g):labelEndNok(g)}function referenceNotFull(g){return h.attempt(ak,labelEndOk,labelEndNok)(g)}function labelEndOk(h){return g(h)}function labelEndNok(h){return y._balanced=!0,_(h)}}},aA={tokenize:function(h,g,_){return function(g){return h.enter("resource"),h.enter("resourceMarker"),h.consume(g),h.exit("resourceMarker"),resourceBefore};function resourceBefore(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(h,resourceOpen)(g):resourceOpen(g)}function resourceOpen(g){return 41===g?resourceEnd(g):factoryDestination(h,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function resourceDestinationAfter(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(h,resourceBetween)(g):resourceEnd(g)}function resourceDestinationMissing(h){return _(h)}function resourceBetween(g){return 34===g||39===g||40===g?factoryTitle(h,resourceTitleAfter,_,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):resourceEnd(g)}function resourceTitleAfter(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(h,resourceEnd)(g):resourceEnd(g)}function resourceEnd(y){return 41===y?(h.enter("resourceMarker"),h.consume(y),h.exit("resourceMarker"),h.exit("resource"),g):_(y)}}},ab={tokenize:function(h,g,_){let y=this;return function(g){return factoryLabel.call(y,h,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")(g)};function referenceFullAfter(h){return y.parser.defined.includes(normalizeIdentifier(y.sliceSerialize(y.events[y.events.length-1][1]).slice(1,-1)))?g(h):_(h)}function referenceFullMissing(h){return _(h)}}},ak={tokenize:function(h,g,_){return function(g){return h.enter("reference"),h.enter("referenceMarker"),h.consume(g),h.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen(y){return 93===y?(h.enter("referenceMarker"),h.consume(y),h.exit("referenceMarker"),h.exit("reference"),g):_(y)}}},aS={name:"labelStartImage",resolveAll:ay.resolveAll,tokenize:function(h,g,_){let y=this;return function(g){return h.enter("labelImage"),h.enter("labelImageMarker"),h.consume(g),h.exit("labelImageMarker"),open};function open(g){return 91===g?(h.enter("labelMarker"),h.consume(g),h.exit("labelMarker"),h.exit("labelImage"),after):_(g)}function after(h){return 94===h&&"_hiddenFootnoteSupport"in y.parser.constructs?_(h):g(h)}}},aC={name:"attention",resolveAll:function(h,g){let _,y,A,b,k,w,R,B,H=-1;for(;++H<h.length;)if("enter"===h[H][0]&&"attentionSequence"===h[H][1].type&&h[H][1]._close){for(_=H;_--;)if("exit"===h[_][0]&&"attentionSequence"===h[_][1].type&&h[_][1]._open&&g.sliceSerialize(h[_][1]).charCodeAt(0)===g.sliceSerialize(h[H][1]).charCodeAt(0)){if((h[_][1]._close||h[H][1]._open)&&(h[H][1].end.offset-h[H][1].start.offset)%3&&!((h[_][1].end.offset-h[_][1].start.offset+h[H][1].end.offset-h[H][1].start.offset)%3))continue;w=h[_][1].end.offset-h[_][1].start.offset>1&&h[H][1].end.offset-h[H][1].start.offset>1?2:1;let z={...h[_][1].end},$={...h[H][1].start};movePoint(z,-w),movePoint($,w),b={type:w>1?"strongSequence":"emphasisSequence",start:z,end:{...h[_][1].end}},k={type:w>1?"strongSequence":"emphasisSequence",start:{...h[H][1].start},end:$},A={type:w>1?"strongText":"emphasisText",start:{...h[_][1].end},end:{...h[H][1].start}},y={type:w>1?"strong":"emphasis",start:{...b.start},end:{...k.end}},h[_][1].end={...b.start},h[H][1].start={...k.end},R=[],h[_][1].end.offset-h[_][1].start.offset&&(R=push(R,[["enter",h[_][1],g],["exit",h[_][1],g]])),R=push(R,[["enter",y,g],["enter",b,g],["exit",b,g],["enter",A,g]]),R=push(R,resolveAll(g.parser.constructs.insideSpan.null,h.slice(_+1,H),g)),R=push(R,[["exit",A,g],["enter",k,g],["exit",k,g],["exit",y,g]]),h[H][1].end.offset-h[H][1].start.offset?(B=2,R=push(R,[["enter",h[H][1],g],["exit",h[H][1],g]])):B=0,splice(h,_-1,H-_+3,R),H=_+R.length-B-2;break}}for(H=-1;++H<h.length;)"attentionSequence"===h[H][1].type&&(h[H][1].type="data");return h},tokenize:function(h,g){let _;let y=this.parser.constructs.attentionMarkers.null,A=this.previous,b=classifyCharacter(A);return function(k){return _=k,h.enter("attentionSequence"),function inside(k){if(k===_)return h.consume(k),inside;let w=h.exit("attentionSequence"),R=classifyCharacter(k),B=!R||2===R&&b||y.includes(k),H=!b||2===b&&R||y.includes(A);return w._open=!!(42===_?B:B&&(b||!H)),w._close=!!(42===_?H:H&&(R||!B)),g(k)}(k)}}};function movePoint(h,g){h.column+=g,h.offset+=g,h._bufferIndex+=g}let ax={name:"labelStartLink",resolveAll:ay.resolveAll,tokenize:function(h,g,_){let y=this;return function(g){return h.enter("labelLink"),h.enter("labelMarker"),h.consume(g),h.exit("labelMarker"),h.exit("labelLink"),after};function after(h){return 94===h&&"_hiddenFootnoteSupport"in y.parser.constructs?_(h):g(h)}}},aI={42:i7,43:i7,45:i7,48:i7,49:i7,50:i7,51:i7,52:i7,53:i7,54:i7,55:i7,56:i7,57:i7,62:an},aw={91:{name:"definition",tokenize:function(h,g,_){let y;let A=this;return function(g){return h.enter("definition"),factoryLabel.call(A,h,labelAfter,_,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)};function labelAfter(g){return(y=normalizeIdentifier(A.sliceSerialize(A.events[A.events.length-1][1]).slice(1,-1)),58===g)?(h.enter("definitionMarker"),h.consume(g),h.exit("definitionMarker"),markerAfter):_(g)}function markerAfter(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(h,destinationBefore)(g):destinationBefore(g)}function destinationBefore(g){return factoryDestination(h,destinationAfter,_,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function destinationAfter(g){return h.attempt(ar,after,after)(g)}function after(g){return markdownSpace(g)?factorySpace(h,afterWhitespace,"whitespace")(g):afterWhitespace(g)}function afterWhitespace(b){return null===b||markdownLineEnding(b)?(h.exit("definition"),A.parser.defined.push(y),g(b)):_(b)}}}},aO={[-2]:al,[-1]:al,32:al},aN={35:{name:"headingAtx",resolve:function(h,g){let _,y,A=h.length-2,b=3;return"whitespace"===h[3][1].type&&(b+=2),A-2>b&&"whitespace"===h[A][1].type&&(A-=2),"atxHeadingSequence"===h[A][1].type&&(b===A-1||A-4>b&&"whitespace"===h[A-2][1].type)&&(A-=b+1===A?2:4),A>b&&(_={type:"atxHeadingText",start:h[b][1].start,end:h[A][1].end},y={type:"chunkText",start:h[b][1].start,end:h[A][1].end,contentType:"text"},splice(h,b,A-b+1,[["enter",_,g],["enter",y,g],["exit",y,g],["exit",_,g]])),h},tokenize:function(h,g,_){let y=0;return function(A){return h.enter("atxHeading"),h.enter("atxHeadingSequence"),function sequenceOpen(A){return 35===A&&y++<6?(h.consume(A),sequenceOpen):null===A||markdownLineEndingOrSpace(A)?(h.exit("atxHeadingSequence"),function atBreak(_){return 35===_?(h.enter("atxHeadingSequence"),function sequenceFurther(g){return 35===g?(h.consume(g),sequenceFurther):(h.exit("atxHeadingSequence"),atBreak(g))}(_)):null===_||markdownLineEnding(_)?(h.exit("atxHeading"),g(_)):markdownSpace(_)?factorySpace(h,atBreak,"whitespace")(_):(h.enter("atxHeadingText"),function data(g){return null===g||35===g||markdownLineEndingOrSpace(g)?(h.exit("atxHeadingText"),atBreak(g)):(h.consume(g),data)}(_))}(A)):_(A)}(A)}}},42:i9,45:[au,i9],60:{concrete:!0,name:"htmlFlow",resolveTo:function(h){let g=h.length;for(;g--&&("enter"!==h[g][0]||"htmlFlow"!==h[g][1].type););return g>1&&"linePrefix"===h[g-2][1].type&&(h[g][1].start=h[g-2][1].start,h[g+1][1].start=h[g-2][1].start,h.splice(g-2,2)),h},tokenize:function(h,g,_){let y,A,b,k,w;let R=this;return function(g){return h.enter("htmlFlow"),h.enter("htmlFlowData"),h.consume(g),open};function open(k){return 33===k?(h.consume(k),declarationOpen):47===k?(h.consume(k),A=!0,tagCloseStart):63===k?(h.consume(k),y=3,R.interrupt?g:continuationDeclarationInside):ib(k)?(h.consume(k),b=String.fromCharCode(k),tagName):_(k)}function declarationOpen(A){return 45===A?(h.consume(A),y=2,commentOpenInside):91===A?(h.consume(A),y=5,k=0,cdataOpenInside):ib(A)?(h.consume(A),y=4,R.interrupt?g:continuationDeclarationInside):_(A)}function commentOpenInside(y){return 45===y?(h.consume(y),R.interrupt?g:continuationDeclarationInside):_(y)}function cdataOpenInside(y){let A="CDATA[";return y===A.charCodeAt(k++)?(h.consume(y),k===A.length)?R.interrupt?g:continuation:cdataOpenInside:_(y)}function tagCloseStart(g){return ib(g)?(h.consume(g),b=String.fromCharCode(g),tagName):_(g)}function tagName(k){if(null===k||47===k||62===k||markdownLineEndingOrSpace(k)){let w=47===k,B=b.toLowerCase();return!w&&!A&&ah.includes(B)?(y=1,R.interrupt?g(k):continuation(k)):ad.includes(b.toLowerCase())?(y=6,w)?(h.consume(k),basicSelfClosing):R.interrupt?g(k):continuation(k):(y=7,R.interrupt&&!R.parser.lazy[R.now().line]?_(k):A?function completeClosingTagAfter(g){return markdownSpace(g)?(h.consume(g),completeClosingTagAfter):completeEnd(g)}(k):completeAttributeNameBefore(k))}return 45===k||ik(k)?(h.consume(k),b+=String.fromCharCode(k),tagName):_(k)}function basicSelfClosing(y){return 62===y?(h.consume(y),R.interrupt?g:continuation):_(y)}function completeAttributeNameBefore(g){return 47===g?(h.consume(g),completeEnd):58===g||95===g||ib(g)?(h.consume(g),completeAttributeName):markdownSpace(g)?(h.consume(g),completeAttributeNameBefore):completeEnd(g)}function completeAttributeName(g){return 45===g||46===g||58===g||95===g||ik(g)?(h.consume(g),completeAttributeName):completeAttributeNameAfter(g)}function completeAttributeNameAfter(g){return 61===g?(h.consume(g),completeAttributeValueBefore):markdownSpace(g)?(h.consume(g),completeAttributeNameAfter):completeAttributeNameBefore(g)}function completeAttributeValueBefore(g){return null===g||60===g||61===g||62===g||96===g?_(g):34===g||39===g?(h.consume(g),w=g,completeAttributeValueQuoted):markdownSpace(g)?(h.consume(g),completeAttributeValueBefore):function completeAttributeValueUnquoted(g){return null===g||34===g||39===g||47===g||60===g||61===g||62===g||96===g||markdownLineEndingOrSpace(g)?completeAttributeNameAfter(g):(h.consume(g),completeAttributeValueUnquoted)}(g)}function completeAttributeValueQuoted(g){return g===w?(h.consume(g),w=null,completeAttributeValueQuotedAfter):null===g||markdownLineEnding(g)?_(g):(h.consume(g),completeAttributeValueQuoted)}function completeAttributeValueQuotedAfter(h){return 47===h||62===h||markdownSpace(h)?completeAttributeNameBefore(h):_(h)}function completeEnd(g){return 62===g?(h.consume(g),completeAfter):_(g)}function completeAfter(g){return null===g||markdownLineEnding(g)?continuation(g):markdownSpace(g)?(h.consume(g),completeAfter):_(g)}function continuation(g){return 45===g&&2===y?(h.consume(g),continuationCommentInside):60===g&&1===y?(h.consume(g),continuationRawTagOpen):62===g&&4===y?(h.consume(g),continuationClose):63===g&&3===y?(h.consume(g),continuationDeclarationInside):93===g&&5===y?(h.consume(g),continuationCdataInside):markdownLineEnding(g)&&(6===y||7===y)?(h.exit("htmlFlowData"),h.check(ap,continuationAfter,continuationStart)(g)):null===g||markdownLineEnding(g)?(h.exit("htmlFlowData"),continuationStart(g)):(h.consume(g),continuation)}function continuationStart(g){return h.check(af,continuationStartNonLazy,continuationAfter)(g)}function continuationStartNonLazy(g){return h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),continuationBefore}function continuationBefore(g){return null===g||markdownLineEnding(g)?continuationStart(g):(h.enter("htmlFlowData"),continuation(g))}function continuationCommentInside(g){return 45===g?(h.consume(g),continuationDeclarationInside):continuation(g)}function continuationRawTagOpen(g){return 47===g?(h.consume(g),b="",continuationRawEndTag):continuation(g)}function continuationRawEndTag(g){if(62===g){let _=b.toLowerCase();return ah.includes(_)?(h.consume(g),continuationClose):continuation(g)}return ib(g)&&b.length<8?(h.consume(g),b+=String.fromCharCode(g),continuationRawEndTag):continuation(g)}function continuationCdataInside(g){return 93===g?(h.consume(g),continuationDeclarationInside):continuation(g)}function continuationDeclarationInside(g){return 62===g?(h.consume(g),continuationClose):45===g&&2===y?(h.consume(g),continuationDeclarationInside):continuation(g)}function continuationClose(g){return null===g||markdownLineEnding(g)?(h.exit("htmlFlowData"),continuationAfter(g)):(h.consume(g),continuationClose)}function continuationAfter(_){return h.exit("htmlFlow"),g(_)}}},61:au,95:i9,96:ag,126:ag},aR={38:a_,92:aT},aD={[-5]:av,[-4]:av,[-3]:av,33:aS,38:a_,42:aC,60:[{name:"autolink",tokenize:function(h,g,_){let y=0;return function(g){return h.enter("autolink"),h.enter("autolinkMarker"),h.consume(g),h.exit("autolinkMarker"),h.enter("autolinkProtocol"),open};function open(g){return ib(g)?(h.consume(g),schemeOrEmailAtext):64===g?_(g):emailAtext(g)}function schemeOrEmailAtext(g){return 43===g||45===g||46===g||ik(g)?(y=1,function schemeInsideOrEmailAtext(g){return 58===g?(h.consume(g),y=0,urlInside):(43===g||45===g||46===g||ik(g))&&y++<32?(h.consume(g),schemeInsideOrEmailAtext):(y=0,emailAtext(g))}(g)):emailAtext(g)}function urlInside(y){return 62===y?(h.exit("autolinkProtocol"),h.enter("autolinkMarker"),h.consume(y),h.exit("autolinkMarker"),h.exit("autolink"),g):null===y||32===y||60===y||asciiControl(y)?_(y):(h.consume(y),urlInside)}function emailAtext(g){return 64===g?(h.consume(g),emailAtSignOrDot):iS(g)?(h.consume(g),emailAtext):_(g)}function emailAtSignOrDot(A){return ik(A)?function emailLabel(A){return 46===A?(h.consume(A),y=0,emailAtSignOrDot):62===A?(h.exit("autolinkProtocol").type="autolinkEmail",h.enter("autolinkMarker"),h.consume(A),h.exit("autolinkMarker"),h.exit("autolink"),g):function emailValue(g){if((45===g||ik(g))&&y++<63){let _=45===g?emailValue:emailLabel;return h.consume(g),_}return _(g)}(A)}(A):_(A)}}},{name:"htmlText",tokenize:function(h,g,_){let y,A,b;let k=this;return function(g){return h.enter("htmlText"),h.enter("htmlTextData"),h.consume(g),open};function open(g){return 33===g?(h.consume(g),declarationOpen):47===g?(h.consume(g),tagCloseStart):63===g?(h.consume(g),instruction):ib(g)?(h.consume(g),tagOpen):_(g)}function declarationOpen(g){return 45===g?(h.consume(g),commentOpenInside):91===g?(h.consume(g),A=0,cdataOpenInside):ib(g)?(h.consume(g),declaration):_(g)}function commentOpenInside(g){return 45===g?(h.consume(g),commentEnd):_(g)}function comment(g){return null===g?_(g):45===g?(h.consume(g),commentClose):markdownLineEnding(g)?(b=comment,lineEndingBefore(g)):(h.consume(g),comment)}function commentClose(g){return 45===g?(h.consume(g),commentEnd):comment(g)}function commentEnd(h){return 62===h?end(h):45===h?commentClose(h):comment(h)}function cdataOpenInside(g){let y="CDATA[";return g===y.charCodeAt(A++)?(h.consume(g),A===y.length?cdata:cdataOpenInside):_(g)}function cdata(g){return null===g?_(g):93===g?(h.consume(g),cdataClose):markdownLineEnding(g)?(b=cdata,lineEndingBefore(g)):(h.consume(g),cdata)}function cdataClose(g){return 93===g?(h.consume(g),cdataEnd):cdata(g)}function cdataEnd(g){return 62===g?end(g):93===g?(h.consume(g),cdataEnd):cdata(g)}function declaration(g){return null===g||62===g?end(g):markdownLineEnding(g)?(b=declaration,lineEndingBefore(g)):(h.consume(g),declaration)}function instruction(g){return null===g?_(g):63===g?(h.consume(g),instructionClose):markdownLineEnding(g)?(b=instruction,lineEndingBefore(g)):(h.consume(g),instruction)}function instructionClose(h){return 62===h?end(h):instruction(h)}function tagCloseStart(g){return ib(g)?(h.consume(g),tagClose):_(g)}function tagClose(g){return 45===g||ik(g)?(h.consume(g),tagClose):function tagCloseBetween(g){return markdownLineEnding(g)?(b=tagCloseBetween,lineEndingBefore(g)):markdownSpace(g)?(h.consume(g),tagCloseBetween):end(g)}(g)}function tagOpen(g){return 45===g||ik(g)?(h.consume(g),tagOpen):47===g||62===g||markdownLineEndingOrSpace(g)?tagOpenBetween(g):_(g)}function tagOpenBetween(g){return 47===g?(h.consume(g),end):58===g||95===g||ib(g)?(h.consume(g),tagOpenAttributeName):markdownLineEnding(g)?(b=tagOpenBetween,lineEndingBefore(g)):markdownSpace(g)?(h.consume(g),tagOpenBetween):end(g)}function tagOpenAttributeName(g){return 45===g||46===g||58===g||95===g||ik(g)?(h.consume(g),tagOpenAttributeName):function tagOpenAttributeNameAfter(g){return 61===g?(h.consume(g),tagOpenAttributeValueBefore):markdownLineEnding(g)?(b=tagOpenAttributeNameAfter,lineEndingBefore(g)):markdownSpace(g)?(h.consume(g),tagOpenAttributeNameAfter):tagOpenBetween(g)}(g)}function tagOpenAttributeValueBefore(g){return null===g||60===g||61===g||62===g||96===g?_(g):34===g||39===g?(h.consume(g),y=g,tagOpenAttributeValueQuoted):markdownLineEnding(g)?(b=tagOpenAttributeValueBefore,lineEndingBefore(g)):markdownSpace(g)?(h.consume(g),tagOpenAttributeValueBefore):(h.consume(g),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted(g){return g===y?(h.consume(g),y=void 0,tagOpenAttributeValueQuotedAfter):null===g?_(g):markdownLineEnding(g)?(b=tagOpenAttributeValueQuoted,lineEndingBefore(g)):(h.consume(g),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted(g){return null===g||34===g||39===g||60===g||61===g||96===g?_(g):47===g||62===g||markdownLineEndingOrSpace(g)?tagOpenBetween(g):(h.consume(g),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(h){return 47===h||62===h||markdownLineEndingOrSpace(h)?tagOpenBetween(h):_(h)}function end(y){return 62===y?(h.consume(y),h.exit("htmlTextData"),h.exit("htmlText"),g):_(y)}function lineEndingBefore(g){return h.exit("htmlTextData"),h.enter("lineEnding"),h.consume(g),h.exit("lineEnding"),lineEndingAfter}function lineEndingAfter(g){return markdownSpace(g)?factorySpace(h,lineEndingAfterPrefix,"linePrefix",k.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):lineEndingAfterPrefix(g)}function lineEndingAfterPrefix(g){return h.enter("htmlTextData"),b(g)}}}],91:ax,92:[{name:"hardBreakEscape",tokenize:function(h,g,_){return function(g){return h.enter("hardBreakEscape"),h.consume(g),after};function after(y){return markdownLineEnding(y)?(h.exit("hardBreakEscape"),g(y)):_(y)}}},aT],93:ay,95:aC,96:{name:"codeText",previous:function(h){return 96!==h||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(h){let g,_,y=h.length-4,A=3;if(("lineEnding"===h[3][1].type||"space"===h[A][1].type)&&("lineEnding"===h[y][1].type||"space"===h[y][1].type)){for(g=A;++g<y;)if("codeTextData"===h[g][1].type){h[A][1].type="codeTextPadding",h[y][1].type="codeTextPadding",A+=2,y-=2;break}}for(g=A-1,y++;++g<=y;)void 0===_?g!==y&&"lineEnding"!==h[g][1].type&&(_=g):(g===y||"lineEnding"===h[g][1].type)&&(h[_][1].type="codeTextData",g!==_+2&&(h[_][1].end=h[g-1][1].end,h.splice(_+2,g-_-2),y-=g-_-2,g=_+2),_=void 0);return h},tokenize:function(h,g,_){let y,A,b=0;return function(g){return h.enter("codeText"),h.enter("codeTextSequence"),function sequenceOpen(g){return 96===g?(h.consume(g),b++,sequenceOpen):(h.exit("codeTextSequence"),between(g))}(g)};function between(k){return null===k?_(k):32===k?(h.enter("space"),h.consume(k),h.exit("space"),between):96===k?(A=h.enter("codeTextSequence"),y=0,function sequenceClose(_){return 96===_?(h.consume(_),y++,sequenceClose):y===b?(h.exit("codeTextSequence"),h.exit("codeText"),g(_)):(A.type="codeTextData",data(_))}(k)):markdownLineEnding(k)?(h.enter("lineEnding"),h.consume(k),h.exit("lineEnding"),between):(h.enter("codeTextData"),data(k))}function data(g){return null===g||32===g||96===g||markdownLineEnding(g)?(h.exit("codeTextData"),between(g)):(h.consume(g),data)}}}},aL={null:[aC,i5]},aM={null:[42,95]},aP={null:[]},aF=/[\0\t\n\r]/g;function decodeNumericCharacterReference(h,g){let _=Number.parseInt(h,g);return _<9||11===_||_>13&&_<32||_>126&&_<160||_>55295&&_<57344||_>64975&&_<65008||(65535&_)==65535||(65535&_)==65534||_>1114111?"�":String.fromCodePoint(_)}let aB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decode(h,g,_){if(g)return g;let y=_.charCodeAt(0);if(35===y){let h=_.charCodeAt(1),g=120===h||88===h;return decodeNumericCharacterReference(_.slice(g?2:1),g?16:10)}return decodeNamedCharacterReference(_)||h}function stringifyPosition(h){return h&&"object"==typeof h?"position"in h||"type"in h?unist_util_stringify_position_lib_position(h.position):"start"in h||"end"in h?unist_util_stringify_position_lib_position(h):"line"in h||"column"in h?unist_util_stringify_position_lib_point(h):"":""}function unist_util_stringify_position_lib_point(h){return index(h&&h.line)+":"+index(h&&h.column)}function unist_util_stringify_position_lib_position(h){return unist_util_stringify_position_lib_point(h&&h.start)+"-"+unist_util_stringify_position_lib_point(h&&h.end)}function index(h){return h&&"number"==typeof h?h:1}let aU={}.hasOwnProperty;function mdast_util_from_markdown_lib_point(h){return{line:h.line,column:h.column,offset:h.offset}}function defaultOnError(h,g){if(h)throw Error("Cannot close `"+h.type+"` ("+stringifyPosition({start:h.start,end:h.end})+"): a different token (`"+g.type+"`, "+stringifyPosition({start:g.start,end:g.end})+") is open");throw Error("Cannot close document, a token (`"+g.type+"`, "+stringifyPosition({start:g.start,end:g.end})+") is still open")}function remarkParse(h){let g=this;g.parser=function(_){var y,A;let b,k,w,R;return"string"!=typeof(y={...g.data("settings"),...h,extensions:g.data("micromarkExtensions")||[],mdastExtensions:g.data("fromMarkdownExtensions")||[]})&&(A=y,y=void 0),(function(h){let g={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(function(){return{type:"blockquote",children:[]}}),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(function(){return{type:"inlineCode",value:""}},buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(function(){return{type:"image",title:null,url:"",alt:null}}),label:buffer,link:opener(link),listItem:opener(function(h){return{type:"listItem",spread:h._spread,checked:null,children:[]}}),listItemValue:function(h){if(this.data.expectingFirstListItemValue){let g=this.stack[this.stack.length-2];g.start=Number.parseInt(this.sliceSerialize(h),10),this.data.expectingFirstListItemValue=void 0}},listOrdered:opener(list,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:opener(list),paragraph:opener(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(function(){return{type:"strong",children:[]}}),thematicBreak:opener(function(){return{type:"thematicBreak"}})},exit:{atxHeading:closer(),atxHeadingSequence:function(h){let g=this.stack[this.stack.length-1];if(!g.depth){let _=this.sliceSerialize(h).length;g.depth=_}},autolink:closer(),autolinkEmail:function(h){onexitdata.call(this,h);let g=this.stack[this.stack.length-1];g.url="mailto:"+this.sliceSerialize(h)},autolinkProtocol:function(h){onexitdata.call(this,h);let g=this.stack[this.stack.length-1];g.url=this.sliceSerialize(h)},blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:function(h){let g;let _=this.sliceSerialize(h),y=this.data.characterReferenceType;if(y)g=decodeNumericCharacterReference(_,"characterReferenceMarkerNumeric"===y?10:16),this.data.characterReferenceType=void 0;else{let h=decodeNamedCharacterReference(_);g=h}let A=this.stack[this.stack.length-1];A.value+=g},characterReference:function(h){let g=this.stack.pop();g.position.end=mdast_util_from_markdown_lib_point(h.end)},codeFenced:closer(function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.value=h.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.lang=h},codeFencedFenceMeta:function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.meta=h},codeFlowValue:onexitdata,codeIndented:closer(function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.value=h.replace(/(\r?\n|\r)$/g,"")}),codeText:closer(function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.value=h}),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.url=h},definitionLabelString:function(h){let g=this.resume(),_=this.stack[this.stack.length-1];_.label=g,_.identifier=normalizeIdentifier(this.sliceSerialize(h)).toLowerCase()},definitionTitleString:function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.title=h},emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.value=h}),htmlFlowData:onexitdata,htmlText:closer(function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.value=h}),htmlTextData:onexitdata,image:closer(function(){let h=this.stack[this.stack.length-1];if(this.data.inReference){let g=this.data.referenceType||"shortcut";h.type+="Reference",h.referenceType=g,delete h.url,delete h.title}else delete h.identifier,delete h.label;this.data.referenceType=void 0}),label:function(){let h=this.stack[this.stack.length-1],g=this.resume(),_=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===_.type){let g=h.children;_.children=g}else _.alt=g},labelText:function(h){let g=this.sliceSerialize(h),_=this.stack[this.stack.length-2];_.label=g.replace(aB,decode),_.identifier=normalizeIdentifier(g).toLowerCase()},lineEnding:function(h){let _=this.stack[this.stack.length-1];if(this.data.atHardBreak){let g=_.children[_.children.length-1];g.position.end=mdast_util_from_markdown_lib_point(h.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&g.canContainEols.includes(_.type)&&(onenterdata.call(this,h),onexitdata.call(this,h))},link:closer(function(){let h=this.stack[this.stack.length-1];if(this.data.inReference){let g=this.data.referenceType||"shortcut";h.type+="Reference",h.referenceType=g,delete h.url,delete h.title}else delete h.identifier,delete h.label;this.data.referenceType=void 0}),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:function(h){let g=this.resume(),_=this.stack[this.stack.length-1];_.label=g,_.identifier=normalizeIdentifier(this.sliceSerialize(h)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.url=h},resourceTitleString:function(){let h=this.resume(),g=this.stack[this.stack.length-1];g.title=h},resource:function(){this.data.inReference=void 0},setextHeading:closer(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(h){let g=this.stack[this.stack.length-1];g.depth=61===this.sliceSerialize(h).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:closer(),thematicBreak:closer()}};(function configure(h,g){let _=-1;for(;++_<g.length;){let y=g[_];Array.isArray(y)?configure(h,y):function(h,g){let _;for(_ in g)if(aU.call(g,_))switch(_){case"canContainEols":{let y=g[_];y&&h[_].push(...y);break}case"transforms":{let y=g[_];y&&h[_].push(...y);break}case"enter":case"exit":{let y=g[_];y&&Object.assign(h[_],y)}}}(h,y)}})(g,(h||{}).mdastExtensions||[]);let _={};return function(h){let y={type:"root",children:[]},A={stack:[y],tokenStack:[],config:g,enter,exit,buffer,resume,data:_},b=[],k=-1;for(;++k<h.length;)if("listOrdered"===h[k][1].type||"listUnordered"===h[k][1].type){if("enter"===h[k][0])b.push(k);else{let g=b.pop();k=function(h,g,_){let y,A,b,k,w=g-1,R=-1,B=!1;for(;++w<=_;){let g=h[w];switch(g[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===g[0]?R++:R--,k=void 0;break;case"lineEndingBlank":"enter"===g[0]&&(!y||k||R||b||(b=w),k=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:k=void 0}if(!R&&"enter"===g[0]&&"listItemPrefix"===g[1].type||-1===R&&"exit"===g[0]&&("listUnordered"===g[1].type||"listOrdered"===g[1].type)){if(y){let k=w;for(A=void 0;k--;){let g=h[k];if("lineEnding"===g[1].type||"lineEndingBlank"===g[1].type){if("exit"===g[0])continue;A&&(h[A][1].type="lineEndingBlank",B=!0),g[1].type="lineEnding",A=k}else if("linePrefix"===g[1].type||"blockQuotePrefix"===g[1].type||"blockQuotePrefixWhitespace"===g[1].type||"blockQuoteMarker"===g[1].type||"listItemIndent"===g[1].type);else break}b&&(!A||b<A)&&(y._spread=!0),y.end=Object.assign({},A?h[A][1].start:g[1].end),h.splice(A||w,0,["exit",y,g[2]]),w++,_++}if("listItemPrefix"===g[1].type){let A={type:"listItem",_spread:!1,start:Object.assign({},g[1].start),end:void 0};y=A,h.splice(w,0,["enter",A,g[2]]),w++,_++,b=void 0,k=!0}}}return h[g][1]._spread=B,_}(h,g,k)}}for(k=-1;++k<h.length;){let _=g[h[k][0]];aU.call(_,h[k][1].type)&&_[h[k][1].type].call(Object.assign({sliceSerialize:h[k][2].sliceSerialize},A),h[k][1])}if(A.tokenStack.length>0){let h=A.tokenStack[A.tokenStack.length-1],g=h[1]||defaultOnError;g.call(A,void 0,h[0])}for(y.position={start:mdast_util_from_markdown_lib_point(h.length>0?h[0][1].start:{line:1,column:1,offset:0}),end:mdast_util_from_markdown_lib_point(h.length>0?h[h.length-2][1].end:{line:1,column:1,offset:0})},k=-1;++k<g.transforms.length;)y=g.transforms[k](y)||y;return y};function opener(h,g){return function(_){enter.call(this,h(_),_),g&&g.call(this,_)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(h,g,_){let y=this.stack[this.stack.length-1],A=y.children;A.push(h),this.stack.push(h),this.tokenStack.push([g,_||void 0]),h.position={start:mdast_util_from_markdown_lib_point(g.start),end:void 0}}function closer(h){return function(g){h&&h.call(this,g),exit.call(this,g)}}function exit(h,g){let _=this.stack.pop(),y=this.tokenStack.pop();if(y){if(y[0].type!==h.type){if(g)g.call(this,h,y[0]);else{let g=y[1]||defaultOnError;g.call(this,h,y[0])}}}else throw Error("Cannot close `"+h.type+"` ("+stringifyPosition({start:h.start,end:h.end})+"): it’s not open");_.position.end=mdast_util_from_markdown_lib_point(h.end)}function resume(){return lib_toString(this.stack.pop())}function onenterdata(h){let g=this.stack[this.stack.length-1],_=g.children,y=_[_.length-1];y&&"text"===y.type||((y={type:"text",value:""}).position={start:mdast_util_from_markdown_lib_point(h.start),end:void 0},_.push(y)),this.stack.push(y)}function onexitdata(h){let g=this.stack.pop();g.value+=this.sliceSerialize(h),g.position.end=mdast_util_from_markdown_lib_point(h.end)}function onexithardbreak(){this.data.atHardBreak=!0}function onexitcharacterreferencemarker(h){this.data.characterReferenceType=h.type}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function heading(){return{type:"heading",depth:0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(h){return{type:"list",ordered:"listOrdered"===h.type,start:null,spread:h._spread,children:[]}}})(A)(function(h){for(;!subtokenize(h););return h}((function(h){let g=combineExtensions([eU,...(h||{}).extensions||[]]),_={constructs:g,content:create(iZ),defined:[],document:create(i0),flow:create(i4),lazy:{},string:create(i6),text:create(i8)};return _;function create(h){return function(g){return function(h,g,_){let y={_bufferIndex:-1,_index:0,line:_&&_.line||1,column:_&&_.column||1,offset:_&&_.offset||0},A={},b=[],k=[],w=[],R={attempt:constructFactory(function(h,g){addResult(h,g.from)}),check:constructFactory(onsuccessfulcheck),consume:function(h){markdownLineEnding(h)?(y.line++,y.column=1,y.offset+=-3===h?2:1,accountForPotentialSkip()):-1!==h&&(y.column++,y.offset++),y._bufferIndex<0?y._index++:(y._bufferIndex++,y._bufferIndex===k[y._index].length&&(y._bufferIndex=-1,y._index++)),B.previous=h},enter:function(h,g){let _=g||{};return _.type=h,_.start=now(),B.events.push(["enter",_,B]),w.push(_),_},exit:function(h){let g=w.pop();return g.end=now(),B.events.push(["exit",g,B]),g},interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},B={code:null,containerState:{},defineSkip:function(h){A[h.line]=h.column,accountForPotentialSkip()},events:[],now,parser:h,previous:null,sliceSerialize:function(h,g){return function(h,g){let _,y=-1,A=[];for(;++y<h.length;){let b;let k=h[y];if("string"==typeof k)b=k;else switch(k){case -5:b="\r";break;case -4:b="\n";break;case -3:b="\r\n";break;case -2:b=g?" ":"	";break;case -1:if(!g&&_)continue;b=" ";break;default:b=String.fromCharCode(k)}_=-2===k,A.push(b)}return A.join("")}(sliceStream(h),g)},sliceStream,write:function(h){return(k=push(k,h),function(){let h;for(;y._index<k.length;){var g;let _=k[y._index];if("string"==typeof _)for(h=y._index,y._bufferIndex<0&&(y._bufferIndex=0);y._index===h&&y._bufferIndex<_.length;)g=_.charCodeAt(y._bufferIndex),H=H(g);else H=H(_)}}(),null!==k[k.length-1])?[]:(addResult(g,0),B.events=resolveAll(b,B.events,B),B.events)}},H=g.tokenize.call(B,R);return g.resolveAll&&b.push(g),B;function sliceStream(h){return function(h,g){let _;let y=g.start._index,A=g.start._bufferIndex,b=g.end._index,k=g.end._bufferIndex;if(y===b)_=[h[y].slice(A,k)];else{if(_=h.slice(y,b),A>-1){let h=_[0];"string"==typeof h?_[0]=h.slice(A):_.shift()}k>0&&_.push(h[b].slice(0,k))}return _}(k,h)}function now(){let{_bufferIndex:h,_index:g,line:_,column:A,offset:b}=y;return{_bufferIndex:h,_index:g,line:_,column:A,offset:b}}function onsuccessfulcheck(h,g){g.restore()}function constructFactory(h,g){return function(_,A,b){let k,H,z,$;return Array.isArray(_)?handleListOfConstructs(_):"tokenize"in _?handleListOfConstructs([_]):function(h){let g=null!==h&&_[h],y=null!==h&&_.null,A=[...Array.isArray(g)?g:g?[g]:[],...Array.isArray(y)?y:y?[y]:[]];return handleListOfConstructs(A)(h)};function handleListOfConstructs(h){return(k=h,H=0,0===h.length)?b:handleConstruct(h[H])}function handleConstruct(h){return function(_){return($=function(){let h=now(),g=B.previous,_=B.currentConstruct,A=B.events.length,b=Array.from(w);return{from:A,restore:function(){y=h,B.previous=g,B.currentConstruct=_,B.events.length=A,w=b,accountForPotentialSkip()}}}(),z=h,h.partial||(B.currentConstruct=h),h.name&&B.parser.constructs.disable.null.includes(h.name))?nok(_):h.tokenize.call(g?Object.assign(Object.create(B),g):B,R,ok,nok)(_)}}function ok(g){return h(z,$),A}function nok(h){return($.restore(),++H<k.length)?handleConstruct(k[H]):b}}}function addResult(h,g){h.resolveAll&&!b.includes(h)&&b.push(h),h.resolve&&splice(B.events,g,B.events.length-g,h.resolve(B.events.slice(g),B)),h.resolveTo&&(B.events=h.resolveTo(B.events,B))}function accountForPotentialSkip(){y.line in A&&y.column<2&&(y.column=A[y.line],y.offset+=A[y.line]-1)}}(_,h,g)}}})(A).document().write((k=1,w="",R=!0,function(h,g,_){let y,A,B,H,z;let $=[];for(h=w+("string"==typeof h?h.toString():new TextDecoder(g||void 0).decode(h)),B=0,w="",R&&(65279===h.charCodeAt(0)&&B++,R=void 0);B<h.length;){if(aF.lastIndex=B,H=(y=aF.exec(h))&&void 0!==y.index?y.index:h.length,z=h.charCodeAt(H),!y){w=h.slice(B);break}if(10===z&&B===H&&b)$.push(-3),b=void 0;else switch(b&&($.push(-5),b=void 0),B<H&&($.push(h.slice(B,H)),k+=H-B),z){case 0:$.push(65533),k++;break;case 9:for(A=4*Math.ceil(k/4),$.push(-2);k++<A;)$.push(-1);break;case 10:$.push(-4),k=1;break;default:b=!0,k=1}B=H+1}return _&&(b&&$.push(-5),w&&$.push(w),$.push(null)),$})(_,y,!0))))}}function normalizeUri(h){let g=[],_=-1,y=0,A=0;for(;++_<h.length;){let b=h.charCodeAt(_),k="";if(37===b&&ik(h.charCodeAt(_+1))&&ik(h.charCodeAt(_+2)))A=2;else if(b<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(b))||(k=String.fromCharCode(b));else if(b>55295&&b<57344){let g=h.charCodeAt(_+1);b<56320&&g>56319&&g<57344?(k=String.fromCharCode(b,g),A=1):k="�"}else k=String.fromCharCode(b);k&&(g.push(h.slice(y,_),encodeURIComponent(k)),y=_+A+1,k=""),A&&(_+=A,A=0)}return g.join("")+h.slice(y)}function defaultFootnoteBackContent(h,g){let _=[{type:"text",value:"↩"}];return g>1&&_.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(g)}]}),_}function defaultFootnoteBackLabel(h,g){return"Back to reference "+(h+1)+(g>1?"-"+g:"")}let aH=unist_util_position_lib_point("end"),aG=unist_util_position_lib_point("start");function unist_util_position_lib_point(h){return function(g){let _=g&&g.position&&g.position[h]||{};if("number"==typeof _.line&&_.line>0&&"number"==typeof _.column&&_.column>0)return{line:_.line,column:_.column,offset:"number"==typeof _.offset&&_.offset>-1?_.offset:void 0}}}function revert(h,g){let _=g.referenceType,y="]";if("collapsed"===_?y+="[]":"full"===_&&(y+="["+(g.label||g.identifier)+"]"),"imageReference"===g.type)return[{type:"text",value:"!["+g.alt+y}];let A=h.all(g),b=A[0];b&&"text"===b.type?b.value="["+b.value:A.unshift({type:"text",value:"["});let k=A[A.length-1];return k&&"text"===k.type?k.value+=y:A.push({type:"text",value:y}),A}function listItemLoose(h){let g=h.spread;return null==g?h.children.length>1:g}function trimLine(h,g,_){let y=0,A=h.length;if(g){let g=h.codePointAt(y);for(;9===g||32===g;)y++,g=h.codePointAt(y)}if(_){let g=h.codePointAt(A-1);for(;9===g||32===g;)A--,g=h.codePointAt(A-1)}return A>y?h.slice(y,A):""}let az={blockquote:function(h,g){let _={type:"element",tagName:"blockquote",properties:{},children:h.wrap(h.all(g),!0)};return h.patch(g,_),h.applyData(g,_)},break:function(h,g){let _={type:"element",tagName:"br",properties:{},children:[]};return h.patch(g,_),[h.applyData(g,_),{type:"text",value:"\n"}]},code:function(h,g){let _=g.value?g.value+"\n":"",y={};g.lang&&(y.className=["language-"+g.lang]);let A={type:"element",tagName:"code",properties:y,children:[{type:"text",value:_}]};return g.meta&&(A.data={meta:g.meta}),h.patch(g,A),A={type:"element",tagName:"pre",properties:{},children:[A=h.applyData(g,A)]},h.patch(g,A),A},delete:function(h,g){let _={type:"element",tagName:"del",properties:{},children:h.all(g)};return h.patch(g,_),h.applyData(g,_)},emphasis:function(h,g){let _={type:"element",tagName:"em",properties:{},children:h.all(g)};return h.patch(g,_),h.applyData(g,_)},footnoteReference:function(h,g){let _;let y="string"==typeof h.options.clobberPrefix?h.options.clobberPrefix:"user-content-",A=String(g.identifier).toUpperCase(),b=normalizeUri(A.toLowerCase()),k=h.footnoteOrder.indexOf(A),w=h.footnoteCounts.get(A);void 0===w?(w=0,h.footnoteOrder.push(A),_=h.footnoteOrder.length):_=k+1,w+=1,h.footnoteCounts.set(A,w);let R={type:"element",tagName:"a",properties:{href:"#"+y+"fn-"+b,id:y+"fnref-"+b+(w>1?"-"+w:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(_)}]};h.patch(g,R);let B={type:"element",tagName:"sup",properties:{},children:[R]};return h.patch(g,B),h.applyData(g,B)},heading:function(h,g){let _={type:"element",tagName:"h"+g.depth,properties:{},children:h.all(g)};return h.patch(g,_),h.applyData(g,_)},html:function(h,g){if(h.options.allowDangerousHtml){let _={type:"raw",value:g.value};return h.patch(g,_),h.applyData(g,_)}},imageReference:function(h,g){let _=String(g.identifier).toUpperCase(),y=h.definitionById.get(_);if(!y)return revert(h,g);let A={src:normalizeUri(y.url||""),alt:g.alt};null!==y.title&&void 0!==y.title&&(A.title=y.title);let b={type:"element",tagName:"img",properties:A,children:[]};return h.patch(g,b),h.applyData(g,b)},image:function(h,g){let _={src:normalizeUri(g.url)};null!==g.alt&&void 0!==g.alt&&(_.alt=g.alt),null!==g.title&&void 0!==g.title&&(_.title=g.title);let y={type:"element",tagName:"img",properties:_,children:[]};return h.patch(g,y),h.applyData(g,y)},inlineCode:function(h,g){let _={type:"text",value:g.value.replace(/\r?\n|\r/g," ")};h.patch(g,_);let y={type:"element",tagName:"code",properties:{},children:[_]};return h.patch(g,y),h.applyData(g,y)},linkReference:function(h,g){let _=String(g.identifier).toUpperCase(),y=h.definitionById.get(_);if(!y)return revert(h,g);let A={href:normalizeUri(y.url||"")};null!==y.title&&void 0!==y.title&&(A.title=y.title);let b={type:"element",tagName:"a",properties:A,children:h.all(g)};return h.patch(g,b),h.applyData(g,b)},link:function(h,g){let _={href:normalizeUri(g.url)};null!==g.title&&void 0!==g.title&&(_.title=g.title);let y={type:"element",tagName:"a",properties:_,children:h.all(g)};return h.patch(g,y),h.applyData(g,y)},listItem:function(h,g,_){let y=h.all(g),A=_?function(h){let g=!1;if("list"===h.type){g=h.spread||!1;let _=h.children,y=-1;for(;!g&&++y<_.length;)g=listItemLoose(_[y])}return g}(_):listItemLoose(g),b={},k=[];if("boolean"==typeof g.checked){let h;let _=y[0];_&&"element"===_.type&&"p"===_.tagName?h=_:(h={type:"element",tagName:"p",properties:{},children:[]},y.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:g.checked,disabled:!0},children:[]}),b.className=["task-list-item"]}let w=-1;for(;++w<y.length;){let h=y[w];(A||0!==w||"element"!==h.type||"p"!==h.tagName)&&k.push({type:"text",value:"\n"}),"element"!==h.type||"p"!==h.tagName||A?k.push(h):k.push(...h.children)}let R=y[y.length-1];R&&(A||"element"!==R.type||"p"!==R.tagName)&&k.push({type:"text",value:"\n"});let B={type:"element",tagName:"li",properties:b,children:k};return h.patch(g,B),h.applyData(g,B)},list:function(h,g){let _={},y=h.all(g),A=-1;for("number"==typeof g.start&&1!==g.start&&(_.start=g.start);++A<y.length;){let h=y[A];if("element"===h.type&&"li"===h.tagName&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){_.className=["contains-task-list"];break}}let b={type:"element",tagName:g.ordered?"ol":"ul",properties:_,children:h.wrap(y,!0)};return h.patch(g,b),h.applyData(g,b)},paragraph:function(h,g){let _={type:"element",tagName:"p",properties:{},children:h.all(g)};return h.patch(g,_),h.applyData(g,_)},root:function(h,g){let _={type:"root",children:h.wrap(h.all(g))};return h.patch(g,_),h.applyData(g,_)},strong:function(h,g){let _={type:"element",tagName:"strong",properties:{},children:h.all(g)};return h.patch(g,_),h.applyData(g,_)},table:function(h,g){let _=h.all(g),y=_.shift(),A=[];if(y){let _={type:"element",tagName:"thead",properties:{},children:h.wrap([y],!0)};h.patch(g.children[0],_),A.push(_)}if(_.length>0){let y={type:"element",tagName:"tbody",properties:{},children:h.wrap(_,!0)},b=aG(g.children[1]),k=aH(g.children[g.children.length-1]);b&&k&&(y.position={start:b,end:k}),A.push(y)}let b={type:"element",tagName:"table",properties:{},children:h.wrap(A,!0)};return h.patch(g,b),h.applyData(g,b)},tableCell:function(h,g){let _={type:"element",tagName:"td",properties:{},children:h.all(g)};return h.patch(g,_),h.applyData(g,_)},tableRow:function(h,g,_){let y=_?_.children:void 0,A=y?y.indexOf(g):1,b=0===A?"th":"td",k=_&&"table"===_.type?_.align:void 0,w=k?k.length:g.children.length,R=-1,B=[];for(;++R<w;){let _=g.children[R],y={},A=k?k[R]:void 0;A&&(y.align=A);let w={type:"element",tagName:b,properties:y,children:[]};_&&(w.children=h.all(_),h.patch(_,w),w=h.applyData(_,w)),B.push(w)}let H={type:"element",tagName:"tr",properties:{},children:h.wrap(B,!0)};return h.patch(g,H),h.applyData(g,H)},text:function(h,g){let _={type:"text",value:function(h){let g=String(h),_=/\r?\n|\r/g,y=_.exec(g),A=0,b=[];for(;y;)b.push(trimLine(g.slice(A,y.index),A>0,!0),y[0]),A=y.index+y[0].length,y=_.exec(g);return b.push(trimLine(g.slice(A),A>0,!1)),b.join("")}(String(g.value))};return h.patch(g,_),h.applyData(g,_)},thematicBreak:function(h,g){let _={type:"element",tagName:"hr",properties:{},children:[]};return h.patch(g,_),h.applyData(g,_)},toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}let a$={}.hasOwnProperty,aV={};function state_patch(h,g){h.position&&(g.position=function(h){let g=aG(h),_=aH(h);if(g&&_)return{start:g,end:_}}(h))}function applyData(h,g){let _=g;if(h&&h.data){let g=h.data.hName,y=h.data.hChildren,A=h.data.hProperties;if("string"==typeof g){if("element"===_.type)_.tagName=g;else{let h="children"in _?_.children:[_];_={type:"element",tagName:g,properties:{},children:h}}}"element"===_.type&&A&&Object.assign(_.properties,nQ(A)),"children"in _&&_.children&&null!=y&&(_.children=y)}return _}function defaultUnknownHandler(h,g){let _=g.data||{},y="value"in g&&!(a$.call(_,"hProperties")||a$.call(_,"hChildren"))?{type:"text",value:g.value}:{type:"element",tagName:"div",properties:{},children:h.all(g)};return h.patch(g,y),h.applyData(g,y)}function wrap(h,g){let _=[],y=-1;for(g&&_.push({type:"text",value:"\n"});++y<h.length;)y&&_.push({type:"text",value:"\n"}),_.push(h[y]);return g&&h.length>0&&_.push({type:"text",value:"\n"}),_}function trimMarkdownSpaceStart(h){let g=0,_=h.charCodeAt(g);for(;9===_||32===_;)g++,_=h.charCodeAt(g);return h.slice(g)}function toHast(h,g){let _=function(h,g){let _=g||aV,y=new Map,A=new Map,b=new Map,k={...az,..._.handlers},w={all:function(h){let g=[];if("children"in h){let _=h.children,y=-1;for(;++y<_.length;){let A=w.one(_[y],h);if(A){if(y&&"break"===_[y-1].type&&(Array.isArray(A)||"text"!==A.type||(A.value=trimMarkdownSpaceStart(A.value)),!Array.isArray(A)&&"element"===A.type)){let h=A.children[0];h&&"text"===h.type&&(h.value=trimMarkdownSpaceStart(h.value))}Array.isArray(A)?g.push(...A):g.push(A)}}}return g},applyData,definitionById:y,footnoteById:A,footnoteCounts:b,footnoteOrder:[],handlers:k,one:function(h,g){let _=h.type,y=w.handlers[_];if(a$.call(w.handlers,_)&&y)return y(w,h,g);if(w.options.passThrough&&w.options.passThrough.includes(_)){if("children"in h){let{children:g,..._}=h,y=nQ(_);return y.children=w.all(h),y}return nQ(h)}let A=w.options.unknownHandler||defaultUnknownHandler;return A(w,h,g)},options:_,patch:state_patch,wrap};return lib_visit(h,function(h){if("definition"===h.type||"footnoteDefinition"===h.type){let g="definition"===h.type?y:A,_=String(h.identifier).toUpperCase();g.has(_)||g.set(_,h)}}),w}(h,g),y=_.one(h,void 0),A=function(h){let g="string"==typeof h.options.clobberPrefix?h.options.clobberPrefix:"user-content-",_=h.options.footnoteBackContent||defaultFootnoteBackContent,y=h.options.footnoteBackLabel||defaultFootnoteBackLabel,A=h.options.footnoteLabel||"Footnotes",b=h.options.footnoteLabelTagName||"h2",k=h.options.footnoteLabelProperties||{className:["sr-only"]},w=[],R=-1;for(;++R<h.footnoteOrder.length;){let A=h.footnoteById.get(h.footnoteOrder[R]);if(!A)continue;let b=h.all(A),k=String(A.identifier).toUpperCase(),B=normalizeUri(k.toLowerCase()),H=0,z=[],$=h.footnoteCounts.get(k);for(;void 0!==$&&++H<=$;){z.length>0&&z.push({type:"text",value:" "});let h="string"==typeof _?_:_(R,H);"string"==typeof h&&(h={type:"text",value:h}),z.push({type:"element",tagName:"a",properties:{href:"#"+g+"fnref-"+B+(H>1?"-"+H:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof y?y:y(R,H),className:["data-footnote-backref"]},children:Array.isArray(h)?h:[h]})}let j=b[b.length-1];if(j&&"element"===j.type&&"p"===j.tagName){let h=j.children[j.children.length-1];h&&"text"===h.type?h.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...z)}else b.push(...z);let q={type:"element",tagName:"li",properties:{id:g+"fn-"+B},children:h.wrap(b,!0)};h.patch(A,q),w.push(q)}if(0!==w.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:b,properties:{...nQ(k),id:"footnote-label"},children:[{type:"text",value:A}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:h.wrap(w,!0)},{type:"text",value:"\n"}]}}(_),b=Array.isArray(y)?{type:"root",children:y}:y||{type:"root",children:[]};return A&&b.children.push({type:"text",value:"\n"},A),b}function remarkRehype(h,g){return h&&"run"in h?async function(_,y){let A=toHast(_,{file:y,...g});await h.run(A,y)}:function(_,y){return toHast(_,{file:y,...h||g})}}function bail(h){if(h)throw h}var aQ=_(4470);function isPlainObject(h){if("object"!=typeof h||null===h)return!1;let g=Object.getPrototypeOf(h);return(null===g||g===Object.prototype||null===Object.getPrototypeOf(g))&&!(Symbol.toStringTag in h)&&!(Symbol.iterator in h)}let VFileMessage=class VFileMessage extends Error{constructor(h,g,_){super(),"string"==typeof g&&(_=g,g=void 0);let y="",A={},b=!1;if(g&&(A="line"in g&&"column"in g?{place:g}:"start"in g&&"end"in g?{place:g}:"type"in g?{ancestors:[g],place:g.position}:{...g}),"string"==typeof h?y=h:!A.cause&&h&&(b=!0,y=h.message,A.cause=h),!A.ruleId&&!A.source&&"string"==typeof _){let h=_.indexOf(":");-1===h?A.ruleId=_:(A.source=_.slice(0,h),A.ruleId=_.slice(h+1))}if(!A.place&&A.ancestors&&A.ancestors){let h=A.ancestors[A.ancestors.length-1];h&&(A.place=h.position)}let k=A.place&&"start"in A.place?A.place.start:A.place;this.ancestors=A.ancestors||void 0,this.cause=A.cause||void 0,this.column=k?k.column:void 0,this.fatal=void 0,this.file,this.message=y,this.line=k?k.line:void 0,this.name=stringifyPosition(A.place)||"1:1",this.place=A.place||void 0,this.reason=this.message,this.ruleId=A.ruleId||void 0,this.source=A.source||void 0,this.stack=b&&A.cause&&"string"==typeof A.cause.stack?A.cause.stack:"",this.actual,this.expected,this.note,this.url}};VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.column=void 0,VFileMessage.prototype.line=void 0,VFileMessage.prototype.ancestors=void 0,VFileMessage.prototype.cause=void 0,VFileMessage.prototype.fatal=void 0,VFileMessage.prototype.place=void 0,VFileMessage.prototype.ruleId=void 0,VFileMessage.prototype.source=void 0;let aj={basename:function(h,g){let _;if(void 0!==g&&"string"!=typeof g)throw TypeError('"ext" argument must be a string');assertPath(h);let y=0,A=-1,b=h.length;if(void 0===g||0===g.length||g.length>h.length){for(;b--;)if(47===h.codePointAt(b)){if(_){y=b+1;break}}else A<0&&(_=!0,A=b+1);return A<0?"":h.slice(y,A)}if(g===h)return"";let k=-1,w=g.length-1;for(;b--;)if(47===h.codePointAt(b)){if(_){y=b+1;break}}else k<0&&(_=!0,k=b+1),w>-1&&(h.codePointAt(b)===g.codePointAt(w--)?w<0&&(A=b):(w=-1,A=k));return y===A?A=k:A<0&&(A=h.length),h.slice(y,A)},dirname:function(h){let g;if(assertPath(h),0===h.length)return".";let _=-1,y=h.length;for(;--y;)if(47===h.codePointAt(y)){if(g){_=y;break}}else g||(g=!0);return _<0?47===h.codePointAt(0)?"/":".":1===_&&47===h.codePointAt(0)?"//":h.slice(0,_)},extname:function(h){let g;assertPath(h);let _=h.length,y=-1,A=0,b=-1,k=0;for(;_--;){let w=h.codePointAt(_);if(47===w){if(g){A=_+1;break}continue}y<0&&(g=!0,y=_+1),46===w?b<0?b=_:1!==k&&(k=1):b>-1&&(k=-1)}return b<0||y<0||0===k||1===k&&b===y-1&&b===A+1?"":h.slice(b,y)},join:function(...h){let g,_=-1;for(;++_<h.length;)assertPath(h[_]),h[_]&&(g=void 0===g?h[_]:g+"/"+h[_]);return void 0===g?".":function(h){assertPath(h);let g=47===h.codePointAt(0),_=function(h,g){let _,y,A="",b=0,k=-1,w=0,R=-1;for(;++R<=h.length;){if(R<h.length)_=h.codePointAt(R);else if(47===_)break;else _=47;if(47===_){if(k===R-1||1===w);else if(k!==R-1&&2===w){if(A.length<2||2!==b||46!==A.codePointAt(A.length-1)||46!==A.codePointAt(A.length-2)){if(A.length>2){if((y=A.lastIndexOf("/"))!==A.length-1){y<0?(A="",b=0):b=(A=A.slice(0,y)).length-1-A.lastIndexOf("/"),k=R,w=0;continue}}else if(A.length>0){A="",b=0,k=R,w=0;continue}}g&&(A=A.length>0?A+"/..":"..",b=2)}else A.length>0?A+="/"+h.slice(k+1,R):A=h.slice(k+1,R),b=R-k-1;k=R,w=0}else 46===_&&w>-1?w++:w=-1}return A}(h,!g);return 0!==_.length||g||(_="."),_.length>0&&47===h.codePointAt(h.length-1)&&(_+="/"),g?"/"+_:_}(g)},sep:"/"};function assertPath(h){if("string"!=typeof h)throw TypeError("Path must be a string. Received "+JSON.stringify(h))}let aY={cwd:function(){return"/"}};function isUrl(h){return!!(null!==h&&"object"==typeof h&&"href"in h&&h.href&&"protocol"in h&&h.protocol&&void 0===h.auth)}let aq=["history","path","basename","stem","extname","dirname"];let VFile=class VFile{constructor(h){let g,_;g=h?isUrl(h)?{path:h}:"string"==typeof h||h&&"object"==typeof h&&"byteLength"in h&&"byteOffset"in h?{value:h}:h:{},this.cwd="cwd"in g?"":aY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let y=-1;for(;++y<aq.length;){let h=aq[y];h in g&&void 0!==g[h]&&null!==g[h]&&(this[h]="history"===h?[...g[h]]:g[h])}for(_ in g)aq.includes(_)||(this[_]=g[_])}get basename(){return"string"==typeof this.path?aj.basename(this.path):void 0}set basename(h){assertNonEmpty(h,"basename"),assertPart(h,"basename"),this.path=aj.join(this.dirname||"",h)}get dirname(){return"string"==typeof this.path?aj.dirname(this.path):void 0}set dirname(h){lib_assertPath(this.basename,"dirname"),this.path=aj.join(h||"",this.basename)}get extname(){return"string"==typeof this.path?aj.extname(this.path):void 0}set extname(h){if(assertPart(h,"extname"),lib_assertPath(this.dirname,"extname"),h){if(46!==h.codePointAt(0))throw Error("`extname` must start with `.`");if(h.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=aj.join(this.dirname,this.stem+(h||""))}get path(){return this.history[this.history.length-1]}set path(h){isUrl(h)&&(h=function(h){if("string"==typeof h)h=new URL(h);else if(!isUrl(h)){let g=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+h+"`");throw g.code="ERR_INVALID_ARG_TYPE",g}if("file:"!==h.protocol){let h=TypeError("The URL must be of scheme file");throw h.code="ERR_INVALID_URL_SCHEME",h}return function(h){if(""!==h.hostname){let h=TypeError('File URL host must be "localhost" or empty on darwin');throw h.code="ERR_INVALID_FILE_URL_HOST",h}let g=h.pathname,_=-1;for(;++_<g.length;)if(37===g.codePointAt(_)&&50===g.codePointAt(_+1)){let h=g.codePointAt(_+2);if(70===h||102===h){let h=TypeError("File URL path must not include encoded / characters");throw h.code="ERR_INVALID_FILE_URL_PATH",h}}return decodeURIComponent(g)}(h)}(h)),assertNonEmpty(h,"path"),this.path!==h&&this.history.push(h)}get stem(){return"string"==typeof this.path?aj.basename(this.path,this.extname):void 0}set stem(h){assertNonEmpty(h,"stem"),assertPart(h,"stem"),this.path=aj.join(this.dirname||"",h+(this.extname||""))}fail(h,g,_){let y=this.message(h,g,_);throw y.fatal=!0,y}info(h,g,_){let y=this.message(h,g,_);return y.fatal=void 0,y}message(h,g,_){let y=new VFileMessage(h,g,_);return this.path&&(y.name=this.path+":"+y.name,y.file=this.path),y.fatal=!1,this.messages.push(y),y}toString(h){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;let g=new TextDecoder(h||void 0);return g.decode(this.value)}};function assertPart(h,g){if(h&&h.includes(aj.sep))throw Error("`"+g+"` cannot be a path: did not expect `"+aj.sep+"`")}function assertNonEmpty(h,g){if(!h)throw Error("`"+g+"` cannot be empty")}function lib_assertPath(h,g){if(!h)throw Error("Setting `"+g+"` requires `path` to be set too")}let CallableInstance=function(h){let g=this.constructor,_=g.prototype,y=_[h],apply=function(){return y.apply(apply,arguments)};return Object.setPrototypeOf(apply,_),apply},aW={}.hasOwnProperty;let Processor=class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){let h=[],g={run:function(...g){let _=-1,y=g.pop();if("function"!=typeof y)throw TypeError("Expected function as last argument, not "+y);(function next(A,...b){let k=h[++_],w=-1;if(A){y(A);return}for(;++w<g.length;)(null===b[w]||void 0===b[w])&&(b[w]=g[w]);g=b,k?(function(h,g){let _;return function(...g){let y;let A=h.length>g.length;A&&g.push(done);try{y=h.apply(this,g)}catch(h){if(A&&_)throw h;return done(h)}A||(y instanceof Promise?y.then(then,done):y instanceof Error?done(y):then(y))};function done(h,...y){_||(_=!0,g(h,...y))}function then(h){done(null,h)}})(k,next)(...b):y(null,...b)})(null,...g)},use:function(_){if("function"!=typeof _)throw TypeError("Expected `middelware` to be a function, not "+_);return h.push(_),g}};return g}()}copy(){let h=new Processor,g=-1;for(;++g<this.attachers.length;){let _=this.attachers[g];h.use(..._)}return h.data(aQ(!0,{},this.namespace)),h}data(h,g){return"string"==typeof h?2==arguments.length?(assertUnfrozen("data",this.frozen),this.namespace[h]=g,this):aW.call(this.namespace,h)&&this.namespace[h]||void 0:h?(assertUnfrozen("data",this.frozen),this.namespace=h,this):this.namespace}freeze(){if(this.frozen)return this;for(;++this.freezeIndex<this.attachers.length;){let[h,...g]=this.attachers[this.freezeIndex];if(!1===g[0])continue;!0===g[0]&&(g[0]=void 0);let _=h.call(this,...g);"function"==typeof _&&this.transformers.use(_)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(h){this.freeze();let g=vfile(h),_=this.parser||this.Parser;return assertParser("parse",_),_(String(g),g)}process(h,g){let _=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),g?executor(void 0,g):new Promise(executor);function executor(y,A){let b=vfile(h),k=_.parse(b);function realDone(h,_){h||!_?A(h):y?y(_):g(void 0,_)}_.run(k,b,function(h,g,y){if(h||!g||!y)return realDone(h);let A=_.stringify(g,y);"string"==typeof A||A&&"object"==typeof A&&"byteLength"in A&&"byteOffset"in A?y.value=A:y.result=A,realDone(h,y)})}}processSync(h){let g,_=!1;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(h,function(h,y){_=!0,bail(h),g=y}),assertDone("processSync","process",_),g}run(h,g,_){assertNode(h),this.freeze();let y=this.transformers;return _||"function"!=typeof g||(_=g,g=void 0),_?executor(void 0,_):new Promise(executor);function executor(A,b){let k=vfile(g);y.run(h,k,function(g,y,k){let w=y||h;g?b(g):A?A(w):_(void 0,w,k)})}}runSync(h,g){let _,y=!1;return this.run(h,g,function(h,g){bail(h),_=g,y=!0}),assertDone("runSync","run",y),_}stringify(h,g){this.freeze();let _=vfile(g),y=this.compiler||this.Compiler;return assertCompiler("stringify",y),assertNode(h),y(h,_)}use(h,...g){let _=this.attachers,y=this.namespace;if(assertUnfrozen("use",this.frozen),null==h);else if("function"==typeof h)addPlugin(h,g);else if("object"==typeof h)Array.isArray(h)?addList(h):addPreset(h);else throw TypeError("Expected usable value, not `"+h+"`");return this;function addPreset(h){if(!("plugins"in h)&&!("settings"in h))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");addList(h.plugins),h.settings&&(y.settings=aQ(!0,y.settings,h.settings))}function addList(h){let g=-1;if(null==h);else if(Array.isArray(h))for(;++g<h.length;){let _=h[g];!function(h){if("function"==typeof h)addPlugin(h,[]);else if("object"==typeof h){if(Array.isArray(h)){let[g,..._]=h;addPlugin(g,_)}else addPreset(h)}else throw TypeError("Expected usable value, not `"+h+"`")}(_)}else throw TypeError("Expected a list of plugins, not `"+h+"`")}function addPlugin(h,g){let y=-1,A=-1;for(;++y<_.length;)if(_[y][0]===h){A=y;break}if(-1===A)_.push([h,...g]);else if(g.length>0){let[y,...b]=g,k=_[A][1];isPlainObject(k)&&isPlainObject(y)&&(y=aQ(!0,k,y)),_[A]=[h,y,...b]}}}};let aX=new Processor().freeze();function assertParser(h,g){if("function"!=typeof g)throw TypeError("Cannot `"+h+"` without `parser`")}function assertCompiler(h,g){if("function"!=typeof g)throw TypeError("Cannot `"+h+"` without `compiler`")}function assertUnfrozen(h,g){if(g)throw Error("Cannot call `"+h+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(h){if(!isPlainObject(h)||"string"!=typeof h.type)throw TypeError("Expected node, got `"+h+"`")}function assertDone(h,g,_){if(!_)throw Error("`"+h+"` finished async. Use `"+g+"` instead")}function vfile(h){return h&&"object"==typeof h&&"message"in h&&"messages"in h?h:new VFile(h)}var aK={exports:{}},aJ={};aK.exports=function(){if(eN)return aJ;eN=1;var h=Symbol.for("react.element"),g=Symbol.for("react.fragment"),_=Object.prototype.hasOwnProperty,y=e$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A={key:!0,ref:!0,__self:!0,__source:!0};function x(g,b,k){var w,R={},B=null,H=null;for(w in void 0!==k&&(B=""+k),void 0!==b.key&&(B=""+b.key),void 0!==b.ref&&(H=b.ref),b)_.call(b,w)&&!A.hasOwnProperty(w)&&(R[w]=b[w]);if(g&&g.defaultProps)for(w in b=g.defaultProps)void 0===R[w]&&(R[w]=b[w]);return{$$typeof:h,type:g,key:B,ref:H,props:R,_owner:y.current}}return aJ.Fragment=g,aJ.jsx=x,aJ.jsxs=x,aJ}();var aZ=aK.exports;async function use_markdown_mr(h){let g=await aX().use(remarkParse).use(remarkGfm).use(remarkRehype,{allowDangerousHtml:!0}).use(rehypeRaw).use(rehypeStringify).processSync(h);return String(g)}var scroll_b=function(h){return function(){let g={type:h,getType:()=>h,toString:()=>h};return(h,_)=>({...g,...void 0!==h&&{payload:h},...void 0!==_&&{meta:_}})}},a0="@iiif/IMPORT_ENTITIES",a1="@iiif/MODIFY_ENTITY_FIELD",a2="@iiif/REORDER_ENTITY_FIELD",a3="@iiif/ADD_REFERENCE",a4="@iiif/UPDATE_REFERENCE",a5="@iiif/REMOVE_REFERENCE",a6="@iiif/ADD_METADATA",a8="@iiif/REMOVE_METADATA",a9="@iiif/UPDATE_METADATA",a7="@iiif/REORDER_METADATA",oe=scroll_b(a0)(),ot=scroll_b(a1)(),or=scroll_b(a2)(),oo=scroll_b(a3)(),ol=scroll_b(a5)(),oc=scroll_b(a4)(),ou=scroll_b(a6)(),od=scroll_b(a9)(),oh={importEntities:oe,modifyEntityField:ot,reorderEntityField:or,addReference:oo,removeReference:ol,updateReference:oc,addMetadata:ou,removeMetadata:scroll_b(a8)(),updateMetadata:od,reorderMetadata:scroll_b(a7)()},op="@iiif/ADD_MAPPING",of="@iiif/ADD_MAPPINGS",om=scroll_b(op)(),og=scroll_b(of)(),oE="RESOURCE_ERROR",o_="RESOURCE_LOADING",oT="RESOURCE_READY",ov="@iiif/REQUEST_RESOURCE",oy="@iiif/REQUEST_ERROR",oA="@iiif/REQUEST_MISMATCH",ob="@iiif/REQUEST_COMPLETE",oS=scroll_b(ov)(),oC=scroll_b(oy)(),ox=scroll_b(oA)(),oI=scroll_b(ob)(),ow="@iiif/BATCH",oO=scroll_b(ow)(),scroll_er=(h,g)=>{let{entities:_,resource:y,mapping:A}=Fe(g);if(void 0===y.id)return[oC({id:h,message:"ID is not defined in resource."})];let b=[oe({entities:_}),og({mapping:A})];return y.id!==h&&(b.push(om({id:h,type:y.type})),b.push(ox({requestId:h,actualId:y.id}))),b.push(oI({id:h})),b},oN=Number.isNaN||function(h){return"number"==typeof h&&h!=h};function scroll_be(h,g){if(!Array.isArray(h)||!Array.isArray(g))return h===g;if(h.length!==g.length)return!1;for(let A=0;A<h.length;A++){var _,y;if(!((_=h[A])===(y=g[A])||oN(_)&&oN(y)))return!1}return!0}function scroll_G(h,g,_){let y=h.iiif.requests[g],A=h.iiif.mapping[g];if(!A||!h.iiif.entities[A][y.resourceUri])return;let b=h.iiif.entities[A][y.resourceUri];if(b&&b[tl]){let h=b[tl].find(h=>h[tc]===b.id);return chunk_AXOUQGO3_oe(b,h)}return b}function scroll_we(h,g,{waitTimeout:_=30}={}){return(y,A)=>{let b=h.getStore(),k=b.getState(),w=k.iiif.requests[y];if(w){if(w.loadingState===oT){let h=scroll_G(k,y);if(h)return h}switch(w.loadingState){case oE:break;case o_:return(async()=>{let h,g=!1;try{let A=await Promise.race([new Promise((_,A)=>{g||(h=b.subscribe(()=>{let h=b.getState();if(h.iiif.requests[y].loadingState===oE){A();return}if(h.iiif.requests[y].loadingState===oT){let g=scroll_G(h,y);g?_(g):A()}}))}),new Promise((h,y)=>setTimeout(()=>{g=!0,y()},6e4*_))]);if(h&&h(),A)return A}catch{h&&h()}})()}}h.dispatch(oS({id:y}));let l=g=>{if(!g)return;g.id||g["@id"]||(g["@type"]&&(g["@id"]=y),g.id=y);let _=scroll_er(y,g);return h.dispatch(oO({actions:_})),scroll_G(b.getState(),y)};try{let _=g(y,A);return _&&"function"==typeof _.then?(async()=>{try{return l(await _)}catch(g){throw h.dispatch(oC({id:y,message:g.toString()})),g}})():l(_)}catch(g){throw h.dispatch(oC({id:y,message:g.toString()})),g}}}function scroll_it(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let oR={};var scroll_Ae=h=>{let g;let _=new Set,i=(h,y)=>{let A="function"==typeof h?h(g):h;if(!Object.is(A,g)){let h=g;g=y??("object"!=typeof A||null===A)?A:Object.assign({},g,A),_.forEach(_=>_(g,h))}},n=()=>g,y={setState:i,getState:n,getInitialState:()=>A,subscribe:h=>(_.add(h),()=>_.delete(h)),destroy:()=>{(oR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),_.clear()}},A=g=h(i,n,y);return y},scroll_ir=h=>h?scroll_Ae(h):scroll_Ae,oD="@iiif/SET_META_VALUE",oL="@iiif/SET_META_VALUE_DYNAMIC",oM="@iiif/UNSET_META_VALUE",oP={setMetaValue:scroll_b(oD)(),setMetaValueDynamic:scroll_b(oL)(),unsetMetaValue:scroll_b(oM)()};let oF={};var scroll_cr=(h,g)=>(_,y,A)=>(A.dispatch=g=>(_(_=>h(_,g),!1,g),g),A.dispatchFromDevtools=!0,{dispatch:(...h)=>A.dispatch(...h),...g}),oB=new Map,scroll_Q=h=>{let g=oB.get(h);return g?Object.fromEntries(Object.entries(g.stores).map(([h,g])=>[h,g.getState()])):{}},scroll_dr=(h,g,_)=>{if(void 0===h)return{type:"untracked",connection:g.connect(_)};let y=oB.get(_.name);if(y)return{type:"tracked",store:h,...y};let A={connection:g.connect(_),stores:{}};return oB.set(_.name,A),{type:"tracked",store:h,...A}},scroll_pr=(h,g={})=>(_,y,A)=>{let b;let{enabled:k,anonymousActionType:w,store:R,...B}=g;try{b=(k??(oF?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!b)return(oF?"production":void 0)!=="production"&&k&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),h(_,y,A);let{connection:H,...z}=scroll_dr(R,b,B),$=!0;A.setState=(h,g,b)=>{let k=_(h,g);if(!$)return k;let z=void 0===b?{type:w||"anonymous"}:"string"==typeof b?{type:b}:b;return void 0===R?null==H||H.send(z,y()):null==H||H.send({...z,type:`${R}/${z.type}`},{...scroll_Q(B.name),[R]:A.getState()}),k};let m=(...h)=>{let g=$;$=!1,_(...h),$=g},j=h(A.setState,y,A);if("untracked"===z.type?null==H||H.init(j):(z.stores[z.store]=A,null==H||H.init(Object.fromEntries(Object.entries(z.stores).map(([h,g])=>[h,h===z.store?j:g.getState()])))),A.dispatchFromDevtools&&"function"==typeof A.dispatch){let h=!1,g=A.dispatch;A.dispatch=(..._)=>{(oF?"production":void 0)==="production"||"__setState"!==_[0].type||h||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),h=!0),g(..._)}}return H.subscribe(h=>{var g;switch(h.type){case"ACTION":if("string"!=typeof h.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return scroll_J(h.payload,h=>{if("__setState"===h.type){if(void 0===R){m(h.state);return}1!==Object.keys(h.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let g=h.state[R];if(null==g)return;JSON.stringify(A.getState())!==JSON.stringify(g)&&m(g);return}A.dispatchFromDevtools&&"function"==typeof A.dispatch&&A.dispatch(h)});case"DISPATCH":switch(h.payload.type){case"RESET":return m(j),void 0===R?null==H?void 0:H.init(A.getState()):null==H?void 0:H.init(scroll_Q(B.name));case"COMMIT":if(void 0===R){null==H||H.init(A.getState());break}return null==H?void 0:H.init(scroll_Q(B.name));case"ROLLBACK":return scroll_J(h.state,h=>{if(void 0===R){m(h),null==H||H.init(A.getState());return}m(h[R]),null==H||H.init(scroll_Q(B.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return scroll_J(h.state,h=>{if(void 0===R){m(h);return}JSON.stringify(A.getState())!==JSON.stringify(h[R])&&m(h[R])});case"IMPORT_STATE":{let{nextLiftedState:_}=h.payload,y=null==(g=_.computedStates.slice(-1)[0])?void 0:g.state;if(!y)return;m(void 0===R?y:y[R]),null==H||H.send(null,_);break}case"PAUSE_RECORDING":return $=!$}return}}),j},scroll_J=(h,g)=>{let _;try{_=JSON.parse(h)}catch(h){console.error("[zustand devtools middleware] Could not parse the received json",h)}void 0!==_&&g(_)},scroll_hr=h=>(g,_,y)=>{let A=y.subscribe;return y.subscribe=(h,g,_)=>{let b=h;if(g){let A=(null==_?void 0:_.equalityFn)||Object.is,k=h(y.getState());b=_=>{let y=h(_);if(!A(k,y)){let h=k;g(k=y,h)}},null!=_&&_.fireImmediately&&g(k,k)}return A(b)},h(g,_,y)};function scroll_K(h,g,_,y){return!(!h[_]||!h[_][g]||!h[_][g][y]||!Array.isArray(h[_][g][y]))}function scroll_f(h){return h.payload}function scroll_ee(h,g){return typeof h>"u"?g:h}function scroll_lt(h={}){let g=Object.keys(h);return function(_={},y){let A=!1,b={};for(let k=0;k<g.length;k++){let w=g[k];b[w]=h[w](_[w],y),A=A||b[w]!==_[w]}return A?b:_}}var oU=scroll_lt({mapping:(h={},g)=>{switch(g.type){case op:return{...h,[g.payload.id]:g.payload.type};case of:return{...h,...g.payload.mapping};default:return h}},entities:(h=scroll_it(),g)=>{var _;let r=(_,y)=>({...h,[scroll_f(g).type]:{...h[scroll_f(g).type],[scroll_f(g).id]:{..._,...y}}});switch(g.type){case a1:{if(!h[scroll_f(g).type]||!h[scroll_f(g).type][scroll_f(g).id])return h;let _=h[scroll_f(g).type][scroll_f(g).id];return"string"==typeof _?h:r(_,{[scroll_f(g).key]:scroll_f(g).value})}case a2:{if(!scroll_K(h,scroll_f(g).id,scroll_f(g).type,scroll_f(g).key))return h;let _=h[scroll_f(g).type][scroll_f(g).id];if("string"==typeof _)return h;let y=Array.from(_[scroll_f(g).key]),[A]=y.splice(scroll_f(g).startIndex,1);return y.splice(scroll_f(g).endIndex,0,A),r(_,{[scroll_f(g).key]:y})}case a0:{let _=Object.keys(scroll_f(g).entities),y={...h};for(let A of _){let _=scroll_f(g).entities[A],b={...h[A]||{}},k=!1,w=Object.keys(_||{})||[];if(_&&w){for(let g of w)k=!0,b[g]=h[A][g]?function(h,g){let _={},y=[];for(let[A,b]of Object.entries(h||{})){y.push(A);let h=(g||{})[A];if(!h||0===h.length){_[A]=b;continue}_[A]=h}for(let[h,A]of Object.entries(g||{}))-1===y.indexOf(h)&&(_[h]=A);return _}(h[A][g],_[g]):_[g];k&&(y[A]=b)}}return y}case a3:{if(!scroll_K(h,scroll_f(g).id,scroll_f(g).type,scroll_f(g).key))return h;let _=h[scroll_f(g).type][scroll_f(g).id],y=Array.from(_[scroll_f(g).key]);return y.splice(scroll_ee(scroll_f(g).index,y.length+1),0,scroll_f(g).reference),r(_,{[scroll_f(g).key]:y})}case a4:case a5:{if(!scroll_K(h,scroll_f(g).id,scroll_f(g).type,scroll_f(g).key))return h;let y=h[scroll_f(g).type][scroll_f(g).id],A=Array.from(y[scroll_f(g).key]),b=scroll_ee(scroll_f(g).index,A.findIndex(h=>h&&h.id===scroll_f(g).reference.id));return -1===b||(null==(_=A[b])?void 0:_.id)!==scroll_f(g).reference.id?h:(g.type===a4?A.splice(b,1,scroll_f(g).reference):A.splice(b,1),r(y,{[scroll_f(g).key]:A}))}case a6:{let _=h[scroll_f(g).type][scroll_f(g).id];if(!_)return h;let y=Array.from(_.metadata||[]),A=scroll_f(g);return y.splice(scroll_ee(g.payload.beforeIndex,y.length+1),0,{label:A.label,value:A.label}),r(_,{metadata:y})}case a7:{let _=h[scroll_f(g).type][scroll_f(g).id];if("string"==typeof _||!_)return h;let y=Array.from(_.metadata||[]),[A]=y.splice(scroll_f(g).startIndex,1);return y.splice(scroll_f(g).endIndex,0,A),r(_,{metadata:y})}case a9:case a8:{let _=h[scroll_f(g).type][scroll_f(g).id],y=Array.from(_.metadata||[]),A=scroll_f(g).atIndex;return typeof A>"u"||-1===A||!y[A]?h:(g.type===a9?y.splice(A,1,{label:scroll_f(g).label,value:scroll_f(g).value}):y.splice(A,1),r(_,{metadata:y}))}default:return h}},requests:(h={},g)=>{switch(g.type){case ov:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...h,[g.payload.id]:{requestUri:g.payload.id,loadingState:o_,uriMismatch:!1,resourceUri:g.payload.id}};case oA:return{...h,[g.payload.requestId]:{...h[g.payload.requestId]||{},uriMismatch:!0,resourceUri:g.payload.actualId},[g.payload.actualId]:{requestUri:g.payload.requestId,loadingState:h[g.payload.requestId].loadingState,uriMismatch:!0,resourceUri:g.payload.actualId}};case oy:return{...h,[g.payload.id]:{...h[g.payload.id]||{},loadingState:oE,error:g.payload.message}};case ob:return{...h,[g.payload.id]:{...h[g.payload.id]||{},loadingState:oT,error:void 0}}}return h},meta:(h={},g)=>{let{id:_,updateValue:y,value:A,meta:b,key:k}=g&&g.payload||{};switch(g.type){case oD:return{...h,[_]:{...h[_]||{},[b]:{...h[_]&&h[_][b]||{},[k]:A}}};case oL:return{...h,[_]:{...h[_]||{},[b]:{...h[_]&&h[_][b]||{},[k]:y(h[_]&&h[_][b]?h[_][b][k]:void 0)}}};case oM:return h[_]&&h[_][b]&&h[_][b][k]?{...h,[_]:{...h[_]||{},[b]:{...h[_]&&h[_][b]||{},[k]:void 0}}}:h;default:return h}}}),oH=Object.defineProperty,Rr=(h,g,_)=>g in h?oH(h,g,{enumerable:!0,configurable:!0,writable:!0,value:_}):h[g]=_,scroll_T=(h,g,_)=>(Rr(h,"symbol"!=typeof g?g+"":g,_),_);function scroll_R(h,g,_,y=!0){g[o$]=g[o$]||[],g[o$].push(h);let A=new Map;Object.defineProperty(g,h,{enumerable:y,get(){if(typeof g[oG][h]>"u")return;let y=g[oG][h];if(!y)return y;let b=_.get(g[oG][h],{parent:this.id?{id:this.id,type:this.type}:void 0});return A.has(b)||(A.clear(),A.set(b,scroll_D(b,_))),A.get(b)},set(y){g[oG][h]!==y&&(this[oz]?_.modifyEntityField({id:this.id,type:this.type},h,function scroll_ct(h){return Array.isArray(h)?h.map(h=>scroll_ct(h)):h&&h.type?{id:h.id,type:h.type}:h}(y)):this[oG][h]=y)}})}var oG=Symbol.for("_refs_"),oz=Symbol.for("_reactive_"),o$=Symbol.for("_defined_"),oV=Symbol.for("_parent_");function scroll_D(h,g,_=!1,y){if(Array.isArray(h))return h.map(h=>scroll_D(h,g,_));if(!h||!h.type||!h.id)return h;let A=function(h,g=!1,_){let y={id:"",type:"unknown",[o$]:[],[oG]:{},[oV]:null,[oz]:null,is(h){return"string"==typeof h?this.id===h:!!h.id&&h.id===this.id},reactive(){if(!this[oz])return this[oz]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let h=this.unwrap();for(let g of Object.keys(h||{}))this[o$].includes(g)?this[oG][g]=h[g]:this[g]=h[g]}},unreactive(){this[oz]&&(this[oz](),this[oz]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let g=this[oV];return h.get(this.id,{parent:g?{id:g,type:"unknown"}:void 0})},toPresentation3(){return h.toPresentation3(this.unwrap())},toPresentation2(){return h.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(g,_=!0){return h.subscribe(()=>this.id?h.get(this.id):null,g,_)}};return scroll_R("items",y,h),scroll_R("annotations",y,h),scroll_R("structures",y,h),scroll_R("seeAlso",y,h),scroll_R("rendering",y,h),scroll_R("partOf",y,h),scroll_R("start",y,h,!1),scroll_R("supplementary",y,h),scroll_R("homepage",y,h),scroll_R("thumbnail",y,h),scroll_R("placeholderCanvas",y,h,!1),scroll_R("accompanyingCanvas",y,h,!1),scroll_R("provider",y,h),scroll_R("body",y,h),scroll_R("logo",y,h),y}(g,_),b=Object.create(A),k=Object.assign(b,h);return _&&k.reactive(),k}function scroll_Ie(h){switch(h){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return h}var oQ=class{constructor(h,g){var _;scroll_T(this,"options"),scroll_T(this,"store"),scroll_T(this,"emitter"),scroll_T(this,"isBatching",!1),scroll_T(this,"batchQueue",[]),scroll_T(this,"remoteFetcher"),scroll_T(this,"staticFetcher"),scroll_T(this,"defaultFetcher",h=>fetch(h).then(h=>h.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},h||{}),this.store=g||function(h={}){var g;let{enableDevtools:_=!1,iiifStoreName:y="iiif",defaultState:A={iiif:{entities:scroll_it(),meta:{},mapping:{},requests:{}}},customReducers:b={}}=h,k=(g=scroll_lt({[y]:oU,...b}),(h,_)=>_&&_.type===ow?_.payload.actions.reduce(g,h):_&&"@iiif/BATCH_IMPORT"===_.type?{...h,iiif:{...h.iiif,..._.payload.state}}:g(h,_)),w="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?scroll_pr:(h,g)=>h;return scroll_ir(scroll_hr(w(scroll_cr(k,A),{enabled:_})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:_=_||new Map,on:function(h,g){var y=_.get(h);y?y.push(g):_.set(h,[g])},off:function(h,g){var y=_.get(h);y&&(g?y.splice(y.indexOf(g)>>>0,1):_.set(h,[]))},emit:function(h,g){var y=_.get(h);y&&y.slice().map(function(h){h(g)}),(y=_.get("*"))&&y.slice().map(function(_){_(h,g)})}},this.remoteFetcher=scroll_we(this,this.options.customFetcher),this.staticFetcher=scroll_we(this,(h,g)=>g)}batch(h){this.isBatching=!0;try{h(this),this.isBatching=!1,this.dispatch(oO({actions:this.batchQueue}))}catch(h){throw this.batchQueue=[],this.isBatching=!1,h}this.batchQueue=[]}async asyncBatch(h){this.isBatching=!0;try{await h(this),this.isBatching=!1,this.dispatch(oO({actions:this.batchQueue}))}catch(h){throw this.batchQueue=[],this.isBatching=!1,h}this.batchQueue=[]}modifyEntityField(h,g,_){this.dispatch(oh.modifyEntityField({id:h.id,type:h.type,key:g,value:_}))}dispatch(h){if(this.isBatching)this.batchQueue.push(h);else{if(h.type===ow){for(let g of h.payload.actions)this.emitter.emit(g.type,{action:g,state:this.store.getState()});this.store.dispatch(h);let g=this.getState();for(let _ of h.payload.actions)this.emitter.emit(`after:${_.type}`,{action:_,state:g});return}this.emitter.emit(h.type,{action:h,state:this.store.getState()}),this.store.dispatch(h);let g=this.store.getState();this.emitter.emit(`after:${h.type}`,{action:h,state:g});return}}on(h,g){return this.emitter.on(h,g),()=>{this.emitter.off(h,g)}}serialize(h,g){return $e(this.getState().iiif,h,g)}toPresentation2(h){return this.serialize(h,ty)}toPresentation3(h){return this.serialize(h,tA)}hydrate(h,g,_={}){return this.get(h,g,{..._,skipSelfReturn:!1})}get(h,g,_={}){"string"!=typeof g&&(_=g||{},g=void 0);let{skipSelfReturn:y=!0}=_||{},A=_.parent?"string"==typeof _.parent?_.parent:_.parent.id:void 0;if(Array.isArray(h))return h.map(h=>this.get(h,_));let b=this.getState();if(chunk_W3DWL6UZ_v(h)&&!_.preserveSpecificResources&&(h=h.source),"string"==typeof h){let _=scroll_Ie(g||b.iiif.mapping[h]);if(!_)return y?null:{id:h,type:"unknown"};h={id:h,type:_}}if(h&&h.partOf&&!A&&!_.skipPartOfCheck){let g=Array.isArray(h.partOf)?h.partOf[0]:h.partOf;g&&("string"==typeof g&&(A=g),"string"==typeof g.id&&(A=g.id))}let k=scroll_Ie(g||(null==h?void 0:h.type)),w=null==h?void 0:h.id,R=b.iiif.entities[k];if(!R){let g=b.iiif.requests[w];return g&&g.resourceUri!==w?this.get(g.resourceUri,_):y?null:h}let B=R[h.id];if(B&&B[tl]){let h=B[tl].find(h=>A?h[tc]===A:h[tc]===B.id);return chunk_AXOUQGO3_oe(B,h)}return R[h.id]||(y?null:h)}select(h){return h(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(h,g){if(typeof h>"u")return this.get(g,{skipSelfReturn:!1});if("function"==typeof h)try{let _=h(this.get(g,{skipSelfReturn:!1})),n=h=>this.deep(h,_);return n.size=Array.isArray(_)?_.length:1,n}catch{let n=h=>this.deep(h,void 0);return n.size=0,n}let r=g=>this.deep(g,h);return r.size=Array.isArray(h)?h.length:1,r}loadManifest(h,g){let _="string"==typeof h?h:h.id;return this.load(_,g)}loadCollection(h,g){let _="string"==typeof h?h:h.id;return this.load(_,g)}load(h,g){let _="string"==typeof h?h:h.id;return g?Promise.resolve(this.staticFetcher(_,g)):Promise.resolve(this.remoteFetcher(_))}loadSync(h,g){let _="string"==typeof h?h:h.id;return this.staticFetcher(_,g)}loadManifestSync(h,g){let _="string"==typeof h?h:h.id;return this.loadSync(_,g)}loadCollectionSync(h,g){let _="string"==typeof h?h:h.id;return this.loadSync(_,g)}areInputsEqual(h,g){return scroll_be(h,g)}subscribe(h,g,_){return typeof _>"u"&&(typeof g>"u"||!1===g||!0===g)&&(_=g,g=h,h=h=>h),this.store.subscribe(h,h=>g(h,this),{equalityFn:scroll_be,fireImmediately:!_})}async ensureLoaded(h){let g="string"==typeof h?h:h.id;this.requestStatus(g)||await this.load(g)}requestStatus(h){return this.select(g=>g.iiif.requests[h])}getResourceMeta(h,g){let _=this.getState().iiif.meta[h];if(_)return g?_[g]:_}getObject(h,g,_={}){let{reactive:y,...A}=_;return scroll_D(this.get(h,g,A),this,y)}async loadObject(h,g){return scroll_D(await this.load(h,g),this)}async loadManifestObject(h,g){return scroll_D(await this.loadManifest(h,g),this)}async loadCollectionObject(h,g){return scroll_D(await this.loadCollection(h,g),this)}wrapObject(h){return scroll_D(this.get(h,{skipSelfReturn:!1}),this)}isWrapped(h){return!!h[o$]}setMetaValue([h,g,_],y){this.dispatch("function"==typeof y?oP.setMetaValueDynamic({id:h,meta:g,key:_,updateValue:y}):oP.setMetaValue({id:h,meta:g,key:_,value:y}))}};let oj={activeLanguages:void 0,annotations:[],manifest:void 0,options:{offset:0,figure:{display:"image-viewer",aspectRatio:100/61.8,width:"38.2%"},language:{defaultLanguages:void 0,enabled:!1,options:[]}},searchActiveMatch:void 0,searchMatches:void 0,searchString:void 0,vault:new oQ};function kr(h,g){switch(g.type){case"updateAnnotations":return{...h,annotations:g.payload};case"updateActiveLanguages":return{...h,activeLanguages:g.payload};case"updateSearchActiveMatch":return{...h,searchActiveMatch:g.payload};case"updateSearchMatches":return{...h,searchMatches:g.payload};case"updateSearchString":return{...h,searchString:g.payload};default:return h}}let oY=(0,e$.createContext)({dispatch:()=>null,state:oj}),scroll_Tr=h=>{var g;let{children:_,manifest:y}=h,A={...oj.options,...h.options},b=(null==(g=A.language)?void 0:g.defaultLanguages)||[],[k,w]=(0,e$.useReducer)(kr,{...oj,activeLanguages:b,options:A});return e$.createElement(oY.Provider,{value:{state:{...k,manifest:y,options:A},dispatch:w}},_)},Mr=(h,g="none")=>{if(!h)return null;if("string"==typeof h)return[h];if(!h[g]){let g=Object.getOwnPropertyNames(h);if(g.length>0)return h[g[0]]}return h[g]&&Array.isArray(h[g])?h[g]:null},scroll_Z=(h,g="none",_=", ")=>{let y=Mr(h,g);return Array.isArray(y)?y.join(`${_}`):y};function scroll_W(h,g){let _=Object.keys(h).filter(h=>g.includes(h)?null:h),y={};return _.forEach(g=>{y[g]=h[g]}),y}let{styled:oq,css:oW,keyframes:oX,createTheme:oK}=(0,ez.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),oJ=oq("span",{}),scroll_ut=h=>{let{as:g,label:_}=h,y=scroll_W(h,["as","label"]);return e$.createElement(oJ,{as:g,...y},scroll_Z(_,y.lang))},zr=(h,g="200,",_="full")=>{let y;Array.isArray(h)&&(h=h[0]);let{id:A,service:b}=h;if(!b)return A;if(Array.isArray(h.service)&&h.service.length>0&&(y=b[0]),y){if(y["@id"])return`${y["@id"]}/${_}/${g}/0/default.jpg`;if(y.id)return`${y.id}/${_}/${g}/0/default.jpg`}},oZ=oq("img",{objectFit:"cover"}),Fr=h=>{let g;let _=(0,e$.useRef)(null),{contentResource:y,altAsLabel:A,region:b="full"}=h;A&&(g=scroll_Z(A));let k=scroll_W(h,["contentResource","altAsLabel"]),{type:w,id:R,width:B=200,height:H=200,duration:z}=y;(0,e$.useEffect)(()=>{if(!R&&!_.current||["Image"].includes(w)||!R.includes("m3u8"))return;let h=new nF.ZP;return _.current&&(h.attachMedia(_.current),h.on(nF.ZP.Events.MEDIA_ATTACHED,function(){h.loadSource(R)})),h.on(nF.ZP.Events.ERROR,function(g,_){if(_.fatal)switch(_.type){case nF.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${g} network error encountered, try to recover`),h.startLoad();break;case nF.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${g} media error encountered, try to recover`),h.recoverMediaError();break;default:h.destroy()}}),()=>{h&&(h.detachMedia(),h.destroy())}},[R,w]);let $=(0,e$.useCallback)(()=>{if(!_.current)return;let h=0,g=30;if(z&&(g=z),!R.split("#t=")&&z&&(h=.1*z),R.split("#t=").pop()){let g=R.split("#t=").pop();g&&(h=parseInt(g.split(",")[0]))}let y=_.current;y.autoplay=!0,y.currentTime=h,setTimeout(()=>$(),1e3*g)},[z,R]);(0,e$.useEffect)(()=>$(),[$]);let j=zr(y,`${B},${H}`,b);switch(w){case"Image":return e$.createElement(oZ,{as:"img",alt:g,css:{width:B,height:H},key:R,src:j,...k});case"Video":return e$.createElement(oZ,{as:"video",css:{width:B,height:H},disablePictureInPicture:!0,key:R,loop:!0,muted:!0,onPause:$,ref:_,src:R});default:return console.warn(`Resource type: ${w} is not valid or not yet supported in Primitives.`),e$.createElement(e$.Fragment,null)}};oq("a",{});let o0={delimiter:", "},o1=(0,e$.createContext)(void 0),Br=()=>{let h=(0,e$.useContext)(o1);if(void 0===h)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return h},Vr=({children:h,initialState:g=o0})=>{let _=Ur(g,"delimiter");return e$.createElement(o1.Provider,{value:{delimiter:_}},h)},Ur=(h,g)=>Object.hasOwn(h,g)?h[g].toString():void 0,o2=oq("span",{}),scroll_ke=h=>{let{as:g,markup:_}=h,{delimiter:y}=Br();if(!_)return e$.createElement(e$.Fragment,null);let A=scroll_W(h,["as","markup"]),b={__html:nP(scroll_Z(_,A.lang,y),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return e$.createElement(o2,{as:g,...A,dangerouslySetInnerHTML:b})},jr=h=>e$.useContext(o1)?e$.createElement(scroll_ke,{...h}):e$.createElement(Vr,null,e$.createElement(scroll_ke,{...h}));oq("span",{}),oq("dl",{}),oq("li",{}),oq("ul",{}),oq("li",{}),oq("ul",{}),oq("dl",{}),oq("li",{}),oq("ul",{});let Wr=h=>{let{as:g,summary:_}=h,y=scroll_W(h,["as","customValueDelimiter","summary"]);return e$.createElement(jr,{as:g,markup:_,...y})},qr=h=>{let{thumbnail:g,region:_}=h,y=scroll_W(h,["thumbnail"]);return e$.createElement(e$.Fragment,null,g&&g.map(h=>e$.createElement(Fr,{contentResource:h,key:h.id,region:_,...y})))},o3=oq("div",{display:"flex",flexDirection:"row",alignItems:"center",background:"$primary",filter:"drop-shadow(2px 2px 5px #0002)",borderRadius:"2rem"}),o4=oq("div",{position:"absolute",zIndex:10,overflow:"hidden",height:"2rem",justifyContent:"space-between"}),o5=oq("header",{fontSize:"1",paddingBottom:"1.618rem",position:"relative",display:"flex",justifyContent:"space-between",zIndex:2,".clover-scroll-header-label":{fontWeight:"400",fontSize:"1.25rem"}}),o6=oq("section",{margin:"0",gap:"1rem",position:"relative",zIndex:0}),o8=oX({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),o9=oX({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),o7=oq(nU.Eh,{fill:"$secondaryAlt"}),se=oq(nU.x8,{position:"absolute",right:"0",top:"0",padding:"0.5rem",margin:"0",cursor:"pointer",border:"none",background:"none",fill:"inherit","&:hover":{opacity:"0.75"}}),sn=oq(nU.VY,{border:"none",backgroundColor:"white",fill:"inhrerit",padding:"1rem 2rem 1rem 1rem",width:"auto",minWidth:"200px",maxWidth:"350px",borderRadius:"3px",boxShadow:"5px 5px 13px #0002",animationDuration:"0.3s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",'&[data-side="top"]':{animationName:o9},'&[data-side="bottom"]':{animationName:o8},'&[data-align="end"]':{[`& ${o7}`]:{margin:"0 0.7rem"}}}),sr=oq(nU.xz,{display:"inline-flex",padding:"0.5rem 0",margin:"0 0.5rem 0 0",cursor:"pointer",border:"none",background:"none","> button, > span":{margin:"0"}}),si=oq(nU.fC,{boxSizing:"content-box"}),so=oq("div",{width:"2rem",height:"2rem",[`${sr}`]:{background:"$primary",width:"inherit",height:"inherit",display:"flex",justifyContent:"center",borderRadius:"2rem",padding:"0",justifyItems:"center",flexDirection:"column",alignItems:"center","&:hover":{background:"$accent"},svg:{fill:"$secondary"}},[`${sn}`]:{"> label":{fontSize:"0.8333rem",display:"flex",marginBottom:"0.5rem"}}}),sl=oq("div",{width:"1rem",height:"1rem",borderRadius:"3px",backgroundColor:"$secondaryMuted",border:"1px solid $secondaryAlt",display:"inline-flex",fontSize:"0.7222rem",alignContent:"center",justifyContent:"center",textAlign:"center",flexDirection:"column"}),sc=oq(nB.z$,{marginTop:"-1px"}),su=oq(nB.fC,{display:"flex",alignContent:"center",alignItems:"center",gap:"0.5rem",backgroundColor:"transparent",border:"none",fontFamily:"inherit",fontSize:"1rem",marginTop:"0.25rem","&[data-state='checked']":{[`${sl}`]:{backgroundColor:"$accent",borderColor:"$accent",color:"$secondary"}}}),on=({lang:h,isChecked:g})=>{var _;let{state:y,dispatch:A}=(0,e$.useContext)(oY),{activeLanguages:b,options:k}=y,{language:w}=k,R=((null==(_=null==w?void 0:w.options)?void 0:_.find(g=>Object.keys(g)[0]===h))||h)[h]||h;return e$.createElement(su,{checked:g,onCheckedChange:g=>{let _=g&&void 0!==b?[...b,h]:null==b?void 0:b.filter(g=>g!==h);A({type:"updateActiveLanguages",payload:_})}},e$.createElement(sl,null,e$.createElement(sc,null,"✓")),R)},sd=oq("svg",{display:"inline-flex",variants:{isLarge:{true:{height:"4rem",width:"4rem"}},isMedium:{true:{height:"2rem",width:"2rem"}},isSmall:{true:{height:"1rem",width:"1rem"}}}}),scroll_k=h=>e$.createElement(sd,{...h,"data-testid":"icon-svg",role:"img",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},h.children);scroll_k.Title=({children:h})=>e$.createElement("title",null,h),scroll_k.Add=()=>e$.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288M400 256H112"}),scroll_k.Audio=()=>e$.createElement(e$.Fragment,null,e$.createElement("path",{d:"M232 416a23.88 23.88 0 01-14.2-4.68 8.27 8.27 0 01-.66-.51L125.76 336H56a24 24 0 01-24-24V200a24 24 0 0124-24h69.75l91.37-74.81a8.27 8.27 0 01.66-.51A24 24 0 01256 120v272a24 24 0 01-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 01-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0128.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 01320 336z"}),e$.createElement("path",{d:"M368 384a16 16 0 01-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0127.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 01-13.87 8z"}),e$.createElement("path",{d:"M416 432a16 16 0 01-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1127-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 01416 432z"})),scroll_k.Close=()=>e$.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}),scroll_k.Download=()=>e$.createElement(e$.Fragment,null,e$.createElement("path",{d:"M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),e$.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 272l80 80 80-80M256 48v288"})),scroll_k.Image=()=>e$.createElement("path",{d:"M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z"}),scroll_k.Video=()=>e$.createElement("path",{d:"M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z"});let scroll_V=({children:h})=>e$.createElement(si,null,h);function scroll_yt(h){let g=new Set;return function r(h){Array.isArray(h)?h.forEach(r):h&&"object"==typeof h&&(h.language&&g.add(h.language),Object.values(h).forEach(r))}(h),Array.from(g)}scroll_V.Trigger=h=>e$.createElement(sr,{...h},h.children),scroll_V.Content=h=>e$.createElement(sn,{...h,sideOffset:5,collisionPadding:21},e$.createElement(o7,null),e$.createElement(se,null,e$.createElement(scroll_k,{isSmall:!0},e$.createElement(scroll_k.Close,null))),h.children),oq("div",{boxSizing:"border-box",display:"inline-flex",alignItems:"center",borderRadius:"5px",padding:"$1",marginBottom:"$2",marginRight:"$2",backgroundColor:"$lightGrey",color:"$richBlack50",textTransform:"uppercase",fontSize:"$2",objectFit:"contain",lineHeight:"1em !important","&:last-child":{marginRight:"0"},[`${sd}`]:{position:"absolute",left:"$1",height:"$3",width:"$3"},variants:{isIcon:{true:{position:"relative",paddingLeft:"$5"}}}});let fn=({title:h,style:g={}})=>e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:g},e$.createElement("title",null,h),e$.createElement("path",{d:"m455.77,49.65c-.53-.94-1.53-1.52-2.61-1.52h-1.46c-.9,0-1.76.41-2.33,1.11-7.48,9.2-14.92,20.42-22.14,33.34-.49.87-.51,1.93-.05,2.82,14.51,28.46,28.67,57.32,28.8,70.41-.1.12-.38.35-.96.57-.05.02-.1.04-.15.06-11.86,5.21-25.25,8.74-37.93,11.77-35.75,8.37-68.11,12.45-98.93,12.45-37.86,0-69.49-6.59-91.47-19.05-24.29-13.77-36.6-34.28-36.6-60.96,0-12.24,2.79-26.82,8.29-43.33.49-1.48-.23-3.1-1.67-3.71l-11.65-4.95c-1.43-.61-3.09-.02-3.82,1.35-11.8,22.23-17.54,45.74-17.54,71.9,0,35.09,14.3,62.03,42.49,80.08,24.82,15.89,60.52,24.29,103.24,24.29,57.18,0,132.5-18.87,159.14-35.1.42-.25.77-.61,1.02-1.03,8.99-15.08,15.86-28.36,15.86-50.18,0-35.58-22.59-78.13-29.52-90.32Z"}),e$.createElement("path",{d:"m321.24,273.28c-1.26-.92-3.01-.72-4.03.45-8.38,9.62-16.7,20.51-23.73,29.88-.95,1.27-.75,3.06.46,4.09,2.19,1.86,4.38,3.71,6.55,5.54,9.53,8.05,18.54,15.66,27.7,24.35.58.55,1.32.82,2.06.82.69,0,1.38-.24,1.95-.72,9.71-8.28,17.81-17.85,24.79-29.26.71-1.16.55-2.65-.39-3.63-11.73-12.33-23.62-22.94-35.36-31.52Z"}),e$.createElement("path",{d:"m256.38,433.6l-90-218c-4.64-11.23-17.5-16.58-28.73-11.94-5.41,2.23-9.71,6.53-11.94,11.94l-90,218c-4.69,11.21.59,24.1,11.8,28.79,11.21,4.69,24.1-.59,28.79-11.8.03-.07.06-.14.08-.2l18.33-44.39h102.67l18.33,44.39c3.4,8.24,11.43,13.61,20.34,13.61,12.15,0,21.99-9.86,21.99-22.01,0-2.88-.57-5.73-1.67-8.39h0Zm-143.5-71.6l33.17-80.35,33.17,80.35h-66.34Z"})),gn=()=>{let{state:h}=(0,e$.useContext)(oY),{activeLanguages:g,annotations:_}=h,y=_?scroll_yt(_):[];return e$.createElement(so,null,e$.createElement(scroll_V,null,e$.createElement(scroll_V.Trigger,null,e$.createElement(fn,{title:"language",style:{width:"18px",height:"18px"}})),e$.createElement(scroll_V.Content,null,e$.createElement("label",null,"Language"),y.map(h=>e$.createElement(on,{isChecked:null==g?void 0:g.includes(h),key:h,lang:h})))))},sh="255, 197, 32";oq("span",{fontWeight:"700"}),oq("div",{display:"flex",gap:"0.25rem"});let sp=oq("div",{fontSize:"0.9rem !important",color:"$secondaryAlt",margin:"0 0.5em"});oq("div",{display:"flex",flexDirection:"column",button:{backgroundColor:"#6660",opacity:"0.7",transition:"$all",padding:"0.5rem 0.618rem",fontSize:"0.9rem",lineHeight:"1.1rem",textAlign:"left",borderRadius:"2rem",border:"1px solid #6662",display:"flex",flexDirection:"column",gap:"0.25rem","&:hover":{opacity:"1",boxShadow:"5px 5px 13px #6662"},"&[data-result=true]":{backgroundColor:`rgba(${sh}, 0.2)`,borderColor:`rgba(${sh}, 0.2)`,opacity:"1","&:hover":{backgroundColor:`rgba(${sh}, 0.2)`}}}});let sf=oq("input",{margin:"0",background:"none",zIndex:"2",justifyContent:"center",display:"flex",alignItems:"center",fontSize:"1rem",fontFamily:"inherit",outline:"none !important",border:"none !important",color:"$secondary",cursor:"pointer",boxSizing:"content-box !important",flexGrow:"0",width:"2rem"}),sm=oq("button",{position:"absolute",zIndex:"3",border:"none",background:"transparent",color:"$secondary !important",fill:"$secondary !important",stroke:"$secondary !important",transition:"$all",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",flexDirection:"column",borderRadius:"2rem",height:"2rem",width:"2rem",svg:{color:"inherit",fill:"inherit",stroke:"inherit"}}),sg=oq("button",{opacity:"1",alignSelf:"center",margin:"0 0.25rem",fill:"$secondary",flexShrink:"0",border:"none",background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",flexDirection:"column",borderRadius:"2rem",height:"2rem",width:"2rem",svg:{color:"inherit",fill:"inherit"},'&[aria-disabled="true"]':{opacity:"0",display:"none"}}),sE=oq("form",{display:"flex",justifyContent:"space-between",transition:"$all",flexGrow:"1",height:"2rem",variants:{isPanelExpanded:{true:{[`${sm}`]:{marginLeft:"0",cursor:"text"},[`${sf}`]:{width:"100%",padding:"0 1rem 0 2rem",cursor:"text"}},false:{"&:hover":{backgroundColor:"$accent !important",borderRadius:"2rem"},[`${sm}`]:{cursor:"pointer"},[`${sf}`]:{cursor:"pointer","&::placeholder":{color:"transparent !important"}}}}}}),s_=oq("div",{display:"flex",alignItems:"center",gap:"0.25rem","&[data-active=true]":{paddingRight:"0.5rem"},button:{fontSize:"0.9em",fill:"$secondary",color:"$secondary",stroke:"$secondary",backgroundColor:"transparent",border:"none",svg:{fill:"inherit",color:"inherit",stroke:"inherit",width:"1.25em"}}}),xn=({activeIndex:h,searchString:g,total:_})=>{let y=0===_?e$.createElement(e$.Fragment,null,"No results for ",e$.createElement("strong",null,g)):e$.createElement(e$.Fragment,null,h+1," of ",_," results for ",e$.createElement("strong",null,g));return e$.createElement(sp,null,y)},scroll_Te=({title:h,style:g={}})=>e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:g},e$.createElement("title",null,h),e$.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M244 400L100 256l144-144M120 256h292"})),sT={charset:"latin:extra, arabic:extra, cyrillic:extra, cjk:extra",optimize:!0,tokenize:"full",resolution:9,document:{id:"id",index:"content"}},wn=()=>{let[h,g]=(0,e$.useState)(0),{dispatch:_,state:y}=(0,e$.useContext)(oY),{activeLanguages:A,annotations:b,searchString:k=""}=y,w=new nH.Z.Document(sT),R=[];null==b||b.forEach(h=>{var g;null==(g=null==h?void 0:h.body)||g.forEach(h=>{var g;if(!(null!=A&&A.includes(String(h.language))))return;let _=null==(g=null==h?void 0:h.value)?void 0:g.replace(/\n/g,"");R.push(null==h?void 0:h.id),w.add({id:null==h?void 0:h.id,content:_})})});let B=null==w?void 0:w.search(k).reduce((h,g)=>[...new Set([...h,...g.result])],[]),H=function(h,g){let _=RegExp(g,"gi"),y={total:0,matches:[]};return h.forEach(h=>{let g=h.body.id,A=h.body.value,b=[],k=0,w;for(console.log(w);null!==(w=_.exec(A));)k++,b.push(`${g}/${k}`);k>0&&(y.total+=k,y.matches.push({[g]:b}))}),y}(B.map(h=>null==b?void 0:b.filter(g=>g.body.find(g=>g.id===h)).map(g=>{let _=g.body.findIndex(g=>g.id===h);return{...g,body:g.body[_]}}).shift()),k),z=H.matches.flatMap(h=>Object.values(h).flat());return(0,e$.useEffect)(()=>{g(0),_({type:"updateSearchMatches",payload:H}),_({type:"updateSearchActiveMatch",payload:void 0})},[k]),(0,e$.useEffect)(()=>{_({type:"updateSearchActiveMatch",payload:z[h]})},[h,k]),e$.createElement(s_,{"data-active":!!k},k&&e$.createElement(xn,{activeIndex:h,searchString:k,total:H.total}),(null==H?void 0:H.total)!==0&&e$.createElement(e$.Fragment,null,e$.createElement("button",{onClick:()=>g(h=>h>0?h-1:z.length-1)},e$.createElement(scroll_Te,{title:"previous",style:{transform:"rotate(90deg)"}})),e$.createElement("button",{onClick:()=>g(h=>h<z.length-1?h+1:0)},e$.createElement(scroll_Te,{title:"next",style:{transform:"rotate(270deg)"}}))))},An=()=>e$.createElement("svg",{style:{width:"16px",height:"16px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e$.createElement("title",null,"search"),e$.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),Rn=()=>e$.createElement("svg",{style:{width:"16px",height:"16px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e$.createElement("title",null,"close"),e$.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),Cn=({togglePanel:h,isPanelExpanded:g})=>{let{dispatch:_,state:y}=(0,e$.useContext)(oY),{searchString:A}=y,b=(0,e$.useRef)(null),s=()=>b.current===document.activeElement&&h(!0),l=()=>{var g;null==(g=b.current)||g.blur(),d(),h(!1),_({payload:"",type:"updateSearchString"}),_({payload:void 0,type:"updateSearchActiveMatch"})},d=()=>{b.current&&(b.current.value="")},p=h=>{"Escape"===h.key&&(h.preventDefault(),l())};return(0,e$.useEffect)(()=>(null==document||document.addEventListener("keydown",p),()=>{null==document||document.removeEventListener("keydown",p)}),[]),(0,e$.useEffect)(()=>{if(null!=b&&b.current)return b.current.addEventListener("focus",s),b.current.addEventListener("blur",s),()=>{b.current&&(b.current.removeEventListener("focus",s),b.current.removeEventListener("blur",s))}},[]),e$.createElement(sE,{id:"scroll-search",autoComplete:"off",isPanelExpanded:g,"data-testid":"scroll-panel-search-form"},e$.createElement(sm,{onClick:h=>{var g;h.preventDefault(),null==(g=null==b?void 0:b.current)||g.focus()}},e$.createElement(An,null)),e$.createElement(sf,{ref:b,name:"clover-search",type:"text",placeholder:"Search...",defaultValue:A,onChange:h=>{var g;_({payload:null==(g=null==h?void 0:h.target)?void 0:g.value,type:"updateSearchString"})}}),e$.createElement(sg,{"aria-disabled":!g,"aria-label":"Close search panel",onClick:h=>{h.preventDefault(),l()},disabled:!g},e$.createElement(Rn,null)))},sv=oq("div",{display:"flex",position:"relative",zIndex:"1",maxWidth:"100%",transition:"$all",variants:{isPanelExpanded:{true:{zIndex:1,opacity:1,transform:"translateX(0)"},false:{zIndex:-1,opacity:0,transform:"translateX(-2.618rem)",transitionDelay:"0",transition:"none"}}}}),_n=({width:h,isFixed:g})=>{let _=(0,e$.useRef)(null),[y,A]=e$.useState(!1),{state:b}=(0,e$.useContext)(oY),{options:k}=b,{offset:w,language:R}=k,B=null==R?void 0:R.enabled,H=B?4.5:2;return e$.createElement(o4,{ref:_,"data-testid":"scroll-panel",style:{display:y?"unset":"inline-flex",left:y||g?"unset":`calc(${h}px - ${H}rem)`,marginLeft:y?`-${h}px`:g?`-${H}rem`:"unset",width:y?h:`${H}rem`,...g?{position:"fixed",top:g?w:0}:{}}},!y&&B&&e$.createElement(gn,null),e$.createElement(o3,null,e$.createElement(Cn,{togglePanel:function(h){A(h)},isPanelExpanded:y}),e$.createElement(sv,{"data-testid":"scroll-panel-results","data-panel-expanded":y,isPanelExpanded:y},y&&e$.createElement(wn,null))))},kn=({label:h})=>{let{state:g}=(0,e$.useContext)(oY),{options:_}=g,{offset:y}=_,A=(0,e$.useRef)(null),[b,k]=(0,e$.useState)(0),[w,R]=(0,e$.useState)(!1);return(0,e$.useEffect)(()=>{let h=A.current;if(!h)return;let g=new ResizeObserver(h=>{for(let g of h)g.contentRect&&k(g.contentRect.width)});return g.observe(h),()=>{g.disconnect()}},[]),(0,e$.useEffect)(()=>{let d=()=>{let h=A.current;h&&(h.getBoundingClientRect().top<=y?R(!0):R(!1))};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),e$.createElement(o5,{ref:A},e$.createElement(scroll_ut,{label:h,className:"clover-scroll-header-label"}),e$.createElement("div",null,e$.createElement(_n,{width:b,isFixed:w})))},sy=oq("article",{transition:"all 0.382s ease-in-out",display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:"2.618rem"}),sA=oq("div",{transition:"$all",flexShrink:0}),sb=oq("div",{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"flex-start","> div":{display:"flex",flexDirection:"row",gap:"2.618rem","> div":{width:"calc(100% / var(--num-items))",boxSizing:"border-box"}}}),sk=oq("hr",{margin:"0",borderColor:"transparent",height:"1.618rem",position:"relative",width:"61.8%",zIndex:0,marginLeft:"38.2%",display:"flex",justifyContent:"flex-end","&::before":{content:"attr(aria-label)",position:"absolute",right:"1.618rem",bottom:"0",zIndex:1,display:"flex",fontSize:"0.7222rem",fontWeight:"400",lineHeight:"1rem",background:"inherit",opacity:.7},"&::after":{content:"",width:"calc(100% -  2.618em)",position:"absolute",zIndex:0,height:"1px",background:"#6662"}}),sS=oq("div",{display:"flex",flexDirection:"column",gap:"2.618rem","&[data-figures-visible='true']":{[`& ${sA}`]:{opacity:1,zIndex:0,transform:"translateX(0)"}}}),sC=oq(nG.o,{}),sx=oq("figure",{figcaption:{display:"flex",flexDirection:"column",margin:"1.618rem 0 0",opacity:.9,gap:"0.382rem",em:{fontSize:"0.9em",fontStyle:"normal",opacity:.7}}}),Pn=({canvas:h,canvasInfo:{current:g,total:_}})=>e$.createElement("figcaption",null,e$.createElement("em",null,g," / ",_),(null==h?void 0:h.label)&&e$.createElement(scroll_ut,{label:null==h?void 0:h.label}),(null==h?void 0:h.summary)&&e$.createElement(Wr,{summary:null==h?void 0:h.summary,as:"p"})),sI=window.OpenSeadragon;if(!sI&&!(sI=eH))throw Error("OpenSeadragon is missing.");let sw="http://www.w3.org/2000/svg";sI.Viewer&&(sI.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new scroll_Et(this)),this._svgOverlayInfo});let scroll_Et=function(h){let g=this;this._viewer=h,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(sw,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(sw,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){g.resize()}),this._viewer.addHandler("open",function(){g.resize()}),this._viewer.addHandler("rotate",function(){g.resize()}),this._viewer.addHandler("flip",function(){g.resize()}),this._viewer.addHandler("resize",function(){g.resize()}),this.resize()};scroll_Et.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let h=this._viewer.viewport.pixelFromPoint(new sI.Point(0,0),!0),g=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),y=this._viewer.viewport.getFlip(),A=this._viewer.viewport._containerInnerSize.x,b=A*g,k=b;y&&(b=-b,h.x=-h.x+A),this._node.setAttribute("transform","translate("+h.x+","+h.y+") scale("+b+","+k+") rotate("+_+")")},onClick:function(h,g){new sI.MouseTracker({element:h,clickHandler:g}).setTracking(!0)}};let zn=h=>fetch(`${h.replace(/\/$/,"")}/info.json`).then(h=>h.json()).then(h=>h).catch(g=>{console.error(`The IIIF tilesource ${h.replace(/\/$/,"")}/info.json failed to load: ${g}`)}),Fn=h=>{let g,_;return Array.isArray(h)&&(g=h[0])&&(_="@id"in g?g["@id"]:g.id),_};var sO=((ec=sO||{}).TiledImage="tiledImage",ec.SimpleImage="simpleImage",ec);let Nn=h=>{let g=Array.isArray(null==h?void 0:h.service)&&(null==h?void 0:h.service.length)>0,_=g?Fn(null==h?void 0:h.service):null==h?void 0:h.id,y=g?sO.TiledImage:sO.SimpleImage;return{uri:_,imageType:y}},Bn=(h,g)=>{let _=g?sO.TiledImage:sO.SimpleImage;return{uri:h,imageType:_}},sN=oq("div",{display:"flex",flexDirection:"column",alignItems:"center"}),sR=oq("p",{fontWeight:"bold",fontSize:"x-large"}),sD=oq("span",{fontSize:"medium"}),jn=({error:h})=>{let{message:g}=h;return e$.createElement(sN,{role:"alert"},e$.createElement(sR,{"data-testid":"headline"},"Something went wrong"),g&&e$.createElement(sD,null,`Error message: ${g}`," "))},sL=oq("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),sM=oq("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),sP=oq("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${sL}`]:{display:"block"}},false:{[`${sL}`]:{display:"none"}}}}}),sF={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}},sB=(eu=null==(eD=null==(eR=null==sF?void 0:sF.informationPanel)?void 0:eR.vtt)?void 0:eD.autoScroll,k={...sF.informationPanel.vtt.autoScroll},"object"==typeof eu&&(k="enabled"in eu?eu:{enabled:!0,settings:eu}),!1===eu&&(k.enabled=!1),function({behavior:h,block:g}){let _=["auto","instant","smooth"],y=["center","end","nearest","start"];if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`);if(!y.includes(g))throw TypeError(`'${g}' not in ${y.join(" | ")}`)}(k.settings),k),sU={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:sF,customDisplays:[],plugins:[],isAutoScrollEnabled:sB.enabled,isAutoScrolling:!1,isInformationOpen:null==(eL=null==sF?void 0:sF.informationPanel)?void 0:eL.open,isLoaded:!1,isUserScrolling:void 0,vault:new oQ,contentSearchVault:new oQ,openSeadragonViewer:null,viewerId:esm_browser_v4()},sH=e$.createContext(sU),sG=e$.createContext(sU);function scroll_Oe(){let h=e$.useContext(sH);if(void 0===h)throw Error("useViewerState must be used within a ViewerProvider");return h}function scroll_xt(){let h=e$.useContext(sG);if(void 0===h)throw Error("useViewerDispatch must be used within a ViewerProvider");return h}let sz=oq("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),scroll_z=({className:h,id:g,label:_,children:y})=>{let A=_.toLowerCase().replace(/\s/g,"-");return e$.createElement(sz,{id:g,className:h,"data-testid":"openseadragon-button","data-button":A},e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${g}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},e$.createElement("title",{id:`${g}-svg-title`},_),y))},s$=oq("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),ti=()=>e$.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),ri=()=>e$.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),ni=()=>e$.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),ii=()=>e$.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),scroll_$e=()=>e$.createElement(e$.Fragment,null,e$.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),e$.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),oi=({_cloverViewerHasPlaceholder:h,config:g})=>{let _=scroll_Oe(),{activeCanvas:y,plugins:A,vault:b}=_,k=b.get({id:y,type:"Canvas"});return e$.createElement(s$,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:h},g.showZoomControl&&e$.createElement(e$.Fragment,null,e$.createElement(scroll_z,{id:g.zoomInButton,label:"zoom in"},e$.createElement(ti,null)),e$.createElement(scroll_z,{id:g.zoomOutButton,label:"zoom out"},e$.createElement(ri,null))),g.showFullPageControl&&e$.createElement(scroll_z,{id:g.fullPageButton,label:"full page"},e$.createElement(ni,null)),g.showRotationControl&&e$.createElement(e$.Fragment,null,e$.createElement(scroll_z,{id:g.rotateRightButton,label:"rotate right"},e$.createElement(scroll_$e,null)),e$.createElement(scroll_z,{id:g.rotateLeftButton,label:"rotate left"},e$.createElement(scroll_$e,null))),g.showHomeControl&&e$.createElement(scroll_z,{id:g.homeButton,label:"reset"},e$.createElement(ii,null)),A.filter(h=>{var g;return null==(g=h.imageViewer)?void 0:g.controls}).map((h,g)=>{var _,y,A,b;let w=null==(y=null==(_=h.imageViewer)?void 0:_.controls)?void 0:y.component;return e$.createElement(w,{key:g,...null==(b=null==(A=null==h?void 0:h.imageViewer)?void 0:A.controls)?void 0:b.componentProps,canvas:k,useViewerDispatch:scroll_xt,useViewerState:scroll_Oe})}))},ai=({ariaLabel:h,config:g,uri:_,_cloverViewerHasPlaceholder:y,imageType:A,openSeadragonCallback:b})=>{let[k,w]=(0,e$.useState)(),[R,B]=(0,e$.useState)(),H=scroll_xt(),z=(0,e$.useRef)(!1);return(0,e$.useEffect)(()=>(z.current||(z.current=!0,R||B(eH(g))),()=>null==R?void 0:R.destroy()),[]),(0,e$.useEffect)(()=>{R&&b&&b(R)},[R,b]),(0,e$.useEffect)(()=>{R&&_!==k&&(null==R||R.forceRedraw(),w(_))},[R,k,_]),(0,e$.useEffect)(()=>{if(k&&R)switch(A){case"simpleImage":null==R||R.addSimpleImage({url:k});break;case"tiledImage":zn(k).then(h=>{try{if(!h)throw Error(`No tile source found for ${k}`);null==R||R.addTiledImage({tileSource:h,success:()=>{"function"==typeof H&&H({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(h){console.error(h)}});break;default:null==R||R.close(),console.warn(`Unable to render ${k} in OpenSeadragon as type: "${A}"`)}},[A,k]),e$.createElement(sP,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":g.id,hasNavigator:g.showNavigator},e$.createElement(oi,{_cloverViewerHasPlaceholder:y,config:g}),g.showNavigator&&e$.createElement(sL,{id:g.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),e$.createElement(sM,{id:g.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...h&&{"aria-label":h}}))},scroll_li=({_cloverViewerHasPlaceholder:h=!1,body:g,instanceId:_,isTiledImage:y=!1,label:A,src:b="",openSeadragonCallback:k,openSeadragonConfig:w={}})=>{let R=_||esm_browser_v4(),B="string"==typeof A?A:scroll_Z(A),H={id:`openseadragon-${R}`,navigatorId:`openseadragon-navigator-${R}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${R}`,homeButton:`reset-${R}`,rotateLeftButton:`rotateLeft-${R}`,rotateRightButton:`rotateRight-${R}`,zoomInButton:`zoomIn-${R}`,zoomOutButton:`zoomOut-${R}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...w},{imageType:z,uri:$}=g?Nn(g):Bn(b,y);return $?e$.createElement(eG.SV,{FallbackComponent:jn},e$.createElement(ai,{_cloverViewerHasPlaceholder:h,ariaLabel:B,config:H,imageType:z,key:R,uri:$,openSeadragonCallback:k})):null},sV=oq("div",{width:"100%",height:"100%",background:"#6662",backgroundSize:"contain",color:"white",position:"relative",zIndex:"1",overflow:"hidden"}),sQ=e$.memo(({body:h,label:g})=>e$.createElement(sV,{"data-testid":"scroll-figure-image"},e$.createElement(scroll_li,{body:h,openSeadragonConfig:{showNavigator:!1,showHomeControl:!1},...g&&{label:g}}))),sj=e$.memo(({body:h,label:g})=>e$.createElement(sV,{"data-testid":"scroll-figure-thumbnail"},e$.createElement(qr,{thumbnail:[h],style:{width:"100%",height:"100%",objectFit:"contain",objectPosition:"center"},altAsLabel:g}))),mi=(h,g,_,y)=>{var A,b;let k={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(k.canvas=h.get(g),k.canvas&&(k.annotationPage=h.get(k.canvas.items[0]),k.accompanyingCanvas=null!=(A=k.canvas)&&A.accompanyingCanvas?h.get(null==(b=k.canvas)?void 0:b.accompanyingCanvas):void 0),k.annotationPage){let A=h.get(k.annotationPage.items).map(g=>({body:h.get(g.body[0].id),motivation:g.motivation,type:"Annotation"})),b=[];A.forEach(g=>{"Choice"===g.body.type?g.body.items.forEach(_=>b.push({...g,id:_.id,body:h.get(_.id)})):b.push(g)}),k.annotations=b.filter(A=>{if(A){if(!A.body||!A.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",A);return}let b=A.body;Array.isArray(b)&&(b=b[0]);let k=h.get(b.id);if(k)switch(_){case"painting":return A.target===g.id&&A.motivation&&"painting"===A.motivation[0]&&y.includes(k.type)&&(A.body=k),!!A;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return k},hi=(h,g)=>{let _=mi(h,{id:g,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==_.annotations.length&&_.annotations&&_.annotations)return _.annotations.map(h=>null==h?void 0:h.body)},fi=({canvas:h,canvasInfo:g})=>{let{state:_}=(0,e$.useContext)(oY),{vault:y,options:A}=_,{figure:b}=A,k=b.display?b.display:oj.options.figure.display,w=b.aspectRatio?b.aspectRatio:oj.options.figure.aspectRatio,R=hi(y,h.id);return R?e$.createElement(sx,null,null==R?void 0:R.map(g=>e$.createElement(sC,{ratio:w,key:null==g?void 0:g.id},"thumbnail"===k&&e$.createElement(sj,{body:g,label:null==h?void 0:h.label}),"image-viewer"===k&&e$.createElement(sQ,{label:null==h?void 0:h.label,body:g}))),e$.createElement(Pn,{canvas:h,canvasInfo:g})):null},sY="255, 197, 32",sq=oq("div",{opacity:"1","&[dir=rtl]":{textAlign:"right"},"&[data-active-language=false]":{opacity:"0",width:"0",height:"0"},ul:{padding:"1rem"},li:{listStyleType:"disc",li:{listStyleType:"circle"}},"span.clover-scroll-highlight":{position:"relative",fontWeight:"bold","&.active":{"&::before":{top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",borderRadius:"3px",border:`1px solid rgba(${sY}, 0.2)`,borderBottom:`1px solid rgba(${sY}, 0.618)`,boxShadow:"1px 1px 1px #6661"},"&::after":{left:"0",top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",marginTop:"-1px",borderRadius:"3px",backgroundColor:`rgba(${sY}, 0.2)`,zIndex:-1}},"&::before":{top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",borderRadius:"3px",border:"1px solid #6663",borderBottom:"1px solid #6664",boxShadow:"1px 1px 1px #6661"},"&::after":{left:"0",top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",marginTop:"-1px",borderRadius:"3px",backgroundColor:"#6661",zIndex:-1}}}),yi=({searchString:h="",content:g,stringLength:_=150})=>{let y=g.toLowerCase().indexOf(h.toLowerCase());if(-1!==y){let A=Math.max(0,y-_/2),b=Math.min(g.length,y+h.length+_/2);if(A>0){let h=g.lastIndexOf(" ",A+1);A=h>0?h+1:A}if(b<g.length){let h=g.indexOf(" ",b-1);b=h>-1?h:b}g=(A>0?"... ":"")+g.substring(A,b)+(b<g.length?" ...":"")}else g=g.substring(0,_)+"...";return g},vi=({body:h,numItems:g=1,stringLength:_,type:y="content"})=>{let A;let{state:b}=(0,e$.useContext)(oY),{activeLanguages:k,searchActiveMatch:w,searchString:R}=b,B=String(h.value);"snippet"==y&&(B=yi({searchString:R,content:B,stringLength:_}));let H=function(h){let[g,_]=e$.useState("");return e$.useEffect(()=>{(async()=>{let g=await use_markdown_mr(h);_(g)})()},[h]),{html:g,jsx:aZ.jsx("div",{dangerouslySetInnerHTML:{__html:g}})}}(B);if("text/plain"===h.format&&(A=null==B?void 0:B.replace(/\n/g,"<br />")),"text/markdown"===h.format&&(A=null==H?void 0:H.html),"text/html"===h.format&&(A=B),String(R)&&A){let g=1,_=RegExp(`(${R})`,"gi");A=null==A?void 0:A.replace(_,_=>{let y=`${h.id}/${g}`,A=w===y;return g+=1,`<span class="clover-scroll-highlight${A?" active":""}" data-index="${y}">${_}</span>`})}let z=[h.id,y].join("-"),$=["ar"].includes(String(h.language)),j=String(h.language);return(0,e$.useEffect)(()=>{if(w){let h=document.querySelector(`[data-index="${w}"]`);h&&h.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},[w]),A?e$.createElement(sq,{dangerouslySetInnerHTML:{__html:A},"data-active-language":null==k?void 0:k.includes(j),"data-body-id":z,"data-testid":"scroll-item-body",style:{"--num-items":g},id:z,dir:$?"rtl":"ltr",css:{fontSize:$?"1.3em":"1em"},lang:j}):null},sW=e$.memo(({hasItemBreak:h,isLastItem:g,item:_,itemCount:y,itemNumber:A})=>{var b;let{state:k}=e$.useContext(oY),{activeLanguages:w,annotations:R,vault:B,options:H}=k,{figure:z}=H,$=null==B?void 0:B.get(_),j=null==w?void 0:w.length,q=null==(b=null==R?void 0:R.filter(h=>{var g,y;return(null==(y=null==(g=h.target)?void 0:g.source)?void 0:y.id)===_.id}))?void 0:b.map(h=>null==h?void 0:h.body.map((h,g)=>e$.createElement(vi,{body:h,key:g,numItems:j})));return e$.createElement(e$.Fragment,null,e$.createElement(sy,{"data-page-break":h,"data-page-number":A,"data-last-item":g},e$.createElement(sA,{css:{width:z.width?z.width:oj.options.figure.width},"data-width":z.width},$&&e$.createElement(fi,{canvas:$,canvasInfo:{current:A,total:y}})),e$.createElement(sb,null,e$.createElement("div",null,null!=q&&q.length?q:e$.createElement("p",null,"[Blank]")))),h&&e$.createElement(sk,{"aria-label":"Page Break"}))}),xi=({items:h})=>e$.createElement(sS,null,h.map((g,_)=>{let y=_+1,A=y===h.length;return e$.createElement(sW,{item:g,hasItemBreak:y<h.length,isLastItem:A,key:g.id,itemCount:h.length,itemNumber:y})})),bi=(h,g)=>{let[_,y]=(0,e$.useState)([]);return(0,e$.useEffect)(()=>{if(!g)return;let _=[];null==h||h.forEach(h=>{var y;let A=g.get(h);null==(y=null==A?void 0:A.annotations)||y.forEach(h=>{var y;let A=g.get(h);null==(y=null==A?void 0:A.items)||y.forEach(h=>{var y;let A=g.get(h);A&&_.push({...A,body:null==(y=null==A?void 0:A.body)?void 0:y.map(h=>g.get(h))})})})});let A=_.reduce((h,g)=>(h.some(h=>h.id===g.id)||h.push(g),h),[]);y(A)},[h,g]),_},wi=({iiifContent:h})=>{let[g,_]=(0,e$.useState)(),{state:y,dispatch:A}=(0,e$.useContext)(oY),{options:b,vault:k}=y,w=bi(null==g?void 0:g.items,k);return(0,e$.useEffect)(()=>{k&&k.load(h).then(h=>h&&_(h)).catch(g=>console.error(`Manifest ${h} failed to load: ${g}`))},[h]),(0,e$.useEffect)(()=>{var h;let g=(null==(h=null==b?void 0:b.language)?void 0:h.defaultLanguages)||scroll_yt(w);console.log(w),A({type:"updateAnnotations",payload:w}),A({type:"updateActiveLanguages",payload:g})},[w]),g?e$.createElement(o6,null,g&&e$.createElement(e$.Fragment,null,e$.createElement(kn,{label:null==g?void 0:g.label}),e$.createElement(xi,{items:g.items}))):null},Fi=({iiifContent:h,options:g})=>e$.createElement(scroll_Tr,{options:g},e$.createElement(wi,{iiifContent:h}));var sX=_(9897),sK=_(5059),sJ=_(6609),sZ=_(2849),s0=_(5893);function useCallbackRef(h){let g=e$.useRef(h);return e$.useEffect(()=>{g.current=h}),e$.useMemo(()=>(...h)=>g.current?.(...h),[])}var s1=globalThis?.document?e$.useLayoutEffect:()=>{};function composeRefs(...h){return g=>h.forEach(h=>{"function"==typeof h?h(g):null!=h&&(h.current=g)})}function useComposedRefs(...h){return e$.useCallback(composeRefs(...h),h)}_(3935);var s2=e$.forwardRef((h,g)=>{let{children:_,...y}=h,A=e$.Children.toArray(_),b=A.find(isSlottable);if(b){let h=b.props.children,_=A.map(g=>g!==b?g:e$.Children.count(h)>1?e$.Children.only(null):e$.isValidElement(h)?h.props.children:null);return(0,s0.jsx)(s3,{...y,ref:g,children:e$.isValidElement(h)?e$.cloneElement(h,void 0,_):null})}return(0,s0.jsx)(s3,{...y,ref:g,children:_})});s2.displayName="Slot";var s3=e$.forwardRef((h,g)=>{let{children:_,...y}=h;if(e$.isValidElement(_)){let h,A;let b=(h=Object.getOwnPropertyDescriptor(_.props,"ref")?.get)&&"isReactWarning"in h&&h.isReactWarning?_.ref:(h=Object.getOwnPropertyDescriptor(_,"ref")?.get)&&"isReactWarning"in h&&h.isReactWarning?_.props.ref:_.props.ref||_.ref;return e$.cloneElement(_,{...function(h,g){let _={...g};for(let y in g){let A=h[y],b=g[y],k=/^on[A-Z]/.test(y);k?A&&b?_[y]=(...h)=>{b(...h),A(...h)}:A&&(_[y]=A):"style"===y?_[y]={...A,...b}:"className"===y&&(_[y]=[A,b].filter(Boolean).join(" "))}return{...h,..._}}(y,_.props),ref:g?composeRefs(g,b):b})}return e$.Children.count(_)>1?e$.Children.only(null):null});s3.displayName="SlotClone";var Slottable=({children:h})=>(0,s0.jsx)(s0.Fragment,{children:h});function isSlottable(h){return e$.isValidElement(h)&&h.type===Slottable}var s4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((h,g)=>{let _=e$.forwardRef((h,_)=>{let{asChild:y,...A}=h,b=y?s2:g;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s0.jsx)(b,{...A,ref:_})});return _.displayName=`Primitive.${g}`,{...h,[g]:_}},{}),Presence=h=>{let g,_;let{present:y,children:A}=h,b=function(h){var g;let[_,y]=e$.useState(),A=e$.useRef({}),b=e$.useRef(h),k=e$.useRef("none"),w=h?"mounted":"unmounted",[R,B]=(g={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},e$.useReducer((h,_)=>{let y=g[h][_];return y??h},w));return e$.useEffect(()=>{let h=getAnimationName(A.current);k.current="mounted"===R?h:"none"},[R]),s1(()=>{let g=A.current,_=b.current,y=_!==h;if(y){let y=k.current,A=getAnimationName(g);h?B("MOUNT"):"none"===A||g?.display==="none"?B("UNMOUNT"):_&&y!==A?B("ANIMATION_OUT"):B("UNMOUNT"),b.current=h}},[h,B]),s1(()=>{if(_){let h;let g=_.ownerDocument.defaultView??window,handleAnimationEnd=y=>{let k=getAnimationName(A.current),w=k.includes(y.animationName);if(y.target===_&&w&&(B("ANIMATION_END"),!b.current)){let y=_.style.animationFillMode;_.style.animationFillMode="forwards",h=g.setTimeout(()=>{"forwards"===_.style.animationFillMode&&(_.style.animationFillMode=y)})}},handleAnimationStart=h=>{h.target===_&&(k.current=getAnimationName(A.current))};return _.addEventListener("animationstart",handleAnimationStart),_.addEventListener("animationcancel",handleAnimationEnd),_.addEventListener("animationend",handleAnimationEnd),()=>{g.clearTimeout(h),_.removeEventListener("animationstart",handleAnimationStart),_.removeEventListener("animationcancel",handleAnimationEnd),_.removeEventListener("animationend",handleAnimationEnd)}}B("ANIMATION_END")},[_,B]),{isPresent:["mounted","unmountSuspended"].includes(R),ref:e$.useCallback(h=>{h&&(A.current=getComputedStyle(h)),y(h)},[])}}(y),k="function"==typeof A?A({present:b.isPresent}):e$.Children.only(A),w=useComposedRefs(b.ref,(g=Object.getOwnPropertyDescriptor(k.props,"ref")?.get)&&"isReactWarning"in g&&g.isReactWarning?k.ref:(g=Object.getOwnPropertyDescriptor(k,"ref")?.get)&&"isReactWarning"in g&&g.isReactWarning?k.props.ref:k.props.ref||k.ref),R="function"==typeof A;return R||b.isPresent?e$.cloneElement(k,{ref:w}):null};function getAnimationName(h){return h?.animationName||"none"}Presence.displayName="Presence";var s5=eV["useId".toString()]||(()=>void 0),s6=0,s8="Collapsible",[s9,s7]=function(h,g=[]){let _=[],createScope=()=>{let g=_.map(h=>e$.createContext(h));return function(_){let y=_?.[h]||g;return e$.useMemo(()=>({[`__scope${h}`]:{..._,[h]:y}}),[_,y])}};return createScope.scopeName=h,[function(g,y){let A=e$.createContext(y),b=_.length;_=[..._,y];let Provider=g=>{let{scope:_,children:y,...k}=g,w=_?.[h]?.[b]||A,R=e$.useMemo(()=>k,Object.values(k));return(0,s0.jsx)(w.Provider,{value:R,children:y})};return Provider.displayName=g+"Provider",[Provider,function(_,k){let w=k?.[h]?.[b]||A,R=e$.useContext(w);if(R)return R;if(void 0!==y)return y;throw Error(`\`${_}\` must be used within \`${g}\``)}]},function(...h){let g=h[0];if(1===h.length)return g;let createScope=()=>{let _=h.map(h=>({useScope:h(),scopeName:h.scopeName}));return function(h){let y=_.reduce((g,{useScope:_,scopeName:y})=>{let A=_(h),b=A[`__scope${y}`];return{...g,...b}},{});return e$.useMemo(()=>({[`__scope${g.scopeName}`]:y}),[y])}};return createScope.scopeName=g.scopeName,createScope}(createScope,...g)]}(s8),[le,lt]=s9(s8),ln=e$.forwardRef((h,g)=>{let{__scopeCollapsible:_,open:y,defaultOpen:A,disabled:b,onOpenChange:k,...w}=h,[R=!1,B]=function({prop:h,defaultProp:g,onChange:_=()=>{}}){let[y,A]=function({defaultProp:h,onChange:g}){let _=e$.useState(h),[y]=_,A=e$.useRef(y),b=useCallbackRef(g);return e$.useEffect(()=>{A.current!==y&&(b(y),A.current=y)},[y,A,b]),_}({defaultProp:g,onChange:_}),b=void 0!==h,k=b?h:y,w=useCallbackRef(_),R=e$.useCallback(g=>{if(b){let _="function"==typeof g?g(h):g;_!==h&&w(_)}else A(g)},[b,h,A,w]);return[k,R]}({prop:y,defaultProp:A,onChange:k});return(0,s0.jsx)(le,{scope:_,disabled:b,contentId:function(h){let[g,_]=e$.useState(s5());return s1(()=>{h||_(h=>h??String(s6++))},[h]),h||(g?`radix-${g}`:"")}(),open:R,onOpenToggle:e$.useCallback(()=>B(h=>!h),[B]),children:(0,s0.jsx)(s4.div,{"data-state":getState(R),"data-disabled":b?"":void 0,...w,ref:g})})});ln.displayName=s8;var li="CollapsibleTrigger",lo=e$.forwardRef((h,g)=>{let{__scopeCollapsible:_,...y}=h,A=lt(li,_);return(0,s0.jsx)(s4.button,{type:"button","aria-controls":A.contentId,"aria-expanded":A.open||!1,"data-state":getState(A.open),"data-disabled":A.disabled?"":void 0,disabled:A.disabled,...y,ref:g,onClick:function(h,g,{checkForDefaultPrevented:_=!0}={}){return function(y){if(h?.(y),!1===_||!y.defaultPrevented)return g?.(y)}}(h.onClick,A.onOpenToggle)})});lo.displayName=li;var ll="CollapsibleContent",lc=e$.forwardRef((h,g)=>{let{forceMount:_,...y}=h,A=lt(ll,h.__scopeCollapsible);return(0,s0.jsx)(Presence,{present:_||A.open,children:({present:h})=>(0,s0.jsx)(lu,{...y,ref:g,present:h})})});lc.displayName=ll;var lu=e$.forwardRef((h,g)=>{let{__scopeCollapsible:_,present:y,children:A,...b}=h,k=lt(ll,_),[w,R]=e$.useState(y),B=e$.useRef(null),H=useComposedRefs(g,B),z=e$.useRef(0),$=z.current,j=e$.useRef(0),q=j.current,W=k.open||w,K=e$.useRef(W),ee=e$.useRef();return e$.useEffect(()=>{let h=requestAnimationFrame(()=>K.current=!1);return()=>cancelAnimationFrame(h)},[]),s1(()=>{let h=B.current;if(h){ee.current=ee.current||{transitionDuration:h.style.transitionDuration,animationName:h.style.animationName},h.style.transitionDuration="0s",h.style.animationName="none";let g=h.getBoundingClientRect();z.current=g.height,j.current=g.width,K.current||(h.style.transitionDuration=ee.current.transitionDuration,h.style.animationName=ee.current.animationName),R(y)}},[k.open,y]),(0,s0.jsx)(s4.div,{"data-state":getState(k.open),"data-disabled":k.disabled?"":void 0,id:k.contentId,hidden:!W,...b,ref:H,style:{"--radix-collapsible-content-height":$?`${$}px`:void 0,"--radix-collapsible-content-width":q?`${q}px`:void 0,...h.style},children:W&&A})});function getState(h){return h?"open":"closed"}var ld=_(1876).Buffer,lh=_(4782),lp=_(1073),lf=_(9821),lm=_(7462),lg=_(6206),lE=_(8771),l_=_(5360),lT=_(1276),lv=_(5320);(h,g)=>(0,e$.createElement)(lv.WV.label,(0,lm.Z)({},h,{ref:g,onMouseDown:g=>{var _;null===(_=h.onMouseDown)||void 0===_||_.call(h,g),!g.defaultPrevented&&g.detail>1&&g.preventDefault()}}));let[ly,lA]=(0,l_.b)("Form"),lb="Form",[lk,lS]=ly(lb),[lC,lx]=ly(lb),lI=(0,e$.forwardRef)((h,g)=>{let{__scopeForm:_,onClearServerErrors:y=()=>{},...A}=h,b=(0,e$.useRef)(null),k=(0,lE.e)(g,b),[w,R]=(0,e$.useState)({}),B=(0,e$.useCallback)(h=>w[h],[w]),H=(0,e$.useCallback)((h,g)=>R(_=>{var y;return{..._,[h]:{...null!==(y=_[h])&&void 0!==y?y:{},...g}}}),[]),z=(0,e$.useCallback)(h=>{R(g=>({...g,[h]:void 0})),et(g=>({...g,[h]:{}}))},[]),[$,j]=(0,e$.useState)({}),q=(0,e$.useCallback)(h=>{var g;return null!==(g=$[h])&&void 0!==g?g:[]},[$]),W=(0,e$.useCallback)((h,g)=>{j(_=>{var y;return{..._,[h]:[...null!==(y=_[h])&&void 0!==y?y:[],g]}})},[]),K=(0,e$.useCallback)((h,g)=>{j(_=>{var y;return{..._,[h]:(null!==(y=_[h])&&void 0!==y?y:[]).filter(h=>h.id!==g)}})},[]),[ee,et]=(0,e$.useState)({}),en=(0,e$.useCallback)(h=>{var g;return null!==(g=ee[h])&&void 0!==g?g:{}},[ee]),er=(0,e$.useCallback)((h,g)=>{et(_=>{var y;return{..._,[h]:{...null!==(y=_[h])&&void 0!==y?y:{},...g}}})},[]),[ei,es]=(0,e$.useState)({}),el=(0,e$.useCallback)((h,g)=>{es(_=>{let y=new Set(_[h]).add(g);return{..._,[h]:y}})},[]),ec=(0,e$.useCallback)((h,g)=>{es(_=>{let y=new Set(_[h]);return y.delete(g),{..._,[h]:y}})},[]),eu=(0,e$.useCallback)(h=>{var g;return Array.from(null!==(g=ei[h])&&void 0!==g?g:[]).join(" ")||void 0},[ei]);return(0,e$.createElement)(lk,{scope:_,getFieldValidity:B,onFieldValidityChange:H,getFieldCustomMatcherEntries:q,onFieldCustomMatcherEntryAdd:W,onFieldCustomMatcherEntryRemove:K,getFieldCustomErrors:en,onFieldCustomErrorsChange:er,onFieldValiditionClear:z},(0,e$.createElement)(lC,{scope:_,onFieldMessageIdAdd:el,onFieldMessageIdRemove:ec,getFieldDescription:eu},(0,e$.createElement)(lv.WV.form,(0,lm.Z)({},A,{ref:k,onInvalid:(0,lg.M)(h.onInvalid,h=>{let g=$d94698215c4408a7$var$getFirstInvalidControl(h.currentTarget);g===h.target&&g.focus(),h.preventDefault()}),onSubmit:(0,lg.M)(h.onSubmit,y,{checkForDefaultPrevented:!1}),onReset:(0,lg.M)(h.onReset,y)}))))}),lw="FormField",[lO,lN]=ly(lw),lR=(0,e$.forwardRef)((h,g)=>{let{__scopeForm:_,name:y,serverInvalid:A=!1,...b}=h,k=lS(lw,_),w=k.getFieldValidity(y),R=(0,lT.M)();return(0,e$.createElement)(lO,{scope:_,id:R,name:y,serverInvalid:A},(0,e$.createElement)(lv.WV.div,(0,lm.Z)({"data-valid":$d94698215c4408a7$var$getValidAttribute(w,A),"data-invalid":$d94698215c4408a7$var$getInvalidAttribute(w,A)},b,{ref:g})))}),lD="FormControl",lL=(0,e$.forwardRef)((h,g)=>{let{__scopeForm:_,...y}=h,A=lS(lD,_),b=lN(lD,_),k=lx(lD,_),w=(0,e$.useRef)(null),R=(0,lE.e)(g,w),B=y.name||b.name,H=y.id||b.id,z=A.getFieldCustomMatcherEntries(B),{onFieldValidityChange:$,onFieldCustomErrorsChange:j,onFieldValiditionClear:q}=A,W=(0,e$.useCallback)(async h=>{if($d94698215c4408a7$var$hasBuiltInError(h.validity)){let g=$d94698215c4408a7$var$validityStateToObject(h.validity);$(B,g);return}let g=h.form?new FormData(h.form):new FormData,_=[h.value,g],y=[],A=[];z.forEach(h=>{"AsyncFunction"===h.match.constructor.name||(0,h.match)(..._) instanceof Promise?A.push(h):"Function"===h.match.constructor.name&&y.push(h)});let b=y.map(({id:h,match:g})=>[h,g(..._)]),k=Object.fromEntries(b),w=Object.values(k).some(Boolean);h.setCustomValidity(w?lM:"");let R=$d94698215c4408a7$var$validityStateToObject(h.validity);if($(B,R),j(B,k),!w&&A.length>0){let g=A.map(({id:h,match:g})=>g(..._).then(g=>[h,g])),y=await Promise.all(g),b=Object.fromEntries(y),k=Object.values(b).some(Boolean);h.setCustomValidity(k?lM:"");let w=$d94698215c4408a7$var$validityStateToObject(h.validity);$(B,w),j(B,b)}},[z,B,j,$]);(0,e$.useEffect)(()=>{let h=w.current;if(h){let handleChange=()=>W(h);return h.addEventListener("change",handleChange),()=>h.removeEventListener("change",handleChange)}},[W]);let K=(0,e$.useCallback)(()=>{let h=w.current;h&&(h.setCustomValidity(""),q(B))},[B,q]);(0,e$.useEffect)(()=>{var h;let g=null===(h=w.current)||void 0===h?void 0:h.form;if(g)return g.addEventListener("reset",K),()=>g.removeEventListener("reset",K)},[K]),(0,e$.useEffect)(()=>{let h=w.current,g=null==h?void 0:h.closest("form");if(g&&b.serverInvalid){let _=$d94698215c4408a7$var$getFirstInvalidControl(g);_===h&&_.focus()}},[b.serverInvalid]);let ee=A.getFieldValidity(B);return(0,e$.createElement)(lv.WV.input,(0,lm.Z)({"data-valid":$d94698215c4408a7$var$getValidAttribute(ee,b.serverInvalid),"data-invalid":$d94698215c4408a7$var$getInvalidAttribute(ee,b.serverInvalid),"aria-invalid":!!b.serverInvalid||void 0,"aria-describedby":k.getFieldDescription(B),title:""},y,{ref:R,id:H,name:B,onInvalid:(0,lg.M)(h.onInvalid,h=>{let g=h.currentTarget;W(g)}),onChange:(0,lg.M)(h.onChange,h=>{K()})}))}),lM="This value is not valid",lP={badInput:lM,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},lF="FormMessage",lB=((h,g)=>{let{match:_,forceMatch:y=!1,name:A,children:b,...k}=h,w=lS(lF,k.__scopeForm),R=w.getFieldValidity(A),B=y||(null==R?void 0:R[_]);return B?(0,e$.createElement)(lB,(0,lm.Z)({ref:g},k,{name:A}),null!=b?b:lP[_]):null},(0,e$.forwardRef)((h,g)=>{let{__scopeForm:_,id:y,name:A,...b}=h,k=lx(lF,_),w=(0,lT.M)(),R=null!=y?y:w,{onFieldMessageIdAdd:B,onFieldMessageIdRemove:H}=k;return(0,e$.useEffect)(()=>(B(A,R),()=>H(A,R)),[A,R,B,H]),(0,e$.createElement)(lv.WV.span,(0,lm.Z)({id:R},b,{ref:g}))})),lU=(0,e$.forwardRef)((h,g)=>{let{__scopeForm:_,...y}=h;return(0,e$.createElement)(lv.WV.button,(0,lm.Z)({type:"submit"},y,{ref:g}))});function $d94698215c4408a7$var$validityStateToObject(h){let g={};for(let _ in h)g[_]=h[_];return g}function $d94698215c4408a7$var$isHTMLElement(h){return h instanceof HTMLElement}function $d94698215c4408a7$var$isInvalid(h){return"validity"in h&&(!1===h.validity.valid||"true"===h.getAttribute("aria-invalid"))}function $d94698215c4408a7$var$getFirstInvalidControl(h){let g=h.elements,[_]=Array.from(g).filter($d94698215c4408a7$var$isHTMLElement).filter($d94698215c4408a7$var$isInvalid);return _}function $d94698215c4408a7$var$hasBuiltInError(h){let g=!1;for(let _ in h)if("valid"!==_&&"customError"!==_&&h[_]){g=!0;break}return g}function $d94698215c4408a7$var$getValidAttribute(h,g){if((null==h?void 0:h.valid)===!0&&!g)return!0}function $d94698215c4408a7$var$getInvalidAttribute(h,g){if((null==h?void 0:h.valid)===!1||g)return!0}var lH=_(1835),lG=_(2512);let lz="clover",l$=Object.fromEntries(Object.entries({en:{commonClose:"Close",commonNext:"Next",commonPrevious:"Previous",commonSearch:"Search",commonSearchPlaceholder:"Search...",commonShare:"Share",commonViewAll:"View All",copyFailure:"Failed",copySuccess:"Copied",informationPanelTabs:"Select",informationPanelTabsAbout:"About",informationPanelTabsAnnotations:"Annotations",informationPanelTabsSearch:"Search",informationPanelToggle:"More Information",shareCollectionJson:"View Collection",shareCollectionCopy:"Copy Collection URL",shareManifestJson:"View Manifest",shareManifestCopy:"Copy Manifest URL"},pt:{}}).map(([h,g])=>[h,{[`${lz}`]:g}]));sJ.ZP.use(sK.Z).use(sZ.Db).init({defaultNS:lz,fallbackLng:"en",ns:[lz],resources:{...l$}});var viewer_$=function(h){return function(){let g={type:h,getType:()=>h,toString:()=>h};return(h,_)=>({...g,...void 0!==h&&{payload:h},...void 0!==_&&{meta:_}})}},lV="@iiif/IMPORT_ENTITIES",lQ="@iiif/MODIFY_ENTITY_FIELD",lj="@iiif/REORDER_ENTITY_FIELD",lY="@iiif/ADD_REFERENCE",lq="@iiif/UPDATE_REFERENCE",lW="@iiif/REMOVE_REFERENCE",lX="@iiif/ADD_METADATA",lK="@iiif/REMOVE_METADATA",lJ="@iiif/UPDATE_METADATA",lZ="@iiif/REORDER_METADATA",l0=viewer_$(lV)(),l1=viewer_$(lQ)(),l2=viewer_$(lj)(),l3=viewer_$(lY)(),l4=viewer_$(lW)(),l5=viewer_$(lq)(),l6=viewer_$(lX)(),l8=viewer_$(lJ)(),l9={importEntities:l0,modifyEntityField:l1,reorderEntityField:l2,addReference:l3,removeReference:l4,updateReference:l5,addMetadata:l6,removeMetadata:viewer_$(lK)(),updateMetadata:l8,reorderMetadata:viewer_$(lZ)()},l7="@iiif/ADD_MAPPING",ce="@iiif/ADD_MAPPINGS",ct=viewer_$(l7)(),cn=viewer_$(ce)(),ci="RESOURCE_ERROR",co="RESOURCE_LOADING",cs="RESOURCE_READY",cl="@iiif/REQUEST_RESOURCE",cc="@iiif/REQUEST_ERROR",cu="@iiif/REQUEST_MISMATCH",cd="@iiif/REQUEST_COMPLETE",ch=viewer_$(cl)(),cp=viewer_$(cc)(),cf=viewer_$(cu)(),cm=viewer_$(cd)(),cg="@iiif/BATCH",cE=viewer_$(cg)(),viewer_qr=(h,g)=>{let{entities:_,resource:y,mapping:A}=Fe(g);if(void 0===y.id)return[cp({id:h,message:"ID is not defined in resource."})];let b=[l0({entities:_}),cn({mapping:A})];return y.id!==h&&(b.push(ct({id:h,type:y.type})),b.push(cf({requestId:h,actualId:y.id}))),b.push(cm({id:h})),b},c_=Number.isNaN||function(h){return"number"==typeof h&&h!=h};function viewer_rt(h,g){if(!Array.isArray(h)||!Array.isArray(g))return h===g;if(h.length!==g.length)return!1;for(let A=0;A<h.length;A++){var _,y;if(!((_=h[A])===(y=g[A])||c_(_)&&c_(y)))return!1}return!0}function viewer_we(h,g,_){let y=h.iiif.requests[g],A=h.iiif.mapping[g];if(!A||!h.iiif.entities[A][y.resourceUri])return;let b=h.iiif.entities[A][y.resourceUri];if(b&&b[tl]){let h=b[tl].find(h=>h[tc]===b.id);return chunk_AXOUQGO3_oe(b,h)}return b}function viewer_ot(h,g,{waitTimeout:_=30}={}){return(y,A)=>{let b=h.getStore(),k=b.getState(),w=k.iiif.requests[y];if(w){if(w.loadingState===cs){let h=viewer_we(k,y);if(h)return h}switch(w.loadingState){case ci:break;case co:return(async()=>{let h,g=!1;try{let A=await Promise.race([new Promise((_,A)=>{g||(h=b.subscribe(()=>{let h=b.getState();if(h.iiif.requests[y].loadingState===ci){A();return}if(h.iiif.requests[y].loadingState===cs){let g=viewer_we(h,y);g?_(g):A()}}))}),new Promise((h,y)=>setTimeout(()=>{g=!0,y()},6e4*_))]);if(h&&h(),A)return A}catch{h&&h()}})()}}h.dispatch(ch({id:y}));let c=g=>{if(!g)return;g.id||g["@id"]||(g["@type"]&&(g["@id"]=y),g.id=y);let _=viewer_qr(y,g);return h.dispatch(cE({actions:_})),viewer_we(b.getState(),y)};try{let _=g(y,A);return _&&"function"==typeof _.then?(async()=>{try{return c(await _)}catch(g){throw h.dispatch(cp({id:y,message:g.toString()})),g}})():c(_)}catch(g){throw h.dispatch(cp({id:y,message:g.toString()})),g}}}function viewer_Ht(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let cT={};var viewer_at=h=>{let g;let _=new Set,a=(h,y)=>{let A="function"==typeof h?h(g):h;if(!Object.is(A,g)){let h=g;g=y??("object"!=typeof A||null===A)?A:Object.assign({},g,A),_.forEach(_=>_(g,h))}},o=()=>g,y={setState:a,getState:o,getInitialState:()=>A,subscribe:h=>(_.add(h),()=>_.delete(h)),destroy:()=>{(cT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),_.clear()}},A=g=h(a,o,y);return y},viewer_Qr=h=>h?viewer_at(h):viewer_at,cv="@iiif/SET_META_VALUE",cy="@iiif/SET_META_VALUE_DYNAMIC",cA="@iiif/UNSET_META_VALUE",cb={setMetaValue:viewer_$(cv)(),setMetaValueDynamic:viewer_$(cy)(),unsetMetaValue:viewer_$(cA)()};let ck={};var eo=(h,g)=>(_,y,A)=>(A.dispatch=g=>(_(_=>h(_,g),!1,g),g),A.dispatchFromDevtools=!0,{dispatch:(...h)=>A.dispatch(...h),...g}),cS=new Map,viewer_de=h=>{let g=cS.get(h);return g?Object.fromEntries(Object.entries(g.stores).map(([h,g])=>[h,g.getState()])):{}},to=(h,g,_)=>{if(void 0===h)return{type:"untracked",connection:g.connect(_)};let y=cS.get(_.name);if(y)return{type:"tracked",store:h,...y};let A={connection:g.connect(_),stores:{}};return cS.set(_.name,A),{type:"tracked",store:h,...A}},ro=(h,g={})=>(_,y,A)=>{let b;let{enabled:k,anonymousActionType:w,store:R,...B}=g;try{b=(k??(ck?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!b)return(ck?"production":void 0)!=="production"&&k&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),h(_,y,A);let{connection:H,...z}=to(R,b,B),$=!0;A.setState=(h,g,b)=>{let k=_(h,g);if(!$)return k;let z=void 0===b?{type:w||"anonymous"}:"string"==typeof b?{type:b}:b;return void 0===R?null==H||H.send(z,y()):null==H||H.send({...z,type:`${R}/${z.type}`},{...viewer_de(B.name),[R]:A.getState()}),k};let f=(...h)=>{let g=$;$=!1,_(...h),$=g},j=h(A.setState,y,A);if("untracked"===z.type?null==H||H.init(j):(z.stores[z.store]=A,null==H||H.init(Object.fromEntries(Object.entries(z.stores).map(([h,g])=>[h,h===z.store?j:g.getState()])))),A.dispatchFromDevtools&&"function"==typeof A.dispatch){let h=!1,g=A.dispatch;A.dispatch=(..._)=>{(ck?"production":void 0)==="production"||"__setState"!==_[0].type||h||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),h=!0),g(..._)}}return H.subscribe(h=>{var g;switch(h.type){case"ACTION":if("string"!=typeof h.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return viewer_xe(h.payload,h=>{if("__setState"===h.type){if(void 0===R){f(h.state);return}1!==Object.keys(h.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let g=h.state[R];if(null==g)return;JSON.stringify(A.getState())!==JSON.stringify(g)&&f(g);return}A.dispatchFromDevtools&&"function"==typeof A.dispatch&&A.dispatch(h)});case"DISPATCH":switch(h.payload.type){case"RESET":return f(j),void 0===R?null==H?void 0:H.init(A.getState()):null==H?void 0:H.init(viewer_de(B.name));case"COMMIT":if(void 0===R){null==H||H.init(A.getState());break}return null==H?void 0:H.init(viewer_de(B.name));case"ROLLBACK":return viewer_xe(h.state,h=>{if(void 0===R){f(h),null==H||H.init(A.getState());return}f(h[R]),null==H||H.init(viewer_de(B.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return viewer_xe(h.state,h=>{if(void 0===R){f(h);return}JSON.stringify(A.getState())!==JSON.stringify(h[R])&&f(h[R])});case"IMPORT_STATE":{let{nextLiftedState:_}=h.payload,y=null==(g=_.computedStates.slice(-1)[0])?void 0:g.state;if(!y)return;f(void 0===R?y:y[R]),null==H||H.send(null,_);break}case"PAUSE_RECORDING":return $=!$}return}}),j},viewer_xe=(h,g)=>{let _;try{_=JSON.parse(h)}catch(h){console.error("[zustand devtools middleware] Could not parse the received json",h)}void 0!==_&&g(_)},ao=h=>(g,_,y)=>{let A=y.subscribe;return y.subscribe=(h,g,_)=>{let b=h;if(g){let A=(null==_?void 0:_.equalityFn)||Object.is,k=h(y.getState());b=_=>{let y=h(_);if(!A(k,y)){let h=k;g(k=y,h)}},null!=_&&_.fireImmediately&&g(k,k)}return A(b)},h(g,_,y)};function viewer_Ce(h,g,_,y){return!(!h[_]||!h[_][g]||!h[_][g][y]||!Array.isArray(h[_][g][y]))}function viewer_w(h){return h.payload}function viewer_Ae(h,g){return typeof h>"u"?g:h}function viewer_jt(h={}){let g=Object.keys(h);return function(_={},y){let A=!1,b={};for(let k=0;k<g.length;k++){let w=g[k];b[w]=h[w](_[w],y),A=A||b[w]!==_[w]}return A?b:_}}var cC=viewer_jt({mapping:(h={},g)=>{switch(g.type){case l7:return{...h,[g.payload.id]:g.payload.type};case ce:return{...h,...g.payload.mapping};default:return h}},entities:(h=viewer_Ht(),g)=>{var _;let n=(_,y)=>({...h,[viewer_w(g).type]:{...h[viewer_w(g).type],[viewer_w(g).id]:{..._,...y}}});switch(g.type){case lQ:{if(!h[viewer_w(g).type]||!h[viewer_w(g).type][viewer_w(g).id])return h;let _=h[viewer_w(g).type][viewer_w(g).id];return"string"==typeof _?h:n(_,{[viewer_w(g).key]:viewer_w(g).value})}case lj:{if(!viewer_Ce(h,viewer_w(g).id,viewer_w(g).type,viewer_w(g).key))return h;let _=h[viewer_w(g).type][viewer_w(g).id];if("string"==typeof _)return h;let y=Array.from(_[viewer_w(g).key]),[A]=y.splice(viewer_w(g).startIndex,1);return y.splice(viewer_w(g).endIndex,0,A),n(_,{[viewer_w(g).key]:y})}case lV:{let _=Object.keys(viewer_w(g).entities),y={...h};for(let A of _){let _=viewer_w(g).entities[A],b={...h[A]||{}},k=!1,w=Object.keys(_||{})||[];if(_&&w){for(let g of w)k=!0,b[g]=h[A][g]?function(h,g){let _={},y=[];for(let[A,b]of Object.entries(h||{})){y.push(A);let h=(g||{})[A];if(!h||0===h.length){_[A]=b;continue}_[A]=h}for(let[h,A]of Object.entries(g||{}))-1===y.indexOf(h)&&(_[h]=A);return _}(h[A][g],_[g]):_[g];k&&(y[A]=b)}}return y}case lY:{if(!viewer_Ce(h,viewer_w(g).id,viewer_w(g).type,viewer_w(g).key))return h;let _=h[viewer_w(g).type][viewer_w(g).id],y=Array.from(_[viewer_w(g).key]);return y.splice(viewer_Ae(viewer_w(g).index,y.length+1),0,viewer_w(g).reference),n(_,{[viewer_w(g).key]:y})}case lq:case lW:{if(!viewer_Ce(h,viewer_w(g).id,viewer_w(g).type,viewer_w(g).key))return h;let y=h[viewer_w(g).type][viewer_w(g).id],A=Array.from(y[viewer_w(g).key]),b=viewer_Ae(viewer_w(g).index,A.findIndex(h=>h&&h.id===viewer_w(g).reference.id));return -1===b||(null==(_=A[b])?void 0:_.id)!==viewer_w(g).reference.id?h:(g.type===lq?A.splice(b,1,viewer_w(g).reference):A.splice(b,1),n(y,{[viewer_w(g).key]:A}))}case lX:{let _=h[viewer_w(g).type][viewer_w(g).id];if(!_)return h;let y=Array.from(_.metadata||[]),A=viewer_w(g);return y.splice(viewer_Ae(g.payload.beforeIndex,y.length+1),0,{label:A.label,value:A.label}),n(_,{metadata:y})}case lZ:{let _=h[viewer_w(g).type][viewer_w(g).id];if("string"==typeof _||!_)return h;let y=Array.from(_.metadata||[]),[A]=y.splice(viewer_w(g).startIndex,1);return y.splice(viewer_w(g).endIndex,0,A),n(_,{metadata:y})}case lJ:case lK:{let _=h[viewer_w(g).type][viewer_w(g).id],y=Array.from(_.metadata||[]),A=viewer_w(g).atIndex;return typeof A>"u"||-1===A||!y[A]?h:(g.type===lJ?y.splice(A,1,{label:viewer_w(g).label,value:viewer_w(g).value}):y.splice(A,1),n(_,{metadata:y}))}default:return h}},requests:(h={},g)=>{switch(g.type){case cl:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...h,[g.payload.id]:{requestUri:g.payload.id,loadingState:co,uriMismatch:!1,resourceUri:g.payload.id}};case cu:return{...h,[g.payload.requestId]:{...h[g.payload.requestId]||{},uriMismatch:!0,resourceUri:g.payload.actualId},[g.payload.actualId]:{requestUri:g.payload.requestId,loadingState:h[g.payload.requestId].loadingState,uriMismatch:!0,resourceUri:g.payload.actualId}};case cc:return{...h,[g.payload.id]:{...h[g.payload.id]||{},loadingState:ci,error:g.payload.message}};case cd:return{...h,[g.payload.id]:{...h[g.payload.id]||{},loadingState:cs,error:void 0}}}return h},meta:(h={},g)=>{let{id:_,updateValue:y,value:A,meta:b,key:k}=g&&g.payload||{};switch(g.type){case cv:return{...h,[_]:{...h[_]||{},[b]:{...h[_]&&h[_][b]||{},[k]:A}}};case cy:return{...h,[_]:{...h[_]||{},[b]:{...h[_]&&h[_][b]||{},[k]:y(h[_]&&h[_][b]?h[_][b][k]:void 0)}}};case cA:return h[_]&&h[_][b]&&h[_][b][k]?{...h,[_]:{...h[_]||{},[b]:{...h[_]&&h[_][b]||{},[k]:void 0}}}:h;default:return h}}}),cx=Object.defineProperty,vo=(h,g,_)=>g in h?cx(h,g,{enumerable:!0,configurable:!0,writable:!0,value:_}):h[g]=_,viewer_W=(h,g,_)=>(vo(h,"symbol"!=typeof g?g+"":g,_),_);function viewer_O(h,g,_,y=!0){g[cO]=g[cO]||[],g[cO].push(h);let A=new Map;Object.defineProperty(g,h,{enumerable:y,get(){if(typeof g[cI][h]>"u")return;let y=g[cI][h];if(!y)return y;let b=_.get(g[cI][h],{parent:this.id?{id:this.id,type:this.type}:void 0});return A.has(b)||(A.clear(),A.set(b,viewer_Y(b,_))),A.get(b)},set(y){g[cI][h]!==y&&(this[cw]?_.modifyEntityField({id:this.id,type:this.type},h,function viewer_Gt(h){return Array.isArray(h)?h.map(h=>viewer_Gt(h)):h&&h.type?{id:h.id,type:h.type}:h}(y)):this[cI][h]=y)}})}var cI=Symbol.for("_refs_"),cw=Symbol.for("_reactive_"),cO=Symbol.for("_defined_"),cN=Symbol.for("_parent_");function viewer_Y(h,g,_=!1,y){if(Array.isArray(h))return h.map(h=>viewer_Y(h,g,_));if(!h||!h.type||!h.id)return h;let A=function(h,g=!1,_){let y={id:"",type:"unknown",[cO]:[],[cI]:{},[cN]:null,[cw]:null,is(h){return"string"==typeof h?this.id===h:!!h.id&&h.id===this.id},reactive(){if(!this[cw])return this[cw]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let h=this.unwrap();for(let g of Object.keys(h||{}))this[cO].includes(g)?this[cI][g]=h[g]:this[g]=h[g]}},unreactive(){this[cw]&&(this[cw](),this[cw]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let g=this[cN];return h.get(this.id,{parent:g?{id:g,type:"unknown"}:void 0})},toPresentation3(){return h.toPresentation3(this.unwrap())},toPresentation2(){return h.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(g,_=!0){return h.subscribe(()=>this.id?h.get(this.id):null,g,_)}};return viewer_O("items",y,h),viewer_O("annotations",y,h),viewer_O("structures",y,h),viewer_O("seeAlso",y,h),viewer_O("rendering",y,h),viewer_O("partOf",y,h),viewer_O("start",y,h,!1),viewer_O("supplementary",y,h),viewer_O("homepage",y,h),viewer_O("thumbnail",y,h),viewer_O("placeholderCanvas",y,h,!1),viewer_O("accompanyingCanvas",y,h,!1),viewer_O("provider",y,h),viewer_O("body",y,h),viewer_O("logo",y,h),y}(g,_),b=Object.create(A),k=Object.assign(b,h);return _&&k.reactive(),k}function viewer_lt(h){switch(h){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return h}var cR=class{constructor(h,g){var _;viewer_W(this,"options"),viewer_W(this,"store"),viewer_W(this,"emitter"),viewer_W(this,"isBatching",!1),viewer_W(this,"batchQueue",[]),viewer_W(this,"remoteFetcher"),viewer_W(this,"staticFetcher"),viewer_W(this,"defaultFetcher",h=>fetch(h).then(h=>h.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},h||{}),this.store=g||function(h={}){var g;let{enableDevtools:_=!1,iiifStoreName:y="iiif",defaultState:A={iiif:{entities:viewer_Ht(),meta:{},mapping:{},requests:{}}},customReducers:b={}}=h,k=(g=viewer_jt({[y]:cC,...b}),(h,_)=>_&&_.type===cg?_.payload.actions.reduce(g,h):_&&"@iiif/BATCH_IMPORT"===_.type?{...h,iiif:{...h.iiif,..._.payload.state}}:g(h,_)),w="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?ro:(h,g)=>h;return viewer_Qr(ao(w(eo(k,A),{enabled:_})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:_=_||new Map,on:function(h,g){var y=_.get(h);y?y.push(g):_.set(h,[g])},off:function(h,g){var y=_.get(h);y&&(g?y.splice(y.indexOf(g)>>>0,1):_.set(h,[]))},emit:function(h,g){var y=_.get(h);y&&y.slice().map(function(h){h(g)}),(y=_.get("*"))&&y.slice().map(function(_){_(h,g)})}},this.remoteFetcher=viewer_ot(this,this.options.customFetcher),this.staticFetcher=viewer_ot(this,(h,g)=>g)}batch(h){this.isBatching=!0;try{h(this),this.isBatching=!1,this.dispatch(cE({actions:this.batchQueue}))}catch(h){throw this.batchQueue=[],this.isBatching=!1,h}this.batchQueue=[]}async asyncBatch(h){this.isBatching=!0;try{await h(this),this.isBatching=!1,this.dispatch(cE({actions:this.batchQueue}))}catch(h){throw this.batchQueue=[],this.isBatching=!1,h}this.batchQueue=[]}modifyEntityField(h,g,_){this.dispatch(l9.modifyEntityField({id:h.id,type:h.type,key:g,value:_}))}dispatch(h){if(this.isBatching)this.batchQueue.push(h);else{if(h.type===cg){for(let g of h.payload.actions)this.emitter.emit(g.type,{action:g,state:this.store.getState()});this.store.dispatch(h);let g=this.getState();for(let _ of h.payload.actions)this.emitter.emit(`after:${_.type}`,{action:_,state:g});return}this.emitter.emit(h.type,{action:h,state:this.store.getState()}),this.store.dispatch(h);let g=this.store.getState();this.emitter.emit(`after:${h.type}`,{action:h,state:g});return}}on(h,g){return this.emitter.on(h,g),()=>{this.emitter.off(h,g)}}serialize(h,g){return $e(this.getState().iiif,h,g)}toPresentation2(h){return this.serialize(h,ty)}toPresentation3(h){return this.serialize(h,tA)}hydrate(h,g,_={}){return this.get(h,g,{..._,skipSelfReturn:!1})}get(h,g,_={}){"string"!=typeof g&&(_=g||{},g=void 0);let{skipSelfReturn:y=!0}=_||{},A=_.parent?"string"==typeof _.parent?_.parent:_.parent.id:void 0;if(Array.isArray(h))return h.map(h=>this.get(h,_));let b=this.getState();if(chunk_W3DWL6UZ_v(h)&&!_.preserveSpecificResources&&(h=h.source),"string"==typeof h){let _=viewer_lt(g||b.iiif.mapping[h]);if(!_)return y?null:{id:h,type:"unknown"};h={id:h,type:_}}if(h&&h.partOf&&!A&&!_.skipPartOfCheck){let g=Array.isArray(h.partOf)?h.partOf[0]:h.partOf;g&&("string"==typeof g&&(A=g),"string"==typeof g.id&&(A=g.id))}let k=viewer_lt(g||(null==h?void 0:h.type)),w=null==h?void 0:h.id,R=b.iiif.entities[k];if(!R){let g=b.iiif.requests[w];return g&&g.resourceUri!==w?this.get(g.resourceUri,_):y?null:h}let B=R[h.id];if(B&&B[tl]){let h=B[tl].find(h=>A?h[tc]===A:h[tc]===B.id);return chunk_AXOUQGO3_oe(B,h)}return R[h.id]||(y?null:h)}select(h){return h(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(h,g){if(typeof h>"u")return this.get(g,{skipSelfReturn:!1});if("function"==typeof h)try{let _=h(this.get(g,{skipSelfReturn:!1})),o=h=>this.deep(h,_);return o.size=Array.isArray(_)?_.length:1,o}catch{let o=h=>this.deep(h,void 0);return o.size=0,o}let n=g=>this.deep(g,h);return n.size=Array.isArray(h)?h.length:1,n}loadManifest(h,g){let _="string"==typeof h?h:h.id;return this.load(_,g)}loadCollection(h,g){let _="string"==typeof h?h:h.id;return this.load(_,g)}load(h,g){let _="string"==typeof h?h:h.id;return g?Promise.resolve(this.staticFetcher(_,g)):Promise.resolve(this.remoteFetcher(_))}loadSync(h,g){let _="string"==typeof h?h:h.id;return this.staticFetcher(_,g)}loadManifestSync(h,g){let _="string"==typeof h?h:h.id;return this.loadSync(_,g)}loadCollectionSync(h,g){let _="string"==typeof h?h:h.id;return this.loadSync(_,g)}areInputsEqual(h,g){return viewer_rt(h,g)}subscribe(h,g,_){return typeof _>"u"&&(typeof g>"u"||!1===g||!0===g)&&(_=g,g=h,h=h=>h),this.store.subscribe(h,h=>g(h,this),{equalityFn:viewer_rt,fireImmediately:!_})}async ensureLoaded(h){let g="string"==typeof h?h:h.id;this.requestStatus(g)||await this.load(g)}requestStatus(h){return this.select(g=>g.iiif.requests[h])}getResourceMeta(h,g){let _=this.getState().iiif.meta[h];if(_)return g?_[g]:_}getObject(h,g,_={}){let{reactive:y,...A}=_;return viewer_Y(this.get(h,g,A),this,y)}async loadObject(h,g){return viewer_Y(await this.load(h,g),this)}async loadManifestObject(h,g){return viewer_Y(await this.loadManifest(h,g),this)}async loadCollectionObject(h,g){return viewer_Y(await this.loadCollection(h,g),this)}wrapObject(h){return viewer_Y(this.get(h,{skipSelfReturn:!1}),this)}isWrapped(h){return!!h[cO]}setMetaValue([h,g,_],y){this.dispatch("function"==typeof y?cb.setMetaValueDynamic({id:h,meta:g,key:_,updateValue:y}):cb.setMetaValue({id:h,meta:g,key:_,value:y}))}};let wo=h=>{let g=h.toString().split(":"),_=Math.ceil(parseInt(g[0])),y=Math.ceil(parseInt(g[1])),A=xo(Math.ceil(parseInt(g[2])),2),b=`${0!==_&&y<10?(y+"").padStart(2,"0"):y}:${A}`;return 0!==_&&(b=`${_}:${b}`),b},viewer_Jt=h=>{let g=new Date(1e3*h).toISOString().substr(11,8);return wo(g)},viewer_Qt=(h,g)=>{if("object"!=typeof h||null===h)return g;for(let _ in g)"object"!=typeof g[_]||null===g[_]||Array.isArray(g[_])?h[_]=g[_]:(h[_]||(h[_]={}),h[_]=viewer_Qt(h[_],g[_]));return h},So=h=>h.split("").reduce(function(h,g){return(h=(h<<5)-h+g.charCodeAt(0))&h},0),viewer_Yt=(h,g)=>Object.hasOwn(h,g)?h[g].toString():void 0,xo=(h,g)=>String(h).padStart(g,"0"),cD={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}};function viewer_Zt(h){let g={...cD.informationPanel.vtt.autoScroll};return"object"==typeof h&&(g="enabled"in h?h:{enabled:!0,settings:h}),!1===h&&(g.enabled=!1),function({behavior:h,block:g}){let _=["auto","instant","smooth"],y=["center","end","nearest","start"];if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`);if(!y.includes(g))throw TypeError(`'${g}' not in ${y.join(" | ")}`)}(g.settings),g}let cL=viewer_Zt(null==(eP=null==(eM=null==cD?void 0:cD.informationPanel)?void 0:eM.vtt)?void 0:eP.autoScroll),cM={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:cD,customDisplays:[],plugins:[],isAutoScrollEnabled:cL.enabled,isAutoScrolling:!1,isInformationOpen:null==(eF=null==cD?void 0:cD.informationPanel)?void 0:eF.open,isLoaded:!1,isUserScrolling:void 0,vault:new cR,contentSearchVault:new cR,openSeadragonViewer:null,viewerId:esm_browser_v4()},cP=e$.createContext(cM),cF=e$.createContext(cM);function ko(h,g){switch(g.type){case"updateActiveCanvas":return g.canvasId||(g.canvasId=""),{...h,activeCanvas:g.canvasId};case"updateActiveManifest":return{...h,activeManifest:g.manifestId};case"updateOSDImageLoaded":return{...h,OSDImageLoaded:g.OSDImageLoaded};case"updateAutoScrollAnnotationEnabled":return{...h,isAutoScrollEnabled:g.isAutoScrollEnabled};case"updateAutoScrolling":return{...h,isAutoScrolling:g.isAutoScrolling};case"updateCollection":return{...h,collection:g.collection};case"updateConfigOptions":return{...h,configOptions:viewer_Qt(h.configOptions,g.configOptions)};case"updateInformationOpen":return{...h,isInformationOpen:g.isInformationOpen};case"updateIsLoaded":return{...h,isLoaded:g.isLoaded};case"updateUserScrolling":return{...h,isUserScrolling:g.isUserScrolling};case"updateOpenSeadragonViewer":return{...h,openSeadragonViewer:g.openSeadragonViewer};case"updateViewerId":return{...h,viewerId:g.viewerId};default:throw Error(`Unhandled action type: ${g.type}`)}}let To=({initialState:h=cM,children:g})=>{let[_,y]=(0,e$.useReducer)(ko,h);return e$.createElement(cP.Provider,{value:_},e$.createElement(cF.Provider,{value:y},g))};function viewer_T(){let h=e$.useContext(cP);if(void 0===h)throw Error("useViewerState must be used within a ViewerProvider");return h}function viewer_F(){let h=e$.useContext(cF);if(void 0===h)throw Error("useViewerDispatch must be used within a ViewerProvider");return h}let cB=window.OpenSeadragon;if(!cB&&!(cB=eH))throw Error("OpenSeadragon is missing.");let cU="http://www.w3.org/2000/svg";cB.Viewer&&(cB.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new viewer_Ge(this)),this._svgOverlayInfo});let viewer_Ge=function(h){let g=this;this._viewer=h,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(cU,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(cU,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){g.resize()}),this._viewer.addHandler("open",function(){g.resize()}),this._viewer.addHandler("rotate",function(){g.resize()}),this._viewer.addHandler("flip",function(){g.resize()}),this._viewer.addHandler("resize",function(){g.resize()}),this.resize()};viewer_Ge.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let h=this._viewer.viewport.pixelFromPoint(new cB.Point(0,0),!0),g=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),y=this._viewer.viewport.getFlip(),A=this._viewer.viewport._containerInnerSize.x,b=A*g,k=b;y&&(b=-b,h.x=-h.x+A),this._node.setAttribute("transform","translate("+h.x+","+h.y+") scale("+b+","+k+") rotate("+_+")")},onClick:function(h,g){new cB.MouseTracker({element:h,clickHandler:g}).setTracking(!0)}};let Ro=h=>new viewer_Ge(h),viewer_en=h=>{var g,_,y,A,b;let k={id:"string"==typeof h?h:h.source};if("string"==typeof h){if(h.includes("#xywh=")){let g=h.split("#xywh=");if(g&&g[1]){let[h,_,y,A]=g[1].split(",").map(h=>Number(h));k={id:g[0],rect:{x:h,y:_,w:y,h:A}}}}else if(h.includes("#t=")){let g=h.split("#t=");g&&g[1]&&(k={id:g[0],t:g[1]})}}else if("object"==typeof h){if((null==(g=h.selector)?void 0:g.type)==="PointSelector")k={id:h.source,point:{x:h.selector.x,y:h.selector.y}};else if((null==(_=h.selector)?void 0:_.type)==="SvgSelector")k={id:h.source,svg:h.selector.value};else if((null==(y=h.selector)?void 0:y.type)==="FragmentSelector"&&null!=(A=h.selector)&&A.value.includes("xywh=")&&"Canvas"==h.source.type&&h.source.id){let g=null==(b=h.selector)?void 0:b.value.split("xywh=");if(g&&g[1]){let[_,y,A,b]=g[1].split(",").map(h=>Number(h));k={id:h.source.id,rect:{x:_,y:y,w:A,h:b}}}}}return k},$o=h=>fetch(`${h.replace(/\/$/,"")}/info.json`).then(h=>h.json()).then(h=>h).catch(g=>{console.error(`The IIIF tilesource ${h.replace(/\/$/,"")}/info.json failed to load: ${g}`)}),Mo=h=>{let g,_;return Array.isArray(h)&&(g=h[0])&&(_="@id"in g?g["@id"]:g.id),_},viewer_Je=h=>{var g;let _,y;if(Lo(h))_=h,y={};else{let A=JSON.parse(function(h){let g=function(h){let g=h.length%4;if(1===g)throw Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");return h+(g?"====".slice(0,4-g):"")}(h),_=g.replace(/-/g,"+").replace(/_/g,"/"),y="undefined"==typeof atob?ld.from(_,"base64").toString("utf-8"):atob(_);return decodeURIComponent(y).trim()}(h));switch(null==A?void 0:A.type){case"SpecificResource":case"Range":case"Annotation":y={manifest:_=null==A?void 0:A.target.partOf[0].id,canvas:null==A?void 0:A.target.id};break;case"Canvas":y={manifest:_=null==A?void 0:A.partOf[0].id,canvas:null==A?void 0:A.id};break;case"Manifest":_=null==A?void 0:A.id,y={collection:null==(g=null==A?void 0:A.partOf[0])?void 0:g.id,manifest:null==A?void 0:A.id};break;case"Collection":y={collection:_=null==A?void 0:A.id}}}return{resourceId:_,active:y}},_o=h=>{let{resourceId:g,active:_}=viewer_Je(h);return _.collection||_.manifest||g},Po=(h,g)=>{let _=g.items.map(h=>h.id),{active:y}=viewer_Je(h),A=y.canvas;return _.includes(A)?A:_[0]},Oo=(h,g)=>{let{active:_}=viewer_Je(h),y=_.manifest,A=g.items.filter(h=>"Manifest"===h.type).map(h=>h.id);return 0==A.length?null:A.includes(y)?y:A[0]},Lo=h=>{try{new URL(h)}catch{return!1}return!0};var cH=((ed=cH||{}).TiledImage="tiledImage",ed.SimpleImage="simpleImage",ed);function viewer_tn(h,g,_,y,A){if(!h)return;let b=1/g.width;y.forEach(g=>{if(!g.target)return;let y=viewer_en(g.target),{point:k,rect:w,svg:R}=y;if(w){let{x:g,y:y,w:k,h:R}=w;!function(h,g,_,y,A,b,k){let w=new eH.Rect(g,_,y,A),R=document.createElement("div");if(b){let{backgroundColor:h,opacity:g,borderType:_,borderColor:y,borderWidth:A}=b;R.style.backgroundColor=h,R.style.opacity=g,R.style.border=`${_} ${A} ${y}`,R.className=k}h.addOverlay(R,w)}(h,g*b,y*b,k*b,R*b,_,A)}if(k){let{x:g,y:y}=k,w=`
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg">
          <circle cx="${g}" cy="${y}" r="20" />
        </svg>
      `;viewer_dt(h,w,_,b,A)}R&&viewer_dt(h,R,_,b,A)})}function viewer_dt(h,g,_,y,A){let b=function(h){if(!h)return null;let g=document.createElement("template");return g.innerHTML=h.trim(),g.content.children[0]}(g);if(b)for(let g of b.children)!function viewer_nn(h,g,_,y,A){var b;if("#text"===g.nodeName)g.textContent&&(g.textContent.includes(`
`)||console.log("nodeName:",g.nodeName,", textContent:",g.textContent,", childNodes.length",g.childNodes.length));else{let k=function(h,g,_){let y=!1,A=!1,b=!1,k=!1,w=document.createElementNS("http://www.w3.org/2000/svg",h.nodeName);if(h.attributes.length>0)for(let g=0;g<h.attributes.length;g++){let _=h.attributes[g];switch(_.name){case"fill":b=!0;break;case"stroke":y=!0;break;case"stroke-width":A=!0;break;case"fill-opacity":k=!0}w.setAttribute(_.name,_.textContent)}return y||(w.style.stroke=null==g?void 0:g.borderColor),A||(w.style.strokeWidth=null==g?void 0:g.borderWidth),b||(w.style.fill=null==g?void 0:g.backgroundColor),k||(w.style.fillOpacity=null==g?void 0:g.opacity),w.setAttribute("transform",`scale(${_})`),w}(g,_,y),w=Ro(h);w.node().append(k),null==(b=w._svg)||b.setAttribute("class",A),g.childNodes.forEach(g=>{viewer_nn(h,g,_,y,A)})}}(h,g,_,y,A)}let Bo=h=>{let g=Array.isArray(null==h?void 0:h.service)&&(null==h?void 0:h.service.length)>0,_=g?Mo(null==h?void 0:h.service):null==h?void 0:h.id,y=g?cH.TiledImage:cH.SimpleImage;return{uri:_,imageType:y}},Ho=(h,g)=>{let _=g?cH.TiledImage:cH.SimpleImage;return{uri:h,imageType:_}};function viewer_rn(h,g){if(!h)return;g.startsWith(".")||(g="."+g);let _=document.querySelectorAll(g);_&&_.forEach(g=>h.removeOverlay(g))}function viewer_Ve(h,g,_,y){let A=viewer_en(_),{point:b,rect:k,svg:w}=A;if(b||k||w){let _=function(h,g,_){let y,A,b=40,k=40;g.rect&&(y=g.rect.x,A=g.rect.y,b=g.rect.w,k=g.rect.h),g.point&&(y=g.point.x,A=g.point.y);let w=1/h.width;return new eH.Rect(y*w-b*w/2*(_-1),A*w-k*w/2*(_-1),b*w*_,k*w*_)}(y,A,g);null==h||h.viewport.fitBounds(_)}}let Wo=async(h,g)=>{let _=h.get({id:g,type:"Canvas"});if(!(null!=_&&_.annotations)||!_.annotations[0])return[];let y=h.get(_.annotations).filter(h=>!!h.items&&h),A=[];for(let g of y)if(g.items.length>0){let h=g.label||{none:["Annotations"]};A.push({...g,label:h})}else{let _={};try{_=await h.load(g.id)}catch(h){console.log(h)}if(_.items&&_.items.length>0){let h=_.label||{none:["Annotations"]};A.push({..._,label:h})}}return A},viewer_on=async(h,g,_,y)=>{let A;if(null==y||null==y.q)return{label:{none:[_]}};let b=`${g}?q=${y.q.trim()}`;try{A=await h.load(b)}catch{return console.log("Could not load content search."),{}}return null==A.label&&(A.label={none:[_]}),A},viewer_an=(h,g,_,y)=>{var A,b;let k={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(k.canvas=h.get(g),k.canvas&&(k.annotationPage=h.get(k.canvas.items[0]),k.accompanyingCanvas=null!=(A=k.canvas)&&A.accompanyingCanvas?h.get(null==(b=k.canvas)?void 0:b.accompanyingCanvas):void 0),k.annotationPage){let A=h.get(k.annotationPage.items).map(g=>({body:h.get(g.body[0].id),motivation:g.motivation,type:"Annotation"})),b=[];A.forEach(g=>{"Choice"===g.body.type?g.body.items.forEach(_=>b.push({...g,id:_.id,body:h.get(_.id)})):b.push(g)}),k.annotations=b.filter(A=>{if(A){if(!A.body||!A.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",A);return}let b=A.body;Array.isArray(b)&&(b=b[0]);let k=h.get(b.id);if(k)switch(_){case"painting":return A.target===g.id&&A.motivation&&"painting"===A.motivation[0]&&y.includes(k.type)&&(A.body=k),!!A;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return k},viewer_ne=(h,g="en")=>{if(!h)return"";if(!h[g]){let g=Object.getOwnPropertyNames(h);if(g.length>0)return h[g[0]]}return h[g]},viewer_pe=(h,g)=>{let _=viewer_an(h,{id:g,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==_.annotations.length&&_.annotations&&_.annotations)return _.annotations.map(h=>null==h?void 0:h.body)},qo=(h,g,_,y)=>{let A=[];if(g.canvas&&g.canvas.thumbnail.length>0){let _=h.get(g.canvas.thumbnail[0]);A.push(_)}if(g.annotations[0]){if(g.annotations[0].thumbnail&&g.annotations[0].thumbnail.length>0){let _=h.get(g.annotations[0].thumbnail[0]);A.push(_)}if(!g.annotations[0].body)return;let _=g.annotations[0].body;"Image"===_.type&&A.push(_)}return 0===A.length?void 0:{id:A[0].id,format:A[0].format,type:A[0].type,width:_,height:y}},cG={xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"},{styled:cz,css:c$,keyframes:cV,createTheme:cQ}=(0,ez.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:cG}),cj=cz("div",{display:"flex",flexDirection:"column",alignItems:"center"}),cY=cz("p",{fontWeight:"bold",fontSize:"x-large"}),cq=cz("span",{fontSize:"medium"}),viewer_Ze=({error:h})=>{let{message:g}=h;return e$.createElement(cj,{role:"alert"},e$.createElement(cY,{"data-testid":"headline"},"Something went wrong"),g&&e$.createElement(cq,null,`Error message: ${g}`," "))},cW=cz("div",{position:"relative",zIndex:"0"}),cX=cz("div",{display:"flex",flexDirection:"row",flexGrow:"1",overflow:"hidden","@sm":{flexDirection:"column"}}),cK=cz("div",{display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",width:"61.8%","@sm":{width:"100%"}}),cJ=cz(lo,{display:"none",border:"none",padding:"0",transition:"$all",opacity:"1",background:"#6663",margin:"1rem 0",borderRadius:"6px","&[data-information-panel='false']":{opacity:"0",marginTop:"-59px"},"@sm":{display:"flex","> span":{display:"flex",flexGrow:"1",fontSize:"0.8333em",justifyContent:"center",padding:"0.5rem",fontFamily:"inherit"}}}),cZ=cz(lc,{width:"100%",display:"flex"}),c0=cz("aside",{display:"flex",flexGrow:"1",flexShrink:"0",width:"38.2%",maxHeight:"100%","@sm":{width:"100%"}}),c1=cz("div",{display:"flex",flexDirection:"column",fontSmooth:"auto",webkitFontSmoothing:"antialiased",'&[data-absolute-position="true"]':{position:"absolute",width:"100%",height:"100%",zIndex:"0"},"> div":{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"flex-start",height:"100%",maxHeight:"100%","@sm":{[`& ${cX}`]:{flexGrow:"1"},[`& ${cK}`]:{flexGrow:"0"}}},"@sm":{padding:"0"},"&[data-information-panel-open='true']":{"@sm":{position:"fixed",height:"100%",width:"100%",top:"0",left:"0",zIndex:"2500000000",[`& ${cW}`]:{display:"none"},[`& ${cJ}`]:{margin:"1rem"},[`& ${cZ}`]:{height:"100%"}}}}),c2=cz(lh.fC,{display:"flex",flexDirection:"column",width:"100%",height:"100%",flexGrow:"1",flexShrink:"0",position:"relative",zIndex:"1",maskImage:"linear-gradient(180deg, rgba(0, 0, 0, 1) calc(100% - 2rem), transparent 100%)","@sm":{marginTop:"0.5rem",boxShadow:"none"}}),c3=cz(lh.aV,{display:"flex",flexGrow:"0",margin:"0 1.618rem",borderBottom:"4px solid #6663","@sm":{margin:"0 1rem"}}),c4=cz(lh.xz,{display:"flex",position:"relative",padding:"0.5rem 1rem",background:"none",backgroundColor:"transparent",fontFamily:"inherit",border:"none",opacity:"0.7",fontSize:"1rem",marginRight:"1rem",lineHeight:"1rem",whiteSpace:"nowrap",cursor:"pointer",fontWeight:400,transition:"$all","&::after":{width:"0",height:"4px",content:"",position:"absolute",bottom:"-4px",left:"0",transition:"$all"},"&[data-state='active']":{opacity:"1",fontWeight:700,"&::after":{width:"100%",backgroundColor:"$accent"}}}),c5=cz(lh.VY,{display:"flex",flexGrow:"1",flexShrink:"0",position:"absolute",top:"0",left:"0","&[data-state='active']":{width:"100%",height:"calc(100% - 2rem)",padding:"1.618rem 0"}}),c6=cz(({handleScroll:h,children:g,className:_})=>e$.createElement("div",{className:_,onScroll:h},g),{position:"relative",height:"100%",width:"100%",overflowY:"scroll"}),c8={position:"relative",cursor:"pointer",display:"flex",width:"100%",justifyContent:"space-between",textAlign:"left",margin:"0",padding:"0.5rem 1.618rem",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",color:"inherit",border:"none",background:"none"},c9=cz("button",{textAlign:"left","&:hover":{color:"$accent"}}),c7=cz("div",{display:"flex",flexDirection:"column",width:"100%"}),ue=cz("div",{...c8}),ut=cz("div",{"&:hover":{color:"$accent"}}),viewer_ut=({value:h,handleClick:g})=>e$.createElement(c9,{onClick:g},h),aa=({value:h,handleClick:g})=>e$.createElement(ut,{dangerouslySetInnerHTML:{__html:h},onClick:g}),ia=()=>{function e(h){return h.map(h=>{let g=h.identifier||esm_browser_v4();return{...h,identifier:g}})}return{addIdentifiersToParsedCues:e,createNestedCues:function(h){var g;let _=[],y=[],A=e(h);for(let h of A){for(;y.length>0&&y[y.length-1].end<=h.start;)y.pop();y.length>0?(y[y.length-1].children||(y[y.length-1].children=[]),null==(g=y[y.length-1].children)||g.push(h)):_.push(h),y.push(h)}return _},isChild:function(h,g=[]){return g.some(g=>h.start>=g.start&&h.end<=g.end)},orderCuesByTime:function(h=[]){return h.sort((h,g)=>h.start-g.start)}}},un=cV({from:{transform:"rotate(360deg)"},to:{transform:"rotate(0deg)"}}),ui=cz(lp.fC,{display:"flex",flexDirection:"column",width:"100%"}),ua=cz(lp.ck,{...c8,"@sm":{padding:"0.5rem 1rem",fontSize:"0.8333rem"},"&::before":{content:"",width:"12px",height:"12px",borderRadius:"12px",position:"absolute",backgroundColor:"$primaryMuted",opacity:"0",left:"8px",marginTop:"3px",boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",opacity:"0",clipPath:"polygon(100% 50%, 0 100%, 0 0)",left:"13px",marginTop:"6px",boxSizing:"content-box","@sm":{content:"unset"}},strong:{marginLeft:"1rem"},"&:hover":{color:"$accent","&::before":{backgroundColor:"$accent",opacity:"1"},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",clipPath:"polygon(100% 50%, 0 100%, 0 0)",opacity:"1"}},"&[aria-checked='true']":{backgroundColor:"#6663","&::before":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accentMuted",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1s linear infinite",animationName:un,boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accent",clipPath:"polygon(100% 0, 100% 100%, 0 0)",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1.5s linear infinite",animationName:un,boxSizing:"content-box","@sm":{content:"unset"}}}}),ca=h=>{for(;h&&h!==document.body;){let g=window.getComputedStyle(h).overflowY;if("visible"!==g&&"hidden"!==g&&h.scrollHeight>h.clientHeight)return h;h=h.parentNode}return null},da=({label:h,start:g,end:_})=>{var y,A;let b=viewer_F(),{configOptions:k,isAutoScrollEnabled:w,isUserScrolling:R}=viewer_T(),B=null==(A=null==(y=null==k?void 0:k.informationPanel)?void 0:y.vtt)?void 0:A.autoScroll,[H,z]=(0,e$.useState)(!1),$=(0,e$.useRef)(null),j=document.getElementById("clover-iiif-video");return(0,e$.useEffect)(()=>(null==j||j.addEventListener("timeupdate",()=>{let{currentTime:h}=j;z(g<=h&&h<_)}),()=>document.removeEventListener("timeupdate",()=>{})),[_,g,j]),(0,e$.useEffect)(()=>{var h,g;if(w&&H&&$.current&&!R){let _=$.current;if(_&&_ instanceof HTMLElement){let y=ca(_);if(y&&y instanceof HTMLElement){let A;switch(null==(h=null==B?void 0:B.settings)?void 0:h.block){case"center":let k=y.getBoundingClientRect();A=_.offsetTop+_.offsetHeight-Math.floor((k.bottom-k.top)/2);break;case"end":A=_.offsetTop+_.offsetHeight-(y.clientHeight-_.clientHeight)+2;break;default:A=_.offsetTop-2}b({type:"updateAutoScrolling",isAutoScrolling:!0}),y.scrollTo({top:A,left:0,behavior:null==(g=null==B?void 0:B.settings)?void 0:g.behavior}),setTimeout(()=>b({type:"updateAutoScrolling",isAutoScrolling:!1}),750)}}}},[B,H,R,w,b]),e$.createElement(ua,{ref:$,"aria-checked":H,"data-testid":"information-panel-cue",onClick:()=>{j&&(j.pause(),j.currentTime=g,j.play())},value:h},h,e$.createElement("strong",null,viewer_Jt(g)))},uo=cz("ul",{listStyle:"none",paddingLeft:"1rem",position:"relative","&&:first-child":{paddingLeft:"0"},"& li ul":{[`& ${ua}`]:{backgroundColor:"unset","&::before":{content:"none"},"&::after":{content:"none"}}},"&:first-child":{margin:"0 0 1.618rem"}}),viewer_hn=({items:h})=>e$.createElement(uo,null,h.map(h=>{let{text:g,start:_,end:y,children:A,identifier:b}=h;return e$.createElement("li",{key:b},e$.createElement(da,{label:g,start:_,end:y}),A&&e$.createElement(viewer_hn,{items:A}))})),ma=({label:h,vttUri:g})=>{let[_,y]=e$.useState([]),{createNestedCues:A,orderCuesByTime:b}=ia(),[k,w]=e$.useState();return(0,e$.useEffect)(()=>{g&&fetch(g,{headers:{"Content-Type":"text/plain",Accept:"application/json"}}).then(h=>h.text()).then(h=>{let g=(0,lf.parse)(h).cues,_=b(g),k=A(_);y(k)}).catch(h=>{console.error(g,h.toString()),w(h)})},[g]),e$.createElement(ui,{"data-testid":"annotation-item-vtt","aria-label":`${viewer_ne(h)}`},k&&e$.createElement("div",{"data-testid":"error-message"},"Network Error: ",k.toString()),e$.createElement(viewer_hn,{items:_}))},fa=({caption:h,handleClick:g,imageUri:_})=>e$.createElement(c9,{onClick:g},e$.createElement("img",{src:_,alt:`A visual annotation for ${h}`}),e$.createElement("span",null,h)),pa=({annotation:h})=>{var g,_;let{target:y}=h,A=viewer_T(),{openSeadragonViewer:b,vault:k,activeCanvas:w,configOptions:R}=A,B=h.body.map(h=>k.get(h.id)),H=(null==(g=B.find(h=>h.format))?void 0:g.format)||"",z=(null==(_=B.find(h=>h.value))?void 0:_.value)||"",$=k.get({id:w,type:"Canvas"});function m(){var h;if(!y)return;let g=(null==(h=R.annotationOverlays)?void 0:h.zoomLevel)||1;viewer_Ve(b,g,y,$)}return e$.createElement(ue,null,function(){var h,g;switch(H){case"text/plain":return e$.createElement(viewer_ut,{value:z,handleClick:m});case"text/html":return e$.createElement(aa,{value:z,handleClick:m});case"text/vtt":return e$.createElement(ma,{label:B[0].label,vttUri:B[0].id||""});case null==(h=H.match(/^image\//))?void 0:h.input:let _=(null==(g=B.find(h=>{var g;return!(null!=(g=h.id)&&g.includes("vault://"))}))?void 0:g.id)||"";return e$.createElement(fa,{caption:z,handleClick:m,imageUri:_});default:return e$.createElement(viewer_ut,{value:z,handleClick:m})}}())},ha=({annotationPage:h})=>{var g;let _=viewer_T(),{vault:y}=_;if(!h||!h.items||(null==(g=h.items)?void 0:g.length)===0)return e$.createElement(e$.Fragment,null);let A=h.items.map(h=>y.get(h.id));return A?e$.createElement(c7,{"data-testid":"annotation-page"},null==A?void 0:A.map(h=>e$.createElement(pa,{key:h.id,annotation:h}))):e$.createElement(e$.Fragment,null)},uc=cz("button",{textAlign:"left","&:hover":{color:"$accent"}}),uu=cz("li",{margin:"0.25rem 0"}),ud=cz("ol",{listStyleType:"auto",marginBottom:"1rem",listStylePosition:"inside"}),uh=cz("div",{margin:"0.5rem 1.618rem"}),up=cz("div",{fontWeight:"bold"}),uf=cz("div",{marginBottom:"1rem"}),Sa=({value:h,handleClick:g,target:_,canvas:y})=>e$.createElement(uc,{onClick:g,"data-target":_,"data-canvas":y},h),xa=({annotation:h,activeContentSearchTarget:g,setActiveContentSearchTarget:_})=>{var y,A,b;let k,w;let R=viewer_F(),B=viewer_T(),{openSeadragonViewer:H,vault:z,contentSearchVault:$,activeCanvas:j,configOptions:q,OSDImageLoaded:W}=B,K=z.get({id:j,type:"Canvas"}),ee=(null==(y=h.body.map(h=>$.get(h.id)).find(h=>h.value))?void 0:y.value)||"";if(h.target&&"string"==typeof h.target&&(k=h.target),k){let h=k.split("#xywh");h.length>1&&(w=h[0])}let et=(null==(b=null==(A=q.contentSearch)?void 0:A.overlays)?void 0:b.zoomLevel)||1;(0,e$.useEffect)(()=>{W&&H&&h.target&&h.target==g&&viewer_Ve(H,et,k,K)},[H,W]);let en=JSON.stringify(k);return e$.createElement(uu,null,e$.createElement(Sa,{target:en,canvas:w,value:ee,handleClick:function(h){if(!H)return;let g=JSON.parse(h.target.dataset.target),y=h.target.dataset.canvas;j===y?viewer_Ve(H,et,k,K):(R({type:"updateOSDImageLoaded",OSDImageLoaded:!1}),R({type:"updateActiveCanvas",canvasId:y}),_(g))}}))},Ca=({annotationPage:h})=>{var g,_,y;let A=viewer_T(),{contentSearchVault:b,configOptions:k}=A,[w,R]=(0,e$.useState)(),B=null==(g=k.contentSearch)?void 0:g.searchResultsLimit,H=null==(_=k.localeText)?void 0:_.contentSearch;return h&&h.items&&(null==(y=h.items)?void 0:y.length)!==0?e$.createElement(e$.Fragment,null,Object.entries(function(h){let g={};return h.items.forEach(h=>{let _=b.get(h.id),y="";if(_.label){let h=viewer_ne(_.label);h&&(y=h[0])}null==g[y]&&(g[y]=[]),g[y].push(_)}),g}(h)).map(([h,g],_)=>e$.createElement("div",{key:_},e$.createElement(up,{className:"content-search-results-title"},h),e$.createElement(ud,{className:"content-search-results"},(B?g.slice(0,B):g).map((h,g)=>e$.createElement(xa,{key:g,annotation:h,activeContentSearchTarget:w,setActiveContentSearchTarget:R}))),function(h){if(B){let g=h.length-B;if(g>0)return e$.createElement(uf,null,g," ",null==H?void 0:H.moreResults)}}(g)))):e$.createElement("p",null,null==H?void 0:H.noSearchResults)},um=cz("div",{".content-search-form":{display:"flex",marginBottom:"1rem"},input:{padding:".25rem",marginRight:"1rem"}}),ug=cz("button",{display:"flex",background:"none",border:"none",width:"2rem",height:"2rem",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),ka=({searchServiceUrl:h,setContentSearchResource:g,setLoading:_})=>{var y;let[A,b]=(0,e$.useState)(),k=viewer_T(),{contentSearchVault:w,openSeadragonViewer:R,configOptions:B}=k,H=null==(y=B.localeText)?void 0:y.contentSearch;async function u(y){y.preventDefault();let b=null==H?void 0:H.tabLabel;if(R&&h){if(!A||""===A.trim()){g({label:{none:[b]}});return}_(!0),viewer_on(w,h,b,{q:A}).then(h=>{g(h),_(!1)})}}return e$.createElement(um,null,e$.createElement(lI,{onSubmit:u,className:"content-search-form"},e$.createElement(lR,{className:"FormField",name:"searchTerms",onChange:h=>{h.preventDefault(),b(h.target.value)}},e$.createElement(lL,{placeholder:null==H?void 0:H.formPlaceholder})),e$.createElement(lU,{asChild:!0},e$.createElement(ug,{type:"submit"},e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e$.createElement("title",null,"Search"),e$.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"}))))))},Ta=({searchServiceUrl:h,setContentSearchResource:g,activeCanvas:_,annotationPage:y})=>{let[A,b]=(0,e$.useState)(!1);return e$.createElement(uh,null,e$.createElement(ka,{searchServiceUrl:h,setContentSearchResource:g,activeCanvas:_,setLoading:b}),!A&&e$.createElement(Ca,{annotationPage:y}),A&&e$.createElement("span",null,"Loading..."))},uE=cz("div",{padding:" 0 1.618rem 2rem",display:"flex",flexDirection:"column",overflow:"scroll",position:"absolute",fontWeight:"400",fontSize:"1rem",zIndex:"0",img:{maxWidth:"100px",maxHeight:"100px",objectFit:"contain",color:"transparent",margin:"0 0 1rem",borderRadius:"3px",backgroundColor:"$secondaryMuted"},video:{display:"none"},"a, a:visited":{color:"$accent"},p:{fontSize:"1rem",lineHeight:"1.45em",margin:"0"},dl:{margin:"0",dt:{fontWeight:"700",margin:"1rem 0 0.25rem"},dd:{margin:"0"}},".manifest-property-title":{fontWeight:"700",margin:"1rem 0 0.25rem"},"ul, ol":{padding:"0",margin:"0",li:{fontSize:"1rem",lineHeight:"1.45em",listStyle:"none",margin:"0.25rem 0 0.25rem"}}}),u_=cz("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),viewer_gn=(h,g="none")=>{if(!h)return null;if("string"==typeof h)return[h];if(!h[g]){let g=Object.getOwnPropertyNames(h);if(g.length>0)return h[g[0]]}return h[g]&&Array.isArray(h[g])?h[g]:null},viewer_z=(h,g="none",_=", ")=>{let y=viewer_gn(h,g);return Array.isArray(y)?y.join(`${_}`):y};function viewer_B(h,g){let _=Object.keys(h).filter(h=>g.includes(h)?null:h),y={};return _.forEach(g=>{y[g]=h[g]}),y}let uT=cz("span",{}),viewer_j=h=>{let{as:g,label:_}=h,y=viewer_B(h,["as","label"]);return e$.createElement(uT,{as:g,...y},viewer_z(_,y.lang))},Oa=(h,g="200,",_="full")=>{let y;Array.isArray(h)&&(h=h[0]);let{id:A,service:b}=h;if(!b)return A;if(Array.isArray(h.service)&&h.service.length>0&&(y=b[0]),y){if(y["@id"])return`${y["@id"]}/${_}/${g}/0/default.jpg`;if(y.id)return`${y.id}/${_}/${g}/0/default.jpg`}},uv=cz("img",{objectFit:"cover"}),La=h=>{let g;let _=(0,e$.useRef)(null),{contentResource:y,altAsLabel:A,region:b="full"}=h;A&&(g=viewer_z(A));let k=viewer_B(h,["contentResource","altAsLabel"]),{type:w,id:R,width:B=200,height:H=200,duration:z}=y;(0,e$.useEffect)(()=>{if(!R&&!_.current||["Image"].includes(w)||!R.includes("m3u8"))return;let h=new nF.ZP;return _.current&&(h.attachMedia(_.current),h.on(nF.ZP.Events.MEDIA_ATTACHED,function(){h.loadSource(R)})),h.on(nF.ZP.Events.ERROR,function(g,_){if(_.fatal)switch(_.type){case nF.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${g} network error encountered, try to recover`),h.startLoad();break;case nF.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${g} media error encountered, try to recover`),h.recoverMediaError();break;default:h.destroy()}}),()=>{h&&(h.detachMedia(),h.destroy())}},[R,w]);let $=(0,e$.useCallback)(()=>{if(!_.current)return;let h=0,g=30;if(z&&(g=z),!R.split("#t=")&&z&&(h=.1*z),R.split("#t=").pop()){let g=R.split("#t=").pop();g&&(h=parseInt(g.split(",")[0]))}let y=_.current;y.autoplay=!0,y.currentTime=h,setTimeout(()=>$(),1e3*g)},[z,R]);(0,e$.useEffect)(()=>$(),[$]);let j=Oa(y,`${B},${H}`,b);switch(w){case"Image":return e$.createElement(uv,{as:"img",alt:g,css:{width:B,height:H},key:R,src:j,...k});case"Video":return e$.createElement(uv,{as:"video",css:{width:B,height:H},disablePictureInPicture:!0,key:R,loop:!0,muted:!0,onPause:$,ref:_,src:R});default:return console.warn(`Resource type: ${w} is not valid or not yet supported in Primitives.`),e$.createElement(e$.Fragment,null)}},uy=cz("a",{}),Da=h=>{let{children:g,homepage:_}=h,y=viewer_B(h,["children","homepage"]);return e$.createElement(e$.Fragment,null,_&&_.map(h=>{let _=viewer_z(h.label,y.lang);return e$.createElement(uy,{"aria-label":g?_:void 0,href:h.id,key:h.id,...y},g||_)}))},uA={delimiter:", "},ub=(0,e$.createContext)(void 0),viewer_vn=()=>{let h=(0,e$.useContext)(ub);if(void 0===h)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return h},viewer_Ke=({children:h,initialState:g=uA})=>{let _=Va(g,"delimiter");return e$.createElement(ub.Provider,{value:{delimiter:_}},h)},Va=(h,g)=>Object.hasOwn(h,g)?h[g].toString():void 0,uk=cz("span",{}),viewer_pt=h=>{let{as:g,markup:_}=h,{delimiter:y}=viewer_vn();if(!_)return e$.createElement(e$.Fragment,null);let A=viewer_B(h,["as","markup"]),b={__html:nP(viewer_z(_,A.lang,y),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return e$.createElement(uk,{as:g,...A,dangerouslySetInnerHTML:b})},viewer_yn=h=>e$.useContext(ub)?e$.createElement(viewer_pt,{...h}):e$.createElement(viewer_Ke,null,e$.createElement(viewer_pt,{...h})),Ba=({as:h="dd",lang:g,value:_})=>e$.createElement(viewer_yn,{markup:_,as:h,lang:g}),uS=cz("span",{}),Ua=({as:h="dd",customValueContent:g,lang:_,value:y})=>{var A;let{delimiter:b}=viewer_vn(),k=null==(A=viewer_gn(y,_))?void 0:A.map(h=>(0,e$.cloneElement)(g,{value:h}));return e$.createElement(uS,{as:h,lang:_},null==k?void 0:k.map((h,g)=>[g>0&&`${b}`,e$.createElement(e$.Fragment,{key:g},h)]))},viewer_En=h=>{var g;let{item:_,lang:y,customValueContent:A}=h,{label:b,value:k}=_,w=null==(g=viewer_z(b))?void 0:g.replace(" ","-").toLowerCase();return e$.createElement("div",{role:"group","data-label":w},e$.createElement(viewer_j,{as:"dt",label:b,lang:y}),A?e$.createElement(Ua,{as:"dd",customValueContent:A,value:k,lang:y}):e$.createElement(Ba,{as:"dd",value:k,lang:y}))},uC=cz("dl",{}),ja=h=>{let{as:g,customValueContent:_,metadata:y}=h;if(!Array.isArray(y))return e$.createElement(e$.Fragment,null);let A=viewer_Yt(h,"customValueDelimiter"),b=viewer_B(h,["as","customValueContent","customValueDelimiter","metadata"]);return e$.createElement(viewer_Ke,{..."string"==typeof A?{initialState:{delimiter:A}}:void 0},y.length>0&&e$.createElement(uC,{as:g,...b},y.map((h,g)=>{let y=_?function(h,g){let _=g.filter(g=>{let{matchingLabel:_}=g,y=Object.keys(g.matchingLabel)[0],A=viewer_z(_,y);if(viewer_z(h,y)===A)return!0}).map(h=>h.Content);if(Array.isArray(_))return _[0]}(h.label,_):void 0;return e$.createElement(viewer_En,{customValueContent:y,item:h,key:g,lang:null==b?void 0:b.lang})})))};cz("li",{}),cz("ul",{});let ux=cz("li",{}),uI=cz("ul",{}),Qa=h=>{let{as:g,rendering:_}=h,y=viewer_B(h,["as","rendering"]);return e$.createElement(uI,{as:g},_&&_.map(h=>{let g=viewer_z(h.label,y.lang);return e$.createElement(ux,{key:h.id},e$.createElement("a",{href:h.id,...y,target:"_blank"},g||h.id))}))},uw=cz("dl",{}),Za=h=>{let{as:g,requiredStatement:_}=h;if(!_)return e$.createElement(e$.Fragment,null);let y=viewer_Yt(h,"customValueDelimiter"),A=viewer_B(h,["as","customValueDelimiter","requiredStatement"]);return e$.createElement(viewer_Ke,{..."string"==typeof y?{initialState:{delimiter:y}}:void 0},e$.createElement(uw,{as:g,...A},e$.createElement(viewer_En,{item:_,lang:A.lang})))},uO=cz("li",{}),uN=cz("ul",{}),viewer_ei=h=>{let{as:g,seeAlso:_}=h,y=viewer_B(h,["as","seeAlso"]);return e$.createElement(uN,{as:g},_&&_.map(h=>{let g=viewer_z(h.label,y.lang);return e$.createElement(uO,{key:h.id},e$.createElement("a",{href:h.id,...y},g||h.id))}))},viewer_ti=h=>{let{as:g,summary:_}=h,y=viewer_B(h,["as","customValueDelimiter","summary"]);return e$.createElement(viewer_yn,{as:g,markup:_,...y})},viewer_bn=h=>{let{thumbnail:g,region:_}=h,y=viewer_B(h,["thumbnail"]);return e$.createElement(e$.Fragment,null,g&&g.map(h=>e$.createElement(La,{contentResource:h,key:h.id,region:_,...y})))},viewer_ni=({homepage:h})=>(null==h?void 0:h.length)===0?e$.createElement(e$.Fragment,null):e$.createElement(e$.Fragment,null,e$.createElement("span",{className:"manifest-property-title"},"Homepage"),e$.createElement(Da,{homepage:h})),viewer_ri=({id:h,htmlLabel:g,parent:_="manifest"})=>e$.createElement(e$.Fragment,null,e$.createElement("span",{className:"manifest-property-title"},g),e$.createElement("a",{href:h,target:"_blank",id:`iiif-${_}-id`},h)),viewer_oi=({metadata:h,parent:g="manifest"})=>h?e$.createElement(e$.Fragment,null,e$.createElement(ja,{metadata:h,id:`iiif-${g}-metadata`})):e$.createElement(e$.Fragment,null),viewer_ai=({rendering:h})=>(null==h?void 0:h.length)===0?e$.createElement(e$.Fragment,null):e$.createElement(e$.Fragment,null,e$.createElement("span",{className:"manifest-property-title"},"Alternate formats"),e$.createElement(Qa,{rendering:h})),viewer_ii=({requiredStatement:h,parent:g="manifest"})=>h?e$.createElement(e$.Fragment,null,e$.createElement(Za,{requiredStatement:h,id:`iiif-${g}-required-statement`})):e$.createElement(e$.Fragment,null),viewer_si=({rights:h})=>h?e$.createElement(e$.Fragment,null,e$.createElement("span",{className:"manifest-property-title"},"Rights"),e$.createElement("a",{href:h,target:"_blank"},h)):e$.createElement(e$.Fragment,null),viewer_li=({seeAlso:h})=>(null==h?void 0:h.length)===0?e$.createElement(e$.Fragment,null):e$.createElement(e$.Fragment,null,e$.createElement("span",{className:"manifest-property-title"},"See Also"),e$.createElement(viewer_ei,{seeAlso:h})),viewer_ci=({summary:h,parent:g="manifest"})=>h?e$.createElement(e$.Fragment,null,e$.createElement(viewer_ti,{summary:h,as:"p",id:`iiif-${g}-summary`})):e$.createElement(e$.Fragment,null),viewer_di=({label:h,thumbnail:g})=>(null==g?void 0:g.length)===0?e$.createElement(e$.Fragment,null):e$.createElement(e$.Fragment,null,e$.createElement(viewer_bn,{altAsLabel:h||{none:["resource"]},thumbnail:g,style:{backgroundColor:"#6663",objectFit:"cover"}})),viewer_ui=()=>{let h=viewer_T(),{activeManifest:g,vault:_}=h,[y,A]=(0,e$.useState)(),[b,k]=(0,e$.useState)([]),[w,R]=(0,e$.useState)([]),[B,H]=(0,e$.useState)([]),[z,$]=(0,e$.useState)([]);return(0,e$.useEffect)(()=>{var h,y,b,w;let B=_.get(g);A(B),(null==(h=B.homepage)?void 0:h.length)>0&&k(_.get(B.homepage)),(null==(y=B.seeAlso)?void 0:y.length)>0&&R(_.get(B.seeAlso)),(null==(b=B.rendering)?void 0:b.length)>0&&H(_.get(B.rendering)),(null==(w=B.thumbnail)?void 0:w.length)>0&&$(_.get(B.thumbnail))},[g,_]),y?e$.createElement(u_,null,e$.createElement(uE,null,e$.createElement(viewer_di,{thumbnail:z,label:y.label}),e$.createElement(viewer_ci,{summary:y.summary}),e$.createElement(viewer_oi,{metadata:y.metadata}),e$.createElement(viewer_ii,{requiredStatement:y.requiredStatement}),e$.createElement(viewer_si,{rights:y.rights}),e$.createElement(viewer_ni,{homepage:b}),e$.createElement(viewer_li,{seeAlso:w}),e$.createElement(viewer_ai,{rendering:B}),e$.createElement(viewer_ri,{id:y.id,htmlLabel:"IIIF Manifest"}))):e$.createElement(e$.Fragment,null)},viewer_pi=({activeCanvas:h,annotationResources:g,searchServiceUrl:_,setContentSearchResource:y,contentSearchResource:A})=>{let{t:b}=(0,sZ.$G)(),k=viewer_F(),w=viewer_T(),{isAutoScrolling:R,isUserScrolling:B,vault:H,configOptions:z,plugins:$}=w,{informationPanel:j}=z,[q,W]=(0,e$.useState)(),K=null==j?void 0:j.renderAbout,ee=null==j?void 0:j.renderAnnotation,et=H.get({id:h,type:"Canvas"}),en=null==j?void 0:j.renderContentSearch,{pluginsWithInfoPanel:er}=function(h){let g=[];return h.forEach(h=>{var _;null!=(_=h.informationPanel)&&_.component&&g.push(h)}),{pluginsWithInfoPanel:g}}($);return(0,e$.useEffect)(()=>{if(!q){if(null!=j&&j.defaultTab){let h=["manifest-about","manifest-content-search"];et.annotations.length>0&&et.annotations.forEach(g=>h.push(g.id)),h.includes(null==j?void 0:j.defaultTab)?W(j.defaultTab):W("manifest-about")}else K?W("manifest-about"):en?W("manifest-content-search"):g&&(null==g?void 0:g.length)>0?W(g[0].id):$.length>0&&W($[0].id)}},[null==j?void 0:j.defaultTab,h,q,K,en,g,A,null==et?void 0:et.annotations,$]),e$.createElement(c2,{"data-testid":"information-panel",defaultValue:q,onValueChange:h=>{W(h)},orientation:"horizontal",value:q,className:"clover-viewer-information-panel"},e$.createElement(c3,{"aria-label":b("informationPanelTabs"),"data-testid":"information-panel-list"},K&&e$.createElement(c4,{value:"manifest-about"},b("informationPanelTabsAbout")),en&&A&&e$.createElement(c4,{value:"manifest-content-search"},e$.createElement(viewer_j,{label:A.label})),ee&&g&&g.map((h,g)=>e$.createElement(c4,{key:g,value:h.id},e$.createElement(viewer_j,{label:h.label}))),er&&er.map((h,g)=>{var _;return e$.createElement(c4,{key:g,value:h.id},e$.createElement(viewer_j,{label:null==(_=h.informationPanel)?void 0:_.label}))})),e$.createElement(c6,{handleScroll:function(){if(!R){clearTimeout(B);let h=setTimeout(()=>{k({type:"updateUserScrolling",isUserScrolling:void 0})},1500);k({type:"updateUserScrolling",isUserScrolling:h})}}},K&&e$.createElement(c5,{value:"manifest-about"},e$.createElement(viewer_ui,null)),en&&A&&e$.createElement(c5,{value:"manifest-content-search"},e$.createElement(Ta,{searchServiceUrl:_,setContentSearchResource:y,activeCanvas:h,annotationPage:A})),ee&&g&&g.map(h=>e$.createElement(c5,{key:h.id,value:h.id},e$.createElement(ha,{annotationPage:h}))),er&&er.map((h,g)=>(function(h,g){var _,y;let A=null==(_=null==h?void 0:h.informationPanel)?void 0:_.component;return void 0===A?e$.createElement(e$.Fragment,null):e$.createElement(c5,{key:g,value:h.id},e$.createElement(eG.SV,{FallbackComponent:viewer_Ze},e$.createElement(A,{...null==(y=null==h?void 0:h.informationPanel)?void 0:y.componentProps,canvas:et,useViewerDispatch:viewer_F,useViewerState:viewer_T})))})(h,g))))},uR=cz("div",{position:"absolute",right:"1rem",top:"1rem",display:"flex",justifyContent:"flex-end",zIndex:"1"}),uD=cz("input",{flexGrow:"1",border:"none",backgroundColor:"$secondaryMuted",color:"$primary",marginRight:"1rem",height:"2rem",padding:"0 1rem",borderRadius:"2rem",fontFamily:"inherit",fontSize:"1rem",lineHeight:"1rem",boxShadow:"inset 1px 1px 2px #0003","&::placeholder":{color:"$primaryMuted"}}),uL=cz("button",{display:"flex",background:"none",border:"none",width:"2rem !important",height:"2rem !important",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box !important",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),uM=cz("div",{display:"flex",marginRight:"0.618rem",backgroundColor:"$accentAlt",borderRadius:"2rem",boxShadow:"5px 5px 5px #0003",color:"$secondary",alignItems:"center","> span":{display:"flex",margin:"0 0.5rem",fontSize:"0.7222rem"}}),uP=cz("div",{display:"flex",position:"relative",zIndex:"1",width:"100%",padding:"0",transition:"$all",variants:{isToggle:{true:{paddingTop:"2.618rem",[`& ${uR}`]:{width:"calc(100% - 2rem)","@sm":{width:"calc(100% - 2rem)"}}}}}}),viewer_yi=(h,g)=>{(0,e$.useEffect)(()=>{function n(_){_.key===h&&g()}return window.addEventListener("keyup",n),()=>window.removeEventListener("keyup",n)},[])},viewer_Ei=({title:h})=>e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e$.createElement("title",null,h),e$.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M244 400L100 256l144-144M120 256h292"})),viewer_bi=({title:h})=>e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e$.createElement("title",null,h),e$.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M268 112l144 144-144 144M392 256H100"})),viewer_wi=({title:h})=>e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e$.createElement("title",null,h),e$.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),viewer_Si=({title:h})=>e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e$.createElement("title",null,h),e$.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),viewer_xi=({handleCanvasToggle:h,handleFilter:g,activeIndex:_,canvasLength:y})=>{let[A,b]=(0,e$.useState)(!1),[k,w]=(0,e$.useState)(!1),[R,B]=(0,e$.useState)(!1),{t:H}=(0,sZ.$G)();return(0,e$.useEffect)(()=>{B(0===_),_===y-1?w(!0):w(!1)},[_,y]),viewer_yi("Escape",()=>{b(!1),g("")}),e$.createElement(uP,{isToggle:A},e$.createElement(uR,null,A&&e$.createElement(uD,{autoFocus:!0,onChange:h=>g(h.target.value),placeholder:H("commonSearchPlaceholder")}),!A&&e$.createElement(uM,null,e$.createElement(uL,{onClick:()=>h(-1),disabled:R,type:"button"},e$.createElement(viewer_Ei,{title:H("commonPrevious")})),e$.createElement("span",null,_+1," of ",y),e$.createElement(uL,{onClick:()=>h(1),disabled:k,type:"button"},e$.createElement(viewer_bi,{title:H("commonNext")}))),e$.createElement(uL,{onClick:()=>{b(h=>!h),g("")},type:"button"},A?e$.createElement(viewer_wi,{title:H("commonClose")}):e$.createElement(viewer_Si,{title:H("commonSearch")}))))},uF=cz(lp.fC,{display:"flex",flexDirection:"row",flexGrow:"1",padding:"1.618rem",overflowX:"scroll",position:"relative",zIndex:"0"}),uB=cz("svg",{display:"inline-flex",variants:{isLarge:{true:{height:"4rem",width:"4rem"}},isMedium:{true:{height:"2rem",width:"2rem"}},isSmall:{true:{height:"1rem",width:"1rem"}}}}),viewer_P=h=>e$.createElement(uB,{...h,"data-testid":"icon-svg",role:"img",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},h.children);viewer_P.Title=({children:h})=>e$.createElement("title",null,h),viewer_P.Add=()=>e$.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288M400 256H112"}),viewer_P.Audio=()=>e$.createElement(e$.Fragment,null,e$.createElement("path",{d:"M232 416a23.88 23.88 0 01-14.2-4.68 8.27 8.27 0 01-.66-.51L125.76 336H56a24 24 0 01-24-24V200a24 24 0 0124-24h69.75l91.37-74.81a8.27 8.27 0 01.66-.51A24 24 0 01256 120v272a24 24 0 01-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 01-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0128.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 01320 336z"}),e$.createElement("path",{d:"M368 384a16 16 0 01-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0127.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 01-13.87 8z"}),e$.createElement("path",{d:"M416 432a16 16 0 01-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1127-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 01416 432z"})),viewer_P.Close=()=>e$.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}),viewer_P.Download=()=>e$.createElement(e$.Fragment,null,e$.createElement("path",{d:"M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),e$.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 272l80 80 80-80M256 48v288"})),viewer_P.Image=()=>e$.createElement("path",{d:"M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z"}),viewer_P.Video=()=>e$.createElement("path",{d:"M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z"});let uU=cV({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),uH=cV({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),uG=cz(nU.Eh,{fill:"$secondaryAlt"}),uz=cz(nU.x8,{position:"absolute",right:"0",top:"0",padding:"0.5rem",margin:"0",cursor:"pointer",border:"none",background:"none",fill:"inherit","&:hover":{opacity:"0.75"}}),u$=cz(nU.VY,{border:"none",backgroundColor:"white",fill:"inhrerit",padding:"1rem 2rem 1rem 1rem",width:"auto",minWidth:"200px",maxWidth:"350px",borderRadius:"3px",boxShadow:"5px 5px 13px #0002",animationDuration:"0.3s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",'&[data-side="top"]':{animationName:uH},'&[data-side="bottom"]':{animationName:uU},'&[data-align="end"]':{[`& ${uG}`]:{margin:"0 0.7rem"}}}),uV=cz(nU.xz,{display:"inline-flex",padding:"0.5rem 0",margin:"0 0.5rem 0 0",cursor:"pointer",border:"none",background:"none","> button, > span":{margin:"0"}}),uQ=cz(nU.fC,{boxSizing:"content-box"}),viewer_K=({children:h})=>e$.createElement(uQ,null,h);viewer_K.Trigger=h=>e$.createElement(uV,{...h},h.children),viewer_K.Content=h=>e$.createElement(u$,{...h,sideOffset:5,collisionPadding:21},e$.createElement(uG,null),e$.createElement(uz,null,e$.createElement(viewer_P,{isSmall:!0},e$.createElement(viewer_P.Close,null))),h.children);let uj=cz("div",{boxSizing:"border-box",display:"inline-flex",alignItems:"center",borderRadius:"5px",padding:"$1",marginBottom:"$2",marginRight:"$2",backgroundColor:"$lightGrey",color:"$richBlack50",textTransform:"uppercase",fontSize:"$2",objectFit:"contain",lineHeight:"1em !important","&:last-child":{marginRight:"0"},[`${uB}`]:{position:"absolute",left:"$1",height:"$3",width:"$3"},variants:{isIcon:{true:{position:"relative",paddingLeft:"$5"}}}}),uY=cz("span",{display:"flex"}),uq=cz("span",{display:"flex",width:"1.2111rem",height:"0.7222rem"}),uW=cz("span",{display:"inline-flex",marginLeft:"5px",marginBottom:"-1px"}),uX=cz(lp.ck,{display:"flex",flexShrink:"0",margin:"0 1.618rem 0 0",padding:"0",cursor:"pointer",background:"none",border:"none",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",textAlign:"left","&:last-child":{marginRight:"1rem"},figure:{margin:"0",width:"161.8px","> div":{position:"relative",display:"flex",backgroundColor:"$secondaryAlt",width:"inherit",height:"100px",overflow:"hidden",borderRadius:"3px",transition:"$all",img:{width:"100%",height:"100%",objectFit:"cover",filter:"blur(0)",transform:"scale3d(1, 1, 1)",transition:"$all",color:"transparent"},[`& ${uY}`]:{position:"absolute",right:"0",bottom:"0",[`& ${uj}`]:{margin:"0",paddingLeft:"0",fontSize:"0.7222rem",backgroundColor:"#000d",color:"$secondary",fill:"$secondary",borderBottomLeftRadius:"0",borderTopRightRadius:"0"}}},figcaption:{marginTop:"0.5rem",fontWeight:"400",fontSize:"0.8333rem",display:"-webkit-box",overflow:"hidden",MozBoxOrient:"vertical",WebkitBoxOrient:"vertical",WebkitLineClamp:"5","@sm":{fontSize:"0.8333rem"}}},"&[aria-checked='true']":{figure:{"> div":{backgroundColor:"$primaryAlt","&::before":{position:"absolute",zIndex:"1",color:"$secondaryMuted",content:"Active Item",textTransform:"uppercase",fontWeight:"700",fontSize:"0.6111rem",letterSpacing:"0.03rem",display:"flex",width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",textAlign:"center",textShadow:"5px 5px 5px #0003"},img:{opacity:"0.3",transform:"scale3d(1.1, 1.1, 1.1)",filter:"blur(2px)"},[`& ${uY}`]:{[`& ${uj}`]:{backgroundColor:"$accent"}}}},figcaption:{fontWeight:"700"}}}),Ui=({type:h})=>{switch(h){case"Sound":return e$.createElement(viewer_P.Audio,null);case"Image":default:return e$.createElement(viewer_P.Image,null);case"Video":return e$.createElement(viewer_P.Video,null)}},Wi=({canvas:h,canvasIndex:g,isActive:_,thumbnail:y,type:A,handleChange:b})=>{let k=null!=h&&h.label?viewer_ne(h.label):(g+1).toString();return e$.createElement(uX,{"aria-checked":_,"data-testid":"media-thumbnail","data-canvas":g,onClick:()=>b(h.id),value:h.id},e$.createElement("figure",null,e$.createElement("div",null,(null==y?void 0:y.id)&&e$.createElement("img",{src:y.id,alt:k}),e$.createElement(uY,null,e$.createElement(uj,{isIcon:!0,"data-testid":"thumbnail-tag"},e$.createElement(uq,null),e$.createElement(viewer_P,{"aria-label":A},e$.createElement(Ui,{type:A})),["Video","Sound"].includes(A)&&e$.createElement(uW,null,viewer_Jt(h.duration))))),e$.createElement("figcaption",{"data-testid":"fig-caption"},h.label?e$.createElement(viewer_j,{label:h.label}):(g+1).toString())))},qi=h=>h.body?h.body.type:"Image",ji=({items:h})=>{let{t:g}=(0,sZ.$G)(),_=viewer_F(),y=viewer_T(),{activeCanvas:A,vault:b}=y,[k,w]=(0,e$.useState)(""),[R,B]=(0,e$.useState)([]),[H,z]=(0,e$.useState)(0),$=e$.useRef(null),v=h=>{A!==h&&_({type:"updateActiveCanvas",canvasId:h})};return(0,e$.useEffect)(()=>{if(!R.length){let g=["Image","Sound","Video"],_=h.map(h=>viewer_an(b,h,"painting",g)).filter(h=>h.annotations.length>0);B(_)}},[h,R.length,b]),(0,e$.useEffect)(()=>{R.forEach((h,g)=>{null!=h&&h.canvas&&h.canvas.id===A&&z(g)})},[A,R]),(0,e$.useEffect)(()=>{let h=document.querySelector(`[data-canvas="${H}"]`);if(h instanceof HTMLElement&&$.current){let g=h.offsetLeft-$.current.offsetWidth/2+h.offsetWidth/2;$.current.scrollTo({left:g,behavior:"smooth"})}},[H]),e$.createElement(e$.Fragment,null,e$.createElement(viewer_xi,{handleFilter:h=>w(h),handleCanvasToggle:h=>{let g=R[H+h];null!=g&&g.canvas&&v(g.canvas.id)},activeIndex:H,canvasLength:h.length}),e$.createElement(uF,{"aria-label":g("media.selectItem"),"data-testid":"media","data-active-canvas":h[H].id,"data-canvas-length":h.length,"data-filter":k,ref:$},R.filter((h,g)=>{var _;if(!k)return!0;if(null==(_=h.canvas)||!_.label)return(g+1).toString().includes(k);{let g=viewer_ne(h.canvas.label);if(Array.isArray(g))return g[0].toLowerCase().includes(k.toLowerCase())}}).map(h=>{var g,_;return e$.createElement(Wi,{canvas:h.canvas,canvasIndex:R.findIndex(g=>g===h),handleChange:v,isActive:A===(null==(g=null==h?void 0:h.canvas)?void 0:g.id),key:null==(_=null==h?void 0:h.canvas)?void 0:_.id,thumbnail:qo(b,h,200,200),type:qi(h.annotations[0])})})))},uK=cz("button",{position:"absolute",background:"none",border:"none",cursor:"zoom-in",margin:"0",padding:"0",width:"100%",height:"100%",transition:"$all","& img":{width:"100%",height:"100%",objectFit:"contain",color:"transparent",transition:"$all"},variants:{isMedia:{true:{cursor:"pointer"}}}}),uJ=cz("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),uZ=cz(uJ,{position:"absolute",width:"2rem",top:"1rem",right:"1rem",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",transition:"$all",borderRadius:"50%",backgroundColor:"$accent",cursor:"pointer","&:hover, &:focus":{backgroundColor:"$accent !important"},variants:{isInteractive:{true:{"&:hover":{opacity:"1"}},false:{}},isMedia:{true:{cursor:"pointer !important"}}},compoundVariants:[{isInteractive:!1,isMedia:!0,css:{top:"50%",right:"50%",width:"4rem",height:"4rem",transform:"translate(50%,-50%)"}}]}),u0=cz("div",{position:"relative",display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",gap:"1rem",zIndex:"0",overflow:"hidden","&:hover":{[`${uZ}`]:{backgroundColor:"$accent"},[`${uK}`]:{backgroundColor:"#6662"}}}),u1=cz("div",{width:"100%",height:"100%"}),u2=cz("svg",{height:"19px",color:"$accent",fill:"$accent",stroke:"$accent",display:"flex",margin:"0.25rem 0.85rem"}),u3=cz(lH.xz,{fontSize:"1.25rem",fontWeight:"400",fontFamily:"inherit",alignSelf:"flex-start",flexGrow:"1",cursor:"pointer",transition:"$all",border:"1px solid #6663",boxShadow:"2px 2px 5px #0001",borderRadius:"3px",display:"flex",alignItems:"center",paddingLeft:"0.5rem",width:"100%","@sm":{fontSize:"1rem"}}),u4=cz(lH.VY,{borderRadius:"3px",boxShadow:"3px 3px 8px #0003",backgroundColor:"$secondary",marginTop:"2.25rem",marginLeft:"6px",paddingBottom:"0.25rem",maxHeight:"calc(61.8vh - 2.5rem) !important",borderTopLeftRadius:"0",border:"1px solid $secondaryMuted",maxWidth:"90vw"}),u5=cz(lH.ck,{display:"flex",alignItems:"center",fontFamily:"inherit",padding:"0.25rem 0.5rem",color:"$primary",fontWeight:"400",fontSize:"0.8333rem",cursor:"pointer",backgroundColor:"$secondary",width:"calc(100% - 1rem)","> span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},'&[data-state="checked"]':{fontWeight:"700",color:"$primary !important"},"&:hover":{color:"$accent"},img:{width:"31px",height:"31px",marginRight:"0.5rem",borderRadius:"3px"}}),u6=cz(lH.__,{color:"$primaryMuted",fontFamily:"inherit",fontSize:"0.85rem",padding:"0.5rem 1rem 0.5rem 0.5rem",display:"flex",alignItems:"center",marginBottom:"0.25rem",borderRadius:"3px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",borderBottomRightRadius:"0",backgroundColor:"$secondaryMuted"}),u8=cz(lH.fC,{position:"relative",zIndex:"5",width:"100%"}),viewer_Te=({direction:h,title:g})=>e$.createElement(u2,{xmlns:"http://www.w3.org/2000/svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},e$.createElement("title",null,g),"up"===h&&e$.createElement(()=>e$.createElement("path",{d:"M414 321.94L274.22 158.82a24 24 0 00-36.44 0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5 0 31.56-24.05 18.18-39.62z"}),null),"down"===h&&e$.createElement(()=>e$.createElement("path",{d:"M98 190.06l139.78 163.12a24 24 0 0036.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z"}),null)),viewer_Tn=({children:h,label:g,maxHeight:_,onValueChange:y,value:A})=>e$.createElement(u8,{onValueChange:y,value:A},e$.createElement(u3,{"data-testid":"select-button"},e$.createElement(lH.ki,{"data-testid":"select-button-value"}),e$.createElement(lH.GV,null,e$.createElement(viewer_Te,{direction:"down",title:"select"}))),e$.createElement(lH.ue,null,e$.createElement(u4,{css:{maxHeight:`${_} !important`},"data-testid":"select-content"},e$.createElement(lH.Pn,null,e$.createElement(viewer_Te,{direction:"up",title:"scroll up for more"})),e$.createElement(lH.Q_,null,e$.createElement(lH.DI,null,g&&e$.createElement(u6,null,e$.createElement(viewer_j,{"data-testid":"select-label",label:g})),h)),e$.createElement(lH.Jk,null,e$.createElement(viewer_Te,{direction:"down",title:"scroll down for more"}))))),viewer_Rn=h=>e$.createElement(u5,{...h},h.thumbnail&&e$.createElement(viewer_bn,{thumbnail:h.thumbnail}),e$.createElement(lH.S_,null,e$.createElement(viewer_j,{label:h.label})),e$.createElement(lH.o6,null)),u9=cz("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),u7=cz("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),de=cz("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${u9}`]:{display:"block"}},false:{[`${u9}`]:{display:"none"}}}}}),viewer_ee=({className:h,id:g,label:_,children:y})=>{let A=_.toLowerCase().replace(/\s/g,"-");return e$.createElement(uJ,{id:g,className:h,"data-testid":"openseadragon-button","data-button":A},e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${g}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},e$.createElement("title",{id:`${g}-svg-title`},_),y))},dt=cz("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),rs=()=>e$.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),os=()=>e$.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),as=()=>e$.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),viewer_is=()=>e$.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),viewer_ht=()=>e$.createElement(e$.Fragment,null,e$.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),e$.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),ss=({_cloverViewerHasPlaceholder:h,config:g})=>{let _=viewer_T(),{activeCanvas:y,plugins:A,vault:b}=_,k=b.get({id:y,type:"Canvas"});return e$.createElement(dt,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:h},g.showZoomControl&&e$.createElement(e$.Fragment,null,e$.createElement(viewer_ee,{id:g.zoomInButton,label:"zoom in"},e$.createElement(rs,null)),e$.createElement(viewer_ee,{id:g.zoomOutButton,label:"zoom out"},e$.createElement(os,null))),g.showFullPageControl&&e$.createElement(viewer_ee,{id:g.fullPageButton,label:"full page"},e$.createElement(as,null)),g.showRotationControl&&e$.createElement(e$.Fragment,null,e$.createElement(viewer_ee,{id:g.rotateRightButton,label:"rotate right"},e$.createElement(viewer_ht,null)),e$.createElement(viewer_ee,{id:g.rotateLeftButton,label:"rotate left"},e$.createElement(viewer_ht,null))),g.showHomeControl&&e$.createElement(viewer_ee,{id:g.homeButton,label:"reset"},e$.createElement(viewer_is,null)),A.filter(h=>{var g;return null==(g=h.imageViewer)?void 0:g.controls}).map((h,g)=>{var _,y,A,b;let w=null==(y=null==(_=h.imageViewer)?void 0:_.controls)?void 0:y.component;return e$.createElement(w,{key:g,...null==(b=null==(A=null==h?void 0:h.imageViewer)?void 0:A.controls)?void 0:b.componentProps,canvas:k,useViewerDispatch:viewer_F,useViewerState:viewer_T})}))},ls=({ariaLabel:h,config:g,uri:_,_cloverViewerHasPlaceholder:y,imageType:A,openSeadragonCallback:b})=>{let[k,w]=(0,e$.useState)(),[R,B]=(0,e$.useState)(),H=viewer_F(),z=(0,e$.useRef)(!1);return(0,e$.useEffect)(()=>(z.current||(z.current=!0,R||B(eH(g))),()=>null==R?void 0:R.destroy()),[]),(0,e$.useEffect)(()=>{R&&b&&b(R)},[R,b]),(0,e$.useEffect)(()=>{R&&_!==k&&(null==R||R.forceRedraw(),w(_))},[R,k,_]),(0,e$.useEffect)(()=>{if(k&&R)switch(A){case"simpleImage":null==R||R.addSimpleImage({url:k});break;case"tiledImage":$o(k).then(h=>{try{if(!h)throw Error(`No tile source found for ${k}`);null==R||R.addTiledImage({tileSource:h,success:()=>{"function"==typeof H&&H({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(h){console.error(h)}});break;default:null==R||R.close(),console.warn(`Unable to render ${k} in OpenSeadragon as type: "${A}"`)}},[A,k]),e$.createElement(de,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":g.id,hasNavigator:g.showNavigator},e$.createElement(ss,{_cloverViewerHasPlaceholder:y,config:g}),g.showNavigator&&e$.createElement(u9,{id:g.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),e$.createElement(u7,{id:g.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...h&&{"aria-label":h}}))},ds=({_cloverViewerHasPlaceholder:h=!1,body:g,instanceId:_,isTiledImage:y=!1,label:A,src:b="",openSeadragonCallback:k,openSeadragonConfig:w={}})=>{let R=_||esm_browser_v4(),B="string"==typeof A?A:viewer_z(A),H={id:`openseadragon-${R}`,navigatorId:`openseadragon-navigator-${R}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${R}`,homeButton:`reset-${R}`,rotateLeftButton:`rotateLeft-${R}`,rotateRightButton:`rotateRight-${R}`,zoomInButton:`zoomIn-${R}`,zoomOutButton:`zoomOut-${R}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...w},{imageType:z,uri:$}=g?Bo(g):Ho(b,y);return $?e$.createElement(eG.SV,{FallbackComponent:viewer_Ze},e$.createElement(ls,{_cloverViewerHasPlaceholder:h,ariaLabel:B,config:H,imageType:z,key:R,uri:$,openSeadragonCallback:k})):null},us=({isMedia:h,label:g,placeholderCanvas:_,setIsInteractive:y})=>{let{vault:A}=viewer_T(),b=viewer_pe(A,_),k=b?b[0]:void 0,w=g?viewer_ne(g):["placeholder image"];return e$.createElement(uK,{onClick:()=>y(!0),isMedia:h,className:"clover-viewer-placeholder"},e$.createElement("img",{src:(null==k?void 0:k.id)||"",alt:w.join(),height:null==k?void 0:k.height,width:null==k?void 0:k.width}))},dn=cz("canvas",{position:"absolute",width:"100%",height:"100%",zIndex:"0"}),di=e$.forwardRef((h,g)=>{let _=e$.useRef(null),y=(0,e$.useCallback)(()=>{var h,y;if(null!=(h=g.current)&&h.currentTime&&(null==(y=g.current)?void 0:y.currentTime)>0)return;let A=g.current;if(!A)return;let b=new AudioContext,k=b.createMediaElementSource(A),w=b.createAnalyser(),R=_.current;if(!R)return;R.width=A.offsetWidth,R.height=A.offsetHeight;let B=R.getContext("2d");k.connect(w),w.connect(b.destination),w.fftSize=256;let H=w.frequencyBinCount,z=new Uint8Array(H);setInterval(function(){!function(h,g,_,y,A,b){let k=A/_*2.6,w,R=0;h.getByteFrequencyData(y),g.fillStyle="#000000",g.fillRect(0,0,A,b);for(let h=0;h<_;h++)w=2*y[h],g.fillStyle="rgba(78, 42, 132, 1)",g.fillRect(R,b-w,k,w),R+=k+6}(w,B,H,z,R.width,R.height)},20)},[g]);return e$.useEffect(()=>{g&&g.current&&(g.current.onplay=y)},[y,g]),e$.createElement(dn,{ref:_,role:"presentation"})}),dl=cz("div",{position:"relative",backgroundColor:"$primaryAlt",display:"flex",flexGrow:"0",flexShrink:"1",height:"100%",zIndex:"1",video:{backgroundColor:"transparent",objectFit:"contain",width:"100%",height:"100%",position:"relative",zIndex:"1"}}),hs=({resource:h,ignoreCaptionLabels:g})=>{let _=viewer_ne(h.label,"en");return Array.isArray(_)&&_.some(h=>g.includes(h))?null:e$.createElement("track",{key:h.id,src:h.id,label:Array.isArray(_)?_[0]:_,srcLang:"en","data-testid":"player-track"})},dc=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],vs=({allSources:h,annotationResources:g,painting:_})=>{let[y,A]=e$.useState(0),[b,k]=e$.useState(),w=e$.useRef(null),R=(null==_?void 0:_.type)==="Sound",B=viewer_T(),{activeCanvas:H,configOptions:z,vault:$}=B;return(0,e$.useEffect)(()=>{if(!_.id||!w.current)return;if(null!=w&&w.current){let h=w.current;h.src=_.id,h.load()}if("m3u8"!==_.id.split(".").pop()&&_.format&&!dc.includes(_.format))return;let h=new nF.ZP({xhrSetup:function(h,g){h.withCredentials=!!z.withCredentials}});return h.attachMedia(w.current),h.on(nF.ZP.Events.MEDIA_ATTACHED,function(){h.loadSource(_.id)}),h.on(nF.ZP.Events.ERROR,function(g,_){if(_.fatal)switch(_.type){case nF.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${g} network error encountered, try to recover`),h.startLoad();break;case nF.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${g} media error encountered, try to recover`),h.recoverMediaError();break;default:h.destroy()}}),()=>{if(h&&w.current){let g=w.current;h.detachMedia(),h.destroy(),g.currentTime=0}}},[z.withCredentials,_.id]),(0,e$.useEffect)(()=>{var h,g,_,A;let b=$.get(H),w=null!=(h=b.accompanyingCanvas)&&h.id?viewer_pe($,null==(g=b.accompanyingCanvas)?void 0:g.id):null,R=null!=(_=b.placeholderCanvas)&&_.id?viewer_pe($,null==(A=b.placeholderCanvas)?void 0:A.id):null;w&&R?k(0===y?R[0].id:w[0].id):(w&&k(w[0].id),R&&k(R[0].id))},[H,y,$]),(0,e$.useEffect)(()=>{if(null!=w&&w.current){let h=w.current;return null==h||h.addEventListener("timeupdate",()=>A(h.currentTime)),()=>document.removeEventListener("timeupdate",()=>{})}},[]),e$.createElement(dl,{css:{backgroundColor:z.canvasBackgroundColor,maxHeight:z.canvasHeight,position:"relative"},"data-testid":"player-wrapper",className:"clover-viewer-player-wrapper"},e$.createElement("video",{id:"clover-iiif-video",key:_.id,ref:w,controls:!0,height:_.height,width:_.width,crossOrigin:"anonymous",poster:b,style:{maxHeight:z.canvasHeight,position:"relative",zIndex:"1"}},h.map(h=>e$.createElement("source",{src:h.id,type:h.format,key:h.id})),(null==g?void 0:g.length)>0&&g.map(h=>{let g=[];return h.items.forEach(h=>{$.get(h.id).body.forEach(h=>{let _=$.get(h.id);g.push(_)})}),g.map(h=>e$.createElement(hs,{resource:h,ignoreCaptionLabels:z.ignoreCaptionLabels||[],key:h.id}))}),"Sorry, your browser doesn't support embedded videos."),R&&e$.createElement(di,{ref:w}))},ys=()=>e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"close-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},e$.createElement("title",{id:"close-svg-title"},"close"),e$.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),Es=({isMedia:h})=>e$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"open-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},e$.createElement("title",{id:"open-svg-title"},"open"),h?e$.createElement("path",{d:"M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z"}):e$.createElement(e$.Fragment,null,e$.createElement("path",{d:"m456.69,421.39l-94.09-94.09c22.65-30.16,34.88-66.86,34.84-104.58,0-96.34-78.38-174.72-174.72-174.72S48,126.38,48,222.72s78.38,174.72,174.72,174.72c37.72.04,74.42-12.19,104.58-34.84l94.09,94.09c10.29,9.2,26.1,8.32,35.3-1.98,8.48-9.49,8.48-23.83,0-33.32Zm-233.97-73.87c-68.89-.08-124.72-55.91-124.8-124.8h0c0-68.93,55.87-124.8,124.8-124.8s124.8,55.87,124.8,124.8-55.87,124.8-124.8,124.8Z"}),e$.createElement("path",{d:"m279.5,197.76h-3.35s-28.47,0-28.47,0v-31.82c-.77-13.79-12.57-24.33-26.36-23.56-12.71.71-22.85,10.86-23.56,23.56v3.35h0v28.47h-31.82c-13.79.77-24.33,12.57-23.56,26.36.71,12.71,10.86,22.85,23.56,23.56h3.35s28.47,0,28.47,0v31.82c.77,13.79,12.57,24.33,26.36,23.56,12.71-.71,22.85-10.86,23.56-23.56v-3.35h0v-28.47h31.82c13.79-.77,24.33-12.57,23.56-26.36-.71-12.71-10.86-22.85-23.56-23.56Z"}))),bs=({handleToggle:h,isInteractive:g,isMedia:_})=>e$.createElement(uZ,{onClick:h,isInteractive:g,isMedia:_,"data-testid":"placeholder-toggle"},g?e$.createElement(ys,null):e$.createElement(Es,{isMedia:_})),ws=({activeCanvas:h,annotationResources:g,isMedia:_,painting:y})=>{var A,b,k,w,R;let[B,H]=e$.useState(0),[z,$]=e$.useState(!1),{configOptions:j,customDisplays:q,openSeadragonViewer:W,vault:K,viewerId:ee}=viewer_T(),et=viewer_F(),en=K.get(h),er=null==(A=null==en?void 0:en.placeholderCanvas)?void 0:A.id,ei=!!er,es=(null==y?void 0:y.length)>1,el=er&&!z&&!_,ec=`${ee}-${So(h+B)}`,eu=q.find(g=>{var _;let A=!1,{canvasId:b,paintingFormat:k}=g.target;if(Array.isArray(b)&&b.length>0&&(A=b.includes(h)),Array.isArray(k)&&k.length>0){let h=(null==(_=y[B])?void 0:_.format)||"";A=!!(h&&k.includes(h))}return A}),ed=[];null==(k=null==(b=g[0])?void 0:b.items)||k.forEach(h=>{let g=K.get(h.id);ed.push(g)}),(0,e$.useEffect)(()=>{var h;ed&&W&&null!=(h=j.annotationOverlays)&&h.renderOverlays&&(viewer_rn(W,"annotation-overlay"),viewer_tn(W,en,j.annotationOverlays,ed,"annotation-overlay"))},[en,ed,W,j]);let eh=null==(w=null==eu?void 0:eu.display)?void 0:w.component;return e$.createElement(u0,{className:"clover-viewer-painting"},e$.createElement(u1,{style:{backgroundColor:j.canvasBackgroundColor,height:"auto"===j.canvasHeight?"100%":j.canvasHeight}},er&&!_&&e$.createElement(bs,{handleToggle:()=>$(!z),isInteractive:z,isMedia:_}),el&&!_&&e$.createElement(us,{isMedia:_,label:null==en?void 0:en.label,placeholderCanvas:er,setIsInteractive:$}),!el&&!eu&&(_?e$.createElement(vs,{allSources:y,painting:y[B],annotationResources:g}):y&&e$.createElement(ds,{_cloverViewerHasPlaceholder:ei,body:y[B],instanceId:ec,key:ec,openSeadragonCallback:h=>{h&&(null==W?void 0:W.id)!==`openseadragon-${ec}`&&et({type:"updateOpenSeadragonViewer",openSeadragonViewer:h})},openSeadragonConfig:j.openSeadragon})),!el&&eh&&e$.createElement(eh,{id:h,annotationBody:y[B],...null==eu?void 0:eu.display.componentProps})),es&&e$.createElement(viewer_Tn,{value:null==(R=y[B])?void 0:R.id,onValueChange:h=>{let g=y.findIndex(g=>g.id===h);H(g)},maxHeight:"200px"},null==y?void 0:y.map(h=>e$.createElement(viewer_Rn,{value:null==h?void 0:h.id,key:null==h?void 0:h.id,label:null==h?void 0:h.label}))))},Ss=({activeCanvas:h,annotationResources:g,searchServiceUrl:_,setContentSearchResource:y,contentSearchResource:A,isAudioVideo:b,items:k,painting:w})=>{let{t:R}=(0,sZ.$G)(),{isInformationOpen:B,configOptions:H}=viewer_T(),{informationPanel:z}=H,$=(null==z?void 0:z.renderAbout)&&B,j=(null==z?void 0:z.renderAnnotation)&&g.length>0&&!z.open;return e$.createElement(cX,{className:"clover-viewer-content","data-testid":"clover-viewer-content"},e$.createElement(cK,null,e$.createElement(ws,{activeCanvas:h,annotationResources:g,isMedia:b,painting:w}),$&&e$.createElement(cJ,null,e$.createElement("span",null,R("informationPanelToggle"))),k.length>1&&e$.createElement(cW,{className:"clover-viewer-media-wrapper"},e$.createElement(ji,{items:k,activeItem:0}))),($||j)&&e$.createElement(c0,null,e$.createElement(cZ,null,e$.createElement(viewer_pi,{activeCanvas:h,annotationResources:g,searchServiceUrl:_,setContentSearchResource:y,contentSearchResource:A}))))},du=cz(viewer_K.Trigger,{width:"30px",padding:"5px"}),dd=cz(viewer_K.Content,{display:"flex",flexDirection:"column",fontSize:"0.8333rem",border:"none",boxShadow:"2px 2px 5px #0003",zIndex:"2",button:{display:"flex",textDecoration:"none",marginBottom:"0.5em",color:"$accentAlt",cursor:"pointer",background:"$secondary",border:"none","&:last-child":{marginBottom:"0"}}}),dh=cz("span",{fontSize:"1.33rem",alignSelf:"flex-start",flexGrow:"0",flexShrink:"1",padding:"1rem","@sm":{fontSize:"1rem"},"&.visually-hidden":{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"}}),dp=cz("header",{display:"flex",backgroundColor:"transparent !important",justifyContent:"space-between",alignItems:"flex-start",width:"100%",[`> ${u8}`]:{flexGrow:"1",flexShrink:"0"},form:{flexGrow:"0",flexShrink:"1"}}),df=cz("div",{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",padding:"1rem",flexShrink:"0",flexGrow:"1"}),ks=()=>{var h;let g=viewer_F(),_=viewer_T(),{activeManifest:y,collection:A,configOptions:b,vault:k}=_,w=null==b?void 0:b.canvasHeight;return e$.createElement("div",{style:{margin:"0.75rem"}},e$.createElement(viewer_Tn,{label:A.label,maxHeight:w,value:y,onValueChange:h=>{g({type:"updateActiveManifest",manifestId:h}),g({type:"updateViewerId",viewerId:esm_browser_v4()})}},null==(h=null==A?void 0:A.items)?void 0:h.map(h=>e$.createElement(viewer_Rn,{value:h.id,key:h.id,thumbnail:null!=h&&h.thumbnail?k.get(null==h?void 0:h.thumbnail):void 0,label:h.label}))))},Ts=(h,g=2500)=>{let{t:_}=(0,sZ.$G)(),[y,A]=(0,e$.useState)(""),b=(0,e$.useCallback)(()=>{navigator.clipboard.writeText(h).then(()=>A(_("copySuccess")),()=>A(_("copyFailure")))},[h]);return(0,e$.useEffect)(()=>{if(!y)return;let h=setTimeout(()=>A(""),g);return()=>clearTimeout(h)},[y]),[y,b]},dm=cz("span",{display:"flex",alignContent:"center",alignItems:"center",padding:"0.125rem 0.25rem 0",marginTop:"-0.125rem",marginLeft:"0.5rem",backgroundColor:"$accent",color:"$secondary",borderRadius:"3px",lineHeight:"1em"}),$s=({status:h})=>h?e$.createElement(dm,{"data-copy-status":h},h):null,viewer_gt=({textPrompt:h,textToCopy:g})=>{let[_,y]=Ts(g);return e$.createElement("button",{onClick:y},h," ",e$.createElement($s,{status:_}))},Ms=({title:h})=>{let g="#ed1d33",_="#2873ab";return e$.createElement("svg",{viewBox:"0 0 493.35999 441.33334",id:"iiif-logo",version:"1.1"},e$.createElement("title",null,h),e$.createElement("g",{transform:"matrix(1.3333333,0,0,-1.3333333,0,441.33333)"},e$.createElement("g",{transform:"scale(0.1)"},e$.createElement("path",{style:{fill:_},d:"M 65.2422,2178.75 775.242,1915 773.992,15 65.2422,276.25 v 1902.5"}),e$.createElement("path",{style:{fill:_},d:"m 804.145,2640.09 c 81.441,-240.91 -26.473,-436.2 -241.04,-436.2 -214.558,0 -454.511,195.29 -535.9527,436.2 -81.4335,240.89 26.4805,436.18 241.0387,436.18 214.567,0 454.512,-195.29 535.954,-436.18"}),e$.createElement("path",{style:{fill:g},d:"M 1678.58,2178.75 968.578,1915 969.828,15 1678.58,276.25 v 1902.5"}),e$.createElement("path",{style:{fill:g},d:"m 935.082,2640.09 c -81.437,-240.91 26.477,-436.2 241.038,-436.2 214.56,0 454.51,195.29 535.96,436.2 81.43,240.89 -26.48,436.18 -241.04,436.18 -214.57,0 -454.52,-195.29 -535.958,-436.18"}),e$.createElement("path",{style:{fill:_},d:"m 1860.24,2178.75 710,-263.75 -1.25,-1900 -708.75,261.25 v 1902.5"}),e$.createElement("path",{style:{fill:_},d:"m 2603.74,2640.09 c 81.45,-240.91 -26.47,-436.2 -241.03,-436.2 -214.58,0 -454.52,195.29 -535.96,436.2 -81.44,240.89 26.48,436.18 241.03,436.18 214.57,0 454.51,-195.29 535.96,-436.18"}),e$.createElement("path",{style:{fill:g},d:"m 3700.24,3310 v -652.5 c 0,0 -230,90 -257.5,-142.5 -2.5,-247.5 0,-336.25 0,-336.25 l 257.5,83.75 V 1690 l -258.61,-92.5 V 262.5 L 2735.24,0 v 2360 c 0,0 -15,850 965,950"}))))},dg=cz(lG.fC,{all:"unset",height:"2rem",width:"3.236rem",backgroundColor:"#6663",borderRadius:"9999px",position:"relative",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:focus":{boxShadow:"0 0 0 2px $secondaryAlt"},'&[data-state="checked"]':{backgroundColor:"$accent",boxShadow:"inset 2px 2px 5px #0003"}}),dE=cz(lG.bU,{display:"block",height:"calc(2rem - 12px)",width:"calc(2rem - 12px)",backgroundColor:"$secondary",borderRadius:"100%",boxShadow:"2px 2px 5px #0001",transition:"$all",transform:"translateX(6px)",willChange:"transform",'&[data-state="checked"]':{transform:"translateX(calc(1.236rem + 6px))"}}),d_=cz("label",{fontSize:"0.8333rem",fontWeight:"400",lineHeight:"1em",userSelect:"none",cursor:"pointer",paddingRight:"0.618rem"}),dT=cz("form",{display:"flex",flexShrink:"0",flexGrow:"1",alignItems:"center",marginLeft:"1.618rem"}),Fs=()=>{var h;let{configOptions:g}=viewer_T(),_=viewer_F(),{t:y}=(0,sZ.$G)(),[A,b]=(0,e$.useState)(null==(h=null==g?void 0:g.informationPanel)?void 0:h.open);return(0,e$.useEffect)(()=>{_({type:"updateInformationOpen",isInformationOpen:A})},[A,_]),e$.createElement(dT,null,e$.createElement(d_,{htmlFor:"information-toggle",css:A?{opacity:"1"}:{}},y("informationPanelToggle")),e$.createElement(dg,{checked:A,onCheckedChange:()=>b(!A),id:"information-toggle","aria-label":y("informationPanelToggle"),name:"toggled?"},e$.createElement(dE,null)))},dv=cz(viewer_K.Trigger,{width:"30px",padding:"5px",marginBottom:"auto"}),dy=cz(dd,{h3:{color:"$primaryAlt",fontSize:"$2",fontWeight:"700",margin:"$2 0"},button:{},"& ul li":{marginBottom:"$1"}});function viewer_vt(h,g){let _=[];if(!h)return _;for(let y of h)if(y.id){let h=g.get(y.id);h&&_.push(h)}return _}function viewer_yt(h,g){return h.map(({format:h,id:_,label:y})=>{let A=function(h){let{vault:g}=viewer_T();try{let _=h&&g.get(h);if(!_)throw Error(`Vault entity ${h} not found.`);return(null==_?void 0:_["@id"])||(null==_?void 0:_.id)}catch(g){return console.error(g),h}}(_);return{format:h,id:A,label:viewer_z(y)||g}})}let Hs=()=>{let{allPages:h,individualPages:g}=function(){let h=function(){let{activeCanvas:h,activeManifest:g,vault:_}=viewer_T(),[y,A]=(0,e$.useState)({root:[],canvas:[]});return(0,e$.useEffect)(()=>{let y=_.get(g),b=_.get(h),k=null==y?void 0:y.rendering,w=null==b?void 0:b.rendering,R=viewer_vt(k,_),B=viewer_vt(w,_);A({root:R,canvas:B})},[h,g,_]),{...y}}(),g=viewer_yt((null==h?void 0:h.root)||[],"Root Rendering Label"),_=viewer_yt((null==h?void 0:h.canvas)||[],"Canvas Rendering Label");return{allPages:g,individualPages:_}}(),_=h.length>0||g.length>0,a=h=>{window.open(h,"_blank")};return _?e$.createElement(viewer_K,null,e$.createElement(dv,{"data-testid":"download-button"},e$.createElement(viewer_P,null,e$.createElement(viewer_P.Download,null))),e$.createElement(dy,{"data-testid":"download-content"},g.length>0&&e$.createElement(e$.Fragment,null,e$.createElement("h3",null,"Individual Pages"),e$.createElement("ul",null,g.map(({format:h,id:g,label:_})=>e$.createElement("li",{key:_},e$.createElement("button",{onClick:()=>a(g)},_," (",h,")"))))),h.length>0&&e$.createElement(e$.Fragment,null,e$.createElement("h3",null,"All Pages"),e$.createElement("ul",null,h.map(({format:h,id:g,label:_})=>e$.createElement("li",{key:_},e$.createElement("button",{onClick:()=>a(g)},_," (",h,")"))))))):null},viewer_Mn=h=>{let t=()=>!!window.matchMedia&&window.matchMedia(h).matches,[g,_]=(0,e$.useState)(t);return(0,e$.useEffect)(()=>{let o=()=>_(t);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)}),g},Us=({manifestId:h,manifestLabel:g})=>{let _=viewer_T(),{collection:y,configOptions:A}=_,{informationPanel:b,showDownload:k,showIIIFBadge:w,showTitle:R}=A,B=k||w||(null==b?void 0:b.renderToggle),H=viewer_Mn(cG.sm),{t:z}=(0,sZ.$G)();return e$.createElement(dp,{className:"clover-viewer-header"},null!=y&&y.items?e$.createElement(ks,null):e$.createElement(dh,{className:R?"":"visually-hidden"},R&&e$.createElement(viewer_j,{label:g,className:"label"})),B&&e$.createElement(df,null,k&&e$.createElement(Hs,null),w&&e$.createElement(viewer_K,null,e$.createElement(du,null,e$.createElement(Ms,{title:z("commonShare")})),e$.createElement(dd,null,(null==y?void 0:y.items)&&e$.createElement("button",{onClick:h=>{h.preventDefault(),window.open(y.id,"_blank")}},z("shareCollectionJson")),e$.createElement("button",{onClick:g=>{g.preventDefault(),window.open(h,"_blank")}},z("shareManifestJson"))," ",(null==y?void 0:y.items)&&e$.createElement(viewer_gt,{textPrompt:z("shareCollectionCopy"),textToCopy:y.id}),e$.createElement(viewer_gt,{textPrompt:z("shareManifestCopy"),textToCopy:h}))),(null==b?void 0:b.renderToggle)&&!H&&e$.createElement(Fs,null)))},Ws=(h=!1)=>{let[g,_]=(0,e$.useState)(h);return(0,e$.useLayoutEffect)(()=>{if(!g)return;let h=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=h}},[g]),(0,e$.useEffect)(()=>{g!==h&&_(h)},[h]),[g,_]},qs=({manifest:h,theme:g,iiifContentSearchQuery:_})=>{var y;let A=viewer_T(),b=viewer_F(),{activeCanvas:k,isInformationOpen:w,vault:R,contentSearchVault:B,configOptions:H,openSeadragonViewer:z}=A,$=(null==H?void 0:H.canvasHeight)&&["100%","auto"].includes(null==H?void 0:H.canvasHeight),[j,q]=(0,e$.useState)(!1),[W,K]=(0,e$.useState)(!1),[ee,et]=(0,e$.useState)([]),[en,er]=(0,e$.useState)([]),[ei,es]=(0,e$.useState)(),[el,ec]=Ws(!1),eu=viewer_Mn(cG.sm),[ed,eh]=(0,e$.useState)(),ep=(0,e$.useCallback)(h=>{b({type:"updateInformationOpen",isInformationOpen:h})},[b]);(0,e$.useEffect)(()=>{var h;null!=(h=null==H?void 0:H.informationPanel)&&h.open&&ep(!eu)},[eu,null==(y=null==H?void 0:H.informationPanel)?void 0:y.open,ep]),(0,e$.useEffect)(()=>{if(!eu){ec(!1);return}ec(w)},[w,eu,ec]),(0,e$.useEffect)(()=>{let h=viewer_pe(R,k);h&&(K(["Sound","Video"].indexOf(h[0].type)>-1),et(h)),Wo(R,k).then(h=>{h.length>0&&b({type:"updateInformationOpen",isInformationOpen:!0}),er(h),q(0!==h.length)})},[k,en.length,R,b]);let ef=h.service.some(h=>"SearchService2"===h.type);return(0,e$.useEffect)(()=>{if(ef){let g=h.service.find(h=>"SearchService2"===h.type);g&&eh(g.id)}},[h,ef]),(0,e$.useEffect)(()=>{var h,g,y;ed&&(null==(h=H.informationPanel)?void 0:h.renderContentSearch)!==!1&&viewer_on(B,ed,null==(y=null==(g=H.localeText)?void 0:g.contentSearch)?void 0:y.tabLabel,_).then(h=>{es(h)})},[ed]),(0,e$.useEffect)(()=>{if(!z||!ei)return;let h=R.get({id:k,type:"Canvas"});viewer_rn(z,"content-search-overlay"),function(h,g,_,y,A){var b;if(!(null!=g&&g.items)||(null==g?void 0:g.items.length)===0)return;let k=[];g.items.forEach(g=>{let _=h.get(g.id);"string"==typeof _.target&&_.target.startsWith(y.id)&&k.push(_)}),_&&null!=(b=A.contentSearch)&&b.overlays&&viewer_tn(_,y,A.contentSearch.overlays,k,"content-search-overlay")}(B,ei,z,h,H)},[z,ei]),e$.createElement(eG.SV,{FallbackComponent:viewer_Ze},e$.createElement(c1,{className:`${g} clover-viewer`,css:{background:null==H?void 0:H.background},"data-body-locked":el,"data-absolute-position":$,"data-information-panel":j,"data-information-panel-open":w},e$.createElement(ln,{open:w,onOpenChange:ep},e$.createElement(Us,{manifestLabel:h.label,manifestId:h.id}),e$.createElement(Ss,{activeCanvas:k,painting:ee,annotationResources:en,searchServiceUrl:ed,setContentSearchResource:es,contentSearchResource:ei,items:h.items,isAudioVideo:W}))))},dA={ignoreCache:!1,headers:{Accept:"application/json, text/javascript, text/plain"},timeout:5e3,withCredentials:!1};function viewer_bt(h,g=null){return{ok:!1,status:h.status,statusText:h.statusText,headers:h.getAllResponseHeaders(),data:g||h.statusText,json:()=>JSON.parse(g||h.statusText)}}let ul=({canvasIdCallback:h=()=>{},customDisplays:g=[],plugins:_=[],customTheme:y,iiifContent:A,id:b,manifestId:k,options:w,iiifContentSearchQuery:R})=>{var B,H,z;let $=A;b&&($=b),k&&($=k);let j=viewer_Zt(null==(H=null==(B=null==w?void 0:w.informationPanel)?void 0:B.vtt)?void 0:H.autoScroll);return e$.createElement(To,{initialState:{...cM,customDisplays:g,plugins:_,isAutoScrollEnabled:j.enabled,isInformationOpen:!!(null!=(z=null==w?void 0:w.informationPanel)&&z.open),vault:new cR({customFetcher:h=>(function(h,g=dA){let _=g.headers||dA.headers;return new Promise((y,A)=>{let b=new XMLHttpRequest;b.open("get",h),b.withCredentials=g.withCredentials,_&&Object.keys(_).forEach(h=>b.setRequestHeader(h,_[h])),b.onload=()=>{y({ok:b.status>=200&&b.status<300,status:b.status,statusText:b.statusText,headers:b.getAllResponseHeaders(),data:b.responseText,json:()=>JSON.parse(b.responseText)})},b.onerror=()=>{A(viewer_bt(b,"Failed to make request."))},b.ontimeout=()=>{A(viewer_bt(b,"Request took longer than expected."))},b.send()})})(h,{withCredentials:null==w?void 0:w.withCredentials,headers:null==w?void 0:w.requestHeaders}).then(h=>JSON.parse(h.data))})}},e$.createElement(Js,{iiifContent:$,canvasIdCallback:h,customTheme:y,options:w,iiifContentSearchQuery:R}))},Js=({canvasIdCallback:h,customTheme:g,iiifContent:_,options:y,iiifContentSearchQuery:A})=>{let b=viewer_F(),k=viewer_T(),{activeCanvas:w,activeManifest:R,isLoaded:B,vault:H}=k,[z,$]=(0,e$.useState)(),[j,q]=(0,e$.useState)(),W={};return g&&(W=(0,ez.jG)("custom",g)),(0,e$.useEffect)(()=>{h&&h(w)},[w,h]),(0,e$.useEffect)(()=>{R&&H.load(R).then(h=>{q(h),b({type:"updateActiveCanvas",canvasId:Po(_,h)})}).catch(h=>{console.error(`Manifest failed to load: ${h}`)}).finally(()=>{b({type:"updateIsLoaded",isLoaded:!0})})},[_,R,b,H]),(0,e$.useEffect)(()=>{b({type:"updateConfigOptions",configOptions:y});let h=_o(_);H.load(h).then(h=>{$(h)}).catch(h=>{console.error(`The IIIF resource ${_} failed to load: ${h}`)})},[b,_,y,H]),(0,e$.useEffect)(()=>{if((null==z?void 0:z.type)==="Collection"){b({type:"updateCollection",collection:z});let h=Oo(_,z);h&&b({type:"updateActiveManifest",manifestId:h})}else(null==z?void 0:z.type)==="Manifest"&&b({type:"updateActiveManifest",manifestId:z.id})},[b,_,z]),B?j&&j.items?0===j.items.length?(console.log(`The IIIF manifest ${_} does not contain canvases.`),e$.createElement(e$.Fragment,null)):e$.createElement(qs,{manifest:j,theme:W,key:j.id,iiifContentSearchQuery:A}):(console.log(`The IIIF manifest ${_} failed to load.`),e$.createElement(e$.Fragment,null)):e$.createElement(e$.Fragment,null,"Loading")},helpers_u=h=>{var g,_,y,A,b;let k={id:"string"==typeof h?h:h.source};if("string"==typeof h){if(h.includes("#xywh=")){let g=h.split("#xywh=");if(g&&g[1]){let[h,_,y,A]=g[1].split(",").map(h=>Number(h));k={id:g[0],rect:{x:h,y:_,w:y,h:A}}}}else if(h.includes("#t=")){let g=h.split("#t=");g&&g[1]&&(k={id:g[0],t:g[1]})}}else if("object"==typeof h){if((null==(g=h.selector)?void 0:g.type)==="PointSelector")k={id:h.source,point:{x:h.selector.x,y:h.selector.y}};else if((null==(_=h.selector)?void 0:_.type)==="SvgSelector")k={id:h.source,svg:h.selector.value};else if((null==(y=h.selector)?void 0:y.type)==="FragmentSelector"&&null!=(A=h.selector)&&A.value.includes("xywh=")&&"Canvas"==h.source.type&&h.source.id){let g=null==(b=h.selector)?void 0:b.value.split("xywh=");if(g&&g[1]){let[_,y,A,b]=g[1].split(",").map(h=>Number(h));k={id:h.source.id,rect:{x:_,y:y,w:A,h:b}}}}}return k},db=window.OpenSeadragon;if(!db&&!(db=eH))throw Error("OpenSeadragon is missing.");let dk="http://www.w3.org/2000/svg";db.Viewer&&(db.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new helpers_a(this)),this._svgOverlayInfo});let helpers_a=function(h){let g=this;this._viewer=h,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(dk,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(dk,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){g.resize()}),this._viewer.addHandler("open",function(){g.resize()}),this._viewer.addHandler("rotate",function(){g.resize()}),this._viewer.addHandler("flip",function(){g.resize()}),this._viewer.addHandler("resize",function(){g.resize()}),this.resize()};helpers_a.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let h=this._viewer.viewport.pixelFromPoint(new db.Point(0,0),!0),g=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),y=this._viewer.viewport.getFlip(),A=this._viewer.viewport._containerInnerSize.x,b=A*g,k=b;y&&(b=-b,h.x=-h.x+A),this._node.setAttribute("transform","translate("+h.x+","+h.y+") scale("+b+","+k+") rotate("+_+")")},onClick:function(h,g){new db.MouseTracker({element:h,clickHandler:g}).setTracking(!0)}};let dS={parseAnnotationTarget:helpers_u,createOpenSeadragonRect:function(h,g,_){let y,A,b=40,k=40;g.rect&&(y=g.rect.x,A=g.rect.y,b=g.rect.w,k=g.rect.h),g.point&&(y=g.point.x,A=g.point.y),helpers_u.svg;let w=1/h.width;return new eH.Rect(y*w-b*w/2*(_-1),A*w-k*w/2*(_-1),b*w*_,k*w*_)}};var dC=ul}}]);